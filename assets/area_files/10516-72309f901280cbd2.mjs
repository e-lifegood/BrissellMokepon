(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[10516,83975,26467],{906587:e=>{var i,n,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinRecipe_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"474x")'},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"diets",storageKey:null},{alias:null,args:null,concreteType:"CookTimes",kind:"LinkedField",name:"cookTimes",plural:!1,selections:[{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"cook",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"m",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"total",plural:!1,selections:i,storageKey:null}],storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},n],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"summary",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="72951c99039e6492a3eb8e9fcb5a22c3",e.exports=t},12617:e=>{var i,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthDesktopContextMenu_pin",selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:i,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImagesFragment_pin"}],type:"Pin",abstractKey:null};n.hash="6cc486603fe4bb19b18741c21346a49b",e.exports=n},167074:e=>{var i,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthMobileContextMenu_pin",selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:i,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImagesFragment_pin"}],type:"Pin",abstractKey:null};n.hash="74f28c48f3a5ddb4a53f101389981c63",e.exports=n},96795:e=>{var i,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinImagesFragment_pin",selections:[{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"564x")'},{alias:"imageSpec_75x75",args:[{kind:"Literal",name:"spec",value:"75x75"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"75x75")'},{alias:"imageSpec_45x45",args:[{kind:"Literal",name:"spec",value:"45x45"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"45x45")'},{alias:"imageSpec_70x70",args:[{kind:"Literal",name:"spec",value:"70x70"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"70x70")'},{alias:"imageSpec_432x292",args:[{kind:"Literal",name:"spec",value:"432x292"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"432x292")'},{alias:"imageSpec_90x90",args:[{kind:"Literal",name:"spec",value:"90x90"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"90x90")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"170x")'},{alias:"imageSpec_237x",args:[{kind:"Literal",name:"spec",value:"237x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"237x")'},{alias:"imageSpec_192x",args:[{kind:"Literal",name:"spec",value:"192x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"192x")'},{alias:"imageSpec_640x",args:[{kind:"Literal",name:"spec",value:"640x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"640x")'},{alias:"imageSpec_750x",args:[{kind:"Literal",name:"spec",value:"750x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"750x")'},{alias:"imageSpec_345x",args:[{kind:"Literal",name:"spec",value:"345x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"345x")'},{alias:"imageSpec_70x",args:[{kind:"Literal",name:"spec",value:"70x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"70x")'},{alias:"imageSpec_400x",args:[{kind:"Literal",name:"spec",value:"400x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"400x")'},{alias:"imageSpec_200x",args:[{kind:"Literal",name:"spec",value:"200x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"200x")'},{alias:"imageSpec_216x146",args:[{kind:"Literal",name:"spec",value:"216x146"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"216x146")'},{alias:"imageSpec_150x150",args:[{kind:"Literal",name:"spec",value:"150x150"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"150x150")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"236x")'},{alias:"imageSpec_200x150",args:[{kind:"Literal",name:"spec",value:"200x150"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"200x150")'},{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"60x60")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"736x")'},{alias:"imageSpec_290x",args:[{kind:"Literal",name:"spec",value:"290x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"290x")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_600x",args:[{kind:"Literal",name:"spec",value:"600x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"600x")'},{alias:"imageSpec_550x",args:[{kind:"Literal",name:"spec",value:"550x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"550x")'},{alias:"imageSpec_30x30",args:[{kind:"Literal",name:"spec",value:"30x30"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"30x30")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"474x")'},{alias:"imageSpec_1200x",args:[{kind:"Literal",name:"spec",value:"1200x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"1200x")'},{alias:"imageSpec_222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"222x")'},{alias:"imageSpec_400x300",args:[{kind:"Literal",name:"spec",value:"400x300"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"400x300")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"orig")'}],type:"Pin",abstractKey:null};n.hash="3ac137df51d06ed79fb6f1d38372ff01",e.exports=n},110767:e=>{var i,n,t,a,l,o,r,s={fragment:{argumentDefinitions:i=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"useUnauthContextMenuQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"UnauthDesktopContextMenu_pin"},{args:null,kind:"FragmentSpread",name:"UnauthMobileContextMenu_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"useUnauthContextMenuQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:l=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:l,storageKey:null},a],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},t,o,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"564x")'},{alias:"imageSpec_75x75",args:[{kind:"Literal",name:"spec",value:"75x75"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"75x75")'},{alias:"imageSpec_45x45",args:[{kind:"Literal",name:"spec",value:"45x45"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"45x45")'},{alias:"imageSpec_70x70",args:[{kind:"Literal",name:"spec",value:"70x70"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"70x70")'},{alias:"imageSpec_432x292",args:[{kind:"Literal",name:"spec",value:"432x292"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"432x292")'},{alias:"imageSpec_90x90",args:[{kind:"Literal",name:"spec",value:"90x90"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"90x90")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"170x")'},{alias:"imageSpec_237x",args:[{kind:"Literal",name:"spec",value:"237x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"237x")'},{alias:"imageSpec_192x",args:[{kind:"Literal",name:"spec",value:"192x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"192x")'},{alias:"imageSpec_640x",args:[{kind:"Literal",name:"spec",value:"640x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"640x")'},{alias:"imageSpec_750x",args:[{kind:"Literal",name:"spec",value:"750x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"750x")'},{alias:"imageSpec_345x",args:[{kind:"Literal",name:"spec",value:"345x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"345x")'},{alias:"imageSpec_70x",args:[{kind:"Literal",name:"spec",value:"70x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"70x")'},{alias:"imageSpec_400x",args:[{kind:"Literal",name:"spec",value:"400x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"400x")'},{alias:"imageSpec_200x",args:[{kind:"Literal",name:"spec",value:"200x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"200x")'},{alias:"imageSpec_216x146",args:[{kind:"Literal",name:"spec",value:"216x146"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"216x146")'},{alias:"imageSpec_150x150",args:[{kind:"Literal",name:"spec",value:"150x150"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"150x150")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"236x")'},{alias:"imageSpec_200x150",args:[{kind:"Literal",name:"spec",value:"200x150"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"200x150")'},{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"60x60")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"736x")'},{alias:"imageSpec_290x",args:[{kind:"Literal",name:"spec",value:"290x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"290x")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_600x",args:[{kind:"Literal",name:"spec",value:"600x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"600x")'},{alias:"imageSpec_550x",args:[{kind:"Literal",name:"spec",value:"550x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"550x")'},{alias:"imageSpec_30x30",args:[{kind:"Literal",name:"spec",value:"30x30"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"30x30")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"474x")'},{alias:"imageSpec_1200x",args:[{kind:"Literal",name:"spec",value:"1200x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"1200x")'},{alias:"imageSpec_222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"222x")'},{alias:"imageSpec_400x300",args:[{kind:"Literal",name:"spec",value:"400x300"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"400x300")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},a],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"236bc29d74203904002ca87779f724ae45a48ae2d99c0ac06182144cc4c26a03",metadata:{},name:"useUnauthContextMenuQuery",operationKind:"query",text:null}};s.hash="28d48aeed76d97d5b2fc59af2e75669f",e.exports=s},924262:(e,i,n)=>{n.d(i,{Z:()=>l});var t=6e4;function a(e){return e.getTime()%t}function l(e){var i=new Date(e.getTime()),n=Math.ceil(i.getTimezoneOffset());i.setSeconds(0,0);var l=n>0?(t+a(i))%t:a(i);return n*t+l}},13882:(e,i,n)=>{function t(e,i){if(i.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+i.length+" present")}n.d(i,{Z:()=>t})},159025:(e,i,n)=>{n.d(i,{Z:()=>o});var t=n(983946),a=n(619013),l=n(13882);function o(e,i){(0,l.Z)(1,arguments);var n=i||{},o=n.locale,r=o&&o.options&&o.options.weekStartsOn,s=null==r?0:(0,t.Z)(r),d=null==n.weekStartsOn?s:(0,t.Z)(n.weekStartsOn);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var c=(0,a.Z)(e),u=c.getUTCDay(),p=(u<d?7:0)+u-d;return c.setUTCDate(c.getUTCDate()-p),c.setUTCHours(0,0,0,0),c}},983946:(e,i,n)=>{function t(e){if(null===e||!0===e||!1===e)return NaN;var i=Number(e);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}n.d(i,{Z:()=>t})},51820:(e,i,n)=>{n.d(i,{Z:()=>o});var t=n(983946),a=n(619013),l=n(13882);function o(e,i){(0,l.Z)(2,arguments);var n=(0,a.Z)(e).getTime(),o=(0,t.Z)(i);return new Date(n+o)}},926467:(e,i,n)=>{n.d(i,{Z:()=>H});var t=n(112274),a=n(983975),l=n(983946),o=n(51820),r=n(13882);function s(e,i){(0,r.Z)(2,arguments);var n=(0,l.Z)(i);return(0,o.Z)(e,-n)}var d=n(619013);function c(e,i){for(var n=e<0?"-":"",t=Math.abs(e).toString();t.length<i;)t="0"+t;return n+t}const u={y:function(e,i){var n=e.getUTCFullYear(),t=n>0?n:1-n;return c("yy"===i?t%100:t,i.length)},M:function(e,i){var n=e.getUTCMonth();return"M"===i?String(n+1):c(n+1,2)},d:function(e,i){return c(e.getUTCDate(),i.length)},a:function(e,i){var n=e.getUTCHours()/12>=1?"pm":"am";switch(i){case"a":case"aa":case"aaa":return n.toUpperCase();case"aaaaa":return n[0];case"aaaa":default:return"am"===n?"a.m.":"p.m."}},h:function(e,i){return c(e.getUTCHours()%12||12,i.length)},H:function(e,i){return c(e.getUTCHours(),i.length)},m:function(e,i){return c(e.getUTCMinutes(),i.length)},s:function(e,i){return c(e.getUTCSeconds(),i.length)},S:function(e,i){var n=i.length,t=e.getUTCMilliseconds();return c(Math.floor(t*Math.pow(10,n-3)),i.length)}};var p=864e5;function m(e){(0,r.Z)(1,arguments);var i=1,n=(0,d.Z)(e),t=n.getUTCDay(),a=(t<i?7:0)+t-i;return n.setUTCDate(n.getUTCDate()-a),n.setUTCHours(0,0,0,0),n}function g(e){(0,r.Z)(1,arguments);var i=(0,d.Z)(e),n=i.getUTCFullYear(),t=new Date(0);t.setUTCFullYear(n+1,0,4),t.setUTCHours(0,0,0,0);var a=m(t),l=new Date(0);l.setUTCFullYear(n,0,4),l.setUTCHours(0,0,0,0);var o=m(l);return i.getTime()>=a.getTime()?n+1:i.getTime()>=o.getTime()?n:n-1}function h(e){(0,r.Z)(1,arguments);var i=g(e),n=new Date(0);n.setUTCFullYear(i,0,4),n.setUTCHours(0,0,0,0);var t=m(n);return t}var _=6048e5;var v=n(159025);function x(e,i){(0,r.Z)(1,arguments);var n=(0,d.Z)(e,i),t=n.getUTCFullYear(),a=i||{},o=a.locale,s=o&&o.options&&o.options.firstWeekContainsDate,c=null==s?1:(0,l.Z)(s),u=null==a.firstWeekContainsDate?c:(0,l.Z)(a.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(t+1,0,u),p.setUTCHours(0,0,0,0);var m=(0,v.Z)(p,i),g=new Date(0);g.setUTCFullYear(t,0,u),g.setUTCHours(0,0,0,0);var h=(0,v.Z)(g,i);return n.getTime()>=m.getTime()?t+1:n.getTime()>=h.getTime()?t:t-1}function y(e,i){(0,r.Z)(1,arguments);var n=i||{},t=n.locale,a=t&&t.options&&t.options.firstWeekContainsDate,o=null==a?1:(0,l.Z)(a),s=null==n.firstWeekContainsDate?o:(0,l.Z)(n.firstWeekContainsDate),d=x(e,i),c=new Date(0);c.setUTCFullYear(d,0,s),c.setUTCHours(0,0,0,0);var u=(0,v.Z)(c,i);return u}var f=6048e5;var b="midnight",w="noon",k="morning",P="afternoon",S="evening",T="night";function I(e,i){var n=e>0?"-":"+",t=Math.abs(e),a=Math.floor(t/60),l=t%60;if(0===l)return n+String(a);var o=i||"";return n+String(a)+o+c(l,2)}function j(e,i){return e%60==0?(e>0?"-":"+")+c(Math.abs(e)/60,2):C(e,i)}function C(e,i){var n=i||"",t=e>0?"-":"+",a=Math.abs(e);return t+c(Math.floor(a/60),2)+n+c(a%60,2)}const L={G:function(e,i,n){var t=e.getUTCFullYear()>0?1:0;switch(i){case"G":case"GG":case"GGG":return n.era(t,{width:"abbreviated"});case"GGGGG":return n.era(t,{width:"narrow"});case"GGGG":default:return n.era(t,{width:"wide"})}},y:function(e,i,n){if("yo"===i){var t=e.getUTCFullYear(),a=t>0?t:1-t;return n.ordinalNumber(a,{unit:"year"})}return u.y(e,i)},Y:function(e,i,n,t){var a=x(e,t),l=a>0?a:1-a;return"YY"===i?c(l%100,2):"Yo"===i?n.ordinalNumber(l,{unit:"year"}):c(l,i.length)},R:function(e,i){return c(g(e),i.length)},u:function(e,i){return c(e.getUTCFullYear(),i.length)},Q:function(e,i,n){var t=Math.ceil((e.getUTCMonth()+1)/3);switch(i){case"Q":return String(t);case"QQ":return c(t,2);case"Qo":return n.ordinalNumber(t,{unit:"quarter"});case"QQQ":return n.quarter(t,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(t,{width:"wide",context:"formatting"})}},q:function(e,i,n){var t=Math.ceil((e.getUTCMonth()+1)/3);switch(i){case"q":return String(t);case"qq":return c(t,2);case"qo":return n.ordinalNumber(t,{unit:"quarter"});case"qqq":return n.quarter(t,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(t,{width:"wide",context:"standalone"})}},M:function(e,i,n){var t=e.getUTCMonth();switch(i){case"M":case"MM":return u.M(e,i);case"Mo":return n.ordinalNumber(t+1,{unit:"month"});case"MMM":return n.month(t,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(t,{width:"wide",context:"formatting"})}},L:function(e,i,n){var t=e.getUTCMonth();switch(i){case"L":return String(t+1);case"LL":return c(t+1,2);case"Lo":return n.ordinalNumber(t+1,{unit:"month"});case"LLL":return n.month(t,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(t,{width:"wide",context:"standalone"})}},w:function(e,i,n,t){var a=function(e,i){(0,r.Z)(1,arguments);var n=(0,d.Z)(e),t=(0,v.Z)(n,i).getTime()-y(n,i).getTime();return Math.round(t/f)+1}(e,t);return"wo"===i?n.ordinalNumber(a,{unit:"week"}):c(a,i.length)},I:function(e,i,n){var t=function(e){(0,r.Z)(1,arguments);var i=(0,d.Z)(e),n=m(i).getTime()-h(i).getTime();return Math.round(n/_)+1}(e);return"Io"===i?n.ordinalNumber(t,{unit:"week"}):c(t,i.length)},d:function(e,i,n){return"do"===i?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):u.d(e,i)},D:function(e,i,n){var t=function(e){(0,r.Z)(1,arguments);var i=(0,d.Z)(e),n=i.getTime();i.setUTCMonth(0,1),i.setUTCHours(0,0,0,0);var t=i.getTime(),a=n-t;return Math.floor(a/p)+1}(e);return"Do"===i?n.ordinalNumber(t,{unit:"dayOfYear"}):c(t,i.length)},E:function(e,i,n){var t=e.getUTCDay();switch(i){case"E":case"EE":case"EEE":return n.day(t,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(t,{width:"short",context:"formatting"});case"EEEE":default:return n.day(t,{width:"wide",context:"formatting"})}},e:function(e,i,n,t){var a=e.getUTCDay(),l=(a-t.weekStartsOn+8)%7||7;switch(i){case"e":return String(l);case"ee":return c(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,i,n,t){var a=e.getUTCDay(),l=(a-t.weekStartsOn+8)%7||7;switch(i){case"c":return String(l);case"cc":return c(l,i.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,i,n){var t=e.getUTCDay(),a=0===t?7:t;switch(i){case"i":return String(a);case"ii":return c(a,i.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(t,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(t,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(t,{width:"short",context:"formatting"});case"iiii":default:return n.day(t,{width:"wide",context:"formatting"})}},a:function(e,i,n){var t=e.getUTCHours()/12>=1?"pm":"am";switch(i){case"a":case"aa":case"aaa":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"});case"aaaaa":return n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(t,{width:"wide",context:"formatting"})}},b:function(e,i,n){var t,a=e.getUTCHours();switch(t=12===a?w:0===a?b:a/12>=1?"pm":"am",i){case"b":case"bb":case"bbb":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"});case"bbbbb":return n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(t,{width:"wide",context:"formatting"})}},B:function(e,i,n){var t,a=e.getUTCHours();switch(t=a>=17?S:a>=12?P:a>=4?k:T,i){case"B":case"BB":case"BBB":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(t,{width:"wide",context:"formatting"})}},h:function(e,i,n){if("ho"===i){var t=e.getUTCHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return u.h(e,i)},H:function(e,i,n){return"Ho"===i?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):u.H(e,i)},K:function(e,i,n){var t=e.getUTCHours()%12;return"Ko"===i?n.ordinalNumber(t,{unit:"hour"}):c(t,i.length)},k:function(e,i,n){var t=e.getUTCHours();return 0===t&&(t=24),"ko"===i?n.ordinalNumber(t,{unit:"hour"}):c(t,i.length)},m:function(e,i,n){return"mo"===i?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):u.m(e,i)},s:function(e,i,n){return"so"===i?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):u.s(e,i)},S:function(e,i){return u.S(e,i)},X:function(e,i,n,t){var a=(t._originalDate||e).getTimezoneOffset();if(0===a)return"Z";switch(i){case"X":return j(a);case"XXXX":case"XX":return C(a);case"XXXXX":case"XXX":default:return C(a,":")}},x:function(e,i,n,t){var a=(t._originalDate||e).getTimezoneOffset();switch(i){case"x":return j(a);case"xxxx":case"xx":return C(a);case"xxxxx":case"xxx":default:return C(a,":")}},O:function(e,i,n,t){var a=(t._originalDate||e).getTimezoneOffset();switch(i){case"O":case"OO":case"OOO":return"GMT"+I(a,":");case"OOOO":default:return"GMT"+C(a,":")}},z:function(e,i,n,t){var a=(t._originalDate||e).getTimezoneOffset();switch(i){case"z":case"zz":case"zzz":return"GMT"+I(a,":");case"zzzz":default:return"GMT"+C(a,":")}},t:function(e,i,n,t){var a=t._originalDate||e;return c(Math.floor(a.getTime()/1e3),i.length)},T:function(e,i,n,t){return c((t._originalDate||e).getTime(),i.length)}};function A(e,i){switch(e){case"P":return i.date({width:"short"});case"PP":return i.date({width:"medium"});case"PPP":return i.date({width:"long"});case"PPPP":default:return i.date({width:"full"})}}function D(e,i){switch(e){case"p":return i.time({width:"short"});case"pp":return i.time({width:"medium"});case"ppp":return i.time({width:"long"});case"pppp":default:return i.time({width:"full"})}}const z={p:D,P:function(e,i){var n,t=e.match(/(P+)(p+)?/),a=t[1],l=t[2];if(!l)return A(e,i);switch(a){case"P":n=i.dateTime({width:"short"});break;case"PP":n=i.dateTime({width:"medium"});break;case"PPP":n=i.dateTime({width:"long"});break;case"PPPP":default:n=i.dateTime({width:"full"})}return n.replace("{{date}}",A(a,i)).replace("{{time}}",D(l,i))}};var M=n(924262),Z=["D","DD"],F=["YY","YYYY"];function U(e){return-1!==Z.indexOf(e)}function E(e){return-1!==F.indexOf(e)}function O(e,i,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(i,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(i,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(i,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(i,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"))}var R=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,B=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,K=/^'([^]*?)'?$/,N=/''/g,W=/[a-zA-Z]/;function H(e,i,n){(0,r.Z)(2,arguments);var o=String(i),c=n||{},u=c.locale||a.default,p=u.options&&u.options.firstWeekContainsDate,m=null==p?1:(0,l.Z)(p),g=null==c.firstWeekContainsDate?m:(0,l.Z)(c.firstWeekContainsDate);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var h=u.options&&u.options.weekStartsOn,_=null==h?0:(0,l.Z)(h),v=null==c.weekStartsOn?_:(0,l.Z)(c.weekStartsOn);if(!(v>=0&&v<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!u.localize)throw new RangeError("locale must contain localize property");if(!u.formatLong)throw new RangeError("locale must contain formatLong property");var x=(0,d.Z)(e);if(!(0,t.Z)(x))throw new RangeError("Invalid time value");var y=(0,M.Z)(x),f=s(x,y),b={firstWeekContainsDate:g,weekStartsOn:v,locale:u,_originalDate:x},w=o.match(B).map((function(e){var i=e[0];return"p"===i||"P"===i?(0,z[i])(e,u.formatLong,b):e})).join("").match(R).map((function(n){if("''"===n)return"'";var t=n[0];if("'"===t)return V(n);var a=L[t];if(a)return!c.useAdditionalWeekYearTokens&&E(n)&&O(n,i,e),!c.useAdditionalDayOfYearTokens&&U(n)&&O(n,i,e),a(f,n,u.localize,b);if(t.match(W))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return n})).join("");return w}function V(e){return e.match(K)[1].replace(N,"'")}},112274:(e,i,n)=>{n.d(i,{Z:()=>l});var t=n(619013),a=n(13882);function l(e){(0,a.Z)(1,arguments);var i=(0,t.Z)(e);return!isNaN(i)}},849526:(e,i,n)=>{function t(e){return function(i){var n=i||{},t=n.width?String(n.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}n.d(i,{Z:()=>t})},688486:(e,i,n)=>{function t(e){return function(i,n){var t,a=n||{};if("formatting"===(a.context?String(a.context):"standalone")&&e.formattingValues){var l=e.defaultFormattingWidth||e.defaultWidth,o=a.width?String(a.width):l;t=e.formattingValues[o]||e.formattingValues[l]}else{var r=e.defaultWidth,s=a.width?String(a.width):e.defaultWidth;t=e.values[s]||e.values[r]}return t[e.argumentCallback?e.argumentCallback(i):i]}}n.d(i,{Z:()=>t})},276723:(e,i,n)=>{function t(e){return function(i,n){var t=String(i),a=n||{},l=a.width,o=l&&e.matchPatterns[l]||e.matchPatterns[e.defaultMatchWidth],r=t.match(o);if(!r)return null;var s,d=r[0],c=l&&e.parsePatterns[l]||e.parsePatterns[e.defaultParseWidth];return s="[object Array]"===Object.prototype.toString.call(c)?function(e,i){for(var n=0;n<e.length;n++)if(i(e[n]))return n}(c,(function(e){return e.test(d)})):function(e,i){for(var n in e)if(e.hasOwnProperty(n)&&i(e[n]))return n}(c,(function(e){return e.test(d)})),s=e.valueCallback?e.valueCallback(s):s,{value:s=a.valueCallback?a.valueCallback(s):s,rest:t.slice(d.length)}}}n.d(i,{Z:()=>t})},360974:(e,i,n)=>{function t(e){return function(i,n){var t=String(i),a=n||{},l=t.match(e.matchPattern);if(!l)return null;var o=l[0],r=t.match(e.parsePattern);if(!r)return null;var s=e.valueCallback?e.valueCallback(r[0]):r[0];return{value:s=a.valueCallback?a.valueCallback(s):s,rest:t.slice(o.length)}}}n.d(i,{Z:()=>t})},181991:(e,i,n)=>{n.d(i,{Z:()=>a});var t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function a(e,i,n){var a;return n=n||{},a="string"==typeof t[e]?t[e]:1===i?t[e].one:t[e].other.replace("{{count}}",i),n.addSuffix?n.comparison>0?"in "+a:a+" ago":a}},721865:(e,i,n)=>{n.d(i,{Z:()=>a});var t={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function a(e,i,n,a){return t[e]}},611950:(e,i,n)=>{n.d(i,{Z:()=>a});var t=n(688486);const a={ordinalNumber:function(e,i){var n=Number(e),t=n%100;if(t>20||t<10)switch(t%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:(0,t.Z)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,t.Z)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:(0,t.Z)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,t.Z)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,t.Z)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})}},507219:(e,i,n)=>{n.d(i,{Z:()=>l});var t=n(360974),a=n(276723);const l={ordinalNumber:(0,t.Z)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:(0,a.Z)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,a.Z)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:(0,a.Z)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,a.Z)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,a.Z)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})}},983975:(e,i,n)=>{n.r(i),n.d(i,{default:()=>d});var t=n(181991),a=n(849526);const l={date:(0,a.Z)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,a.Z)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,a.Z)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var o=n(721865),r=n(611950),s=n(507219);const d={code:"en-US",formatDistance:t.Z,formatLong:l,formatRelative:o.Z,localize:r.Z,match:s.Z,options:{weekStartsOn:0,firstWeekContainsDate:1}}},619013:(e,i,n)=>{n.d(i,{Z:()=>a});var t=n(13882);function a(e){(0,t.Z)(1,arguments);var i=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===i?new Date(e.getTime()):"number"==typeof e||"[object Number]"===i?new Date(e):("string"!=typeof e&&"[object String]"!==i||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}},733756:(e,i,n)=>{n.d(i,{Z:()=>d});var t=n(30700),a=n(883119),l=n(785893);const o={__style:{borderRadius:"4px",padding:"10px 14px"}},r={borderWidth:"1px",borderStyle:"solid",borderColor:"white"},s={__style:{borderRadius:"4px",padding:"10px 14px 9px 8px",whiteSpace:"nowrap"}},d=({accessibilityLabel:e,color:i,customStyles:n,forwardedRef:d,icon:c,inline:u=!1,minHeight:p=40,minWidth:m=70,onTouch:g,pressState:h,shape:_,text:v})=>{const x=(e=>"primary"===e||"transparent"===e||"dark"===e?"inverse":"default")(i),y=(({color:e,icon:i})=>i?s:"transparent"===e?{__style:{...o.__style,...r}}:o)({color:i,icon:c}),f=(0,l.jsx)(a.xu,{position:"relative",children:(0,l.jsx)(a.xu,{color:i,display:u?"inlineBlock":"flex",justifyContent:"center",minHeight:p,minWidth:m,dangerouslySetInlineStyle:"pill"===_?(b=n,{__style:{borderRadius:"24px",paddingTop:"10px",paddingBottom:"10px",paddingLeft:"14px",paddingRight:"14px",...b}}):y,children:(0,l.jsxs)(a.kC,{alignItems:"center",justifyContent:"center",children:[c&&(0,l.jsx)(a.xu,{paddingX:"check"===c?2:0,children:(0,l.jsx)(a.JO,{accessibilityLabel:e,color:x,icon:c,inline:!0,size:"check"===c?16:20})}),(0,l.jsx)(a.xv,{color:x,inline:!0,size:"300",lineClamp:1,weight:"bold",children:v})]})})});var b;return g?(0,l.jsx)(t.Z,{onTouch:g,rounding:"pill"===_?"pill":2,pressState:h||"none",children:(0,l.jsx)(a.xu,{ref:d,children:f})}):f}},856919:(e,i,n)=>{n.d(i,{MZ:()=>C,di:()=>A,Ai:()=>L});var t=n(667294),a=n(474635),l=n(205443),o=n(733756),r=n(735079),s=n(954571),d=n(250059),c=n(149230),u=n(407043),p=n(48714),m=n(276775);const g=({children:e,external:i,externalQueryParams:n,target:t,href:a})=>{const{logContextEvent:l}=(0,u.v)(),o=(0,m.useHistory)(),r=(0,m.useLocation)();if(!a)return null;const s=(0,d.Z)(a);return e({navigate:e=>{e.preventDefault(),(0,c.Z)({url:s})||i?(0,p.lI)({href:s,queryParams:n,location:r},l,null):(0,p.G3)({event:e,href:a,history:o,target:"blank"===t?"blank":null})}})};var h=n(883119),_=n(785893);const v=({accessibilityLabel:e,children:i,external:n,externalQueryParams:t,inline:a=!1,newTab:l,nofollow:o,onTouch:r,onBlur:s,onFocus:c,pressState:u,rounding:p,to:m})=>(0,_.jsx)(g,{external:n,target:l?"blank":null,externalQueryParams:t,href:m,children:({navigate:n})=>(0,_.jsx)(h.rU,{accessibilityLabel:e,onBlur:s?({event:e})=>s(e):void 0,onFocus:c?({event:e})=>c(e):void 0,underline:"none",href:(0,d.Z)(m),inline:a,onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),null==r||r(e),e.defaultPrevented||n(e)},rel:o?"nofollow":"none",rounding:p,tapStyle:(Array.isArray(u)?u:[u]).includes("compress")?"compress":"none",children:i})}),x=({external:e,externalQueryParams:i,newTab:n,onTouch:t,to:a,...l})=>(0,_.jsx)(g,{external:e,target:n?"blank":null,externalQueryParams:i,href:a,children:({navigate:e})=>(0,_.jsx)(o.Z,{onTouch:i=>{null==t||t(i),i.defaultPrevented||e(i)},...l})});var y=n(949372),f=n(112690),b=n(19121),w=n(30287),k=n(968228),P=n(780280),S=n(281180),T=n(957161),I=n(622096);const j=(e,i=!1)=>function({isAppUpsellDisabled:n,...o}){const{children:d,clientTrackingParams:c,deeplinkUri:u,external:p,onTouch:m,refresh:g,to:v,viewParameter:x,viewType:j}=o,C=(0,y.Z)(),[L,A]=(0,t.useState)(!1),{isAuth:D}=(0,b.Z)(),{userAgent:{platform:z},locale:M}=(0,P.B)(),Z=(0,S.Tt)(),F=(0,f.Z)(),U=()=>{F({event_type:1701,view_type:j,view_parameter:x}),L&&A(!1)};return(0,_.jsxs)(h.xu,{"data-test-id":"deeplink-wrapper",children:[L&&(0,_.jsx)(a.Z,{componentType:14157,within:"deep-link-app-upsell-modal",children:({handleOpenApp:e})=>(0,_.jsx)(l.Z,{clientTrackingParams:c,isOpen:!0,onDismiss:()=>{F({component:14157,element:10308,event_type:10220,view_type:j||32,view_parameter:x})},onOpenInApp:()=>{(0,T.Nh)("deeplinkBehavior","branchfallback"),e({deepLinkUri:u}),U()},shouldTrackDismiss:!0,to:v,viewParameter:x,viewType:j})}),(0,_.jsx)(r.Z,{children:t=>(0,_.jsx)(e,{...o,onTouch:e=>{const a=C&&!n&&D&&!p&&!g&&!(0,w.FP)(window)&&!("ios"===z&&(M||"").startsWith("ar"))&&(0,k.kp)((0,s.Z)(null==Z?void 0:Z.created_at));var l;a?(e.stopPropagation(),e.preventDefault(),A(!0)):"branchfallback"!==(0,T.qn)("deeplinkBehavior")||(0,I.qn)("fallbackAttempt")||(e.stopPropagation(),e.preventDefault(),(0,I.Nh)("fallbackAttempt",1),t(u,`${window.location.origin}${l=v,"string"==typeof l?l:`${l.pathname||""}${l.search?`?${l.search}`:""}`}`),U()),i&&a||!m||m(e)},children:d})})]})},C=j(v),L=j(x),A=j(o.Z,!0)},735079:(e,i,n)=>{n.d(i,{Z:()=>_});var t=n(702664),a=n(172071),l=n(826067);const o="http://play.google.com/store/apps/details?id=com.pinterest",r=["access_token","new_password","new_password_confirm","password","next"],s=(e,i)=>i?(0,l.ru)(e,{invite_code:i}):e,d=(e,i,n)=>{if("ios"===i&&"string"==typeof e&&e.startsWith("discover/article/")){const i=e.split("/")[2];e=`discover_article/${i}/?is_deeplink=1`}return"string"==typeof e&&e.startsWith("tv/")&&(e=e.replace(/^tv\//,"live-session/")),"string"==typeof e?s(e,n):"ios"===i||"ipad"===i?s(e.iOS,n):"android"===i?s(e.android,n):null},c=({deeplinkUri:e,fallbackUrl:i,invite_code:n,platform:t,redirectToLite:s,unauthId:c,userAgent:u})=>{if(e){const p=(({deeplinkUri:e,invite_code:i,platform:n,fallbackUrl:t,unauthId:a})=>({deeplink_path:d(e,n,i),current_page_url:(0,l.Gw)("undefined"!=typeof window?window.location.href:"",r),install_id:a,utm_source:140,utm_medium:2152,...t?{af_r:t}:null}))({deeplinkUri:e,fallbackUrl:i,invite_code:n,platform:t,unauthId:c,userAgent:u});if(a.Z.increment("mweb.deeplink",1,{platform:t}),n&&a.Z.increment("mweb.deeplink.invite_code",1),a.Z.increment("mweb.deeplink.unauthId",1,{withUnauthId:Boolean(c)}),s){a.Z.increment("mweb.deeplink.lite_link",1);const e=(({unauthId:e})=>{const i=(0,l.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e});return{referrer:encodeURI(i)}})({unauthId:c});window.location.href=(0,l.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===t){const i=(({deeplinkUri:e,invite_code:i,platform:n,unauthId:t})=>{const a=JSON.stringify({deeplink_path:d(e,n,i),current_page_url:(0,l.Gw)("undefined"!=typeof window?window.location.href:"",r),install_id:t});return{referrer:(0,l.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:a})}})({deeplinkUri:e,invite_code:n,platform:t,unauthId:c});"getInstalledRelatedApps"in navigator?navigator.getInstalledRelatedApps().then((e=>{if(e.length>0){const e=(0,l.ru)(window.location.href,p);window.open(e)}else window.location.href=(0,l.ru)(o,i)})).catch(a.Z.increment("mweb_android.deeplink.playStore.error",1)):window.location.href=(0,l.ru)(o,i)}else{if(a.Z.increment("mweb.deeplink.appsflyer_link",1),"ios"===t&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal"))return void(window.location.href=(0,l.ru)("https://pinterest.com/pinterest-predicts",p));window.location.href=(0,l.ru)("https://pinterest.onelink.me/TVSr/21e04bfd",p)}}};var u=n(619277),p=n(968228),m=n(785893);function g({children:e,invite_code:i}){const{userAgentPlatform:n,unauthId:a,userAgent:l}=(0,t.useSelector)((({session:e})=>e));return e((async(e,t)=>{c({deeplinkUri:e,fallbackUrl:t,invite_code:i,platform:n,redirectToLite:(0,p.Rp)({platform:n,userAgent:l}),unauthId:a,userAgent:l})}))}const h=e=>(0,m.jsx)(u.ty,{children:i=>(0,m.jsx)(g,{...e,invite_code:i})});h.displayName="DeepLinkNavigator";const _=h},155247:(e,i,n)=>{n.d(i,{Z:()=>p});var t=n(667294),a=n(172071),l=n(883119),o=n(813401),r=n(112690),s=n(785893);function d(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}const c=(e,i)=>{const n=e&&e.replace(".","_");return i?n&&n.substring(0,50):n};class u extends t.Component{constructor(...e){super(...e),d(this,"state",{href:void 0}),d(this,"onEvent",(()=>new Promise(((e,i)=>{"undefined"==typeof window&&i();const{filename:n,imgSrc:t,isAndroidTwa:l,isChromeOnIOS:o,isUnauth:r,logContextEvent:s,category:d,viewParameter:u,viewType:p,pinId:m,imageSignature:g}=this.props,{href:h}=this.state;window.AndroidTwa&&window.AndroidTwa.downloadImage?(window.AndroidTwa.downloadImage(t,c(n,l)),e()):o?(this.imageDownload&&this.imageDownload.click(),e()):null==h&&fetch(t,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then((e=>e.blob())).then((i=>{this.setState({href:window.URL.createObjectURL(i)},(()=>{this.imageDownload&&(this.imageDownload.click(),e())}))})).catch((()=>this.setState({href:this.DOWNLOAD_ERROR}))),a.Z.increment(`mweb.${r?"unauth":"auth"}.download.click.${d||"no_category"}`),s({event_type:82,object_id_str:m,view_type:p||3,view_parameter:u||139,aux_data:{image_signature:g}})})))),d(this,"DOWNLOAD_ERROR","error")}render(){const{children:e,filename:i,imgSrc:n,isAndroidTwa:a,isChromeOnIOS:o}=this.props,{href:r}=this.state,d=null!=r&&r!==this.DOWNLOAD_ERROR;return(0,s.jsxs)(t.Fragment,{children:[e(this.onEvent),o&&n?(0,s.jsx)(l.xu,{display:"none",children:(0,s.jsx)("a",{ref:e=>this.imageDownload=e,rel:"noopener noreferrer",tabIndex:-1,target:"_blank",href:n})}):d&&(0,s.jsx)(l.xu,{display:"none",children:(0,s.jsx)("a",{ref:e=>this.imageDownload=e,tabIndex:-1,download:c(i,a),href:r})})]})}}function p(e){const i=(0,o.xC)(),n=(0,r.Z)();return(0,s.jsx)(u,{...e,isAndroidTwa:i,logContextEvent:n})}},825077:(e,i,n)=>{n.d(i,{fv:()=>v,GR:()=>m,Hs:()=>y,Mv:()=>h,uc:()=>_,dL:()=>g,qS:()=>x,Y4:()=>w,HE:()=>b,Cy:()=>f});var t=n(667294),a=n(973935),l=n(124580),o=n(407043),r=n(785893);function s(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}class d extends t.Component{constructor(...e){super(...e),s(this,"observe",(()=>{try{if(this.node=(0,a.findDOMNode)(this),this.node instanceof HTMLElement){const{pinIdStr:e,newsIdStr:i}=this.props.eventData;l.Z.start(this.node).onExitViewport(this.logImpression).setDebugId(e||i||"unknown")}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),s(this,"logImpression",(e=>{this.props.logImpression({viewData:this.props.viewData||{},viewType:this.props.viewType,viewParameter:this.props.viewParameter,eventType:this.props.eventType,impressionType:this.props.impressionType,auxData:this.props.auxData,component:this.props.component,objectIdStr:this.props.objectIdStr,eventData:{endTime:e.endTime,time:e.startTime,...this.props.eventData}}),this.props.onTracked&&this.props.onTracked(this.props.eventData)}))}componentDidMount(){this.props.isPaused||this.observe()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.observe()}componentWillUnmount(){this.node instanceof HTMLElement&&l.Z.stop(this.node)}render(){return t.Children.only(this.props.children)}}function c(e){const{logImpression:i}=(0,o.v)();return(0,r.jsx)(d,{...e,logImpression:i})}var u=n(773285);function p({auxData:e,component:i,eventData:n,eventType:a,impressionType:r,isPaused:s,objectIdStr:d,onTracked:c,viewData:u,viewType:p,viewParameter:m}){const g=(0,t.useRef)(null),{logImpression:h}=(0,o.v)(),_=(0,t.useCallback)((()=>{const t=t=>{h({viewData:u||{},viewType:p,viewParameter:m,eventType:a,impressionType:r,auxData:e,component:i,objectIdStr:d,eventData:{endTime:t.endTime,time:t.startTime,...n}}),c&&c(n)};try{if(g.current instanceof HTMLElement){const{pinIdStr:e,newsIdStr:i}=n;l.Z.start(g.current).onExitViewport(t).setDebugId(e||i||"unknown")}}catch(o){window.console.error('Can only track impressions for type "HTMLElement"')}}),[g.current]);return(0,t.useEffect)((()=>{s||_();const e=g.current;return()=>{e instanceof HTMLElement&&l.Z.stop(e)}}),[s,_]),g}const m=e=>(0,r.jsx)(c,{eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),g=e=>{const i=p({eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},h=e=>{const i=p({eventData:{newsIdStr:e.notificationId,newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},auxData:e.auxData||{},eventType:4111,impressionType:"notificationDetailImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:i})},_=e=>{const i=p({eventData:{newsIdStr:e.notificationId,newsType:e.newsType},auxData:e.auxData||{},eventType:4110,impressionType:"notificationFeedImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3081});return e.children({impressionTrackerRef:i})},v=e=>(0,r.jsx)(c,{eventData:{...e.impressionData||{},articleIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:3829,impressionType:"articleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),x=e=>{const{checkExperiment:i}=(0,u.F)(),n=i("web_mweb_story_impression_fix").anyEnabled,t=p({eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:n?"storyImpression":"storyImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},y=e=>{const{checkExperiment:i}=(0,u.F)(),n=i("web_mweb_story_impression_fix").anyEnabled;return(0,r.jsx)(c,{eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:n?"storyImpression":"storyImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children})},f=e=>{const i=p({eventData:{...e.impressionData||{},userIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3704,impressionType:"userImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},b=e=>{const i=p({eventData:{...e.impressionData||{},topicIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3703,impressionType:"topicImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},w=e=>{const i=p({eventData:{...e.impressionData||{},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:8569,impressionType:"todayArticleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})}},984766:(e,i,n)=>{n.r(i),n.d(i,{default:()=>Te,pinRepPaddingInBoint:()=>ve});var t=n(667294),a=n(702664),l=n(319915),o=n(680046),r=n(558150),s=n(248975),d=n(609943),c=n(958007),u=n(954571),p=n(30700),m=n(81226),g=n(116303),h=n(561195),_=n(883119),v=n(785893);function x({maxRating:e,rating:i,text:n}){return(0,v.jsxs)(_.xu,{alignItems:"center",display:"flex",marginBottom:0,children:[(0,v.jsx)(h.Z,{max_rating:e||"",rating:i||"",width:10}),n&&(0,v.jsx)(t.Fragment,{children:(0,v.jsx)(_.xu,{marginStart:1,overflow:"hidden",children:(0,v.jsx)(_.xv,{size:"100",lineClamp:1,children:n})})})]})}var y=n(898781),f=n(643010),b=n(755506);const w=({pinId:e})=>{var i;const n=(0,y.ZP)(),l=(0,a.useSelector)((({pins:e})=>e))[e],o=(0,f.Yc)();if(!l)return null;const{pinProduct:r}=(0,b.Fi)({i18n:n,pin:l});if(!r||!r.price)return null;const s=r.standard_price||r.price,d=r.min_price||"",c=r.max_price||"",u=r.in_stock||!1,p=null===(i=l.rich_summary)||void 0===i?void 0:i.site_name,{textColor:m,inStockColor:g}=(({isDarkMode:e,inStock:i})=>e?{textColor:"light",inStockColor:"light"}:{textColor:"dark",inStockColor:i?"dark":"subtle"})({isDarkMode:o,inStock:u});return(0,v.jsxs)(t.Fragment,{children:[p&&(0,v.jsx)(_.xv,{color:m,size:"100",children:p}),(0,v.jsxs)(_.xu,{display:"flex",alignItems:"center","data-test-id":"priceLego_price",children:[d&&c?(0,v.jsxs)(_.xv,{size:"100",color:g,weight:"bold",children:[d," - ",c]}):(0,v.jsx)(_.xv,{size:"100",color:g,weight:"bold",children:s}),!u&&(0,v.jsxs)(t.Fragment,{children:[(0,v.jsx)(_.xu,{paddingX:1,children:(0,v.jsx)(_.xv,{size:"100",color:g,weight:"bold",children:""})}),(0,v.jsx)(_.xv,{size:"100",color:g,weight:"bold",children:n._('Out of stock', 'pinCard.priceLego.outOfStock', 'display if a product is out of stock')})]})]})]})};var k=n(947599),P=n(23084),S=n(941646),T=n(50286),I=n(803035),j=n(997440),C=n(923297),L=n(904411),A=n(276775),D=n(53987),z=n(539497);const M=(0,t.lazy)((()=>n.e(42368).then(n.bind(n,342368)))),Z=({title:e})=>{const i=(0,T.ZP)(),n=(0,A.useLocation)();return(0,v.jsx)(S.Z,{id:"related-pins-title",children:(0,v.jsx)(_.iP,{onTap:()=>{(0,z.LW)({action:"click",pageLocation:n,item:"related-pins-title"})},children:(0,v.jsx)(_.xv,{size:"desktop"===i?"300":"100",weight:"bold",children:e})})})},F=({allowPriceIndicator:e,contextMenu:i,credits:n,hidePinMetadata:o,hasAffiliatedProducts:r,isPromotedPin:s,isSponsoredPin:d,isSquarePin:c,marginTop:u,marginStart:m,marginEnd:h,onCreditsClick:f,pinDescription:b,pinId:F,pinnedToBoardId:U,pinReactionCounts:E,recipeCookTime:O,recipeMaxRating:R,recipeRating:B,recipeReviewCount:K,shouldShowReactions:N,style:W="default",title:H,type:V})=>{var q,Y,$,G,X,J,Q,ee;const ie=(0,y.ZP)(),ne=(0,A.useLocation)(),te=(0,a.useSelector)((({session:e})=>e.isAuthenticated)),ae=(0,T.ZP)(),le=H||b||"oneTap"===V,oe=(0,a.useSelector)((({pins:e})=>e[F])),re=(0,L.gC)()(U||oe&&oe.board),se=oe.pinner,de=s&&(null===(q=oe.promoter)||void 0===q?void 0:q.id)===(null===(Y=oe.native_creator)||void 0===Y?void 0:Y.id),ce=oe.sponsorship?(0,v.jsx)(_.xv,{inline:!0,size:"100",weight:"bold",children:null==n?void 0:n.subtitle}):void 0,ue="overlay"===W,pe=N&&E&&Object.keys(E).length>0&&(0,v.jsx)(_.xu,{height:18,display:ue?"flex":void 0,justifyContent:"center",children:(0,v.jsx)(l.Z,{name:"SafeSuspense_PinCardDetails_GridAggregation",children:(0,v.jsx)(k.Z,{children:(0,v.jsx)(M,{pinReactionCounts:E})})})}),me=o?0:u||1;return(0,v.jsx)(t.Fragment,{children:(0,v.jsxs)(_.xu,{display:"flex",height:c?e?104:72:void 0,marginEnd:h||1,marginStart:m||1,position:"relative",children:[(0,v.jsxs)(_.xu,{flex:"grow",children:[(0,v.jsx)(_.xu,{display:"flex",marginTop:me,children:(0,v.jsx)(_.xu,{flex:"grow",children:(0,v.jsxs)(t.Fragment,{children:[(0,v.jsxs)(t.Fragment,{children:[(d||r)&&!de&&(0,v.jsx)(_.xu,{marginBottom:1,children:(0,v.jsx)(_.xu,{flex:"grow",overflow:"hidden",children:(0,v.jsx)(P.Z,{hasAffiliatedProducts:r,isPromoted:s,sponsorName:ce,sponsorshipStatus:null===($=oe.sponsorship)||void 0===$?void 0:$.status})})}),H&&(0,v.jsx)(_.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},children:te&&!o&&(0,v.jsx)(Z,{title:H})}),"desktop"===ae&&!te&&b&&!(0,D.$Y)(ne)&&!(0,D.E0)(ne)&&(0,v.jsx)(_.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},"data-test-id":"desc",children:(0,v.jsx)(_.iP,{onTap:()=>{(0,z.LW)({action:"click",pageLocation:ne,item:"related-pins-description"})},children:(0,v.jsx)(_.xv,{size:"100",inline:!0,children:b})})})]}),e&&(0,v.jsx)(w,{credits:n,pinId:F}),"recipe"===V&&!!K&&(0,v.jsx)(t.Fragment,{children:(0,v.jsxs)(_.xu,{alignItems:"center",display:"flex",marginTop:1,children:[!!K&&(0,v.jsx)(x,{maxRating:R||"",rating:B||"",text:""}),!!O&&(0,v.jsxs)(t.Fragment,{children:[(0,v.jsx)(_.xu,{paddingX:1,children:(0,v.jsx)(_.xv,{size:"100",children:""})}),(0,v.jsx)(_.xv,{size:"100",children:(0,j.IS)({...(0,C.u)(O),i18n:ie})})]})]})})]})})}),!ue&&pe,n&&(0,v.jsx)(p.Z,{onTouch:e=>f&&f(e),pressState:"none",children:(0,v.jsx)(_.xu,{children:(!o||d||de)&&(0,v.jsxs)(_.xu,{display:"flex",marginTop:ue?-9:u||(le&&!o?1:0),marginBottom:o?2:0,position:"relative",direction:ue?"column":"row",children:[(0,v.jsx)(_.xu,{flex:"none",display:ue?"flex":void 0,justifyContent:"center","data-test-id":"related-pins-avatar-image",children:(0,v.jsx)(_.iP,{onTap:()=>{(0,z.LW)({action:"click",pageLocation:ne,item:"related-pins-avatar-image"})},children:(0,v.jsx)(g.Z,{accessibilityLabel:n.title||"string"==typeof n.subtitle&&n.subtitle||ie._('Creator\'s avatar', 'pinCardDetails.tapArea.avatar', 'The avatar of the creator of this pin.'),name:n.title||"",outline:ue,size:ue?"lg":"sm",src:ue&&n.largeAvatar||n.mediumAvatar||n.avatar||void 0})})}),(0,v.jsx)(_.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",alignItems:ue?"center":void 0,marginStart:1,"data-test-id":"related-pins-name",children:(0,v.jsxs)(_.iP,{onTap:()=>{(0,z.LW)({action:"click",pageLocation:ne,item:"related-pins-name"})},children:[n.title&&(0,v.jsx)(_.xv,{lineClamp:1,size:"100",weight:d&&!de||r?"normal":"bold",children:n.title===(null==se?void 0:se.full_name)&&(null!=se&&se.is_verified_merchant||null!=se&&null!==(G=se.verified_identity)&&void 0!==G&&G.verified)?(0,v.jsx)(I.Z,{badgeSize:"sm",badgeSpacing:2,fullName:n.title,verifiedType:se.is_verified_merchant?"verifiedMerchant":"verifiedIdentity"}):n.title}),n.subtitle?(!d&&!o||de)&&(0,v.jsx)(_.xv,{lineClamp:d||r?void 0:1,size:"desktop"===ae?"200":"100",weight:"desktop"===ae?"bold":"normal",children:n.subtitle}):!te&&re&&"protected"!==re.privacy?(0,v.jsx)(S.Z,{id:"related-pin-text-below-name",children:(0,v.jsx)(_.rU,{underline:"hover",href:null!==(X=re.url)&&void 0!==X?X:"",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,z.NC)("click_board_pin_attribution_profile"),(0,z.LW)({action:"click",pageLocation:ne,item:"related-pin-text-below-name"})},children:(0,v.jsx)(_.xv,{size:"200",children:re.name})})}):null]})})]})})}),!n&&"desktop"===ae&&!!se&&((0,D.L6)(ne)||(0,D.cD)(ne)||(0,D.$Y)(ne))&&(0,v.jsxs)(_.xu,{display:"flex",marginTop:le?2:0,children:[(0,v.jsx)(_.xu,{flex:"none","data-test-id":"related-pins-avatar-image",children:(0,v.jsx)(_.iP,{onTap:()=>{(0,z.LW)({action:"click",pageLocation:ne,item:"related-pins-avatar-image"})},children:(0,v.jsx)(g.Z,{name:se.username||"",size:"sm",src:null!==(J=se.image_small_url)&&void 0!==J?J:void 0})})}),(0,v.jsxs)(_.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,"data-test-id":"related-pins-name",children:[(0,v.jsx)(_.rU,{underline:"hover",href:`/${se.username}/`,onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,z.NC)("click_board_pin_attribution_board"),(0,z.LW)({action:"click",pageLocation:ne,item:"related-pins-name"})},children:(0,v.jsx)(_.xv,{size:"200",weight:"bold",children:se.full_name||se.username})}),re&&"protected"!==re.privacy?(0,v.jsx)(S.Z,{id:"related-pin-text-below-name",children:(0,v.jsx)(_.rU,{underline:"hover",href:null!==(Q=re.url)&&void 0!==Q?Q:"",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,z.NC)("click_board_pin_attribution_profile"),(0,z.LW)({action:"click",pageLocation:ne,item:"related-pin-text-below-name"})},children:(0,v.jsx)(_.xv,{size:"200",children:null!==(ee=re.name)&&void 0!==ee?ee:""})})}):null]})]}),ue&&pe]}),(0,v.jsx)(_.xu,{position:ue?"absolute":void 0,right:!0,children:i})]})})};var U=n(857079),E=n(349700);const O=(0,t.lazy)((()=>n.e(96011).then(n.bind(n,296011)))),R=({inviteCode:e})=>{const i=(0,y.ZP)();return(0,v.jsx)(_.xu,{minHeight:82,children:(0,v.jsx)(l.Z,{name:"SafeSuspense_PinCardSharedHeader_LoadingSpinner",children:(0,v.jsx)(k.Z,{fallback:(0,v.jsx)(U.Z,{accessibilityLabel:i._('Loading Invitation component', 'Loading InviteFetch component', 'loading InviteFetch component')}),children:(0,v.jsx)(O,{invite_code:e,children:e=>{const n=e?e.sender:null,t=n&&n.first_name?n.first_name.substring(0,30):"";if(!t)return null;const a=n&&!n.is_default_image?n.image_medium_url:"",l=(0,E.nk)(i._('{{ name }} shared this idea with you', 'homefeed.pinSenderAvatar.heading', 'header notifying users that a sender ({{ name }}) shared a Pin to them'),{name:t});return(0,v.jsxs)(_.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,v.jsx)(_.zd,{height:32,width:32,children:(0,v.jsx)(g.Z,{name:t,src:a})}),(0,v.jsx)(_.xu,{width:"80%",paddingY:2,children:(0,v.jsx)(_.xv,{align:"center",size:"200",weight:"bold",children:l})})]})}})})})})};var B=n(545798),K=n(55275);const N={initial:{opacity:0,transition:"opacity 0.25s ease-in"},fadeIn:{opacity:.8,transition:"opacity 1s ease"}},W=(e,i,n)=>(0,v.jsx)(_.xv,{color:"inverse",inline:!0,size:"200",weight:"bold",children:(0,v.jsx)(_.rU,{inline:!0,href:i,tapStyle:"none",underline:"hover",children:n})},e);function H({color:e,getFeedbackText:i,onUnfollow:n,showing:a,unfollowed:l}){const o=(0,y.ZP)(),[r,s]=(0,t.useState)(a?"fadeIn":"initial"),d=(0,t.useRef)(null);(0,t.useEffect)((()=>("initial"===r&&a&&(d.current=window.requestAnimationFrame((()=>s("fadeIn")))),()=>{d.current&&window.cancelAnimationFrame(d.current)})),[r,s,a]);const{subTitle:c,title:u,unfollow:p}=i(W);let m=u,g=c;p&&l&&(m=p.title,g=p.subTitle);const h=()=>p?(0,K.t)(p.action,p.actionOptions,n):void 0;return a&&(0,v.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e,...N[r]}},margin:1,rounding:4,position:"absolute",top:!0,bottom:!0,left:!0,right:!0,children:(0,v.jsxs)(_.xu,{width:"100%",height:"100%",color:"dark",rounding:4,overflow:"auto",children:[(0,v.jsxs)(_.xu,{padding:3,rounding:2,display:"flex",direction:"column",height:"100%",justifyContent:"between",children:[(0,v.jsxs)(_.xu,{children:[(0,v.jsx)(_.X6,{size:"400",color:"light",children:m}),g&&(0,v.jsxs)(_.xu,{marginTop:1,children:[(0,v.jsx)(_.xv,{color:"light",size:"200",inline:!0,children:g}),(0,v.jsx)(_.xv,{color:"light",inline:!0,size:"200",weight:"bold",children:(0,v.jsx)(_.rU,{href:"/edit",inline:!0,rounding:2,tapStyle:"none",underline:"hover",children:o._('Tune your home feed', 'Text on the button to navigate to homefeed control', 'Text on the button to navigate to homefeed control')})})]})]}),!l&&p&&(0,v.jsx)(_.xu,{paddingY:1,children:(0,v.jsx)(_.zx,{fullWidth:!0,color:"white",text:o._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user'),onClick:h})})]}),!l&&p&&(0,v.jsx)(_.xu,{paddingY:1,children:(0,v.jsx)(_.zx,{fullWidth:!0,color:"white",text:o._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user'),onClick:h})})]})})}var V=n(184298),q=n(992750);function Y({pin:e}){var i,n,t,a;return(0,v.jsxs)(_.xu,{paddingX:2,marginBottom:-1,display:"flex",children:[(0,v.jsx)(_.xu,{flex:"grow",maxHeight:32,minHeight:12,overflow:"hidden",width:142,children:(0,v.jsx)(_.xv,{lineClamp:2,size:"100",weight:"bold",children:(0,q.fs)({pinTitle:e.title,gridTitle:e.grid_title,richSummaryDisplayName:null===(i=e.rich_summary)||void 0===i?void 0:i.display_name,richMetadataTitle:null===(n=e.rich_metadata)||void 0===n?void 0:n.title,storyPinDataId:e.story_pin_data_id,storyPinDataMetadataPinTitle:null===(t=e.story_pin_data)||void 0===t||null===(a=t.metadata)||void 0===a?void 0:a.pin_title,placeSummaryName:e.place_summary})||e.description})}),(0,v.jsx)(_.xu,{children:(0,v.jsx)(V.Z,{pinId:e.id,size:"sm",graphqlRef:null})})]})}var $=n(807592),G=n(856919);const X=({attribute:e,deviceType:i,location:n})=>{const t=(0,z.SB)(n);(0,z.My)("unuath.product_attribution.click",{item:e,page:t,device:i})};function J({pin:e}){var i,n,t,a,l;const o=(0,y.ZP)(),r=(0,T.ZP)(),s=(0,A.useLocation)();if(!e)return null;const{pinProduct:d}=(0,b.Fi)({i18n:o,pin:e}),c=d&&(d.price||d.standard_price||(0,$.Z)(d)),u=null===(i=e.rich_summary)||void 0===i?void 0:i.site_name,p=(0,q.fs)({pinTitle:e.title,gridTitle:e.grid_title,richSummaryDisplayName:null===(n=e.rich_summary)||void 0===n?void 0:n.display_name,richMetadataTitle:null===(t=e.rich_metadata)||void 0===t?void 0:t.title,storyPinDataId:e.story_pin_data_id,storyPinDataMetadataPinTitle:null===(a=e.story_pin_data)||void 0===a||null===(l=a.metadata)||void 0===l?void 0:l.pin_title,placeSummaryName:e.place_summary})||e.description,m=`/pin/${e.id}/`;return(0,v.jsx)(_.xu,{paddingX:2,marginBottom:-1,marginTop:1,display:"flex",direction:"column",children:(0,v.jsxs)(_.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[(0,v.jsx)(_.xu,{flex:"grow",minHeight:12,overflow:"hidden",width:142,children:(0,v.jsxs)(G.MZ,{to:m,accessibilityLabel:p,deeplinkUri:m,children:[c&&(0,v.jsx)(_.iP,{onTap:()=>X({deviceType:r,attribute:"price",location:s}),children:(0,v.jsx)(_.xv,{size:"100",weight:"bold",children:c})}),(0,v.jsx)(_.xu,{marginTop:1,children:(0,v.jsx)(_.iP,{onTap:()=>X({deviceType:r,attribute:"title",location:s}),children:(0,v.jsx)(_.xv,{size:"100",weight:"bold",lineClamp:c?3:2,children:p})})}),u&&c&&(0,v.jsx)(_.xu,{marginTop:1,children:(0,v.jsx)(_.iP,{onTap:()=>X({deviceType:r,attribute:"merchant",location:s}),children:(0,v.jsx)(_.xv,{size:"100",lineClamp:1,children:u})})})]})}),(0,v.jsx)(_.xu,{children:(0,v.jsx)(V.Z,{pinId:e.id,size:"sm",graphqlRef:null})})]})})}var Q=n(285230),ee=n(364245),ie=n(81759),ne=n(358589),te=n(477802),ae=n(236458),le=n(884979),oe=n(825077),re=n(185894),se=n(663023),de=n(811403),ce=n(378518),ue=n(773285),pe=n(813401),me=n(112690),ge=n(550407),he=n(780679);function _e(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}const ve=({isDesktop:e})=>e?0:1,xe=e=>Boolean(e.is_eligible_for_web_closeup),ye=e=>Boolean(e.promoter&&!e.is_downstream_promotion),fe={width:1,height:1,url:""},be=e=>{const{attribution:i,embed:n,is_eligible_for_web_closeup:t,rich_summary:a,videos:l,story_pin_data_id:o}=e,r=n||i&&i.embed;return t?"oneTap":l||r&&"video"===r.type?"video":r&&"gif"===r.type?"gif":a&&"product"===a.type_name?"product":a&&"recipe"===a.type_name?"recipe":o?"storyPin":"image"},we=e=>{if(("video"===be(e)||ye)&&e.videos&&e.videos.video_list){const{duration:i=0}=e.videos.video_list[Object.keys(e.videos.video_list)[0]]||{};return(0,m.Z)(i)}return""},ke=e=>{var i;if("product"!==be(e))return null;const[n]=(null===(i=e.rich_summary)||void 0===i?void 0:i.products)||[];if(!n)return null;const t=n.offer_summary;return t&&(t.price||t.max_price)},Pe=(0,t.lazy)((()=>n.e(13777).then(n.bind(n,813777))));class Se extends t.Component{constructor(...e){super(...e),_e(this,"state",{startImpressionTimer:!1,openContextMenuByLongPress:!1,isShowingCustomContextMenu:!1}),_e(this,"getPinImage",(()=>{const{pin:e,duploIsSquarePin:i}=this.props;if(!e||!e.images)return fe;var n;if(i)return{height:136,url:null===(n=e.images["236x"])||void 0===n?void 0:n.url,width:136};const t=["236x","170x","136x136","736x","474x","orig"];for(const a of t)if(e.images[a]&&e.images[a].url)return e.images[a];return fe})),_e(this,"getImpressionData",(()=>{var e,i;const{pin:n}=this.props,t=null===(e=n.videos)||void 0===e||null===(i=e.video_list)||void 0===i?void 0:i.V_720P,a=t?{isNativeVideoAndWatchable:!!(t&&t.url&&t.height&&t.width)||void 0,videoIdStr:t&&n.videos?n.videos.id:void 0}:{},l=this.getPinImage();return{richTypes:n.shopping_flags||[],imageURL:l.url||"",...a,...this.props.impressionData}})),_e(this,"getAuxData",(()=>{const{auxData:e={},pin:i,pwaType:n}=this.props;return{commerce_data:(0,r.Z)({isEligibleForPdp:i.is_eligible_for_pdp,isOosProduct:i.is_oos_product,isStaleProduct:i.is_stale_product,pinShoppingFlags:i.shopping_flags}),pwa_type:n,...e}})),_e(this,"getFeedbackType",(()=>{const{board:e,feedback:i,viewParameter:n,pin:t}=this.props;return this.feedbackHelpers.getFeedbackType({board:e,feedback:i,viewParameter:n,pin:t,pinner:t.pinner})})),_e(this,"getRecommendationDescription",(e=>{const{board:i,pin:n}=this.props;return this.feedbackHelpers.getRecommendationDescription({ad_match_reason:n.ad_match_reason,board:i,feedbackType:this.getFeedbackType(),makeNavigateLink:e,pinner:n.pinner,promoter:n.promoter,recommendationReason:n.recommendation_reason,sourceInterest:n.source_interest})})),_e(this,"getPinHiddenFeedbackText",(e=>{const{board:i,pin:n}=this.props,t=n.promoter,a=this.feedbackHelpers.getUnfollowAction({board:i,feedbackType:this.getFeedbackType(),makeNavigateLink:e,pinner:n.pinner,sourceInterest:n.source_interest});return ye(n)&&null!=t&&t.full_name?{title:"",subTitle:(0,E.nk)(this.props.i18n._('{{ promoter }} has paid to have this pin show up where you\'d be more likely to notice it.', 'pinRep.promotedPinfeedbackText.subtitle', 'message displayed after hiding a promoted pin'),{promoter:t.full_name})}:a?{title:this.props.i18n._('Pin hidden', 'message displayed after hiding a pin', 'message displayed after hiding a pin'),subTitle:this.getRecommendationDescription(e),unfollow:a}:{title:this.props.i18n._('Pin hidden', 'message displayed after hiding a pin', 'message displayed after hiding a pin'),subTitle:this.props.i18n._('Got it! We\'ll try to show you more relevant Pins in the future.', 'message displayed after hiding a pin', 'message displayed after hiding a pin')}})),_e(this,"feedbackHelpers",(0,o.ZP)({i18n:this.props.i18n,interpolateNamedTemplate:E.nk})),_e(this,"logOneTap",(()=>{const{logContextEvent:e,pin:i,trackingParams:n,viewType:t,viewParameter:a,auxData:l}=this.props,o=(0,d.Z)(n,i.tracking_params),s={view_type:this.props.viewType,view_parameter:this.props.viewParameter,element:i.story_pin_data_id?12372:35,component:this.props.componentType,object_id_str:i.id,aux_data:{commerce_data:(0,r.Z)({isEligibleForPdp:i.is_eligible_for_pdp,isOosProduct:i.is_oos_product,isStaleProduct:i.is_stale_product,pinShoppingFlags:i.shopping_flags}),grid_index:this.props.slotIndex,image_signature:i.image_signature,...this.props.auxData},clientTrackingParams:o};e({event_type:8948,view_type:t,view_parameter:a,object_id_str:i.id,clientTrackingParams:o,aux_data:{image_signature:i.image_signature,closeup_navigation_type:"click",click_type:"clickthrough",cosmic_ray_count:"2",...l}}),(0,se.jC)(s),e({component:this.props.componentType,event_type:13,view_type:3,clientTrackingParams:o,aux_data:{closeup_navigation_type:"web_closeup",image_signature:i.image_signature},object_id_str:i.id})})),_e(this,"markPinAsSeen",(()=>this.props.markPinAsSeen(this.props.pinId))),_e(this,"handleLoad",(()=>{this.setState({startImpressionTimer:!0})})),_e(this,"handleError",(()=>{this.setState({startImpressionTimer:!1})})),_e(this,"handleClick",(e=>{const{auxData:i,componentType:n,deviceType:t,logContextEvent:a,pin:l,slotIndex:o,trackingParams:s,viewParameter:c,viewType:u,duploFeedItemProps:p,isAuth:m,unauthDesktopSignupModalPageContext:g}=this.props,{onPinClick:h}=null!=p?p:{},_=e=>(0,z.My)(`unauth_pin_rep.${e}.${String(c)}`);if(_("click"),a({view_type:u,view_parameter:c,element:l.story_pin_data_id?12372:35,event_type:101,component:n,object_id_str:l.id,clientTrackingParams:(0,d.Z)(s,l.tracking_params),aux_data:{commerce_data:(0,r.Z)({isEligibleForPdp:l.is_eligible_for_pdp,isOosProduct:l.is_oos_product,isStaleProduct:l.is_stale_product,pinShoppingFlags:l.shopping_flags}),grid_index:o,image_signature:l.image_signature,...i}}),xe(l)||a({event_type:8948,view_type:u,view_parameter:c,object_id_str:l.id,clientTrackingParams:(0,d.Z)(s,l.tracking_params),aux_data:{image_signature:l.image_signature,commerce_data:(0,r.Z)({isEligibleForPdp:l.is_eligible_for_pdp,isOosProduct:l.is_oos_product,isStaleProduct:l.is_stale_product,pinShoppingFlags:l.shopping_flags}),closeup_navigation_type:"click",grid_index:o,cosmic_ray_count:"3",...i}}),!m)switch((0,z.LW)({action:"click",item:"pin",pageLocation:this.props.location}),u){case 3:(0,z.NC)("click_pin_related_image");break;case 5:(0,z.NC)("click_board_pin_image");break;case 210:(0,z.NC)("click_topic_pin_image")}if(xe(l)&&this.logOneTap(),h&&h(),"desktop"===t){if(e.metaKey){_("click.cmd_button_pressed"),e.preventDefault();window.open(`/pin/${l.id}/`,"_blank").focus()}else if(!m&&g){const{pinImageClickHandler:i}=g;i({event:e,pin:l,linkTarget:"duploClientNav"})}}})),_e(this,"handleCreditsClick",(e=>{var i;const{history:n,logContextEvent:t,pin:a}=this.props,{id:l,sponsorship:o,story_pin_data_id:r}=a,{creator:s,sponsor:d}=o||{},{id:c}=s||{},{id:u}=d||{},p=!!r;e.stopPropagation(),e.preventDefault();const m=null===(i=this.getCredits())||void 0===i?void 0:i.link;m&&n.push(m),t({view_type:3,element:27,event_type:102,object_id_str:l,component:p?230:void 0,aux_data:{pin_id:l,...c&&u?{creator_id:c,sponsor_id:u}:{}}})})),_e(this,"handleUnfollowPin",(()=>this.props.markPinUnfollowed(this.props.pin.id))),_e(this,"handlePinSend",(e=>{e&&e.stopPropagation&&e.stopPropagation();const{pin:i,board:n,setSharingOnBoardPage:t}=this.props;n&&i&&t&&n.isSocialSeasonalBoard&&t(!0,"pin",i.id)})),_e(this,"isOverrideImageOnly",(()=>{const{pin:{rich_summary:e},viewer:i,viewParameter:n}=this.props,t=3375===n;return e&&43===n&&!(0,u.Z)(i.created_at)||t})),_e(this,"convertToGif",(e=>{const i=Math.max(e.embed&&e.embed.width||0,236),n=Math.max(e.embed&&e.embed.height||0,236);return{url:e.embed?e.embed.src:"",width:i,height:n}}))}componentDidMount(){const{isAuth:e,slotIndex:i,pin:n,viewParameter:t,location:a}=this.props;if(!e&&0===i&&3070===t){const e=a.pathname;(0,ie.H$)(e,n)}}getIsClaimedContent(){var e,i;const{pin:n,viewParameter:t}=this.props;return 3375===t&&!(null===(e=n.link_domain)||void 0===e||null===(i=e.official_user)||void 0===i||!i.is_primary_website_verified)}getCredits(){const{board:e,pin:i,viewParameter:n}=this.props,t=i.story_pin_data,a=i.pinner,l=i.promoter,o=null==t?void 0:t.has_product_pins,r=0===n,s=3173===n,d=3375===n,c=this.getIsClaimedContent(),u=i.native_creator,p=!!i.native_creator,m=ye(i),{sponsorship:g}=i,{creator:h,sponsor:_}=g||{},v=m&&!!g&&(null==l?void 0:l.id)!==(null==u?void 0:u.id),x=!!g&&h;if(!(m||x||r||s||p||c))return;switch(v?"PROMOTED_SPONSORED":m?"PROMOTED":x?"SPONSORED":p?"AFFILIATED_PRODUCTS":o?"NATIVE_CONTENT":c?"CLAIMED_CONTENT":e&&"protected"===e.privacy?"SAVED_BY":"DEFAULT"){case"PROMOTED_SPONSORED":return{title:null==u?void 0:u.full_name,subtitle:null==l?void 0:l.full_name,avatar:this.getPinnerImage(null==u?void 0:u.image_small_url),mediumAvatar:this.getPinnerImage(null==u?void 0:u.image_medium_url),largeAvatar:this.getPinnerImage(null==u?void 0:u.image_large_url),link:null!=u&&u.username?`/${u.username}/`:""};case"PROMOTED":return{title:this.props.i18n._('Promoted by', 'Grid pin annotation', 'Grid pin annotation'),subtitle:null==l?void 0:l.full_name,avatar:this.getPinnerImage(null==l?void 0:l.image_small_url),mediumAvatar:this.getPinnerImage(null==l?void 0:l.image_medium_url),largeAvatar:this.getPinnerImage(null==l?void 0:l.image_large_url),link:null!=l&&l.username?`/${l.username}/`:""};case"SPONSORED":if(!g)throw new Error("sponsorship doesn't exist when expected");return{title:null==u?void 0:u.full_name,subtitle:null==_?void 0:_.full_name,avatar:this.getPinnerImage(null==u?void 0:u.image_small_url),mediumAvatar:this.getPinnerImage(null==u?void 0:u.image_medium_url),largeAvatar:this.getPinnerImage(null==u?void 0:u.image_large_url),link:null!=u&&u.username?`/${u.username}/`:""};case"AFFILIATED_PRODUCTS":return{title:null==u?void 0:u.full_name,subtitle:"",avatar:this.getPinnerImage(null==u?void 0:u.image_small_url),mediumAvatar:this.getPinnerImage(null==u?void 0:u.image_medium_url),largeAvatar:this.getPinnerImage(null==u?void 0:u.image_large_url),link:null!=u&&u.username?`/${u.username}/`:""};case"NATIVE_CONTENT":let n=(null==e?void 0:e.url)||`/pin/${i.id}/`;return d&&(n=null!=u&&u.username?`/${u.username}/`:""),{title:"",subtitle:null==u?void 0:u.full_name,avatar:this.getPinnerImage(null==u?void 0:u.image_small_url),mediumAvatar:this.getPinnerImage(null==u?void 0:u.image_medium_url),largeAvatar:this.getPinnerImage(null==u?void 0:u.image_large_url),link:n};case"CLAIMED_CONTENT":const{link_domain:t}=i,{official_user:o}=t||{};return o?{subtitle:o.full_name,avatar:this.getPinnerImage(o.image_small_url),mediumAvatar:this.getPinnerImage(o.image_medium_url),largeAvatar:this.getPinnerImage(o.image_large_url),link:o.username?`/${o.username}/`:""}:void 0;case"SAVED_BY":return{title:this.props.i18n._('Saved by', 'Grid pin annotation', 'Grid pin annotation'),subtitle:"",avatar:this.getPinnerImage(null==a?void 0:a.image_small_url),mediumAvatar:this.getPinnerImage(null==a?void 0:a.image_medium_url),largeAvatar:this.getPinnerImage(null==a?void 0:a.image_large_url),link:(null==e?void 0:e.url)||`/pin/${i.id}/`};default:return{title:(null==a?void 0:a.full_name)||"",subtitle:"",avatar:this.getPinnerImage(null==a?void 0:a.image_small_url),mediumAvatar:this.getPinnerImage(null==a?void 0:a.image_medium_url),largeAvatar:this.getPinnerImage(null==a?void 0:a.image_large_url),link:(null==e?void 0:e.url)||`/pin/${i.id}/`}}}getSharedHeaderInviteCode(){var e;const{viewParameter:i,viewedSharedPins:n,pinId:t}=this.props;return 92===i?null===(e=n&&n[t])||void 0===e?void 0:e.inviteCode:void 0}getPinnerImage(e){return e&&e.includes("/user/default")?void 0:e}getPinText(){const{grid_title:e,rich_summary:i,description:n}=this.props.pin;return"string"==typeof e?{title:e,description:""}:{title:null==i?void 0:i.display_name,description:n}}renderPinCard(){var e,i,n,t,a,o,r,u,m,g,h,x,y,f,b,w,P,T,I,j,C,L,A,D,M;const{board:Z,checkExperiment:U,country:E,disableAppUpsell:O,duploDisablePinCardPadding:K,disableRounding:N,disableReaction:W,deviceType:V,experience:$,feedback:X,imageOnlyOption:ie,i18n:ne,isAuth:oe,duploIsSquarePin:re,isImageOnlyExp:se,location:de,duploFeedItemProps:ce,duploLazyLoadImage:ue,duploOneTapSave:pe,duploPinCardDetailsMargin:me,pin:ge,slotIndex:he,viewParameter:_e,viewType:fe,duploShouldAllowProductPriceIndicator:Se,topLevelTrafficSource:Te,topLevelTrafficSourceDepth:Ie,trafficSource:je,duploUnauthRelatedPinsAutoplayExpGroup:Ce,trackingParams:Le,vaseDisplayMode:Ae,createUnauthContextMenuHandler:De}=this.props,{hidePinMetadata:ze=!1,onPinLinkClick:Me,showSeoMetadata:Ze}=null!=ce?ce:{},{aggregated_pin_data:Fe,category:Ue,image_signature:Ee,promoter:Oe,rich_summary:Re,title:Be,sponsorship:Ke,story_pin_data:Ne}=ge,{description:We,title:He}=this.getPinText(),Ve="desktop"===V,qe=be(ge),Ye=0===_e,$e=3475===_e,Ge=ye(ge),Xe=!!Ke,Je=null==Ne?void 0:Ne.has_product_pins,Qe=null==Ne?void 0:Ne.is_deleted,ei=(0,d.Z)((de&&de.state||{}).trackingParams||Le,ge.tracking_params),ii="product"===be(ge)&&!oe,ni=se&&!this.isOverrideImageOnly(),ti=Z&&Z.isSocialSeasonalBoard,ai=this.getPinImage(),li=ti&&"gif"===qe?this.convertToGif(ge):ai,oi=null===(e=ge.videos)||void 0===e||null===(i=e.video_list)||void 0===i?void 0:i.V_720P,ri=(null==oi?void 0:oi.url)||(null===(n=ge.videos)||void 0===n||null===(t=n.video_list)||void 0===t||null===(a=t.V_HLSV4)||void 0===a?void 0:a.url),si=(0,q.hP)(null!==(o=ge.description)&&void 0!==o?o:"",ge.description_html||"",null===(r=ge.pin_join)||void 0===r?void 0:r.visual_annotation,ge.alt_text||""),di=oe?We:(0,c.Z)({storyPinDataId:ge.story_pin_data_id,pinDescription:ge.description,richMetadataDescription:null!==(u=null===(m=ge.rich_metadata)||void 0===m?void 0:m.description)&&void 0!==u?u:"",richSummaryDisplayName:null!==(g=null===(h=ge.rich_summary)||void 0===h?void 0:h.display_name)&&void 0!==g?g:"",placeSummaryName:null!==(x=ge.place_summary)&&void 0!==x?x:"",closeupDescription:null!==(y=ge.closeup_description)&&void 0!==y?y:"",closeupUnifiedDescription:null!==(f=ge.closeup_unified_description)&&void 0!==f?f:""}),ci=$&&$.display_data.hideReactions||!1,ui=$&&$.display_data.hideDesc||!1,pi=!W&&(0,ae.J6)({boardIsCollaborative:null==Z?void 0:Z.is_collaborative,isDownstreamPromotion:ge.is_downstream_promotion,isPromoted:ge.is_promoted,storyPinDataId:ge.story_pin_data_id,videosId:null===(b=ge.videos)||void 0===b?void 0:b.id})&&!$e&&!ci,mi=!oe;let gi;gi=xe(ge)?ge.tracked_link||ge.link:mi?(0,q.bN)({pinId:ge.id,seoUrl:ge.seo_url}):(0,q.BY)(ge.id);const hi=!We||ni&&!Ye?void 0:We.trim(),_i=this.getSharedHeaderInviteCode(),vi={accessibilityLabel:si||He||We||"",country:E,deeplinkUri:gi,external:xe(ge),externalQueryParams:{pin:ge.id,client_tracking_params:Le},isAppUpsellDisabled:O,onTouch:this.handleClick,pinCategory:ge.category,pressState:"none",rounding:4,title:this.props.i18n._('See this Pin', 'App Upsell Text after clicking on Pin in feed', 'App Upsell Text after clicking on Pin in feed'),to:{pathname:gi,state:{trackingParams:Le,trafficSource:je,topLevelTrafficSource:Te,topLevelTrafficSourceDepth:Ie}},upsellType:"direct",viewParameter:_e,viewType:fe,clientTrackingParams:ei},xi=ve({isDesktop:Ve}),yi=ge.native_creator||ge.pinner,fi="search"===je&&"storyPin"===qe&&U("mweb_search_ideapin_module").anyEnabled;return(0,v.jsxs)(_.xu,{"data-test-id":"pin","data-test-pin-id":ge.id,marginBottom:Ve||ze?0:2,children:[(0,v.jsxs)(_.xu,{"data-test-id":si||He||We?"pin-with-alt-text":"pin-missing-alt-text",paddingY:ze||K?0:xi,paddingX:K?0:xi,marginBottom:0,onContextMenu:yi?De({pinId:ge.id,deviceOptions:{isDesktop:!0}}):void 0,dangerouslySetInlineStyle:{__style:this.state.isShowingCustomContextMenu?le.Yw:{}},children:[(0,v.jsxs)(G.MZ,{...vi,children:[!!_i&&(0,v.jsx)(R,{inviteCode:_i}),Qe?(0,v.jsx)(Q.Z,{isPinRep:!0}):(0,v.jsx)(B.Z,{clientTrackingParams:ei,color:null!==(w=ge.dominant_color)&&void 0!==w?w:"",description:hi,domainLinkData:ge.domain&&ge.link?{clickLoggingOptions:{auxData:{objectId:ge.id,grid_index:he,sanitized_url:ge.link}},domain:ge.domain,link:ge.link,onClick:Me}:void 0,disableRounding:N,hideBottomCardText:ti,image:li,imageAltText:si,imageCrop:ge.image_crop,isMessenger:ti,isPromoted:Ge,isSquarePin:re,lazyLoadImage:ue,onError:this.handleError,oneTapSave:pe,onLoad:this.handleLoad,openCustomContextMenu:()=>this.setState({openContextMenuByLongPress:!0}),disableDefaultContextMenu:()=>this.setState({isShowingCustomContextMenu:!0}),createUnauthContextMenuHandler:De,pinId:ge.id,pinnedToBoardId:(null===(P=ge.pinned_to_board)||void 0===P?void 0:P.id)||"",pinVideo:(ti||Ge)&&oi||void 0,videoUrl:ri,productPrice:Se&&!ii?ke(ge):null,slotIndex:he,storyData:Ne,title:!ni||Ye?He:void 0,type:qe,videoDuration:we(ge),unauthRelatedPinsAutoplayExpGroup:Ce,viewType:fe,viewParameter:_e})]}),(!("image-only"===ie)&&(oe||"desktop"===V)||"shop_feed_auth_and_unauth_mweb_override"===je)&&(0,v.jsxs)(_.xu,{children:[!$e&&"desktopParity"===Ae&&(0,v.jsx)(ee.Z,{pinId:ge.id,mode:"inlineWithScrollArrows",graphqlRef:null}),!ii&&(0,v.jsx)(G.MZ,{...vi,children:(0,v.jsx)(F,{allowPriceIndicator:!Se&&!ii&&["shop_feed","shop_feed_auth_and_unauth_mweb_override"].includes(je),marginTop:me,hidePinMetadata:ze||ui,contextMenu:oe&&!Qe?(0,v.jsx)(_.xu,{marginStart:1,marginTop:me,children:(0,v.jsx)(_.xu,{height:26,width:24,children:(0,v.jsx)(l.Z,{name:"SafeSuspense_Pin_ContextualMenu",children:(0,v.jsx)(k.Z,{children:(0,v.jsx)(Pe,{adMatchReason:ge.ad_match_reason,bestPinImgSrc:(0,s.Z)({images:ge.images,embedSrc:null===(T=ge.embed)||void 0===T?void 0:T.src,embedType:null===(I=ge.embed)||void 0===I?void 0:I.type}),feedback:X,feedbackType:this.getFeedbackType(),getRecommendationDescription:this.getRecommendationDescription,graphqlRef:null,imageSignature:Ee,pinCategory:Ue,pinDescription:di,pinId:ge.id,pinTitle:Be,sourceType:Ge?"ad":Ye?"following":void 0,viewParameter:_e,viewType:fe,openByLongPress:this.state.openContextMenuByLongPress,trackingParams:Le,toggleLongPress:()=>{this.setState({openContextMenuByLongPress:!1})}})})})})}):null,credits:this.getCredits(),hasAffiliatedProducts:Je,isPromotedPin:Ge,isSponsoredPin:Xe,isSquarePin:re,marginStart:me,marginEnd:me,onCreditsClick:this.handleCreditsClick,pinDescription:di,pinId:ge.id,pinnedToBoardId:(null===(j=ge.pinned_to_board)||void 0===j?void 0:j.id)||"",pinReactionCounts:ge.reaction_counts,pinTagsChips:(Fe||{}).pin_tags_chips,promoterName:null==Oe?void 0:Oe.full_name,recipeCookTime:ni?void 0:ge.rich_summary&&ge.rich_summary.display_cook_time,recipeMaxRating:ni||null==Re||null===(C=Re.aggregate_rating)||void 0===C?void 0:C.best_rating,recipeRating:ni||null==Re||null===(L=Re.aggregate_rating)||void 0===L?void 0:L.rating_value,recipeReviewCount:ni||null==Re||null===(A=Re.aggregate_rating)||void 0===A?void 0:A.review_count,shouldShowReactions:pi,style:fi?"overlay":"default",title:fi?void 0:He,type:qe})})]}),!oe&&ii&&(0,v.jsx)(J,{pin:ge})]}),(null==Z?void 0:Z.isSocialSeasonalBoard)&&oe&&(0,v.jsx)(_.xu,{color:"secondary",marginBottom:6,marginEnd:"auto",marginStart:"auto",marginTop:-2,position:"relative",rounding:2,width:"90%",children:(0,v.jsx)(p.Z,{onTouch:this.handlePinSend,pressState:"none",rounding:2,children:(0,v.jsx)(_.xu,{padding:3,children:(0,v.jsx)(_.xv,{align:"center",weight:"bold",children:ne._('Send', ' - ', ' -- ')})})})}),"reported"===ge.feedback_status?(0,v.jsx)(H,{color:null!==(D=ge.dominant_color)&&void 0!==D?D:"",getFeedbackText:()=>({title:this.props.i18n._('Reported', 'message displayed after reporting a pin', 'message displayed after reporting a pin'),subTitle:this.props.i18n._('Thanks! Your feedback helps us keep the Pinterest community safe.', 'message displayed after reporting a pin', 'message displayed after reporting a pin')}),pinId:ge.id,showing:!!ge.feedback_status}):(0,v.jsx)(H,{color:null!==(M=ge.dominant_color)&&void 0!==M?M:"",getFeedbackText:this.getPinHiddenFeedbackText,onUnfollow:this.handleUnfollowPin,pinId:ge.id,showing:!!ge.feedback_status,unfollowed:"unfollowed"===ge.feedback_status,viewParameter:_e,viewType:fe}),Ze&&"inlineHidden"===Ae&&!ii&&(0,v.jsx)(S.Z,{id:"related-pins-title",children:(0,v.jsx)(_.iP,{onTap:()=>{(0,z.LW)({action:"click",pageLocation:de,item:"related-pins-title"})},fullWidth:!1,children:(0,v.jsx)(Y,{pin:ge})})}),ge.debug&&(0,v.jsx)(te.W,{data:ge.debug})]})}render(){const{componentType:e,pin:i,trackingParams:n,viewParameter:t,viewType:a,slotIndex:l,objectIdStr:o,viewData:r}=this.props,{startImpressionTimer:s}=this.state;return i?(0,v.jsx)(oe.dL,{auxData:this.getAuxData(),component:e,impressionData:this.getImpressionData(),isPaused:!s,loggingId:i.id,objectIdStr:o,onTracked:this.markPinAsSeen,slotIndex:l,trackingParams:n,viewData:r,viewParameter:t,viewType:a,children:({impressionTrackerRef:e})=>(0,v.jsx)(_.xu,{ref:e,children:this.renderPinCard()})}):null}}const Te=(0,a.connect)((({boards:e,experiences:i,pins:n,session:t,users:a},l)=>{const o=n[l.pinId]||null,r=i[1000107];return{board:o&&e[o.board],country:t.country,hasPoorConnection:t.hasPoorConnection,isAuth:t.isAuthenticated,isImageOnlyExp:r&&500678===r.experience_id,pin:o,viewer:a[t.userId],viewedSharedPins:t.viewedSharedPins}}),((e,{viewParameter:i,viewType:n})=>({markPinAsSeen:t=>e((0,ne.DX)({pinId:t,viewParameter:i,viewType:n})),markPinUnfollowed:i=>e((0,de.fH)(i,"unfollowed")),setSharingOnBoardPage:(i,n,t)=>e((0,re.Mj)(i,n,t))})))((function(e){const i=(0,y.ZP)(),n=(0,he.g)(),{checkExperiment:t}=(0,ue.F)(),a=(0,A.useHistory)(),l=(0,A.useLocation)(),o=(0,T.ZP)(),r=(0,ge.M)(),s=(0,pe.yz)(),d=(0,ce._)({id:1000107}),c=(0,me.Z)();return(0,v.jsx)(Se,{...e,createUnauthContextMenuHandler:r,deviceType:o,experience:d,pwaType:s,unauthDesktopSignupModalPageContext:n,vaseDisplayMode:"desktop"===o?"desktopParity":"inlineHidden",i18n:i,checkExperiment:t,history:a,location:l,logContextEvent:c})}))},545798:(e,i,n)=>{n.d(i,{Z:()=>le});var t=n(667294),a=n(702664),l=n(81226),o=n(733756),r=n(499128),s=n(898781),d=n(112690),c=n(728214),u=n(523504),p=n(332611),m=n(185894),g=n(856919),h=n(479739),_=n(500594),v=n(358589),x=n(539497),y=n(883119),f=n(276775),b=n(785893);const w=new y.Ry(1);function k({buttonText:e,clientTrackingParams:i,color:n="primary",deeplinkUri:l,experience:k,inline:P=!0,minWidth:S,onTouch:T,onUnsave:I,pinId:j,pinnedToBoardId:C,shape:L,shouldShowSavedButton:A,viewType:D,viewParameter:z,showSaveHandoffExperience:M}){var Z;const F=(0,s.ZP)(),U=(0,a.useDispatch)(),E=(0,f.useHistory)(),O=(0,f.useLocation)(),R=O.pathname.startsWith("/pin"),B=(0,a.useSelector)((({session:e})=>e.hasSavedUnauthPin)),K=(0,a.useSelector)((({session:e})=>e.unauthSavePinId)),N=null===(Z=(0,a.useSelector)((e=>(0,h.ts)(e))))||void 0===Z?void 0:Z.pin_count,W=(0,d.Z)(),{showToast:H,showRepinConfirmation:V}=(0,u.Z)(),q=()=>{U((0,v.Bp)({history:E,i18n:F,logContextEvent:W,onSuccess:()=>{k&&U((0,p.CK)(k.placement_id,k.experience_id))},originalPinId:j,pinId:j,trackingParams:{clientTrackingParams:i,pinnedToBoardId:C},showRepinConfirmation:M&&!R?()=>{}:V,disableRepinAnimation:K===j,pinCount:N})).catch((e=>H((({hideToast:i})=>(0,b.jsx)(r.ZP,{variant:"error",text:e.message||F._('Sorry! Something went wrong on our end.', 'quickSave.toast.error.message', 'error during repin'),onHide:i})))))},Y=(0,t.useRef)(null),$=M&&!B,G=(0,c.Z)()({fn:e=>{e.stopPropagation(),e.preventDefault(),T&&T(e),A?A&&I&&I():q()},modalHeader:(0,_.Bx)(F)});(0,t.useEffect)((()=>{$&&!Y.current&&((0,x.LW)({action:"trigger",pageLocation:O,item:"unauth-save-button-quicksave"}),q(),U((0,m.e2)())),Y.current=$}));const X=()=>F._('Pin', 'quickSave.quickSaveButton.icon.accessibilityLabel', 'Pin accessibility label'),J=()=>e||F._('Save', 'quickSave.quickSaveButton.buttonText', 'Auth mobile web save button for pin closeup');return B&&!R?null:(0,b.jsx)(y.xu,{"data-test-id":"save-button-mobile",zIndex:w,children:l?(0,b.jsx)(g.di,{accessibilityLabel:X(),color:n,customStyles:{padding:"14px 16px"},deeplinkUri:l,inline:P,minHeight:48,minWidth:S,onTouch:G,pressState:["compress","background"],shape:L,size:"lg",text:J(),to:E.location.pathname,upsellType:"save",viewType:D,viewParameter:z}):(0,b.jsx)(o.Z,{accessibilityLabel:X(),color:n,customStyles:{padding:"14px 16px"},inline:P,minHeight:48,minWidth:S,onTouch:G,pressState:"compress",shape:L,size:"300",text:J()})})}var P=n(634291),S=n(716235),T=n(343341);function I(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}class j extends t.PureComponent{constructor(...e){var i;super(...e),i=this,I(this,"state",{saveState:void 0}),I(this,"legoFixedZIndex",new y.Ry(2)),I(this,"onAddPin",(async function(){const{clientTrackingParams:e,dispatch:n,i18n:t,oneTapSave:a,pinId:l,pinnedToBoardId:o,showToast:s,viewType:d}=i.props;try{const t=await n((0,v.wh)({i18n:i.props.i18n,logContextEvent:i.props.logContextEvent,originalPinId:l,pinId:l,boardId:null==a?void 0:a.boardId,isOneTapSave:!0,onUndo:()=>{i.onDeletePin()},section:null==a?void 0:a.section,showToast:s,trackingParams:{clientTrackingParams:e,pinnedToBoardId:o},viewType:d}));i.setState({saveState:"saved"}),n((0,S.a)({boardId:null==a?void 0:a.boardId,localPinId:t.id,pinId:l}))}catch(c){s((({hideToast:e})=>(0,b.jsx)(r.ZP,{variant:"error",text:c.message||t._('Sorry! Something went wrong on our end.', 'error during repin', 'error during repin'),onHide:e}))),i.setState({saveState:void 0})}})),I(this,"onDeletePin",(async function(){const{dispatch:e,clientTrackingParams:n,i18n:t,pinId:a,savedInfo:l,showToast:o}=i.props;if(l){e((0,S.k)({boardId:l.boardId,localPinId:l.localPinId,pinId:a}));try{await e((0,v.q$)({pinId:l.localPinId,boardId:l.boardId,clientTrackingParams:n})),o((({hideToast:e})=>(0,b.jsx)(r.ZP,{text:t._('Pin deleted!', 'User deleted their pin', 'User deleted their pin'),onHide:e}))),i.setState({saveState:void 0})}catch(s){o((({hideToast:e})=>(0,b.jsx)(r.ZP,{variant:"error",text:t._('Sorry! There was an error deleting your Pin.', 'Error when user tried to delete pin', 'Error when user tried to delete pin'),onHide:e}))),i.setState({saveState:"saved"})}}})),I(this,"handlePinAction",this.props.requireAuthForLimitedLogin({fn:({event:e})=>{e.stopPropagation(),e.preventDefault();const{saveState:i}=this.state,{history:n,pinId:t,isOneTapExploreLocalTab:a,pinnedToBoard:l}=this.props;["saving","deleting"].includes(i)||a&&l||(i||this.props.savedInfo?this.props.isOneTapExploreLocalTab||(this.setState({saveState:"deleting"}),this.onDeletePin()):(this.setState({saveState:"saving"}),a?n.push({pathname:`/pin/${t}/repin`,state:{isOneTapSave:!0}}):this.onAddPin()))},modalHeader:(0,_.Bx)(this.props.i18n)})),I(this,"shouldDisplayAsSaved",(({isOneTapExploreLocalTab:e,pinnedToBoard:i,savedInfo:n})=>e?!!i:!!n))}render(){const{children:e,clientTrackingParams:i,homepageExperience:n,i18n:a,isOneTapExploreLocalTab:l,isRTL:o,oneTapSave:r,pinId:s,pinnedToBoard:d,pinnedToBoardId:c,savedInfo:u,shouldShowSaveHandoffExp:p}=this.props;if(!r&&!l&&!p)return e;const m=this.shouldDisplayAsSaved({isOneTapExploreLocalTab:l,pinnedToBoard:d,savedInfo:u}),g="#000",h="rgba(255, 255, 255, 0.8)",_="light",v="dark";return(0,b.jsxs)(t.Fragment,{children:[e,(0,b.jsx)(y.xu,{bottom:!0,left:o,padding:2,position:"absolute",right:!o,zIndex:this.legoFixedZIndex,children:p?(0,b.jsx)(k,{buttonText:d?a._('Saved', 'OneTapSave.QuickSaveButton.Saved', 'Message on saved pin'):"",clientTrackingParams:i,color:d?"default":"primary",deeplinkUri:"deeplinkUri",experience:n,inline:!0,pinnedToBoardId:c,minWidth:54,pinId:s,shape:"pill",shouldShowSavedButton:!!d,showSaveHandoffExperience:p}):(0,b.jsx)(y.iP,{onTap:this.handlePinAction,rounding:"circle",children:(0,b.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:m?g:h}},padding:2,rounding:"circle",children:(0,b.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{opacity:100}},children:(0,b.jsx)(y.JO,{accessibilityLabel:m?a._('saved', 'checkmark icon to show pin has been saved', 'checkmark icon to show pin has been saved'):a._('save', 'button for saving quickly with one click', 'button for saving quickly with one click'),icon:m?"check":"add",color:m?_:v,size:"24"})})})})})]})}}const C=(0,a.connect)(((e,{pinId:i})=>({savedInfo:e.pins[i]&&e.pins[i].savedInfo,pinnedToBoard:e.pins[i]&&e.pins[i].pinned_to_board,homepageExperience:e.experiences[40001]})))((function(e){const{showToast:i}=(0,T.F9)(),n=(0,s.ZP)(),l=(0,d.Z)(),o=(0,c.Z)(),r=(0,a.useDispatch)(),u=(0,f.useHistory)(),{isRTL:p}=(0,a.useSelector)((({session:e})=>e)),m=(0,a.useSelector)((({session:e})=>e.unauthSavePinId)),g=(0,a.useSelector)((({session:e})=>e.isAuthenticated)),_=(0,a.useSelector)((e=>{var i;return null===(i=(0,h.ts)(e))||void 0===i?void 0:i.pin_count})),y=g&&!!m&&m===e.pinId,{pins:w,clear:k}=(0,P.Z)(),S=(0,t.useRef)(!1);return(0,t.useEffect)((()=>{g&&!S.current&&w.length>0&&(S.current=!0,w.forEach((({id:e})=>{r((0,v.Bp)({history:u,i18n:n,logContextEvent:l,onSuccess:()=>{},originalPinId:e,pinId:e,trackingParams:{clientTrackingParams:"",pinnedToBoardId:""},showRepinConfirmation:()=>{},disableRepinAnimation:!0,pinCount:_})).catch((e=>{(0,x.My)(`error.unauth_profile_pin_merge.${e}`)}))})),k())})),(0,b.jsx)(j,{...e,i18n:n,requireAuthForLimitedLogin:o,history:u,logContextEvent:l,showToast:i,shouldShowSaveHandoffExp:y,isRTL:p})}));C.displayName="OneTapSave";const L=C;var A=n(883561),D=n(349700);function z({boardUrl:e,boardName:i,isQuicksave:n,sectionName:t,sectionSlug:a}){const l=(0,s.ZP)(),o=(0,f.useHistory)(),r=new y.Ry(1),d=!!a&&`${e}${a}/`;return(0,b.jsx)(y.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:r,dangerouslySetInlineStyle:{__style:{background:"rgb(0 0 0 / .4)"}},children:(0,b.jsx)(y.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:4,children:(0,b.jsx)(y.iP,{onTap:i=>{i.event.preventDefault(),o.push(n?"/me/":d||e)},children:(0,b.jsx)(y.xv,{color:"light",children:t?(0,D.nk)(l._('Saved to {{sectionName}}', 'PinCard.SavedToSection.Overlay', 'Saved to section overlay'),{sectionName:(0,b.jsx)(y.xv,{color:"light",weight:"bold",inline:!0,children:(0,A.ZP)(t,22)},`pincard-${t}`)}):(0,D.nk)(l._('Saved to {{boardName}}', 'PinCard.SavedToBoard.Overlay', 'Saved to board overlay'),{boardName:(0,b.jsx)(y.xv,{color:"light",weight:"bold",inline:!0,children:n?l._('Profile', 'PinCard.SavedToProfile.Overlay', 'Part of string saying "Saved to Profile" after saving a Pin'):(0,A.ZP)(i,22)},`pincard-${i}`)})})})})})}var M=n(252745),Z=n(964082),F=n(36971),U=n(463045);function E({isSquarePin:e,color:i,description:n,imageUrl:t,imageHeight:a,imageWidth:l,onError:o,onLoad:r}){const s=(0,b.jsx)(y.Ee,{alt:n||"",color:i,naturalHeight:null!=a?a:1,naturalWidth:null!=l?l:1,onError:o,onLoad:r,src:null!=t?t:"",fit:e?"cover":void 0});return e?(0,b.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},children:(0,b.jsx)(y.xu,{top:!0,right:!0,bottom:!0,left:!0,position:"absolute",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:s})}):s}var O=n(639758),R=n(67223),B=n(572260),K=n(623568),N=n(494349),W=n(50286);function H({inAdsVideoExperiment:e,unauthRelatedPinsAutoplayExpGroup:i,isAutoplay:n,cropHeight:a,currentTime:l,onLoad:o,onError:r,onTimeChange:d,pin:c,playing:u,rootMargin:p,viewType:m,viewParameter:g,onVisibilityChanged:h,trackFullVisible:_,videoDuration:v,imageHeightModifier:x,image:f,isSquarePin:w}){var k,P,S,T;const I=(0,s.ZP)(),[j,C]=(0,t.useState)(!1),[L,A]=(0,t.useState)(!0),D=(0,K.jL)(c),z=D&&!c.is_eligible_for_web_closeup,Z=3372===g||42===m,F=D&&c.is_eligible_for_web_closeup&&!Z,{setCurrentVideo:U,pauseAutoplay:H}=(0,N.I)(),V=z||!D,q=(0,R.Z)({onVisibilityChanged:h,inAdsDesktopVideoExperiment:e,trackFullVisible:_,rootMargin:p});let Y=!u;(e||null!=i&&i.startsWith("enabled"))&&(Y=L,n&&u&&L&&A(!1));const{url:$}=(null===(k=c.images)||void 0===k?void 0:k["236x"])||{},{id:G}=c,X=(0,W.HG)()&&c.videos?null===(P=c.videos.video_list)||void 0===P?void 0:P.V_HLSV4:null===(S=c.videos)||void 0===S||null===(T=S.video_list)||void 0===T?void 0:T.V_720P,J=(0,W.HG)()&&c.videos?"video/m3u8":"video/mp4",Q=(0,t.useCallback)((({event:e})=>{e.preventDefault(),e.stopPropagation(),U({pinId:G,isPromoted:Boolean(D),currentTime:0}),C(!1)}),[D,G,U]),ee=(0,t.useCallback)((()=>{D&&C(F),H({pinId:G,isPromoted:Boolean(D),currentTime:0})}),[F,D,G,H]);if(!c.videos||!X)return null;const{height:ie,thumbnail:ne,width:te,url:ae}=X||{},le=c.videos.id,oe=[{type:J,src:ae}];let re,se=(null!=te?te:1)/(null!=ie?ie:1);return e&&w&&(se=1,re="transparent",x&&(se-=x-1)),j&&D?(0,b.jsx)(y.xu,{"data-test-id":"pin-video-mobile-end-card",ref:q,children:(0,b.jsx)(O.Z,{backgroundImage:null!=$?$:"",naturalHeight:null!=ie?ie:1,naturalWidth:null!=te?te:1,pin:c,onRestartVideo:Q})}):Y?(0,b.jsxs)(y.xu,{"data-test-id":"pin-video-mobile-image",ref:q,children:[v&&(0,b.jsx)(M.Z,{text:v}),(0,b.jsx)(E,{imageHeight:null!==(de=null==f?void 0:f.height)&&void 0!==de?de:1,imageWidth:null!==(ce=null==f?void 0:f.width)&&void 0!==ce?ce:1,onError:r,onLoad:o,imageUrl:null!==(ue=null==f?void 0:f.url)&&void 0!==ue?ue:"",isSquarePin:w})]}):(0,b.jsx)(y.xu,{"data-test-id":"pin-video-mobile-video",ref:q,children:(0,b.jsx)(B.ZP,{isAutoPlay:!!n,cropHeight:a,rootMargin:p,inAdsDesktopVideoExperiment:e,contextLogData:{viewParameter:g,component:0,objectId:c.id,video_id:le,view:m},accessibilityMaximizeLabel:I._('Maximize', 'pinLayouts.PinVideo.accessibilityMaxVideoBtn', 'Maximize button on video'),accessibilityMinimizeLabel:I._('Minimize', 'pinLayouts.PinVideo.accessibilityMinVideoBtn', 'Minimize button on video'),accessibilityMuteLabel:I._('Mute', 'pinLayouts.PinVideo.accessibilityMuteVideoBtn', 'Mute button on video'),accessibilityPauseLabel:I._('Pause', 'pinLayouts.PinVideo.accessibilityPauseVideoBtn', 'Pause button on video'),accessibilityPlayLabel:I._('Play', 'pinLayouts.PinVideo.accessibilityPlayVideoBtn', 'Play button on video'),accessibilityProgressBarLabel:I._('Progress bar', 'pinLayouts.PinVideo.accessibilityProgressBarLabel', 'Video progress bar accessibility label'),accessibilityUnmuteLabel:I._('Unmute', 'pinLayouts.PinVideo.accessibilityUnmuteVideoBtn', 'Unmute button on video'),aspectRatio:se,backgroundColor:re,captions:"",hlsConfig:{capLevelToPlayerSize:!0,startPosition:l||-1},loop:V,onTimeChange:d,playing:u,onPlay:()=>{},onPlayError:()=>{},poster:$||ne,src:null!=oe?oe:[],videoStartTime:l,volume:0,onEnded:ee})});var de,ce,ue}function V(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}class q extends t.Component{constructor(...e){super(...e),V(this,"calculateCurrentVideoTime",(()=>{const{currentTimeFromPinRep:e,pin:i,videosAutoplaying:n}=this.props,{id:t}=i,a=(0,F.Z)(t,n);return this.currentVideoCurrentTime||a||e})),V(this,"handleVisibilityChanged",(e=>{const{currentTimeFromPinRep:i,pin:n,setCurrentVideo:t,pauseAutoplay:a,videosAutoplaying:l}=this.props,{id:o}=n,r=(0,K.jL)(n),s=(0,U.Z)(o,l),d=(0,Z.Z)(o,l);e?r?t({pinId:o,isPromoted:r,currentTime:this.calculateCurrentVideoTime()}):d&&t({pinId:o,isPromoted:Boolean(r),currentTime:this.calculateCurrentVideoTime()}):!e&&s&&a({pinId:o,isPromoted:Boolean(r),currentTime:i||this.currentVideoCurrentTime})})),V(this,"handleVideoTimeChange",(e=>{const{pin:i,onTimeChange:n,videosAutoplaying:t}=this.props,{id:a}=i;(0,U.Z)(a,t)&&(this.currentVideoCurrentTime=e.time),n&&n(e)}))}componentDidUpdate(e){const{appInFocus:i}=e,{appInFocus:n,currentTimeFromPinRep:t,pauseAutoplay:a,pin:l,setCurrentVideo:o,videosAutoplaying:r}=this.props,{id:s}=l,d=(0,K.jL)(l),c=(0,U.Z)(s,r);n!==i&&!n&&c?(this.pausedDueToBrowserOutOfFocus=!0,a({pinId:s,isPromoted:Boolean(d),currentTime:t||this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&n&&(this.pausedDueToBrowserOutOfFocus=!1,o({pinId:s,isPromoted:Boolean(d),currentTime:this.calculateCurrentVideoTime()}))}componentWillUnmount(){const{currentTimeFromPinRep:e,pauseAutoplay:i,pin:n,videosAutoplaying:t}=this.props,{id:a}=n,l=(0,K.jL)(n);(0,U.Z)(a,t)&&i({pinId:a,isPromoted:Boolean(l),currentTime:e||this.currentVideoCurrentTime})}render(){const{cropHeight:e,isAutoplay:i,pin:n,videosAutoplaying:t,videoDuration:a,viewParameter:l,viewType:o,onError:r,onLoad:s,inAdsVideoExperiment:d,unauthRelatedPinsAutoplayExpGroup:c,isSquarePin:u,rootMargin:p,imageHeightModifier:m,image:g,isHovering:h}=this.props,{id:_}=n,v=(0,F.Z)(_,t),x="enabled_hover"===c,y=(0,U.Z)(_,t),f=h&&x||y&&i;return(0,b.jsx)(H,{cropHeight:e,rootMargin:p,currentTime:v,inAdsVideoExperiment:d,unauthRelatedPinsAutoplayExpGroup:c,isAutoplay:i,isSquarePin:u,image:g,viewParameter:l,viewType:o,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pin:n,playing:f,trackFullVisible:!1,onError:r,onLoad:s,imageHeightModifier:m,videoDuration:a})}}function Y(e){const{appUI:{appInFocus:i,isAutoplay:n,videosAutoplaying:t},pauseAutoplay:a,setCurrentVideo:l}=(0,N.I)();return(0,b.jsx)(q,{...e,appInFocus:i,isAutoplay:n,pauseAutoplay:a,setCurrentVideo:l,videosAutoplaying:t})}var $=n(690035),G=n(310227),X=n(773285),J=n(904411),Q=n(780679),ee=n(627995);const ie=({domainLinkData:e})=>{const i=(0,s.ZP)(),n=(0,Q.g)();return(0,b.jsxs)(y.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(51, 51, 51, 0.8)"}},children:[(0,b.jsx)(y.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"center",paddingX:2,children:(0,b.jsx)(y.X6,{size:"400",align:"center",color:"light",children:i._('Open', 'Text on hover of a pin leading to opening this pin in the same tab. This is for users who don\'t have an account on Pinterest.', 'Text on hover of a pin leading to opening this pin in the same tab. This is for users who don\'t have an account on Pinterest.')})}),!!e&&(0,b.jsx)(y.xu,{position:"absolute",bottom:!0,left:!0,width:"100%",minWidth:"100%",children:(0,b.jsx)(ee.Z,{clickLoggingOptions:e.clickLoggingOptions,domain:e.domain,link:e.link,onClick:e.onClick||(null==n?void 0:n.pinLinkClickHandler)||(()=>{})})})]})};var ne=n(53987);const te=({width:e,height:i,minY:n,maxY:t})=>{const a=i=>e<=0||!i?"0%":Math.round(i/e*100)+"%";return{top:n<=0?"0%":a(-1*n*i),bottom:t>=1?"0%":a(-1*(1-t)*i)}},ae=({children:e,margin:i,disableRounding:n})=>(0,b.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:i?{marginTop:i.top,marginBottom:i.bottom}:{}},position:"relative","data-test-id":"pin-visual-wrapper",children:(0,b.jsx)(y.zd,{wash:!0,rounding:n?0:G.mv,children:e})}),le=({clientTrackingParams:e,color:i,description:n,domainLinkData:o,hideBottomCardText:r,image:d,imageAltText:c,imageCrop:u,isPromoted:p,isMessenger:m,isOneTapExploreLocalTab:g,isSquarePin:h,lazyLoadImage:_,onError:v,oneTapSave:w,onLoad:k,openCustomContextMenu:P,pinId:S,disableDefaultContextMenu:T,pinnedToBoardId:I,pinVideo:j,videoUrl:C,productPrice:A,disableRounding:D,storyData:Z,title:F,type:U,videoDuration:E,viewType:O,viewParameter:R,unauthRelatedPinsAutoplayExpGroup:B})=>{var N,H,V,q,G,Q,ee,le,oe,re;const se=(0,s.ZP)(),de=(0,$.Z)(),{checkExperiment:ce}=(0,X.F)(),[ue,pe]=(0,t.useState)(!1),me=(0,a.useSelector)((({session:e})=>e.isAuthenticated)),ge=(0,W.ZP)(),he=(0,a.useSelector)((({pins:e})=>e[S])),_e=(0,J.gC)()(I||he&&he.board),ve=I&&he.savedThisSession,xe=o&&o.link?"with-link":"without-link",ye=!me&&"desktop"!==ge,fe=(0,t.useRef)(Date.now()),be=(0,t.useRef)(null),we=ce("mweb_video_ads_autoplay").anyEnabled,ke=B&&"enabled_hover"===B,Pe=(0,b.jsx)(y.Ee,{alt:c||F||n||"",color:i,naturalHeight:null!==(N=d.height)&&void 0!==N?N:1,naturalWidth:null!==(H=d.width)&&void 0!==H?H:1,onError:v,onLoad:k,src:null!==(V=d.url)&&void 0!==V?V:"",fit:h?"cover":void 0,loading:_?"lazy":"auto"}),Se=h?(0,b.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},children:(0,b.jsx)(y.xu,{top:!0,right:!0,bottom:!0,left:!0,position:"absolute",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:Pe})}):Pe,Te=(0,f.useLocation)(),Ie=()=>(0,ne.C$)(Te)?"homefeed":(0,ne.L6)(Te)?"related_pins":(0,ne.En)(Te)?"search":"unknown";return(0,b.jsx)("div",{className:"PinCard__imageWrapper",style:{position:"relative"},children:(0,b.jsxs)(y.xu,{onContextMenu:e=>{if("desktop"!==ge){const i=Ie();(0,x.My)((me?"auth":"unauth")+".mweb_pin_feed.pin_image.long_press",{page:i}),me&&"unknown"!==i&&(ce("mweb_custom_context_menu_on_longpress").anyEnabled||ce("mweb_pin_card_custom_context_menu_on_longpress").anyEnabled)?(e.preventDefault(),e.stopPropagation(),P()):"related_pins"!==i||me||!ce("mweb_unauth_rp_context_menu_on_longpress").anyEnabled&&!ce("pcons_menu_action_sheet").anyEnabled||(e.preventDefault(),e.stopPropagation())}},onTouchStart:e=>{if("desktop"!==ge){const i=Ie();if((0,x.My)("unauth.mweb.related_pin.image.touch.start"),"related_pins"===i&&!me&&(null==T||T(),fe.current=Date.now(),e.changedTouches&&e.changedTouches.length>0)){const i=e.changedTouches.item(0);i&&(be.current={x:i.pageX,y:i.pageY})}}},onTouchEnd:e=>{if("desktop"!==ge){const i=Ie();if((0,x.My)("unauth.mweb.related_pin.image.touch.end"),Date.now()-fe.current>500&&!me&&"related_pins"===i){const i=be.current;if(e.changedTouches&&e.changedTouches.length>0&&i){const n=e.changedTouches.item(0);if(n&&Math.pow(n.pageX-i.x,2)+Math.pow(n.pageY-i.y,2)>100)return;ce("pcons_menu_action_sheet").anyEnabled&&(null==T||T(),de({pinId:S,location:"related-pins-long-press"}),e.stopPropagation())}}}},"data-test-id":`pincard-${U}-${xe}`,dangerouslySetInlineStyle:{__style:{willChange:"transform",textDecoration:"none"}},overflow:"hidden",onMouseOver:ye?void 0:()=>pe(!0),onMouseLeave:ye?void 0:()=>pe(!1),position:"relative",rounding:D?0:4,children:[(0,b.jsxs)(L,{clientTrackingParams:e||"",oneTapSave:w,isOneTapExploreLocalTab:g,pinId:S,pinnedToBoardId:I,viewType:O,children:[(()=>{if("gif"===U&&!r&&!ve)return(0,b.jsx)(M.Z,{text:se._('GIF', 'pin.pinCard.gifIconIdentifier', 'pin type identifier for gifs')});if("video"===U&&E&&!r&&!ve)return(0,b.jsx)(M.Z,{text:E});if("storyPin"===U&&Z&&!ve){const{page_count:e=0,static_page_count:i=0,total_video_duration:n=0}=he.story_pin_data||{},{anyEnabled:t}=ce("hfp_idea_pin_identifier_v2_mweb");let a=e.toString();const o=t?n+i*K.oN:n;if(o>0)return a=(0,l.Z)(o),(0,b.jsx)(M.Z,{text:a});if("number"==typeof e&&e>0)return(0,b.jsx)(M.Z,{icon:"idea-pin",text:a})}return"product"===U&&A?(0,b.jsx)(M.Z,{text:A}):null})(),(0,b.jsx)(ae,{disableRounding:D,margin:u?te({width:null!==(q=d.width)&&void 0!==q?q:1,height:null!==(G=d.height)&&void 0!==G?G:1,minY:u.min_y,maxY:u.max_y}):void 0,children:"video"===U&&m&&j?(0,b.jsx)(y.nk,{autoplay:!0,accessibilityMaximizeLabel:"",accessibilityMinimizeLabel:"",accessibilityMuteLabel:"",accessibilityPauseLabel:"",accessibilityPlayLabel:"",accessibilityProgressBarLabel:se._('Progress bar', 'PinCardVisual.accessibilityProgressBarLabel', 'Video progress bar accessibility label'),accessibilityUnmuteLabel:"",aspectRatio:j.width/j.height,captions:"",loop:!0,onPlay:()=>{},onPlayError:()=>{},playsInline:!0,poster:null!==(Q=d.url)&&void 0!==Q?Q:"",src:j.url,volume:0}):j&&p&&we||null!=B&&B.startsWith("enabled")&&C?(0,b.jsx)(Y,{image:d,inAdsVideoExperiment:we,unauthRelatedPinsAutoplayExpGroup:B,isHovering:ue,isSquarePin:h,onError:v,onLoad:k,pin:he,videoDuration:E,viewParameter:R,viewType:O}):Se})]}),!ke&&ue&&!me&&(0,b.jsx)(ie,{domainLinkData:o}),me&&ve&&(0,b.jsx)(z,{boardName:null!==(ee=null==_e?void 0:_e.name)&&void 0!==ee?ee:"",boardUrl:null!==(le=null==_e?void 0:_e.url)&&void 0!==le?le:"",sectionName:null==w||null===(oe=w.section)||void 0===oe?void 0:oe.title,sectionSlug:null==w||null===(re=w.section)||void 0===re?void 0:re.slug,isQuicksave:"quick_saves"===(null==_e?void 0:_e.layout)})]})})}},236458:(e,i,n)=>{function t(e){const i=Object.keys(e);if(i.length>0){return i.sort(((i,n)=>e[n]-e[i])).slice(0,3)}return null}function a(e){const i=Object.values(e);if(i.length>0){return i.reduce(((e,i)=>e+i),0)}return 0}function l({boardIsCollaborative:e,isDownstreamPromotion:i,isPromoted:n,storyPinDataId:t,videosId:a}){return!(n||i||!a&&!t||null!=e&&e)}n.d(i,{At:()=>t,J6:()=>l,Ud:()=>a})},23084:(e,i,n)=>{n.d(i,{Z:()=>d,j:()=>s});var t=n(898781),a=n(883119),l=n(773285),o=n(349700),r=n(785893);const s=[0,2,3];function d({hasAffiliatedProducts:e,isPromoted:i,sponsorName:n,sponsorshipStatus:d,textColor:c}){const u=(0,t.ZP)(),p=(0,l.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled;let m;i?m=(0,o.nk)(u._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:n}):d||0===d?n&&!s.includes(d)?m=(0,o.nk)(u._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:n}):2!==d&&(m=u._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):e&&(m=u._('Includes sponsored products', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products'));const g=p&&!i?"Ad  ":"";return(0,r.jsxs)(a.xv,{color:c,size:"100",children:[g,m]})}},474635:(e,i,n)=>{n.d(i,{Z:()=>p});var t=n(667294),a=n(735079),l=n(949372),o=n(53987),r=n(407043),s=n(385740),d=n(539497),c=n(276775),u=n(785893);function p({children:e,componentType:i,within:n}){const p=(0,c.useLocation)(),{flushContextEvents:m,logContextEvent:g}=(0,r.v)(),{viewType:h,viewParameter:_}=(0,s.SU)();(0,t.useEffect)((()=>{(0,d.LW)({action:"view",item:"download-button",pageLocation:p,within:n})}),[p,n]);const v=(0,t.useRef)(!1);(0,t.useEffect)((()=>{g({component:i||13106,element:10308,event_type:9976,view_type:h||32,view_parameter:_,aux_data:{app_upsell_type:n,app_upsell_is_dupe:v.current}}),v.current=!0}),[i,g,_,h,n]);const x=(0,l.Z)();return(0,t.useEffect)((()=>{x||(0,d.My)(`mweb.app_upsell.forbidden_upsell.${n}`)}),[x,n]),(0,u.jsx)(a.Z,{children:t=>e({handleOpenApp:e=>{var a;((0,d.LW)({action:"click",item:"download-button",pageLocation:p,within:n}),(0,d.NC)("press_open_app",!0),g({component:i||13106,element:10308,event_type:102,view_type:h||32,view_parameter:_,aux_data:{app_upsell_type:n}}),g({component:i||13106,element:10308,event_type:9977,view_type:h||32,view_parameter:_,aux_data:{app_upsell_type:n}}),m(!0),t)&&(g({component:i||13106,element:10308,event_type:1701,view_type:h||32,view_parameter:_,aux_data:{app_upsell_type:n}}),t(null!==(a=null==e?void 0:e.deepLinkUri)&&void 0!==a?a:(e=>"/"===e.pathname?"/":(0,o.am)(e)?`board/${e.pathname.substr(1)}`:e.pathname.substr(1))(p)))}})})}},205443:(e,i,n)=>{n.d(i,{Z:()=>h});var t=n(702664),a=n(104788),l=n(430322),o=n(898781),r=n(287072),s=n(19121),d=n(968228),c=n(773285),u=n(194095),p=n(883119),m=n(785893);const g=({isOpen:e,onDismiss:i,onOpenInApp:n,to:u})=>{const g=(0,o.ZP)(),{isTablet:h,userAgent:_,userAgentPlatform:v}=(0,t.useSelector)((({session:e})=>e)),{checkExperiment:x}=(0,c.F)(),{isAuth:y}=(0,s.Z)(),f=(0,d.Rp)({platform:v,userAgent:_}),b=(0,r.Z)({href:null!=u?u:""}),w=h?60:40,k=y?x("mweb_auth_app_upsell_modal_copy_change_v2").group:"";let P=g._('The best experience is on the app', 'mweb.auth.app_upsell.app_value_prop', 'Mobile Web App Upsell title on Pin click informing the value of downloading an pp');"enabled_1"===k&&(P=g._('There\'s more to see in the app', 'mweb.auth.app_upsell.app_value_prop1', 'Mobile Web App Upsell title on Pin click informing the value of downloading an pp')),"enabled_2"===k&&(P=g._('It\'s better in the app (we promise!)', 'mweb.auth.app_upsell.app_value_prop2', 'Mobile Web App Upsell title on Pin click informing the value of downloading an pp')),"enabled_3"===k&&(P=g._('So much more in the app', 'mweb.auth.app_upsell.app_value_prop3', 'Mobile Web App Upsell title on Pin click informing the value of downloading an pp'));let S=g._('Free, unlimited access to ideas', 'mweb.auth.app_upsell.description', 'Mobile Web App Upsell subheading informing the user the value of downloading the app');"enabled_1"===k&&(S=g._('Try the latest features and see what you like', 'mweb.auth.app_upsell.description1', 'Mobile Web App Upsell subheading informing the user the value of downloading the app')),"enabled_2"===k&&(S=g._('Newer features, faster searching, and more', 'mweb.auth.app_upsell.description2', 'Mobile Web App Upsell subheading informing the user the value of downloading the app')),"enabled_3"===k&&(S=g._('Videos, AR try-on and the fastest browsing experience', 'mweb.auth.app_upsell.description3', 'Mobile Web App Upsell subheading informing the user the value of downloading the app'));let T=g._('Get the app', 'mweb.auth.app_upsell.app_upsell_button_text', 'Button to get the Pinterest app');return"enabled_1"===k&&(T=g._('Get the app', 'mweb.auth.app_upsell.app_upsell_button_text1', 'Button to get the Pinterest app')),"enabled_2"===k&&(T=g._('Try the app', 'mweb.auth.app_upsell.app_upsell_button_text2', 'Button to get the Pinterest app')),"enabled_3"===k&&(T=g._('Try it out', 'mweb.auth.app_upsell.app_upsell_button_text3', 'Button to get the Pinterest app')),(0,m.jsx)(l.default,{accessibilityModalLabel:"",isOpen:e,mobileHideCloseIcon:!0,type:"app_upsell_v1",overrideZDepth:101,closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,m.jsxs)(p.xu,{padding:3,"data-test-id":"appUpsell-iframe",children:[(0,m.jsx)(p.xu,{display:"inlineBlock",position:"absolute",children:(0,m.jsx)(p.xu,{"data-test-id":"appUpsell-continue",children:(0,m.jsx)(p.hU,{accessibilityLabel:g._('close icon background', 'accesibility label for close icon on a overlay', 'accesibility label for close icon on a overlay'),icon:"cancel",onClick:({event:e,dangerouslyDisableOnNavigation:n})=>{i({event:e}),b&&!e.defaultPrevented&&(n(),b({event:e}))},size:"lg",iconColor:"gray"})})}),(0,m.jsxs)(p.xu,{paddingX:2,paddingY:6,children:[(0,m.jsx)(p.xu,{paddingY:2,justifyContent:"center",display:"flex",children:f?(0,m.jsx)(a.Z,{size:w}):(0,m.jsx)(p.JO,{color:"brandPrimary",icon:"pinterest",accessibilityLabel:"Pinterest App",size:w})}),(0,m.jsxs)(p.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,m.jsx)(p.xu,{paddingY:2,children:(0,m.jsx)(p.X6,{align:"center",size:"400",children:f?g._('Try Pinterest Lite', 'mweb.app_upsell.lite_app_upsell_title', 'Mobile Web App Upsell title informing the value of downloading the lite app'):P})}),(0,m.jsx)(p.xv,{align:"center",size:"300",children:f?g._('A space-saving way to discover new ideas', 'mweb.app_upsell.lite_app_value_prop', 'Mobile Web App Upsell subheading informing the user the value of downloading the lite app'):S}),(0,m.jsx)(p.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{display:"grid"}},justifyContent:"center",marginTop:8,children:(0,m.jsx)(p.zx,{fullWidth:!0,size:"lg",color:"red",onClick:n,text:T})})]})]})]})})};function h({clientTrackingParams:e,isOpen:i,onDismiss:n,onOpenInApp:t,shouldTrackDismiss:a,to:l,viewParameter:o,viewType:r}){return(0,m.jsx)(u.Z,{clientTrackingParams:e,viewType:r,viewParameter:o,children:(0,m.jsx)(g,{isOpen:i,onDismiss:e=>{a&&(0,u.y)(),n(e)},onOpenInApp:()=>{(0,u.y)(),t()},to:l})})}},194095:(e,i,n)=>{n.d(i,{Z:()=>u,y:()=>c});var t=n(667294),a=n(807609),l=n(674806),o=n(30287),r=n(622096),s=n(957161),d=n(785893);const c=()=>{(0,s.Nh)("appUpsell",Date.now()),(0,s.qn)("firstUpsellTime")||(0,s.Nh)("firstUpsellTime",Date.now()),(0,r.Nh)("showedAppUpsellCurrentSession",!0)};function u({children:e,clientTrackingParams:i,viewParameter:n,viewType:r}){return(0,a.Z)()||(0,o.FP)(window)?null:(0,d.jsx)(l.Z,{viewType:r,viewParameter:n,component:13106,clientTrackingParams:i,children:(0,d.jsx)(t.Fragment,{children:e})})}},949372:(e,i,n)=>{n.d(i,{Z:()=>a});var t=n(702664);const a=()=>(0,t.useSelector)((({session:{canUseNativeApp:e}})=>e))},217013:(e,i,n)=>{n.d(i,{R:()=>l,q:()=>a});var t=n(425288);const{Provider:a,useHook:l}=(0,t.Z)("CloseupPageContext")},997440:(e,i,n)=>{n.d(i,{IS:()=>_,Ys:()=>h,ZP:()=>P,j$:()=>y});var t,a=n(134185),l=n(50286),o=n(349700),r=n(578661),s=n(923297),d=n(802201),c=n(898781),u=n(883119),p=n(167912),m=n(785893);const g=void 0!==t?t:t=n(906587),h=({m:e,h:i,rm:n,rh:t},a)=>e&&(!i||t<=0)?(0,o.nk)(a.ngettext('{{mins}} minute', '{{mins}} minutes', n, 'number showing the minutes to complete a recipe', 'number showing the minutes to complete a recipe'),{mins:n.toString()}):i?(0,o.nk)(a.ngettext('{{hrs}} hour', '{{hrs}} hours', t, 'number showing the hours to complete a recipe', 'number showing the hours to complete a recipe'),{hrs:t.toString()}):null,_=({m:e,h:i,rm:n,rh:t,i18n:a})=>e&&(!i||t<=0)?(0,o.nk)(a._('{{mins}}m', 'number showing minutes to complete a recipe', 'number showing mnutes to complete a recipe'),{mins:n.toString()}):i?(0,o.nk)(a._('{{hrs}}h {{mins}}m', 'number showing hours to complete a recipe', 'number showing hours to complete a recipe'),{hrs:i.toString(),mins:e.toString()}):null,v=(e,i)=>{const n=e&&e.length>0&&e.join(", "),t=i&&i.summary;return n&&t?`${n}  ${t}`:n||t},x=e=>e?e.reduce(((e,i)=>{var n,t;return e+(null!==(n=null===(t=i.ingredients)||void 0===t?void 0:t.length)&&void 0!==n?n:0)}),0):0,y=({cookTimesCookM:e,cookTimesCookH:i,cookTimesTotalM:n,cookTimesTotalH:t,hasCookTimesTotal:a,i18n:l})=>{let o;return o=a?(0,s.X)({m:n||0,h:t||0}):(0,s.X)({m:e||0,h:i||0}),h(o,l)};function f({category:e,ingredients:i,textSize:n="300"}){return(0,m.jsxs)(u.xu,{marginBottom:4,children:[e&&(0,m.jsx)(u.xu,{children:(0,m.jsx)(u.xv,{weight:"bold",size:n,children:e})}),(null!=i?i:[]).map((e=>{var i,t;return(0,m.jsx)(u.xu,{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",marginTop:1,children:(0,m.jsxs)(u.xv,{size:n,children:[e.amt||null," ",e.name]})},`${null!==(i=e.name)&&void 0!==i?i:""}-${null!==(t=e.name)&&void 0!==t?t:""}`)}))]})}const b=({categorizedIngredients:e,cookTimes:i,image:n,ingredientCount:t,ingredientsDescription:o,name:s,pinLink:d})=>{var p,g,h,_;const v=(0,c.ZP)(),x=(0,l.ZP)();return y({cookTimesCookM:null==i||null===(p=i.cook)||void 0===p?void 0:p.m,cookTimesCookH:null==i||null===(g=i.cook)||void 0===g?void 0:g.h,cookTimesTotalM:null==i||null===(h=i.total)||void 0===h?void 0:h.m,cookTimesTotalH:null==i||null===(_=i.total)||void 0===_?void 0:_.h,hasCookTimesTotal:!(!i||!i.total),i18n:v})||t||o?(0,m.jsxs)(u.xu,{"data-test-id":"pin-recipe-container",display:"flex",direction:"column",marginTop:8,children:[(0,m.jsxs)(u.xu,{direction:"column",display:"flex",marginTop:4,marginBottom:4,marginEnd:6,overflow:"hidden",children:[(0,m.jsx)(u.xu,{marginBottom:4,children:(0,m.jsx)(u.xv,{weight:"bold",align:"desktop"===x?"start":"center",children:v._('Ingredients', 'Ingredients category heading for recipes', 'Ingredients category heading for recipes')})}),(0,m.jsxs)(a.Z,{itemScope:!0,itemType:r.G,children:[(0,m.jsx)("meta",{content:s,itemProp:"name"}),n&&(0,m.jsx)("meta",{content:n,itemProp:"image"}),Array.isArray(e)&&e.length>0&&(0,m.jsx)(u.xu,{column:12,"data-test-id":"single-column-ingredients",children:e.map((({category:e,ingredients:i},n)=>(0,m.jsx)(u.xu,{marginBottom:2,children:(0,m.jsx)(f,{category:e,ingredients:i,textSize:"300"})},n)))})]})]}),(0,m.jsx)(u.xu,{marginBottom:4,display:"flex",justifyContent:"phone"===x?"center":void 0,children:d&&(0,m.jsx)(u.zx,{text:v._('Make it', 'closeup.recipe.make_it_button', 'label for button go to recipe link'),role:"link",href:d,target:"blank"})})]}):null},w=({graphqlRef:e})=>{const i=(0,p.useFragment)(g,e),{imageSpec_474x:n,link:t,richMetadata:a}=i,l=null==a?void 0:a.recipe,o=null==l?void 0:l.categorizedIngredients,r=x(o),s=(null==l?void 0:l.categorizedIngredients)&&v(l.diets,l.servingsSummary);return(0,m.jsx)(b,{categorizedIngredients:o,cookTimes:null==l?void 0:l.cookTimes,image:null==n?void 0:n.url,ingredientCount:r,ingredientsDescription:s,name:null==l?void 0:l.name,pinLink:t})},k=({pinId:e})=>{var i,n;const t=(0,d.S6)()(e),a=(null==t||null===(i=t.rich_metadata)||void 0===i?void 0:i.recipe)||{},{cook_times:l,name:o,categorized_ingredients:r,diets:s,servings_summary:c}=a,u=x(r),p=r&&v(s,c);return(0,m.jsx)(b,{categorizedIngredients:r,cookTimes:l,image:(null===(n=((null==t?void 0:t.images)||{})["474x"])||void 0===n?void 0:n.url)||"",ingredientCount:u,ingredientsDescription:p,name:o,pinLink:(null==t?void 0:t.link)||""})};function P({graphqlRef:e,pinId:i}){return e?(0,m.jsx)(w,{graphqlRef:e}):(0,m.jsx)(k,{pinId:i})}},250946:(e,i,n)=>{n.d(i,{Z:()=>o});var t,a=n(167912);const l=void 0!==t?t:t=n(96795);const o=e=>function(e){var i,n,t,a,l,o,r,s,d,c,u,p,m,g,h,_,v,x,y,f,b,w,k,P,S,T,I,j,C,L,A,D,z,M,Z,F,U,E,O,R,B,K,N,W,H,V,q,Y,$,G,X,J,Q,ee,ie,ne,te,ae,le,oe,re,se,de,ce,ue,pe,me,ge,he,_e,ve,xe,ye,fe,be,we,ke,Pe,Se,Te,Ie,je,Ce,Le,Ae,De,ze,Me,Ze,Fe,Ue,Ee,Oe,Re,Be,Ke,Ne,We,He,Ve,qe,Ye,$e,Ge,Xe,Je,Qe,ei,ii,ni,ti,ai,li,oi,ri,si,di,ci,ui,pi,mi,gi,hi,_i,vi,xi,yi,fi,bi,wi,ki,Pi,Si,Ti,Ii,ji,Ci,Li,Ai,Di,zi,Mi,Zi,Fi,Ui,Ei,Oi,Ri,Bi,Ki,Ni,Wi,Hi,Vi,qi;return{"564x":{dominant_color:(null==e||null===(i=e.imageSpec_564x)||void 0===i?void 0:i.dominantColor)||void 0,height:(null==e||null===(n=e.imageSpec_564x)||void 0===n?void 0:n.height)||void 0,type:(null==e||null===(t=e.imageSpec_564x)||void 0===t?void 0:t.type)||void 0,url:(null==e||null===(a=e.imageSpec_564x)||void 0===a?void 0:a.url)||void 0,width:(null==e||null===(l=e.imageSpec_564x)||void 0===l?void 0:l.width)||void 0},"75x75":{dominant_color:(null==e||null===(o=e.imageSpec_75x75)||void 0===o?void 0:o.dominantColor)||void 0,height:(null==e||null===(r=e.imageSpec_75x75)||void 0===r?void 0:r.height)||void 0,type:(null==e||null===(s=e.imageSpec_75x75)||void 0===s?void 0:s.type)||void 0,url:(null==e||null===(d=e.imageSpec_75x75)||void 0===d?void 0:d.url)||void 0,width:(null==e||null===(c=e.imageSpec_75x75)||void 0===c?void 0:c.width)||void 0},"45x45":{dominant_color:(null==e||null===(u=e.imageSpec_45x45)||void 0===u?void 0:u.dominantColor)||void 0,height:(null==e||null===(p=e.imageSpec_45x45)||void 0===p?void 0:p.height)||void 0,type:(null==e||null===(m=e.imageSpec_45x45)||void 0===m?void 0:m.type)||void 0,url:(null==e||null===(g=e.imageSpec_45x45)||void 0===g?void 0:g.url)||void 0,width:(null==e||null===(h=e.imageSpec_45x45)||void 0===h?void 0:h.width)||void 0},"70x70":{dominant_color:(null==e||null===(_=e.imageSpec_70x70)||void 0===_?void 0:_.dominantColor)||void 0,height:(null==e||null===(v=e.imageSpec_70x70)||void 0===v?void 0:v.height)||void 0,type:(null==e||null===(x=e.imageSpec_70x70)||void 0===x?void 0:x.type)||void 0,url:(null==e||null===(y=e.imageSpec_70x70)||void 0===y?void 0:y.url)||void 0,width:(null==e||null===(f=e.imageSpec_70x70)||void 0===f?void 0:f.width)||void 0},"432x292":{dominant_color:(null==e||null===(b=e.imageSpec_432x292)||void 0===b?void 0:b.dominantColor)||void 0,height:(null==e||null===(w=e.imageSpec_432x292)||void 0===w?void 0:w.height)||void 0,type:(null==e||null===(k=e.imageSpec_432x292)||void 0===k?void 0:k.type)||void 0,url:(null==e||null===(P=e.imageSpec_432x292)||void 0===P?void 0:P.url)||void 0,width:(null==e||null===(S=e.imageSpec_432x292)||void 0===S?void 0:S.width)||void 0},"90x90":{dominant_color:(null==e||null===(T=e.imageSpec_90x90)||void 0===T?void 0:T.dominantColor)||void 0,height:(null==e||null===(I=e.imageSpec_90x90)||void 0===I?void 0:I.height)||void 0,type:(null==e||null===(j=e.imageSpec_90x90)||void 0===j?void 0:j.type)||void 0,url:(null==e||null===(C=e.imageSpec_90x90)||void 0===C?void 0:C.url)||void 0,width:(null==e||null===(L=e.imageSpec_90x90)||void 0===L?void 0:L.width)||void 0},"170x":{dominant_color:(null==e||null===(A=e.imageSpec_170x)||void 0===A?void 0:A.dominantColor)||void 0,height:(null==e||null===(D=e.imageSpec_170x)||void 0===D?void 0:D.height)||void 0,type:(null==e||null===(z=e.imageSpec_170x)||void 0===z?void 0:z.type)||void 0,url:(null==e||null===(M=e.imageSpec_170x)||void 0===M?void 0:M.url)||void 0,width:(null==e||null===(Z=e.imageSpec_170x)||void 0===Z?void 0:Z.width)||void 0},"237x":{dominant_color:(null==e||null===(F=e.imageSpec_237x)||void 0===F?void 0:F.dominantColor)||void 0,height:(null==e||null===(U=e.imageSpec_237x)||void 0===U?void 0:U.height)||void 0,type:(null==e||null===(E=e.imageSpec_237x)||void 0===E?void 0:E.type)||void 0,url:(null==e||null===(O=e.imageSpec_237x)||void 0===O?void 0:O.url)||void 0,width:(null==e||null===(R=e.imageSpec_237x)||void 0===R?void 0:R.width)||void 0},"192x":{dominant_color:(null==e||null===(B=e.imageSpec_192x)||void 0===B?void 0:B.dominantColor)||void 0,height:(null==e||null===(K=e.imageSpec_192x)||void 0===K?void 0:K.height)||void 0,type:(null==e||null===(N=e.imageSpec_192x)||void 0===N?void 0:N.type)||void 0,url:(null==e||null===(W=e.imageSpec_192x)||void 0===W?void 0:W.url)||void 0,width:(null==e||null===(H=e.imageSpec_192x)||void 0===H?void 0:H.width)||void 0},"640x":{dominant_color:(null==e||null===(V=e.imageSpec_640x)||void 0===V?void 0:V.dominantColor)||void 0,height:(null==e||null===(q=e.imageSpec_640x)||void 0===q?void 0:q.height)||void 0,type:(null==e||null===(Y=e.imageSpec_640x)||void 0===Y?void 0:Y.type)||void 0,url:(null==e||null===($=e.imageSpec_640x)||void 0===$?void 0:$.url)||void 0,width:(null==e||null===(G=e.imageSpec_640x)||void 0===G?void 0:G.width)||void 0},"750x":{dominant_color:(null==e||null===(X=e.imageSpec_750x)||void 0===X?void 0:X.dominantColor)||void 0,height:(null==e||null===(J=e.imageSpec_750x)||void 0===J?void 0:J.height)||void 0,type:(null==e||null===(Q=e.imageSpec_750x)||void 0===Q?void 0:Q.type)||void 0,url:(null==e||null===(ee=e.imageSpec_750x)||void 0===ee?void 0:ee.url)||void 0,width:(null==e||null===(ie=e.imageSpec_750x)||void 0===ie?void 0:ie.width)||void 0},"345x":{dominant_color:(null==e||null===(ne=e.imageSpec_345x)||void 0===ne?void 0:ne.dominantColor)||void 0,height:(null==e||null===(te=e.imageSpec_345x)||void 0===te?void 0:te.height)||void 0,type:(null==e||null===(ae=e.imageSpec_345x)||void 0===ae?void 0:ae.type)||void 0,url:(null==e||null===(le=e.imageSpec_345x)||void 0===le?void 0:le.url)||void 0,width:(null==e||null===(oe=e.imageSpec_345x)||void 0===oe?void 0:oe.width)||void 0},"70x":{dominant_color:(null==e||null===(re=e.imageSpec_70x)||void 0===re?void 0:re.dominantColor)||void 0,height:(null==e||null===(se=e.imageSpec_70x)||void 0===se?void 0:se.height)||void 0,type:(null==e||null===(de=e.imageSpec_70x)||void 0===de?void 0:de.type)||void 0,url:(null==e||null===(ce=e.imageSpec_70x)||void 0===ce?void 0:ce.url)||void 0,width:(null==e||null===(ue=e.imageSpec_70x)||void 0===ue?void 0:ue.width)||void 0},"400x":{dominant_color:(null==e||null===(pe=e.imageSpec_400x)||void 0===pe?void 0:pe.dominantColor)||void 0,height:(null==e||null===(me=e.imageSpec_400x)||void 0===me?void 0:me.height)||void 0,type:(null==e||null===(ge=e.imageSpec_400x)||void 0===ge?void 0:ge.type)||void 0,url:(null==e||null===(he=e.imageSpec_400x)||void 0===he?void 0:he.url)||void 0,width:(null==e||null===(_e=e.imageSpec_400x)||void 0===_e?void 0:_e.width)||void 0},"200x":{dominant_color:(null==e||null===(ve=e.imageSpec_200x)||void 0===ve?void 0:ve.dominantColor)||void 0,height:(null==e||null===(xe=e.imageSpec_200x)||void 0===xe?void 0:xe.height)||void 0,type:(null==e||null===(ye=e.imageSpec_200x)||void 0===ye?void 0:ye.type)||void 0,url:(null==e||null===(fe=e.imageSpec_200x)||void 0===fe?void 0:fe.url)||void 0,width:(null==e||null===(be=e.imageSpec_200x)||void 0===be?void 0:be.width)||void 0},"216x146":{dominant_color:(null==e||null===(we=e.imageSpec_216x146)||void 0===we?void 0:we.dominantColor)||void 0,height:(null==e||null===(ke=e.imageSpec_216x146)||void 0===ke?void 0:ke.height)||void 0,type:(null==e||null===(Pe=e.imageSpec_216x146)||void 0===Pe?void 0:Pe.type)||void 0,url:(null==e||null===(Se=e.imageSpec_216x146)||void 0===Se?void 0:Se.url)||void 0,width:(null==e||null===(Te=e.imageSpec_216x146)||void 0===Te?void 0:Te.width)||void 0},"150x150":{dominant_color:(null==e||null===(Ie=e.imageSpec_150x150)||void 0===Ie?void 0:Ie.dominantColor)||void 0,height:(null==e||null===(je=e.imageSpec_150x150)||void 0===je?void 0:je.height)||void 0,type:(null==e||null===(Ce=e.imageSpec_150x150)||void 0===Ce?void 0:Ce.type)||void 0,url:(null==e||null===(Le=e.imageSpec_150x150)||void 0===Le?void 0:Le.url)||void 0,width:(null==e||null===(Ae=e.imageSpec_150x150)||void 0===Ae?void 0:Ae.width)||void 0},"236x":{dominant_color:(null==e||null===(De=e.imageSpec_236x)||void 0===De?void 0:De.dominantColor)||void 0,height:(null==e||null===(ze=e.imageSpec_236x)||void 0===ze?void 0:ze.height)||void 0,type:(null==e||null===(Me=e.imageSpec_236x)||void 0===Me?void 0:Me.type)||void 0,url:(null==e||null===(Ze=e.imageSpec_236x)||void 0===Ze?void 0:Ze.url)||void 0,width:(null==e||null===(Fe=e.imageSpec_236x)||void 0===Fe?void 0:Fe.width)||void 0},"200x150":{dominant_color:(null==e||null===(Ue=e.imageSpec_200x150)||void 0===Ue?void 0:Ue.dominantColor)||void 0,height:(null==e||null===(Ee=e.imageSpec_200x150)||void 0===Ee?void 0:Ee.height)||void 0,type:(null==e||null===(Oe=e.imageSpec_200x150)||void 0===Oe?void 0:Oe.type)||void 0,url:(null==e||null===(Re=e.imageSpec_200x150)||void 0===Re?void 0:Re.url)||void 0,width:(null==e||null===(Be=e.imageSpec_200x150)||void 0===Be?void 0:Be.width)||void 0},"60x60":{dominant_color:(null==e||null===(Ke=e.imageSpec_60x60)||void 0===Ke?void 0:Ke.dominantColor)||void 0,height:(null==e||null===(Ne=e.imageSpec_60x60)||void 0===Ne?void 0:Ne.height)||void 0,type:(null==e||null===(We=e.imageSpec_60x60)||void 0===We?void 0:We.type)||void 0,url:(null==e||null===(He=e.imageSpec_60x60)||void 0===He?void 0:He.url)||void 0,width:(null==e||null===(Ve=e.imageSpec_60x60)||void 0===Ve?void 0:Ve.width)||void 0},"736x":{dominant_color:(null==e||null===(qe=e.imageSpec_736x)||void 0===qe?void 0:qe.dominantColor)||void 0,height:(null==e||null===(Ye=e.imageSpec_736x)||void 0===Ye?void 0:Ye.height)||void 0,type:(null==e||null===($e=e.imageSpec_736x)||void 0===$e?void 0:$e.type)||void 0,url:(null==e||null===(Ge=e.imageSpec_736x)||void 0===Ge?void 0:Ge.url)||void 0,width:(null==e||null===(Xe=e.imageSpec_736x)||void 0===Xe?void 0:Xe.width)||void 0},"290x":{dominant_color:(null==e||null===(Je=e.imageSpec_290x)||void 0===Je?void 0:Je.dominantColor)||void 0,height:(null==e||null===(Qe=e.imageSpec_290x)||void 0===Qe?void 0:Qe.height)||void 0,type:(null==e||null===(ei=e.imageSpec_290x)||void 0===ei?void 0:ei.type)||void 0,url:(null==e||null===(ii=e.imageSpec_290x)||void 0===ii?void 0:ii.url)||void 0,width:(null==e||null===(ni=e.imageSpec_290x)||void 0===ni?void 0:ni.width)||void 0},"136x136":{dominant_color:(null==e||null===(ti=e.imageSpec_136x136)||void 0===ti?void 0:ti.dominantColor)||void 0,height:(null==e||null===(ai=e.imageSpec_136x136)||void 0===ai?void 0:ai.height)||void 0,type:(null==e||null===(li=e.imageSpec_136x136)||void 0===li?void 0:li.type)||void 0,url:(null==e||null===(oi=e.imageSpec_136x136)||void 0===oi?void 0:oi.url)||void 0,width:(null==e||null===(ri=e.imageSpec_136x136)||void 0===ri?void 0:ri.width)||void 0},"600x":{dominant_color:(null==e||null===(si=e.imageSpec_600x)||void 0===si?void 0:si.dominantColor)||void 0,height:(null==e||null===(di=e.imageSpec_600x)||void 0===di?void 0:di.height)||void 0,type:(null==e||null===(ci=e.imageSpec_600x)||void 0===ci?void 0:ci.type)||void 0,url:(null==e||null===(ui=e.imageSpec_600x)||void 0===ui?void 0:ui.url)||void 0,width:(null==e||null===(pi=e.imageSpec_600x)||void 0===pi?void 0:pi.width)||void 0},"550x":{dominant_color:(null==e||null===(mi=e.imageSpec_550x)||void 0===mi?void 0:mi.dominantColor)||void 0,height:(null==e||null===(gi=e.imageSpec_550x)||void 0===gi?void 0:gi.height)||void 0,type:(null==e||null===(hi=e.imageSpec_550x)||void 0===hi?void 0:hi.type)||void 0,url:(null==e||null===(_i=e.imageSpec_550x)||void 0===_i?void 0:_i.url)||void 0,width:(null==e||null===(vi=e.imageSpec_550x)||void 0===vi?void 0:vi.width)||void 0},"30x30":{dominant_color:(null==e||null===(xi=e.imageSpec_30x30)||void 0===xi?void 0:xi.dominantColor)||void 0,height:(null==e||null===(yi=e.imageSpec_30x30)||void 0===yi?void 0:yi.height)||void 0,type:(null==e||null===(fi=e.imageSpec_30x30)||void 0===fi?void 0:fi.type)||void 0,url:(null==e||null===(bi=e.imageSpec_30x30)||void 0===bi?void 0:bi.url)||void 0,width:(null==e||null===(wi=e.imageSpec_30x30)||void 0===wi?void 0:wi.width)||void 0},"474x":{dominant_color:(null==e||null===(ki=e.imageSpec_474x)||void 0===ki?void 0:ki.dominantColor)||void 0,height:(null==e||null===(Pi=e.imageSpec_474x)||void 0===Pi?void 0:Pi.height)||void 0,type:(null==e||null===(Si=e.imageSpec_474x)||void 0===Si?void 0:Si.type)||void 0,url:(null==e||null===(Ti=e.imageSpec_474x)||void 0===Ti?void 0:Ti.url)||void 0,width:(null==e||null===(Ii=e.imageSpec_474x)||void 0===Ii?void 0:Ii.width)||void 0},"1200x":{dominant_color:(null==e||null===(ji=e.imageSpec_1200x)||void 0===ji?void 0:ji.dominantColor)||void 0,height:(null==e||null===(Ci=e.imageSpec_1200x)||void 0===Ci?void 0:Ci.height)||void 0,type:(null==e||null===(Li=e.imageSpec_1200x)||void 0===Li?void 0:Li.type)||void 0,url:(null==e||null===(Ai=e.imageSpec_1200x)||void 0===Ai?void 0:Ai.url)||void 0,width:(null==e||null===(Di=e.imageSpec_1200x)||void 0===Di?void 0:Di.width)||void 0},"222x":{dominant_color:(null==e||null===(zi=e.imageSpec_222x)||void 0===zi?void 0:zi.dominantColor)||void 0,height:(null==e||null===(Mi=e.imageSpec_222x)||void 0===Mi?void 0:Mi.height)||void 0,type:(null==e||null===(Zi=e.imageSpec_222x)||void 0===Zi?void 0:Zi.type)||void 0,url:(null==e||null===(Fi=e.imageSpec_222x)||void 0===Fi?void 0:Fi.url)||void 0,width:(null==e||null===(Ui=e.imageSpec_222x)||void 0===Ui?void 0:Ui.width)||void 0},"400x300":{dominant_color:(null==e||null===(Ei=e.imageSpec_400x300)||void 0===Ei?void 0:Ei.dominantColor)||void 0,height:(null==e||null===(Oi=e.imageSpec_400x300)||void 0===Oi?void 0:Oi.height)||void 0,type:(null==e||null===(Ri=e.imageSpec_400x300)||void 0===Ri?void 0:Ri.type)||void 0,url:(null==e||null===(Bi=e.imageSpec_400x300)||void 0===Bi?void 0:Bi.url)||void 0,width:(null==e||null===(Ki=e.imageSpec_400x300)||void 0===Ki?void 0:Ki.width)||void 0},orig:{dominant_color:(null==e||null===(Ni=e.imageSpec_orig)||void 0===Ni?void 0:Ni.dominantColor)||void 0,height:(null==e||null===(Wi=e.imageSpec_orig)||void 0===Wi?void 0:Wi.height)||void 0,type:(null==e||null===(Hi=e.imageSpec_orig)||void 0===Hi?void 0:Hi.type)||void 0,url:(null==e||null===(Vi=e.imageSpec_orig)||void 0===Vi?void 0:Vi.url)||void 0,width:(null==e||null===(qi=e.imageSpec_orig)||void 0===qi?void 0:qi.width)||void 0}}}((0,a.useFragment)(l,e))},285230:(e,i,n)=>{n.d(i,{Z:()=>r});var t=n(166300),a=n(898781),l=n(883119),o=n(785893);function r({isPinRep:e}){const i=(0,a.ZP)(),n=e?"default":"inverse",r=(0,o.jsx)(l.xu,{padding:e?1:0,"data-test-id":"unavailable-pin",children:(0,o.jsx)(l.xu,{color:e?"secondary":"dark",top:!0,height:e?314:"100vh",position:e?"static":"absolute",rounding:e?4:0,width:"100%",children:(0,o.jsxs)(l.kC,{height:"100%",direction:"column",justifyContent:"center",alignItems:"center",children:[(0,o.jsx)(l.xu,{paddingY:4,children:(0,o.jsx)(l.JO,{accessibilityLabel:i._('Pin not available', 'story-pin.Closeup.UnavailableStoryPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:n,icon:"alert",size:20})}),(0,o.jsx)(l.xv,{align:"center",color:n,weight:"bold",children:i._('Unavailable', 'story-pin.Closeup.UnavailableStoryPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),(0,o.jsx)(l.xu,{paddingY:1,children:(0,o.jsx)(l.xv,{align:"center",color:n,children:i._('Removed by the creator', 'story-pin.Closeup.UnavailableStoryPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})});return e?r:(0,o.jsx)(l.xu,{height:"100vh",children:(0,o.jsx)(t.Z,{children:r})})}},957980:(e,i,n)=>{n.d(i,{Z:()=>k});var t,a=n(667294),l=n(248975),o=n(862628),r=n(898781),s=n(250946),d=n(667679),c=n(755506),u=n(349700),p=n(539497),m=n(802201),g=n(276775),h=n(883119),_=n(167912),v=n(785893);const x=({children:e,onTap:i})=>{const[n,t]=(0,a.useState)(!1);return(0,v.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:n?"rgba(0, 0, 0, 0.06)":void 0}},rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,v.jsx)(h.iP,{onTap:i,onBlur:()=>t(!1),onFocus:()=>t(!0),onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:e})})},y=void 0!==t?t:t=n(12617);function f({desktopContextMenuState:e,isMainPinImage:i,source:n,images:t,embedSrc:s,embedType:c,sourceUserUsername:m,sourceUserFullname:_,pinJoinVisualAnnotation:y,pinJoinSeoBreadcrumbName:f,pinJoinSeoBreadcrumbUrl:b,pinId:w,pinLink:k}){var P;const S=(0,r.ZP)(),T=(0,g.useHistory)(),I=(0,l.Z)({images:t,embedSrc:s,embedType:c}),j=f,C=b,L=null!==(P=null==y?void 0:y[0])&&void 0!==P?P:void 0,A=(0,o.Z)(L),D=`/search/pins/?q=${encodeURIComponent(A)}&rs=image_only_attribution`,z=(0,d.Z)(),M="dweb.plp.ellipsis.button"===n;return I?(0,v.jsxs)(h.xu,{"data-test-id":"desktop-context-menu",position:"fixed",dangerouslySetInlineStyle:{__style:{top:`${e.yPosition}px`,left:`${e.xPosition}px`}},zIndex:new h.Ry(99999),color:"default",rounding:2,borderStyle:"shadow",display:"flex",direction:"column",paddingY:3,paddingX:2,maxWidth:250,children:[(0,v.jsx)(h.xu,{rounding:2,paddingX:3,paddingY:2,role:"img",children:(0,v.jsx)(h.JO,{icon:"pinterest",accessibilityLabel:S._('Pinterest logo', 'dweb.unauth.context_menu.pinterest_logo', 'Pinterest logo in the context menu'),color:"brandPrimary"})}),(0,v.jsx)(x,{onTap:()=>{(0,p.My)("dweb.unauth.context_menu.save_image"),z({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_context_menu_download_image",desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save",savePinId:w}}})},children:(0,v.jsx)(h.xv,{size:"200",weight:"bold",children:S._('Save image', 'dweb.unauth.context_menu.link.save_image', 'Link to save the image')})}),!(i||M&&!k)&&(0,v.jsx)(x,{onTap:()=>{(0,p.My)(M?"dweb.unauth.context_menu.open_plp_new_tab.from.ellipsis.button":"dweb.unauth.context_menu.open_plp_new_tab"),window.open(M?k:`/pin/${w}/`),M||z({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_context_menu_open_plp_new_tab",desktopOptions:{modalType:"login"}})},children:(0,v.jsx)(h.xv,{size:"200",weight:"bold",children:S._('Open link in new tab', 'dweb.unauth.context_menu.link.plp_new_tab', 'Link to open the pin in a new tab')})}),(L||!(!j||!C))&&(0,v.jsx)(x,{onTap:()=>{(0,p.My)("dweb.unauth.context_menu.see_more_pins"),C?T.push(`${C}`):T.push(D)},children:j?(0,v.jsx)(h.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,u.nk)(S._('See more ideas about {{levelOneInterestName}}', 'dweb.unauth.context_menu.link.see_more_ideas.l1', 'Link to see similar pins'),{levelOneInterestName:j})}):(0,v.jsx)(h.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,u.nk)(S._('See more ideas about {{interestTag}}', 'dweb.unauth.context_menu.link.see_more_ideas.interest_tag', 'Link to see similar pins'),{interestTag:L})})}),!(!_||!m)&&(0,v.jsx)(x,{onTap:()=>{(0,p.My)("dweb.unauth.context_menu.more_from_creator"),T.push(`/${m}/`)},children:(0,v.jsx)(h.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,u.nk)(S._('See more from {{full_name}}', 'dweb.unauth.context_menu.link.more_from_creator', 'Link to see more ideas from this creator'),{full_name:_})})}),(0,v.jsx)(a.Fragment,{children:(0,v.jsx)(x,{onTap:()=>{(0,p.My)("dweb.unauth.context_menu.login_signup"),z({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_context_menu_login_signup",desktopOptions:{modalType:"login"}})},children:(0,v.jsx)(h.xv,{size:"200",weight:"bold",children:S._('Log in or sign up for more', 'dweb.unauth.context_menu.link.login_signup', 'Link to log in or sign up')})})})]}):null}function b({graphqlRef:e,pinId:i,useNativeCreatorAsPinner:n,...t}){var a,l,o,r,d;const c=(0,_.useFragment)(y,e),u=(0,s.Z)(c);let p;var m,g;(p=null!=c&&c.nativeCreator?c.nativeCreator:null!=c&&c.linkDomain?c.linkDomain.officialUser:(null==c?void 0:c.originPinner)||(null==c?void 0:c.pinner),p)||(p=null!==(m=null==c||null===(g=c.linkDomain)||void 0===g?void 0:g.officialUser)&&void 0!==m?m:null==c?void 0:c.pinner);return(0,v.jsx)(f,{...t,embedSrc:(null==c?void 0:c.embed)&&c.embed.src,embedType:(null==c?void 0:c.embed)&&c.embed.type,images:u,sourceUserUsername:null===(a=p)||void 0===a?void 0:a.username,sourceUserFullname:null===(l=p)||void 0===l?void 0:l.fullName,pinJoinVisualAnnotation:null==c||null===(o=c.pinJoin)||void 0===o?void 0:o.visualAnnotation,pinJoinSeoBreadcrumbName:(null==c||null===(r=c.pinJoin)||void 0===r?void 0:r.seoBreadcrumbs)&&(c.pinJoin.seoBreadcrumbs.length>0?c.pinJoin.seoBreadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==c||null===(d=c.pinJoin)||void 0===d?void 0:d.seoBreadcrumbs)&&(c.pinJoin.seoBreadcrumbs.length>0?c.pinJoin.seoBreadcrumbs[0].url:null),pinId:i})}function w({graphqlRef:e,pinId:i,useNativeCreatorAsPinner:n,...t}){var a,l,o,r,s,d;const u=(0,m.S6)()(i);let p=(0,c.wS)(u);var g,h;p||(p=null!==(g=null==u||null===(h=u.link_domain)||void 0===h?void 0:h.official_user)&&void 0!==g?g:null==u?void 0:u.pinner);const{full_name:_,username:x}=null!==(a=p)&&void 0!==a?a:{};return(0,v.jsx)(f,{...t,embedSrc:null==u||null===(l=u.embed)||void 0===l?void 0:l.src,embedType:null==u||null===(o=u.embed)||void 0===o?void 0:o.type,images:null==u?void 0:u.images,sourceUserUsername:_,sourceUserFullname:x,pinJoinVisualAnnotation:null==u||null===(r=u.pin_join)||void 0===r?void 0:r.visual_annotation,pinJoinSeoBreadcrumbName:(null==u||null===(s=u.pin_join)||void 0===s?void 0:s.seo_breadcrumbs)&&(u.pin_join.seo_breadcrumbs.length>0?u.pin_join.seo_breadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==u||null===(d=u.pin_join)||void 0===d?void 0:d.seo_breadcrumbs)&&(u.pin_join.seo_breadcrumbs.length>0?u.pin_join.seo_breadcrumbs[0].url:null),pinId:i})}function k(e){return e.graphqlRef?(0,v.jsx)(b,{...e}):(0,v.jsx)(w,{...e})}},743873:(e,i,n)=>{n.d(i,{n:()=>b,Z:()=>w});var t=n(702664),a=n(474635),l=n(104788),o=n(966476);const r=({children:e,fallback:i})=>(()=>{const e=(0,t.useSelector)((e=>{var i;return!(null==e||null===(i=e.session)||void 0===i||!i.isSeoBot)})),i=(0,o.Z)();return!e&&!i})()?i||null:e;var s=n(949372),d=n(898781),c=n(125920),u=n(112690),p=n(539497);var m=n(643010),g=n(968228),h=n(773285),_=n(385740),v=n(53987),x=n(883119),y=n(276775),f=n(785893);const b=56;function w(){const e=(0,d.ZP)(),i=(0,y.useLocation)(),n=(0,y.useHistory)(),{viewType:o,viewParameter:w}=(0,_.SU)(),{userAgentPlatform:k,userAgent:P}=(0,t.useSelector)((({session:e})=>e)),S=(0,g.Rp)({platform:k,userAgent:P}),T=(0,c.Z)(),I=function(){const{isSeoBot:e}=(0,t.useSelector)((({session:e})=>e));return(i,n)=>{e||(0,p.NC)(i,n)}}(),j=(0,s.Z)(),{checkExperiment:C}=(0,h.F)(),L=(0,u.Z)(),A=e._('Log in', 'Label for log in button', 'Label for log in button'),D=e._('Sign up', 'Text on button on the top bar that leads users to signing up.', 'Text on button on the top bar that leads users to signing up.'),z=e._('Download', 'mweb.unauth.interstitial_upsell.download_button_text', 'CTA on the app interstitial upsell to install the app'),M=!S&&!(0,v.Xn)(i),Z=((0,v.dr)(i)||(0,v.$Y)(i)||(0,v.E0)(i))&&!C("lex_follow_button").group.includes("main_cta"),F=!j||T||Z?"signup":"download",U=(M?A.length:0)+("signup"===F?D.length:0)+("download"===F?z.length:0);return(0,f.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:{boxShadow:"0 1px 0 0 rgba(0, 0, 0, 0.08)",backgroundColor:(0,m.Yc)()?"#333":"white",transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:"translateY(0)"}},top:!0,left:!0,width:"100vw",position:"relative",paddingX:3,children:(0,f.jsxs)(x.xu,{alignItems:"center","data-test-id":"unauth-header",direction:"row",display:"flex",justifyContent:"between",children:[(0,f.jsx)(x.iP,{accessibilityLabel:e._('Pinterest App', 'Pinterest icon for app upsell', 'Pinterest icon for app upsell'),onTap:()=>{(0,p.LW)({action:"click",pageLocation:i,within:"unauth-header",item:"pinterest-logo"})},children:(0,f.jsxs)(x.xu,{alignItems:"center",display:"flex",direction:"row",marginEnd:3,children:[(0,f.jsx)(x.xu,{alignItems:"center",display:"flex",height:b,justifyContent:"center",rounding:2,"data-test-id":"pinterest-logo-icon",children:(0,f.jsx)(x.iP,{role:"link",tapStyle:"none",href:"/",children:S?(0,f.jsx)(l.Z,{size:24}):(0,f.jsx)(x.hU,{icon:"pinterest",iconColor:"red",padding:1,size:"xl",accessibilityLabel:e._('Pinterest App', 'Pinterest icon for app upsell', 'Pinterest icon for app upsell')})})}),(0,f.jsx)(x.xu,{paddingY:2,paddingX:1,"data-test-id":"pinterest-logo-text",children:U<18&&(0,f.jsxs)(x.xu,{children:[(0,f.jsx)(x.X6,{color:"error",size:"400",overflow:"normal",children:S?e._('Pinterest Lite', 'Pinterest lite brand for the app upsell', 'Pinterest lite brand for the app upsell'):e._('Pinterest', 'Pinterest brand for the app upsell', 'Pinterest brand for the app upsell')}),S&&(0,f.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:(0,f.jsx)(x.xu,{children:(0,f.jsx)(x.xv,{inline:!0,size:"100",color:"subtle",children:e._('Save space on your device', 'Unauth app upsell copy that describe Pinterest product core value to users', 'Unauth app upsell copy that describe Pinterest product core value to users')})})})]})})]})}),(0,f.jsx)(r,{children:(0,f.jsxs)(x.xu,{marginEnd:0,flex:"none",alignItems:"center",display:"flex",direction:"row","data-test-id":"UnauthAppUpsellButton",children:[M&&(0,f.jsx)(x.xu,{"data-test-id":"login-button",children:(0,f.jsx)(x.zx,{fullWidth:!0,color:"white",onClick:()=>{(0,p.LW)({action:"click",pageLocation:i,within:"unauth-header",item:"login-button"}),L({component:13198,element:30,event_type:102,view_type:o,view_parameter:w}),I("press_header_login"),L({event_type:10241,element:30,component:14213,view_type:o,view_parameter:w,aux_data:{upsell_reason:"tap_unauth_header_login"}}),n.push("/login",i.state)},size:"md",text:A})}),"signup"===F?(0,f.jsx)(x.xu,{"data-test-id":"signup-button",children:(0,f.jsx)(x.zx,{fullWidth:!0,color:Z?"red":"gray",onClick:()=>{(0,p.LW)({action:"click",pageLocation:i,within:"unauth-header",item:"signup-button"}),L({component:13198,element:31,event_type:102,view_type:o,view_parameter:w}),I("press_header_signup"),L({event_type:10241,element:31,component:14215,view_type:o,view_parameter:w,aux_data:{upsell_reason:"tap_unauth_header_signup"}}),n.push("/signup",i.state)},size:"md",text:D})}):(0,f.jsx)(x.xu,{"data-test-id":"download-button",children:(0,f.jsx)(a.Z,{componentType:14161,within:"unauth-header",children:({handleOpenApp:e})=>(0,f.jsx)(x.zx,{fullWidth:!0,color:(0,v.j8)(i)||C("lex_follow_button").group.includes("main_cta")?"gray":"red",onClick:()=>e(),size:"md",text:z})})})]})})]})})}},884979:(e,i,n)=>{n.d(i,{Yw:()=>P,ZP:()=>C,nt:()=>k});var t,a=n(474635),l=n(155247),o=n(248975),r=n(30700),s=n(862628),d=n(949372),c=n(898781),u=n(250946),p=n(667679),m=n(755506),g=n(349700),h=n(539497),_=n(217013),v=n(773285),x=n(802201),y=n(276775),f=n(883119),b=n(167912),w=n(785893);const k=250,P={WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",KhtmlUserSelect:"none",UserSelect:"none"},S=void 0!==t?t:t=n(167074);function T({mwebContextMenuState:e,openShareModal:i,setMwebContextMenuState:n,pinId:t,images:u,embedSrc:m,embedType:x,sourceUserUsername:b,sourceUserFullname:P,pinDownloadFilename:S,pinImageSignature:T,pinJoinVisualAnnotation:I,pinJoinSeoBreadcrumbName:j,pinJoinSeoBreadcrumbUrl:C}){var L;const A=(0,c.ZP)(),D=(0,y.useHistory)(),z=(0,o.Z)({images:u,embedSrc:m,embedType:x}),{isChromeOnIOS:M}=(0,_.R)(),Z=j,F=C,U=null!==(L=null==I?void 0:I[0])&&void 0!==L?L:void 0,E=(0,s.Z)(U),O=`/search/pins/?q=${encodeURIComponent(E)}&rs=image_only_attribution`,R=(0,p.Z)(),B=(0,_.R)(),{checkExperiment:K}=(0,v.F)(),N=(0,d.Z)();return z?(0,w.jsxs)(f.xu,{"data-test-id":"mobile-context-menu",position:"absolute",dangerouslySetInlineStyle:{__style:{top:`${e.yPosition}px`,left:`${e.xPosition}px`}},zIndex:new f.Ry(99999),color:"default",rounding:2,borderStyle:"shadow",display:"flex",direction:"column",paddingY:3,paddingX:2,maxWidth:k,children:[(0,w.jsxs)(f.xu,{rounding:2,paddingX:3,paddingY:2,role:"img",direction:"row",display:"flex",alignItems:"center",justifyContent:"between",children:[(0,w.jsx)(f.JO,{icon:"pinterest",accessibilityLabel:A._('Pinterest logo', 'unauth.mweb.context_menu.pinterest_logo', 'Pinterest logo in the context menu'),color:"brandPrimary"}),(0,w.jsx)(f.xu,{alignSelf:"end","data-test-id":"mobile-context-menu-cancel-button",children:(0,w.jsx)(f.iP,{onTap:({event:e})=>{e.stopPropagation(),n(null)},children:(0,w.jsx)(f.JO,{icon:"cancel",accessibilityLabel:A._('Dismiss mweb context menu', 'unauth.mweb.context_menu.dismiss', 'Dismiss icon in mweb context menu')})})})]}),"main"===e.context&&N&&K("mweb_main_pin_ltcm_open_in_app").anyEnabled&&(0,w.jsx)(a.Z,{componentType:18,within:"mweb-context-menu",children:({handleOpenApp:e})=>(0,w.jsx)(f.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(f.iP,{onTap:({event:i})=>{i.stopPropagation(),n(null),e({deepLinkUri:`/pin/${t}/`}),(0,h.My)("unauth.mweb.context_menu.open_in_app")},children:(0,w.jsx)(f.xv,{size:"200",weight:"bold",children:A._('Open in App', 'unauth.mweb.context_menu.link.open_in_app', 'Link to open the pin in Pinterest app')})})})}),["download","short_d"].includes(e.context)&&T?(0,w.jsx)(f.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(l.Z,{imgSrc:z,isChromeOnIOS:M,filename:S,pinId:t,viewType:3,imageSignature:T,children:e=>(0,w.jsx)(r.Z,{pressState:"none",onTouch:i=>{e().then((()=>{i.stopPropagation(),n(null),(0,h.My)("unauth.mweb.context_menu.download_image")}))},children:(0,w.jsx)(f.xv,{size:"200",weight:"bold",children:A._('Download image', 'unauth.mweb.related_pin.context_menu.link.download_image', 'Link to download image')})})})}):(0,w.jsx)(f.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(f.iP,{onTap:({event:e})=>{e.stopPropagation(),n(null),(0,h.My)("unauth.mweb.context_menu.save_image"),e&&B.saveButtonConfig.onSaveButtonClick(e)},children:(0,w.jsx)(f.xv,{size:"200",weight:"bold",children:A._('Save image', 'unauth.mweb.context_menu.link.save_image', 'Link to save image')})})}),["download","save","short_s","short_d"].includes(e.context)&&(0,w.jsx)(f.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(f.iP,{onTap:({event:e})=>{e.stopPropagation(),n(null),i&&i(!0),(0,h.My)("unauth.mweb.context_menu.share_related_pin")},children:(0,w.jsx)(f.xv,{size:"200",weight:"bold",children:A._('Share image', 'unauth.mweb.context_menu.link.share_menu', 'Link to open the share menu')})})}),(0,w.jsx)(f.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(f.iP,{onTap:({event:e})=>{e.stopPropagation(),n(null),(0,h.My)("unauth.mweb.context_menu.open_plp_new_tab"),window.open(`/pin/${t}/`)},children:(0,w.jsx)(f.xv,{size:"200",weight:"bold",children:A._('Open link in new tab', 'unauth.mweb.context_menu.link.plp_new_tab', 'Link to open the pin in a new tab')})})}),["download","save","main"].includes(e.context)&&(U||!(!Z||!F))&&(0,w.jsx)(f.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(f.iP,{onTap:()=>{(0,h.My)("unauth.mweb.context_menu.see_more_pins"),D.push(F?`${F}`:O)},children:Z?(0,w.jsx)(f.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,g.nk)(A._('See more ideas about {{levelOneInterestName}}', 'unauth.mweb.context_menu.link.see_more_ideas.l1', 'Link to see similar pins'),{levelOneInterestName:Z})}):(0,w.jsx)(f.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,g.nk)(A._('See more ideas about {{interestTag}}', 'unauth.mweb.context_menu.link.see_more_ideas.interest_tag', 'Link to see similar pins'),{interestTag:U})})})}),["download","save","main"].includes(e.context)&&!(!P||!b)&&(0,w.jsx)(f.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(f.iP,{onTap:()=>{(0,h.My)("unauth.mweb.context_menu.more_from_creator"),D.push(`/${b}/`)},children:(0,w.jsx)(f.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,g.nk)(A._('See more from {{full_name}}', 'unauth.context_menu.link.more_from_creator', 'Link to see more ideas from this creator'),{full_name:P})})})}),(0,w.jsx)(f.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(f.iP,{onTap:({event:e})=>{e.stopPropagation(),n(null),(0,h.My)("unauth.mweb.context_menu.login_signup"),R({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_context_menu_login_signup"})},children:(0,w.jsx)(f.xv,{size:"200",weight:"bold",children:A._('Log in or sign up for more', 'unauth.mweb.context_menu.link.login_signup', 'Link to log in or sign up')})})})]}):null}function I({graphqlRef:e,pinId:i,...n}){var t,a,l,o,r;const s=(0,b.useFragment)(S,e),d=(0,u.Z)(s);let c;var p,m;(c=null!=s&&s.nativeCreator?s.nativeCreator:null!=s&&s.linkDomain?s.linkDomain.officialUser:(null==s?void 0:s.originPinner)||(null==s?void 0:s.pinner),c&&"string"!=typeof c)||(c=null!==(p=null==s||null===(m=s.linkDomain)||void 0===m?void 0:m.officialUser)&&void 0!==p?p:null==s?void 0:s.pinner);const g=(null==s?void 0:s.gridTitle)||(null==s?void 0:s.closeupUnifiedDescription),h=null==s?void 0:s.imageSignature;return(0,w.jsx)(T,{...n,embedSrc:(null==s?void 0:s.embed)&&s.embed.src,embedType:(null==s?void 0:s.embed)&&s.embed.type,images:d,sourceUserUsername:null===(t=c)||void 0===t?void 0:t.username,sourceUserFullname:null===(a=c)||void 0===a?void 0:a.fullName,pinDownloadFilename:g,pinImageSignature:h,pinJoinVisualAnnotation:null==s||null===(l=s.pinJoin)||void 0===l?void 0:l.visualAnnotation,pinJoinSeoBreadcrumbName:(null==s||null===(o=s.pinJoin)||void 0===o?void 0:o.seoBreadcrumbs)&&(s.pinJoin.seoBreadcrumbs.length>0?s.pinJoin.seoBreadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==s||null===(r=s.pinJoin)||void 0===r?void 0:r.seoBreadcrumbs)&&(s.pinJoin.seoBreadcrumbs.length>0?s.pinJoin.seoBreadcrumbs[0].url:null),pinId:i})}function j({graphqlRef:e,pinId:i,...n}){var t,a,l,o,r,s;const d=(0,x.S6)()(i),c=null==d?void 0:d.pinner;let u=(0,m.wS)(d);var p,g;u&&"string"!=typeof u||(u=null!==(p=null==d||null===(g=d.link_domain)||void 0===g?void 0:g.official_user)&&void 0!==p?p:c);const{full_name:h,username:_}=null!==(t=u)&&void 0!==t?t:{},v=(null==d?void 0:d.grid_title)||(null==d?void 0:d.closeup_unified_description),y=null==d?void 0:d.image_signature;return(0,w.jsx)(T,{...n,embedSrc:null==d||null===(a=d.embed)||void 0===a?void 0:a.src,embedType:null==d||null===(l=d.embed)||void 0===l?void 0:l.type,images:null==d?void 0:d.images,sourceUserUsername:h,sourceUserFullname:_,pinDownloadFilename:v,pinImageSignature:y,pinJoinVisualAnnotation:null==d||null===(o=d.pin_join)||void 0===o?void 0:o.visual_annotation,pinJoinSeoBreadcrumbName:(null==d||null===(r=d.pin_join)||void 0===r?void 0:r.seo_breadcrumbs)&&(d.pin_join.seo_breadcrumbs.length>0?d.pin_join.seo_breadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==d||null===(s=d.pin_join)||void 0===s?void 0:s.seo_breadcrumbs)&&(d.pin_join.seo_breadcrumbs.length>0?d.pin_join.seo_breadcrumbs[0].url:null),pinId:i})}function C(e){return e.graphqlRef?(0,w.jsx)(I,{...e}):(0,w.jsx)(j,{...e})}},125920:(e,i,n)=>{n.d(i,{Z:()=>g});var t=n(702664),a=n(172071),l=n(949372),o=n(436851),r=n(968228),s=n(50286),d=n(276775),c=n(780280),u=n(419940),p=n(622096),m=n(53987);const g=()=>{const{isBot:e}=(0,c.B)(),i=(0,d.useLocation)(),{userAgentPlatform:n,userAgent:g}=(0,t.useSelector)((e=>e.session)),h=(0,l.Z)(),_=(0,s.ml)();return!e&&!(_&&!h)&&!(0,r.Rp)({platform:n,userAgent:g})&&((0,m.uM)(i)||(0,m.am)(i))&&!(0,u.P)()&&!(e=>!!(0,o.d)(e)&&((0,p.qn)("ufausfiiab")||(a.Z.increment("unauth.floating_app_upsell.suppress_for_instagram_in_app_browser"),(0,p.Nh)("ufausfiiab","1")),!0))(g)}},803035:(e,i,n)=>{n.d(i,{Z:()=>r});var t=n(667294),a=n(512176),l=n(883119),o=n(785893);const r=function({badgeSize:e,badgeSpacing:i,fullName:n,verifiedType:r,truncate:s=!1}){const d=n.split(" "),c=d.slice(0,d.length-1).join(" "),u=" ".concat(d[d.length-1]);return s?(0,o.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,o.jsx)(l.xv,{lineClamp:1,weight:"bold",children:n}),(0,o.jsx)(l.xu,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:i}},paddingX:1,children:(0,o.jsx)(a.Z,{isVerifiedMerchant:"verifiedMerchant"===r,size:e,showVerifiedIdentity:"verifiedIdentity"===r})})]}):(0,o.jsxs)(t.Fragment,{children:[(0,o.jsx)("span",{children:c}),(0,o.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[u,"",(0,o.jsx)(l.xu,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:i}},children:(0,o.jsx)(a.Z,{isVerifiedMerchant:"verifiedMerchant"===r,size:e,showVerifiedIdentity:"verifiedIdentity"===r})})]})]})}},104788:(e,i,n)=>{n.d(i,{Z:()=>a});var t=n(785893);function a({size:e,noCircle:i}){return(0,t.jsxs)("svg",{height:e,style:{display:"block"},viewBox:i?"3 3 70 70":"-3 -3 82 82",width:e,children:[i?null:(0,t.jsx)("circle",{cx:"38",cy:"38",fill:"white",r:"40"}),(0,t.jsx)("path",{d:"M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",fill:"#fb7072",fillRule:"evenodd"})]})}},558150:(e,i,n)=>{function t({isEligibleForPdp:e,isOosProduct:i,isStaleProduct:n,pinShoppingFlags:t}){if(t){const a=t,l={pin_is_shop_the_look:a.includes(2),pin_show_pdp:e||i||n,is_available:a.includes(1),is_product_pin_v2:a.includes(5),is_rich_product_pin:a.includes(6)};return JSON.stringify(l)}}n.d(i,{Z:()=>t})},968228:(e,i,n)=>{n.d(i,{G3:()=>c,Rp:()=>d,kp:()=>s});var t=n(622096),a=n(202139),l=n(957161);const o=14*a.F4;function r(e,i,n){return e-i>n}const s=e=>{const i=function(){const e=Date.now(),i=Number((0,l.qn)("appUpsell"));return{currentTime:e,firstUpsellTime:Number((0,l.qn)("firstUpsellTime")),lastUpsellTime:i,showedAppUpsellCurrentSession:Boolean((0,t.qn)("showedAppUpsellCurrentSession"))}}();return e?function(e,i,n){const{currentTime:t,firstUpsellTime:a,lastUpsellTime:s,showedAppUpsellCurrentSession:d}=e;return n=n||o,!a||function(e,i,n){return e<i+n}(t,a,i)?!d:!!r(t,s,n)&&((0,l.L_)("firstUpsellTime"),!0)}(i,a.F4):function(e,i){const{currentTime:n,lastUpsellTime:t}=e;return i=i||o,!t||r(n,t,i)}(i)},d=({platform:e,userAgent:i})=>{try{return"android"===e&&parseFloat((e=>{const i=(e=e.toLowerCase()).match(/android\s([0-9\.]*)/i);return i?i[1]:void 0})(i))<7}catch(n){return!1}},c=e=>(e.startsWith("zh")||e.startsWith("ar")?e:e.slice(0,2)).toUpperCase()},663023:(e,i,n)=>{n.d(i,{XK:()=>r,jC:()=>o,yd:()=>s});var t=n(745760);let a=null,l=null;const o=((e,i)=>{let n=null;return o=>{var r;if(o&&!n)return n={...o,event_type:e,time:(0,t.h1)()},null===(r=l)||void 0===r||r.logContextEvent(n),a&&n&&a.storeClickthroughProperties(n),e;if(!o&&n){var s;const e={...n,event_type:i,duration_ns:(0,t.h1)()-n.time};return null===(s=l)||void 0===s||s.logContextEvent(e),n=null,i}return null}})(12,4100),r=e=>{a=e},s=e=>{l=e}},550407:(e,i,n)=>{n.d(i,{M:()=>v,g:()=>x});var t,a=n(667294),l=n(203345),o=(n(883119),n(539497)),r=n(743873),s=n(50286),d=n(957980),c=n(884979),u=n(167912),p=n(785893);const m=void 0!==t?t:t=n(110767);const g=({queryReference:e,...i})=>{var n;const t=(0,u.usePreloadedQuery)(m,e),a=null==t||null===(n=t.v3GetPinQuery)||void 0===n?void 0:n.data;return a?(0,p.jsx)(d.Z,{...i,graphqlRef:a}):null},h=({queryReference:e,...i})=>{var n;const t=(0,u.usePreloadedQuery)(m,e),a=null==t||null===(n=t.v3GetPinQuery)||void 0===n?void 0:n.data;return a?(0,p.jsx)(c.ZP,{...i,graphqlRef:a}):null},_=(0,a.createContext)((()=>()=>{})),v=()=>(0,a.useContext)(_),x=({children:e,feedRef:i,viewType:n,viewParameter:t,useGraphql:v})=>{const[x,y]=(0,a.useState)(null),[f,b]=(0,a.useState)(null),[w,k]=(0,a.useState)(!1),[P,S]=(0,a.useState)(null),[T,I]=(0,a.useState)(!1),j=(0,s.HG)(),[C,L]=(0,u.useQueryLoader)(m);if(v&&!C&&P){L(function({pinId:e}){return{query:m,variables:{pinId:e}}}({pinId:P}).variables)}const A=()=>{document&&document.body&&document.body.style&&(document.body.style.overflow="unset")};(0,a.useEffect)((()=>A),[]);const D=(0,a.useCallback)((e=>n=>{const{pinId:t,deviceOptions:a}=e;if(n.stopPropagation(),n.preventDefault(),S(t),a.isDesktop)I(a.isMainPinImage),(0,o.My)("dweb.unauth.context_menu.open_menu"),y({xPosition:n.clientX,yPosition:n.clientY}),document&&document.body&&document.body.style&&(document.body.style.overflow="hidden");else{(0,o.My)("mweb.unauth.related_pin.context_menu.open");const e=n.changedTouches.item(0);if(i&&i.current){const n=i.current.getBoundingClientRect(),t=Math.min(e.pageX-n.left,n.width-c.nt),l=e.pageY-r.n;b({xPosition:t,yPosition:l,context:a.context})}}}),[i]),z=!!x;(0,a.useEffect)((()=>{const e=()=>{y(null),A(),(0,o.My)("dweb.unauth.context_menu.click_away")};return z&&document.addEventListener("click",e),()=>{z&&document.removeEventListener("click",e)}}),[z]);const M=x&&P?v?C&&(0,p.jsx)(g,{desktopContextMenuState:x,pinId:P,isMainPinImage:!!T,queryReference:C}):(0,p.jsx)(d.Z,{desktopContextMenuState:x,pinId:P,isMainPinImage:!!T,graphqlRef:null}):null,Z=f&&P?v?C&&(0,p.jsx)(h,{mwebContextMenuState:f,pinId:P,openShareModal:k,setMwebContextMenuState:b,queryReference:C}):(0,p.jsx)(c.ZP,{graphqlRef:null,mwebContextMenuState:f,pinId:P,openShareModal:k,setMwebContextMenuState:b}):null;return(0,p.jsx)(_.Provider,{value:D,children:(0,p.jsxs)(a.Fragment,{children:[e,j&&M,!j&&Z,!j&&w&&P&&(0,p.jsx)(l.default,{objectType:1,isOpen:w,onDismiss:()=>k(!1),objectId:P,hideContactsSuggestions:!0,element:12016,viewType:n,viewParameter:t})]})})}},634291:(e,i,n)=>{n.d(i,{Z:()=>s});var t=n(667294),a=n(807609),l=n(957161);const o=e=>{const i=(0,l.qn)(e);if(!i)return null;try{return JSON.parse(i)}catch(n){return null}};var r=n(773285);const s=()=>{const[e,i]=function(e){const i=(0,a.Z)(),[n,r]=(0,t.useState)(i?null:o(e));return(0,t.useEffect)((()=>{r(o(e))}),[e]),[n,(0,t.useCallback)((i=>{r(i),null===i?(0,l.L_)(e):(0,l.Nh)(e,JSON.stringify(i))}),[e])]}("unauthSavedPins"),n=null!==(d=null==(s=e)?void 0:s.pins)&&void 0!==d?d:[];var s,d;const c=e=>i((e=>e.length?{pins:e}:null)(e)),{checkExperiment:u}=(0,r.F)(),p=()=>{const{anyEnabled:e,group:i}=u("pcons_mweb_save_v3");let t=0;if(e){const e=i.split("_")[1];t=e?parseInt(e,10):0}return n.length<t};return{pins:n,save:e=>{p()&&c(n.filter((({id:i})=>i!==e.id)).concat([e]))},unsave:e=>c(n.filter((({id:i})=>i!==e))),isSaved:e=>n.some((({id:i})=>i===e)),clear:()=>c([]),canSaveMore:p}}},419940:(e,i,n)=>{n.d(i,{C:()=>s,P:()=>r});var t=n(172071),a=n(53987),l=n(622096);const o="msmrsfda",r=()=>!!(0,l.qn)(o),s=e=>{(0,a.LM)(e)&&!r()&&((0,l.Nh)(o,"1"),t.Z.incrementNow("mobile_signup_modal.rules.suppress_for_discover_article",1))}},436851:(e,i,n)=>{n.d(i,{$:()=>a,d:()=>t});const t=e=>/instagram/i.test(e||""),a=e=>(e||"").includes("[Pinterest/iOS]")||(e||"").includes("[Pinterest/Android]")},745760:(e,i,n)=>{n.d(i,{Ch:()=>m,nc:()=>w,a:()=>k,ZP:()=>P,cA:()=>f,li:()=>b,h1:()=>u});var t=n(983722);var a=n(682492),l=n.n(a),o=n(6637),r=n(594881),s=n(706922);var d=n(385740),c=n(172045);const u=()=>1e6*Date.now(),p=[6945],m={3829:"articleImpressions",18:"pinImpressions",3700:"boardImpressions",3803:"searchImpressions",170:"storyImpressions",3704:"userImpressions"},g=[4700,4701,4702,4703,7042,7043],h=e=>function(e){let i=e.length;for(let n=e.length-1;n>=0;n-=1){const t=e.charCodeAt(n);t>127&&t<=2047?i+=1:t>2047&&t<=65535&&(i+=2),t>=56320&&t<=57343&&(n-=1)}return i}(JSON.stringify(e)),_=e=>p.includes(e);let v;function x(){const e=new Date;v?v&&v.getUTCDate()!==e.getUTCDate()&&(v=e,(0,r.Z)()):v=e}function y(e){const i=(0,t.Z)(),{checkExperiment:n}=(i||{}).experimentsClient||{},a="function"==typeof n&&n("web_mweb_story_impression_fix").anyEnabled;return a&&(p.push(170),m[170]="storyImpression"),e.reduce(((e,i)=>{const n=e.find((t=i,e=>e.view_type===t.viewType&&e.view_parameter===t.viewParameter&&e.event_type===t.eventType&&e.object_id_str===t.objectIdStr&&(0,s.Z)(e.view_data,t.viewData)));var t;if(n&&!_(i.eventType))i.impressionType in n.event_data?n.event_data[i.impressionType].push(i.eventData):n.event_data[i.impressionType]=[i.eventData];else{const n={event_type:i.eventType,view_parameter:i.viewParameter,view_type:i.viewType,view_data:i.viewData,time:u(),component:i.component,clientUUID:(0,c.Z)(),aux_data:i.auxData||{},event_data:{[i.impressionType]:_(i.eventType)?a?{...i.eventData,...(i.eventData||{})[i.impressionType]}:i.eventData:[i.eventData]},object_id_str:i.objectIdStr||void 0};e.push(n)}return e}),[])}const f=e=>{const i=e.event_type,n=g.includes(i),t=(0,d.BE)();return!(!n&&13!==i&&!t)},b=(e,i)=>{const n=e.event_type,t=g.includes(n),a=(0,d.BE)();return t?e:13===n&&e.view_type?(null==i||i({viewType:e.view_type,viewParameter:e.view_parameter,viewData:null!=a&&a.viewData?l()(a.viewData,e.view_data):l()({},e.view_data)}),e):!a||e.view_type&&e.view_parameter?e:{...e,view_type:a.viewType,view_parameter:a.viewParameter,view_data:e.view_data?l()(e.view_data,a.viewData):l()({},a.viewData)}},w=(e,i)=>{var n,t;const a=e.component,l=e.object_id_str,o=e.view_type,r=e.event_type;return null!==(n=((null===(t=e.event_data)||void 0===t?void 0:t[i])||[]).map((n=>({auxData:e.aux_data,...a?{component:a}:{},eventData:n,...r?{eventType:r}:{},...o?{viewType:o}:{},viewData:e.view_data,viewParameter:e.view_parameter,...l?{objectIdStr:l}:null,impressionType:i}))))&&void 0!==n?n:[]},k=(e,i)=>({...e.component?{component:e.component}:{},...e.object_id_str?{objectIdStr:e.object_id_str}:null,...e.view_type?{viewType:e.view_type}:{},eventType:e.event_type,auxData:e.aux_data,impressionType:i,viewData:e.view_data,viewParameter:e.view_parameter,eventData:e.event_data});function P(){let e=[],i=[],n=0;function t(){return[...e,...y(i)]}function a(){e=[],i=[],n=0}function l(e=!1){const i=t();i.length&&(o.Z.create("ContextLogResource",{events:i,report_time:u()}).callCreate({async:!e,showError:!1}),a(),x())}return{flushContextEvents:l,getContextEvents:t,logContextEvent:function({object_id_str:i,...t}){const a={aux_data:{},event_data:{},view_data:{},...t,time:u(),clientUUID:(0,c.Z)(),...i?{object_id_str:i}:null};a.aux_data=function(e){if(!e)return e;const{element:i,eventData:n,component:t,objectId:a,view:l,viewParameter:o,viewData:r,durationNs:s,pairId:d,clientTrackingParams:c,...u}=e;return u}(a.aux_data),n+h(a)>20480&&l(!1),e.push(a),x()},logImpression:function(e){n+h(e)>20480&&l(!1),i.push(e)},resetEventsBuffer:a}}},903095:(e,i,n)=>{n.d(i,{Mi:()=>a,lO:()=>l});var t=n(425288);const{Provider:a,useMaybeHook:l}=(0,t.Z)("pageContext")},67223:(e,i,n)=>{n.d(i,{Z:()=>r});var t=n(667294);const a=new Map;let l=null;const o=e=>{e.forEach((e=>{const i=a.get(e.target);i&&i(e)}))};function r({onVisibilityChanged:e,inAdsDesktopVideoExperiment:i,trackFullVisible:n,rootMargin:r}){const s=(0,t.useRef)(null);let d=!1;const c=()=>{var i;s.current instanceof HTMLElement&&(i=s.current,a.has(i))&&(d&&(e(!1),d=!1))},u=(0,t.useCallback)((t=>{s.current instanceof HTMLElement&&((e,i="-64px 0px 0px 0px",n)=>{const t={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:i,threshold:[0,.5,1]};l=l||new window.IntersectionObserver(o,t),a.set(e,n),l.observe(e)})(s.current,t,(t=>{if(!a.has(s.current))return;const l=i?t.intersectionRatio>=.5:t.intersectionRatio>0||t.isIntersecting,o=n?t.intersectionRatio>=1:l,r=n?0===t.intersectionRatio:!o;!d&&o?(i=>{const n=i.intersectionRatio>0||i.isIntersecting;d=n,d&&e(!0)})(t):d&&r&&c()}))}),[s.current]);return(0,t.useEffect)((()=>(u(r),()=>{var e;s.current instanceof HTMLElement&&(c(),e=s.current,l.unobserve(e),a.delete(e))})),[u]),s}},627995:(e,i,n)=>{n.d(i,{Z:()=>c});var t=n(927104),a=n(898781),l=n(903095),o=n(112690),r=n(883119),s=n(785893);const d=(e,i)=>{let n={};if(e){const{pinData:t,viewData:a}=e;n={unauth_click_pin_id:t.id,unauth_click_pin_image_signature:t.imageSignature},3===i?n={...n,unauth_page_pin_id:a.id,unauth_page_pin_image_signature:a.imageSignature}:5===i&&(n={...n,unauth_page_board_id:a.id})}return n},c=({clickLoggingOptions:e,domain:i,link:n,onClick:c})=>{var u;const p=null===(u=(0,l.lO)())||void 0===u?void 0:u.logging,m=(0,a.ZP)(),g=(0,o.Z)(),h=()=>[{event_type:8948},{event_type:12},{event_type:101,element:0,aux_data:d(e.unauthRankingLoggingData,null==p?void 0:p.viewType)}].map((i=>({component:0,element:162,view_type:null==p?void 0:p.viewType,view_parameter:null==p?void 0:p.viewParameter,aux_data:e.auxData,object_id_str:e.auxData.objectId,...i})));return(0,s.jsx)(r.iP,{onTap:({event:e})=>{e.stopPropagation(),h().forEach((e=>g(e))),c(e)},children:(0,s.jsxs)(r.xu,{marginBottom:4,marginStart:4,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",left:!0,bottom:!0,children:[(0,s.jsx)(r.xu,{marginEnd:1,children:(0,s.jsx)(r.JO,{size:9,icon:"arrow-up-right",color:"light",accessibilityLabel:m._('Link', 'unauth.pin.domain.link', 'Link to take them to the source of the iamge')})}),(0,s.jsx)("a",{href:n,onClick:e=>{e.stopPropagation(),h().forEach((e=>g(e))),c(e)},rel:"nofollow noopener noreferrer",target:"_blank",type:"button",children:(0,s.jsx)(r.xv,{size:"200",inline:!0,weight:"bold",lineClamp:1,color:"inverse",children:(0,t.Z)(i,27)})})]})})}},958007:(e,i,n)=>{n.d(i,{Z:()=>l});var t=n(992750);const a=e=>(e||"").trim().replace(/\s+/g," "),l=({storyPinDataId:e,pinDescription:i,richMetadataDescription:n,richSummaryDisplayName:l,placeSummaryName:o,closeupDescription:r,closeupUnifiedDescription:s})=>!!e?a(i):a((0,t.eK)({richMetadataDescription:n,richSummaryDisplayName:l,placeSummaryName:o,closeupUnifiedDescription:s}).description)||a(s||"")||a(r)||a(i)||a(n)||""},923297:(e,i,n)=>{function t({m:e=0,h:i=0}){let n;return n=i<=0?i:e>45?i+1:e>15?i+.5:i,{m:e,h:i,rm:i>0?0:e,rh:n}}function a(e){const i=Math.floor(e/3600);return t({m:Math.floor(e%3600/60),h:i})}n.d(i,{X:()=>t,u:()=>a})},857079:(e,i,n)=>{n.d(i,{Z:()=>l});var t=n(883119),a=n(785893);function l({accessibilityLabel:e}){return(0,a.jsx)(t.kC,{alignItems:"center",justifyContent:"center",children:(0,a.jsx)(t.$j,{accessibilityLabel:e,show:!0})})}},619277:(e,i,n)=>{n.d(i,{o$:()=>a,ty:()=>l,vE:()=>o});var t=n(425288);const{Provider:a,MaybeConsumer:l,useMaybeHook:o}=(0,t.Z)("inviteContext")},200310:(e,i,n)=>{n.d(i,{Z:()=>p});var t=n(667294),a=n(116303),l=n(898781),o=n(112690),r=n(719626),s=n(349700),d=n(591042),c=n(883119),u=n(785893);function p({color:e="default",pinId:i,title:n,user:p,startsAt:m,isEpisodeUpcoming:g,isEpisodeReplay:h,viewParameterType:_=3582,viewType:v=1}){const x=(0,l.ZP)(),y=(0,o.Z)(),{referrer:f}=(0,d.iH)(),[b,w]=(0,t.useState)({});if((0,t.useEffect)((()=>{w((0,r.p)(m))}),[m]),!p)return null;const k=e=>{y({event_type:102,view_type:v,view_parameter:_,component:0,...e})};return(0,u.jsxs)(c.xu,{dangerouslySetInlineStyle:{__style:{padding:"8px 6px 16px"}},children:[!!n&&(g||h)&&(0,u.jsx)(c.xu,{marginBottom:2,children:(0,u.jsxs)(c.iP,{href:`/tv/${i}/?referrer=${f}`,onTap:()=>k(),role:"link",children:[g&&(0,u.jsxs)(c.xu,{children:[(0,u.jsx)(c.xv,{size:"200",weight:"bold",lineClamp:2,children:n}),(0,u.jsx)(c.xv,{size:"100",color:"default",lineClamp:2,children:(0,s.nk)(x._('Live on {{ date }} {{ time }}', 'episodeAttribution.formattedDateTime.text', 'When the episode will go live'),{date:b.shortDate,time:b.time})})]}),h&&(0,u.jsxs)(c.xu,{children:[(0,u.jsx)(c.xv,{size:"200",weight:"bold",lineClamp:2,children:n}),(0,u.jsx)(c.xv,{size:"100",color:"default",lineClamp:2,children:(0,s.nk)(x._('Aired on {{ mmddyyy }}', 'episodeAttribution.formattedDateTime.text', 'When the episode was aired'),{mmddyyy:b.mmddyyy})})]})]})}),(0,u.jsx)(c.iP,{href:`/${p.username}`,onTap:()=>k({element:11619}),role:"link",children:(0,u.jsxs)(c.kC,{alignItems:"center",children:[(0,u.jsx)(c.xu,{marginStart:-2,paddingX:2,children:(0,u.jsx)(a.Z,{name:"",size:"sm",src:p.image_medium_url})}),(0,u.jsx)(c.xv,{color:e,size:"200",lineClamp:1,children:p.full_name||""})]})})]})}},447635:(e,i,n)=>{n.d(i,{Z:()=>g});var t=n(667294),a=n(200310),l=n(218672),o=n(898781),r=n(112690),s=n(349700),d=n(591042),c=n(883119),u=n(582637),p=n(785893);const m=16/9;function g({feedItem:e,gridIndex:i}){const n=(0,o.ZP)(),g=(0,r.Z)(),{gridItemWidth:h,referrer:_}=(0,d.iH)(),{creator_class:v,creator_class_instance:x,id:y}=e,{creator:f,hero_images:b}=v,{title:w,starts_at:k,hero_images:P}=x,S=P?P["312x"]:b?b["312x"]:{},T=(0,u.Zz)(x),I=(0,u.oi)(x),j=(e=>{const{duration:i}=e&&e.video_list&&e.video_list.V_HLSV4||{};if(!i)return"";const n=Math.trunc(i/1e3),t=Math.trunc(i/6e4),a=Math.trunc(i/36e5),l=t-60*a,o=n-60*l-60*a*60;let r=a>0?`${a}:${l.toString().padStart(2,"0")}`:`${l}`;return r+=`:${o.toString().padStart(2,"0")}`,r})(x.replay_video),C=j.length>0?j:n._('Processing video', 'EpisodeGridRep.pillText.fallback', 'A label indicating that the video is still processing.'),L=new c.Ry(1),A=n._('Watch', 'EpisodeGridRep.button.text', 'A label indicating that button can be interacted with to watch the video.'),[D,z]=(0,t.useState)(h?h*m:void 0);return(0,p.jsx)(c.xu,{children:S.url&&(0,p.jsxs)(t.Fragment,{children:[D?(0,p.jsxs)(c.xu,{alignItems:"center",direction:"column",display:"flex",height:D,justifyContent:"between",position:"relative",rounding:3,width:h,children:[(0,p.jsx)(c.xu,{position:"absolute",left:!0,top:!0,paddingX:3,paddingY:3,zIndex:L,children:(0,p.jsx)(l.Z,{text:C,backgroundColor:"black"})}),(0,p.jsx)(c.iP,{fullHeight:!0,fullWidth:!0,href:`/tv/${y}/?referrer=${_}`,onTap:()=>{var e;return g({event_type:102,view_type:1,view_parameter:3582,component:0,aux_data:{content_ids:{pin:y},grid_index:i,referrer:_,story_id:null===(e=v.recap_pin)||void 0===e?void 0:e.id}})},role:"link",children:(0,p.jsx)(c.zd,{width:"100%",height:"100%",rounding:3,wash:!0,children:(0,p.jsx)(c.Ee,{alt:w,color:"gray",fit:"cover",naturalHeight:S.height,naturalWidth:S.width,src:S.url})})}),(0,p.jsx)(c.xu,{position:"absolute",bottom:!0,marginBottom:4,children:(0,p.jsx)(c.zx,{text:A,role:"link",href:`/tv/${y}/?referrer=${_}`,accessibilityLabel:(0,s.nk)(n._('Watch {{episodeTitle}}', 'webapp.app.pinTv.watchBtn.a11yText', 'episodeTitle: a11y text for watch button for the episode'),{episodeTitle:w}).join("")})})]}):(0,p.jsx)(c.xu,{ref:e=>{if(e){const i=e.offsetWidth;z(i*m)}},width:"100%",dangerouslySetInlineStyle:{__style:{paddingBottom:"calc(100% * 16 / 9)"}}}),(0,p.jsx)(a.Z,{isEpisodeReplay:I,isEpisodeUpcoming:T,pinId:y,startsAt:k,title:w,user:f})]})})}},218672:(e,i,n)=>{n.d(i,{Z:()=>l});var t=n(883119),a=n(785893);function l({text:e,backgroundColor:i}){return(0,a.jsxs)(t.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:i}},display:"flex",paddingX:2,paddingY:1,rounding:"pill",children:[(0,a.jsx)(t.xu,{color:"primary"===i?"default":"primary",dangerouslySetInlineStyle:{__style:{marginRight:5}},height:6,rounding:"circle",width:6}),(0,a.jsx)(t.xv,{color:"inverse",size:"100",weight:"bold",children:e})]})}},591042:(e,i,n)=>{n.d(i,{J1:()=>r,iH:()=>s,xs:()=>o});var t=n(667294),a=(n(883119),n(425288)),l=n(273712);const o=({pinId:e})=>{const[i,n]=(0,t.useState)({}),[a,o]=(0,t.useState)(e),[r,s]=(0,t.useState)(0);return{activePinId:a,getSubscription:e=>{if(!i)return l.d0.UNKNOWN;switch(i[e]){case!0:return l.d0.TRUE;case!1:return l.d0.FALSE;default:return l.d0.UNKNOWN}},setSubscription:(e,i)=>{n((n=>n&&n[e]!==i?{...n,[e]:i}:n))},setActivePinId:o,setVolume:s,volume:r}},{Provider:r,useHook:s}=(0,a.Z)("LiveSessionContext")},38530:(e,i,n)=>{n.d(i,{Z:()=>u});var t=n(6637),a=n(898781),l=n(112690),o=n(19121),r=n(883119),s=n(273712),d=n(591042),c=n(785893);function u({color:e="white",componentType:i,creatorClassId:n,pinId:u,size:p,viewParameterType:m,viewType:g}){const h=(0,a.ZP)(),_=(0,l.Z)(),{isAuth:v}=(0,o.Z)(),{getSubscription:x,referrer:y,setSubscription:f,showSignup:b}=(0,d.iH)(),w=x(u);if(w===s.d0.UNKNOWN)return null;const k=w?{text:h._('Attending', 'liveSession.button.attending', 'Button indicating user is subscribed to reminders; click to unsubscribe')}:{text:h._('Remind me', 'liveSession.button.remindMe', 'Button to subscribe to reminders')};return(0,c.jsx)(r.zx,{color:e,onClick:({event:e})=>{if(e.preventDefault(),e.stopPropagation(),_({event_type:102,view_type:g,view_parameter:m,component:i,element:w?12384:12383,aux_data:{content_ids:{pin:u},referrer:y}}),v){const e=t.Z.create("ApiResource",{url:`/v3/classes/${n}/subscription/`,data:{id:u}});w?e.callDelete():e.callUpdate(),f(u,!w)}else b&&b()},selected:w,size:p,text:k.text})}},585112:(e,i,n)=>{n.d(i,{Z:()=>h,t:()=>m});var t=n(667294),a=n(218672),l=n(38530),o=n(898781),r=n(112690),s=n(349700),d=n(591042),c=n(666842),u=n(883119),p=n(785893);const m={grid:2,closeup:6},g=16/9;function h({creatorClass:e,creatorClassInstance:i,pinId:n,variant:m="grid",width:h,height:_}){const v=(0,r.Z)(),{referrer:x}=(0,d.iH)(),y=(0,o.ZP)(),{id:f}=e,{starts_at:b,title:w,hero_images:k}=i,{url:P,width:S,height:T}=k["624x"],{V_HLSV4:I}=i.preview_video&&i.preview_video.video_list||{},j="closeup"===m,C=()=>{const e=function(e){const i=new Date(e)-new Date;return Math.floor(i/864e5)}(b),i=function(e){const i=new Date(e)-new Date;return Math.floor(i/36e5)}(b),n=function(e){const i=new Date(e)-new Date;return Math.floor(i/36e5)}(b);return e>=1?(0,s.nk)(y.ngettext('{{ numDaysUntilEvent }} day', '{{ numDaysUntilEvent }} days', e, 'upcomingEpisode.badge.daysUntil', 'Number of days remaining until the event'),{numDaysUntilEvent:e}):i>=1?(0,s.nk)(y.ngettext('{{ numHoursUntilEvent }} hour', '{{ numHoursUntilEvent }} hours', i, 'upcomingEpisode.badge.hoursUntil', 'Number of hours remaining until the event'),{numHoursUntilEvent:i}):n>1?(0,s.nk)(y.ngettext('{{ numMinutesUntilEvent }} minute', '{{ numMinutesUntilEvent }} minutes', n, 'upcomingEpisode.badge.minutesUntil', 'Number of minutes remaining until the event'),{numMinutesUntilEvent:n}):y._('Live soon', 'liveSession.badge.liveSoon', 'A label indicating event is happening soon.')},{gridItemWidth:L}=(0,d.iH)(),A=h||L,D=_||(A?A*g:void 0),z=new u.Ry(1),M=(0,p.jsx)(l.Z,{componentType:200,creatorClassId:f,pinId:n,size:j?"lg":"md",viewParameterType:3582,viewType:1}),[Z,F]=(0,t.useState)(_||(A?A*g:void 0)),U=e=>{if(e){const i=e.offsetWidth;F(i*g)}};return D?j?(0,p.jsxs)(u.xu,{rounding:3,position:"relative",alignItems:"center",direction:"column",display:"flex",justifyContent:"between",width:A,height:D||Z,children:[(0,p.jsx)(u.xu,{position:"absolute",left:!0,top:!0,paddingX:3,paddingY:3,zIndex:z,children:(0,p.jsx)(a.Z,{text:C(),backgroundColor:"black"})}),I?(0,p.jsx)(u.xu,{width:"100%",height:"100%",rounding:3,children:(0,p.jsx)(c.Z,{autoplay:!0,format:c.k.CLOSEUP,height:D,video:I,width:A,bgImgUrl:P})}):(0,p.jsx)(u.zd,{width:"100%",height:"100%",rounding:3,wash:!0,children:(0,p.jsx)(u.Ee,{src:P,alt:w,naturalWidth:S,naturalHeight:T,color:"gray",fit:"cover"})})]}):(0,p.jsxs)(u.xu,{rounding:3,position:"relative",alignItems:"center",direction:"column",display:"flex",justifyContent:"between",width:A,height:D,"data-test-id":`upcoming-episode-${n}`,children:[(0,p.jsx)(u.xu,{position:"absolute",left:!0,top:!0,paddingX:3,paddingY:3,zIndex:z,children:(0,p.jsx)(a.Z,{text:C(),backgroundColor:"black"})}),(0,p.jsx)(u.iP,{href:`/tv/${n}/?referrer=${x}`,onTap:()=>{var i;return v({event_type:102,view_type:1,view_parameter:3582,component:200,aux_data:{content_ids:{pin:n},referrer:x,story_id:null===(i=e.recap_pin)||void 0===i?void 0:i.id,story_type:"upcoming_creator_classes"}})},role:"link",fullHeight:!0,fullWidth:!0,children:(0,p.jsx)(u.zd,{width:"100%",height:"100%",rounding:3,wash:!0,children:(0,p.jsx)(u.Ee,{src:P,alt:w,naturalWidth:S,naturalHeight:T,color:"gray",fit:"cover"})})}),(0,p.jsx)(u.xu,{position:"absolute",bottom:!0,marginBottom:4,children:M})]}):(0,p.jsx)(u.xu,{ref:U,width:"100%",dangerouslySetInlineStyle:{__style:{paddingBottom:"calc(100% * 16 / 9)"}}})}},666842:(e,i,n)=>{n.d(i,{Z:()=>d,k:()=>s});var t=n(667294),a=n(898781),l=n(591042),o=n(883119),r=n(785893);const s={GRID:"grid",HERO:"hero",HEAD:"head",CLOSEUP:"closeup"};function d({autoplay:e=!1,children:i,controls:n,height:d,format:c,video:u,width:p,bgImgUrl:m}){const{volume:g,setVolume:h,renderTvVideo:_}=(0,l.iH)(),[v,x]=(0,t.useState)(e),y=(0,a.ZP)();if(!u)return null;const{height:f,url:b,width:w}=u,k=p/d;return(0,r.jsx)(o.zd,{height:d,rounding:c===s.HEAD?"circle":c===s.CLOSEUP?0:4,width:p,children:c===s.GRID?(0,r.jsx)(o.Ee,{alt:"",color:"",naturalHeight:f,naturalWidth:w,src:m,children:(0,r.jsx)(o.xu,{height:"100%",position:"relative",width:"100%",children:i})}):_&&_({autoplay:e,accessibilityMaximizeLabel:y._('Maximize', 'Video.accessibilityMaximizeLabel', 'Maximize accessibility Label'),accessibilityMinimizeLabel:y._('Minimize', 'Video.accessibilityMinimizeLabel', 'Minimize accessibility Label'),accessibilityMuteLabel:y._('Mute', 'Video.accessibilityMuteLabel', 'Mute accessibility Label'),accessibilityPauseLabel:y._('Pause', 'Video.accessibilityPauseLabel', 'Pause accessibility Label'),accessibilityPlayLabel:y._('Play', 'Video.accessibilityPlayLabel', 'Play accessibility Label'),accessibilityProgressBarLabel:y._('Progress bar', 'Video.accessibilityProgressBarLabel', 'Video progress bar accessibility label'),accessibilityUnmuteLabel:y._('Unmute', 'Video.accessibilityUnmuteLabel', 'Unmute accessibility Label'),aspectRatio:k,captions:"",controls:n,loop:!0,onPlay:()=>{},onPlayError:()=>{},playing:v,playsInline:!0,poster:m,src:b,volume:g,setPlaying:x,setVolume:h,children:(0,r.jsx)(o.xu,{height:"100%",position:"relative",width:"100%",children:i})})})}},273712:(e,i,n)=>{n.d(i,{$J:()=>t,Ct:()=>p,Ff:()=>u,Md:()=>s,My:()=>o,Rp:()=>r,ak:()=>l,d0:()=>m,jm:()=>d,oo:()=>a,vw:()=>c});const t={SMALL:"SMALL",MEDIUM:"MEDIUM",LARGE:"LARGE",MOBILE_SMALL:"MOBILE_SMALL",MOBILE_LARGE:"MOBILE_LARGE"},a=2,l=6,o=3,r=1.5,s=16,d=8,c=16/9,u=25,p={PRE_LIVE:1,OFFLINE:2,LIVE:3,POST_LIVE:4},m={TRUE:!0,FALSE:!1,UNKNOWN:void 0}},582637:(e,i,n)=>{n.d(i,{Zz:()=>o,fN:()=>l,oi:()=>a});var t=n(273712);const a=e=>e.live_status===t.Ct.POST_LIVE,l=e=>e.live_status===t.Ct.LIVE,o=e=>e.live_status===t.Ct.PRE_LIVE},719626:(e,i,n)=>{n.d(i,{Z:()=>o,p:()=>l});var t=n(926467),a=n(273712);function l(e){return{date:e?(0,t.Z)(new Date(e),"eeee, MMMM do,"):"",shortDate:e?(0,t.Z)(new Date(e),"eee, MMM do,"):"",formalDate:e?(0,t.Z)(new Date(e),"d MMM yyy"):"",dayOfWeek:e?(0,t.Z)(new Date(e),"EEEE"):"",time:e?(0,t.Z)(new Date(e),"h:mm aaa"):"",mmddyyy:e?(0,t.Z)(new Date(e),"MM/dd/yyyy"):"",Emmmdd:e?(0,t.Z)(new Date(e),"E, MMM dd"):""}}function o(e){var i,n;const t=e.creator_class_instance.live_status===a.Ct.POST_LIVE;return{pinId:e.id,classId:e.creator_class.id,storyId:null===(i=e.creator_class.recap_pin)||void 0===i?void 0:i.id,creatorClassInstance:e.creator_class_instance,creatorClassInstanceId:e.creator_class_instance.id,title:e.creator_class_instance.title,isLive:e.creator_class_instance.live_status===a.Ct.LIVE,postLive:t,path:`/tv/${e.id}/?referrer=${e.referrer||0}`,recapPath:`/pin/${(null===(n=e.creator_class.recap_pin)||void 0===n?void 0:n.id)||e.id}/?referrer=${e.referrer||0}`,creator:{avatar:e.creator_class.creator.image_medium_url,host:e.creator_class.creator.full_name||e.creator_class.creator.username,path:`/${e.creator_class.creator.username}`},video:t&&e.creator_class_instance.replay_video?e.creator_class_instance.replay_video.video_list.V_720P:e.creator_class_instance.preview_video?e.creator_class_instance.preview_video.video_list.V_720P:e.creator_class_instance.hero_video?e.creator_class_instance.hero_video.video_list.V_720P:null,subscriberCount:e.creator_class.subscriber_count,subscribers:e.creator_class.subscribers}}},477802:(e,i,n)=>{n.d(i,{W:()=>o,Z:()=>l});var t=n(883119),a=n(785893);function l({data:e}){return(0,a.jsx)(t.xu,{overflow:"auto",dangerouslySetInlineStyle:{__style:{border:"2px solid red"}},"data-test-id":"debug-info",children:(0,a.jsx)("pre",{children:JSON.stringify(e,null,2).replace(/\\n/g,"\n")})})}const o=e=>(0,a.jsx)(t.xu,{width:236,dangerouslySetInlineStyle:{__style:{marginTop:10}},children:(0,a.jsx)(l,{...e})})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/10516-72309f901280cbd2.mjs.map