(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[37578,38710,93411,18306,22332,76786,10878],{651682:e=>{var t,n,o,i,r,a={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"RepinBoardPickerQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[i={alias:null,args:null,concreteType:"BoardTitleSuggestions",kind:"LinkedField",name:"boardTitleSuggestions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null},r={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"RepinBoardPickerQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null},r],storageKey:null}]},params:{id:"912911faa6d93292fbdd97db8c82e6d46db1e11fe517ace49dd4ea04bbbbfa76",metadata:{},name:"RepinBoardPickerQuery",operationKind:"query",text:null}};a.hash="2deee1270776771025d6d29bf4e91acf",e.exports=a},240684:(e,t,n)=>{n.d(t,{TA:()=>k,ZP:()=>A});var o=n(667294),i=n(263366),r=n(487462),a=n(497326),s=n(875068),l=n(659864),c=n(108679),d=n.n(c);function u(e,t){if(!e){var n=new Error("loadable: "+t);throw n.framesToPop=1,n.name="Invariant Violation",n}}function p(e){console.warn("loadable: "+e)}var h=o.createContext();function _(e){return e+"__LOADABLE_REQUIRED_CHUNKS__"}var m={initialChunks:{}},f="PENDING",g="REJECTED";var b=function(e){return e};function v(e){var t=e.defaultResolveComponent,n=void 0===t?b:t,c=e.render,p=e.onLoad;function _(e,t){void 0===t&&(t={});var _=function(e){return"function"==typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e}(e),b={};function v(e){return t.cacheKey?t.cacheKey(e):_.resolve?_.resolve(e):"static"}function x(e,o,i){var r=t.resolveComponent?t.resolveComponent(e,o):n(e);if(t.resolveComponent&&!(0,l.isValidElementType)(r))throw new Error("resolveComponent returned something that is not a React component!");return d()(i,r,{preload:!0}),r}var y,P=function(e){function n(n){var o;return(o=e.call(this,n)||this).state={result:null,error:null,loading:!0,cacheKey:v(n)},u(!n.__chunkExtractor||_.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),n.__chunkExtractor?(!1===t.ssr||(_.requireAsync(n).catch((function(){return null})),o.loadSync(),n.__chunkExtractor.addChunk(_.chunkName(n))),(0,a.Z)(o)):(!1!==t.ssr&&(_.isReady&&_.isReady(n)||_.chunkName&&m.initialChunks[_.chunkName(n)])&&o.loadSync(),o)}(0,s.Z)(n,e),n.getDerivedStateFromProps=function(e,t){var n=v(e);return(0,r.Z)({},t,{cacheKey:n,loading:t.loading||t.cacheKey!==n})};var o=n.prototype;return o.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===g&&this.setCache(),this.state.loading&&this.loadAsync()},o.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&this.loadAsync()},o.componentWillUnmount=function(){this.mounted=!1},o.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},o.getCacheKey=function(){return v(this.props)},o.getCache=function(){return b[this.getCacheKey()]},o.setCache=function(e){void 0===e&&(e=void 0),b[this.getCacheKey()]=e},o.triggerOnLoad=function(){var e=this;p&&setTimeout((function(){p(e.state.result,e.props)}))},o.loadSync=function(){if(this.state.loading)try{var e=x(_.requireSync(this.props),this.props,S);this.state.result=e,this.state.loading=!1}catch(t){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:_.resolve(this.props),chunkName:_.chunkName(this.props),error:t?t.message:t}),this.state.error=t}},o.loadAsync=function(){var e=this,t=this.resolveAsync();return t.then((function(t){var n=x(t,e.props,{Loadable:S});e.safeSetState({result:n,loading:!1},(function(){return e.triggerOnLoad()}))})).catch((function(t){return e.safeSetState({error:t,loading:!1})})),t},o.resolveAsync=function(){var e=this,t=this.props,n=(t.__chunkExtractor,t.forwardedRef,(0,i.Z)(t,["__chunkExtractor","forwardedRef"])),o=this.getCache();return o||((o=_.requireAsync(n)).status=f,this.setCache(o),o.then((function(){o.status="RESOLVED"}),(function(t){console.error("loadable-components: failed to asynchronously load component",{fileName:_.resolve(e.props),chunkName:_.chunkName(e.props),error:t?t.message:t}),o.status=g}))),o},o.render=function(){var e=this.props,n=e.forwardedRef,o=e.fallback,a=(e.__chunkExtractor,(0,i.Z)(e,["forwardedRef","fallback","__chunkExtractor"])),s=this.state,l=s.error,d=s.loading,u=s.result;if(t.suspense&&(this.getCache()||this.loadAsync()).status===f)throw this.loadAsync();if(l)throw l;var p=o||t.fallback||null;return d?p:c({fallback:p,result:u,options:t,props:(0,r.Z)({},a,{ref:n})})},n}(o.Component),w=(y=P,function(e){return o.createElement(h.Consumer,null,(function(t){return o.createElement(y,Object.assign({__chunkExtractor:t},e))}))}),S=o.forwardRef((function(e,t){return o.createElement(w,Object.assign({forwardedRef:t},e))}));return S.preload=function(e){_.requireAsync(e)},S.load=function(e){return _.requireAsync(e)},S}return{loadable:_,lazy:function(e,t){return _(e,(0,r.Z)({},t,{suspense:!0}))}}}var x=v({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var t=e.result,n=e.props;return o.createElement(t,n)}}),y=x.loadable,P=x.lazy,w=v({onLoad:function(e,t){e&&t.forwardedRef&&("function"==typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,n=e.props;return n.children?n.children(t):null}}),S=w.loadable,j=w.lazy,I="undefined"!=typeof window;function k(e,t){void 0===e&&(e=function(){});var n=(void 0===t?{}:t).namespace,o=void 0===n?"":n;if(!I)return p("`loadableReady()` must be called in browser only"),e(),Promise.resolve();var i=null;if(I){var r=_(o),a=document.getElementById(r);if(a){i=JSON.parse(a.textContent);var s=document.getElementById(r+"_ext");if(!s)throw new Error("loadable-component: @loadable/server does not match @loadable/component");JSON.parse(s.textContent).namedChunks.forEach((function(e){m.initialChunks[e]=!0}))}}if(!i)return p("`loadableReady()` requires state, please use `getScriptTags` or `getScriptElements` server-side"),e(),Promise.resolve();var l=!1;return new Promise((function(e){window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[];var t=window.__LOADABLE_LOADED_CHUNKS__,n=t.push.bind(t);function o(){i.every((function(e){return t.some((function(t){return t[0].indexOf(e)>-1}))}))&&(l||(l=!0,e()))}t.push=function(){n.apply(void 0,arguments),o()},o()})).then(e)}var C=y;C.lib=S,P.lib=j;const A=C},294184:(e,t)=>{var n;!function(){var o={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)&&n.length){var a=i.apply(null,n);a&&e.push(a)}else if("object"===r)for(var s in n)o.call(n,s)&&n[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},701305:e=>{var t=[],n=[];function o(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if("object"!=typeof e||"object"!=typeof t)return!1;var r=Object.prototype.toString,a=r.call(e);if(a!=r.call(t))return!1;switch(a){case"[object String]":return e==String(t);case"[object Number]":return!isNaN(e)&&!isNaN(t)&&e==Number(t);case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}for(var s=n.length;s--;)if(n[s]==e)return i[s]==t;n.push(e),i.push(t);var l=0;if("[object Array]"===a){if((l=e.length)!==t.length)return!1;for(;l--;)if(!o(e[l],t[l],n,i))return!1}else{if(e.constructor!==t.constructor)return!1;if(e.hasOwnProperty("valueOf")&&t.hasOwnProperty("valueOf"))return e.valueOf()==t.valueOf();var c=Object.keys(e);if(c.length!=Object.keys(t).length)return!1;for(var d=0;d<c.length;d++)if(!o(e[c[d]],t[c[d]],n,i))return!1}return n.pop(),i.pop(),!0}e.exports=function(e,i){var r=t.length?t.pop():[],a=n.length?n.pop():[],s=o(e,i,r,a);return r.length=0,a.length=0,t.push(r),n.push(a),s}},60139:e=>{function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},663620:(e,t,n)=>{var o=n(60139);e.exports=o},108679:(e,t,n)=>{var o=n(121296),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return o.isMemo(e)?a:s[e.$$typeof]||i}s[o.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[o.Memo]=a;var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,_=Object.prototype;e.exports=function e(t,n,o){if("string"!=typeof n){if(_){var i=h(n);i&&i!==_&&e(t,i,o)}var a=d(n);u&&(a=a.concat(u(n)));for(var s=l(t),m=l(n),f=0;f<a.length;++f){var g=a[f];if(!(r[g]||o&&o[g]||m&&m[g]||s&&s[g])){var b=p(n,g);try{c(t,g,b)}catch(v){}}}}return t}},396103:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,_=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116;function f(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case u:case r:case s:case a:case h:return e;default:switch(e=e&&e.$$typeof){case c:case p:case l:return e;default:return t}}case m:case _:case i:return t}}}function g(e){return f(e)===u}t.typeOf=f,t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=l,t.Element=o,t.ForwardRef=p,t.Fragment=r,t.Lazy=m,t.Memo=_,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===u||e===s||e===a||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===_||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p)},t.isAsyncMode=function(e){return g(e)||f(e)===d},t.isConcurrentMode=g,t.isContextConsumer=function(e){return f(e)===c},t.isContextProvider=function(e){return f(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return f(e)===p},t.isFragment=function(e){return f(e)===r},t.isLazy=function(e){return f(e)===m},t.isMemo=function(e){return f(e)===_},t.isPortal=function(e){return f(e)===i},t.isProfiler=function(e){return f(e)===s},t.isStrictMode=function(e){return f(e)===a},t.isSuspense=function(e){return f(e)===h}},121296:(e,t,n)=>{e.exports=n(396103)},869921:(e,t)=>{var n="function"==typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,_=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,f=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,v=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function y(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case u:case r:case s:case a:case h:return e;default:switch(e=e&&e.$$typeof){case c:case p:case f:case m:case l:return e;default:return t}}case i:return t}}}function P(e){return y(e)===u}t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=l,t.Element=o,t.ForwardRef=p,t.Fragment=r,t.Lazy=f,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=h,t.isAsyncMode=function(e){return P(e)||y(e)===d},t.isConcurrentMode=P,t.isContextConsumer=function(e){return y(e)===c},t.isContextProvider=function(e){return y(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return y(e)===p},t.isFragment=function(e){return y(e)===r},t.isLazy=function(e){return y(e)===f},t.isMemo=function(e){return y(e)===m},t.isPortal=function(e){return y(e)===i},t.isProfiler=function(e){return y(e)===s},t.isStrictMode=function(e){return y(e)===a},t.isSuspense=function(e){return y(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===u||e===s||e===a||e===h||e===_||"object"==typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p||e.$$typeof===b||e.$$typeof===v||e.$$typeof===x||e.$$typeof===g)},t.typeOf=y},659864:(e,t,n)=>{e.exports=n(869921)},442279:(e,t)=>{function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){return e===t}function i(e){var t=arguments.length<=1||void 0===arguments[1]?o:arguments[1],n=null,i=null;return function(){for(var o=arguments.length,r=Array(o),a=0;a<o;a++)r[a]=arguments[a];return null!==n&&n.length===r.length&&r.every((function(e,o){return t(e,n[o])}))||(i=e.apply(void 0,r)),n=r,i}}function r(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}function a(e){for(var t=arguments.length,o=Array(t>1?t-1:0),i=1;i<t;i++)o[i-1]=arguments[i];return function(){for(var t=arguments.length,i=Array(t),a=0;a<t;a++)i[a]=arguments[a];var s=0,l=i.pop(),c=r(i),d=e.apply(void 0,[function(){return s++,l.apply(void 0,arguments)}].concat(o)),u=function(e,t){for(var o=arguments.length,i=Array(o>2?o-2:0),r=2;r<o;r++)i[r-2]=arguments[r];var a=c.map((function(n){return n.apply(void 0,[e,t].concat(i))}));return d.apply(void 0,n(a))};return u.resultFunc=l,u.recomputations=function(){return s},u.resetRecomputations=function(){return s=0},u}}t.zB=function(e){var t=arguments.length<=1||void 0===arguments[1]?s:arguments[1];if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return t.reduce((function(e,t,o){return e[n[o]]=t,e}),{})}))};var s=t.P1=a(i)},560053:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var o=n-1>>>1,i=e[o];if(!(0<r(i,t)))break e;e[o]=t,e[n]=i,n=o}}function o(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var o=0,i=e.length,a=i>>>1;o<a;){var s=2*(o+1)-1,l=e[s],c=s+1,d=e[c];if(0>r(l,n))c<i&&0>r(d,l)?(e[o]=d,e[c]=n,o=c):(e[o]=l,e[s]=n,o=s);else{if(!(c<i&&0>r(d,n)))break e;e[o]=d,e[c]=n,o=c}}}return t}function r(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],d=[],u=1,p=null,h=3,_=!1,m=!1,f=!1,g="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,v="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var t=o(d);null!==t;){if(null===t.callback)i(d);else{if(!(t.startTime<=e))break;i(d),t.sortIndex=t.expirationTime,n(c,t)}t=o(d)}}function y(e){if(f=!1,x(e),!m)if(null!==o(c))m=!0,R(P);else{var t=o(d);null!==t&&z(y,t.startTime-e)}}function P(e,n){m=!1,f&&(f=!1,b(I),I=-1),_=!0;var r=h;try{for(x(n),p=o(c);null!==p&&(!(p.expirationTime>n)||e&&!A());){var a=p.callback;if("function"==typeof a){p.callback=null,h=p.priorityLevel;var s=a(p.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?p.callback=s:p===o(c)&&i(c),x(n)}else i(c);p=o(c)}if(null!==p)var l=!0;else{var u=o(d);null!==u&&z(y,u.startTime-n),l=!1}return l}finally{p=null,h=r,_=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,S=!1,j=null,I=-1,k=5,C=-1;function A(){return!(t.unstable_now()-C<k)}function T(){if(null!==j){var e=t.unstable_now();C=e;var n=!0;try{n=j(!0,e)}finally{n?w():(S=!1,j=null)}}else S=!1}if("function"==typeof v)w=function(){v(T)};else if("undefined"!=typeof MessageChannel){var E=new MessageChannel,B=E.port2;E.port1.onmessage=T,w=function(){B.postMessage(null)}}else w=function(){g(T,0)};function R(e){j=e,S||(S=!0,w())}function z(e,n){I=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||_||(m=!0,R(P))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return o(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,r){var a=t.unstable_now();switch("object"==typeof r&&null!==r?r="number"==typeof(r=r.delay)&&0<r?a+r:a:r=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:u++,callback:i,priorityLevel:e,startTime:r,expirationTime:s=r+s,sortIndex:-1},r>a?(e.sortIndex=r,n(d,e),null===o(c)&&e===o(d)&&(f?(b(I),I=-1):f=!0,z(y,r-a))):(e.sortIndex=s,n(c,e),m||_||(m=!0,R(P))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},363840:(e,t,n)=>{e.exports=n(560053)},653250:(e,t,n)=>{var o=n(667294);var i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=o.useState,a=o.useEffect,s=o.useLayoutEffect,l=o.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(o){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),o=r({inst:{value:n,getSnapshot:t}}),i=o[0].inst,d=o[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&d({inst:i})}),[e,n,t]),a((function(){return c(i)&&d({inst:i}),e((function(){c(i)&&d({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==o.useSyncExternalStore?o.useSyncExternalStore:d},950139:(e,t,n)=>{var o=n(667294),i=n(61688);var r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useSyncExternalStore,s=o.useRef,l=o.useEffect,c=o.useMemo,d=o.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,o,i){var u=s(null);if(null===u.current){var p={hasValue:!1,value:null};u.current=p}else p=u.current;u=c((function(){function e(e){if(!l){if(l=!0,a=e,e=o(e),void 0!==i&&p.hasValue){var t=p.value;if(i(t,e))return s=t}return s=e}if(t=s,r(a,e))return t;var n=o(e);return void 0!==i&&i(t,n)?t:(a=e,s=n)}var a,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,o,i]);var h=a(e,u[0],u[1]);return l((function(){p.hasValue=!0,p.value=h}),[h]),d(h),h}},61688:(e,t,n)=>{e.exports=n(653250)},552798:(e,t,n)=>{e.exports=n(950139)},178973:(e,t,n)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/pin/[id]/repin"]=function(){return n(110878).Z}},473580:(e,t,n)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/pin/[id]/repin/x"]=function(){return n(110878).Z}},52270:(e,t,n)=>{n.d(t,{Z:()=>u});var o=n(777918),i=n(542554),r=n(795152),a=n(941646),s=n(898781),l=n(313047),c=n(883119),d=n(785893);function u(e){const t=(0,s.ZP)(),{backButtonIcon:n,name:u,onNextButtonTouch:p,onNameChange:h,selectedPinIds:_=[],useRoundedCorners:m}=e,f=_.length>0?130:64;return(0,d.jsxs)(i.default,{hasFixedHeader:!0,children:[(0,d.jsxs)(l.FixedHeader,{height:f,paddingY:3,useRoundedCorners:m,children:[(0,d.jsxs)(c.kC,{alignItems:"center",justifyContent:"between",children:[(0,d.jsx)(o.Z,{color:"darkGray",icon:n||"cancel",padding:3,size:"sm"}),(0,d.jsx)(c.X6,{accessibilityLevel:1,size:"300",children:t._('Add section', 'for add board section page', 'for add board section page')}),(0,d.jsx)(a.Z,{id:"create-section-button",children:(0,d.jsx)(c.zx,{accessibilityLabel:t._('Add', 'boardSectionCreate.Add.Button.Text', 'Add button accessibility label for board section create page'),onClick:p,disabled:""===u.trim(),color:"red",size:"lg",text:t._('Next', 'Next button for board section create page', 'Next button for board section create page')})})]}),_&&(0,d.jsx)(r.Z,{selectedPinIds:_})]}),(0,d.jsx)(c.xu,{"data-test-id":"addSectionName",paddingX:2,paddingY:3,children:(0,d.jsx)(c.nv,{id:"section-name-input",label:t._('Name', 'boardSectionCreate.TextField.Name.Label', 'TextField label to Name on BoardSectionCreate'),onChange:e=>h(e.event),size:"lg",value:u})})]})}},279066:(e,t,n)=>{n.d(t,{Z:()=>u});var o=n(702664),i=n(433035),r=n(898781),a=n(989726),s=n(694325),l=n(479739),c=n(883119),d=n(785893);function u({excludeBoardId:e,onRepinToBoard:t}){const n=(0,r.ZP)(),u=(()=>{const{userId:e}=(0,o.useSelector)((e=>e.session));return(0,a.Z)({name:"BoardPickerBoardsResource",options:{field_set_key:"board_picker",user_id:e}}),(0,o.useSelector)((e=>(0,l.Is)(e)||[]))})();return u.length>0&&(0,d.jsxs)(c.xu,{children:[(0,d.jsx)(c.xu,{marginTop:3,children:(0,d.jsx)(c.xv,{children:n._('All boards', 'title for board picker all boards section', 'title for board picker all boards section')})}),(0,d.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:`${s.T}px`}},paddingY:3,children:u.filter((t=>t.id!==e)).map((e=>(0,d.jsx)(i.Z,{boardId:e.id,onBoardSelected:()=>t(e)},e.id)))})]})}},317786:(e,t,n)=>{n.d(t,{Wx:()=>y,ZP:()=>w});var o=n(667294),i=n(702664),r=n(777918),a=n(30700),s=n(542554),l=n(279066),c=n(855813),d=n(795152),u=n(499128),p=n(343341),h=n(898781),_=n(694325),m=n(883119),f=n(313047),g=n(789363),b=n(276775),v=n(785893);function x(e,t,n){return e?n._('Got it! Hang tight while we move all those Pins...', 'Toast message for bulk pins move.', 'Toast message for bulk pins move.'):t?n._('Saved to section!', ' - ', ' -- '):n._('Saved to board!', ' - ', ' -- ')}function y({onAddNewSection:e,useIconWithBackground:t}){const n=(0,h.ZP)();return(0,v.jsx)(f.FixedFooter,{height:t?_.y:_.T,alignCenter:t,children:(0,v.jsx)(a.Z,{onTouch:e,pressState:"none",children:(0,v.jsxs)(m.xu,{display:"flex",alignItems:"center",padding:t?0:1,"data-test-id":"addSectionButton",children:[t?(0,v.jsx)(m.xu,{color:"secondary",rounding:2,dangerouslySetInlineStyle:{__style:{padding:"14px"}},children:(0,v.jsx)(m.JO,{icon:"add",color:"default",size:20,accessibilityLabel:n._('Create board button', 'RepinSection.CreateBoard.Button', 'accessibility label for create board button')})}):(0,v.jsx)(m.JO,{icon:"add-circle",color:"error",size:38,accessibilityLabel:n._('Add section button', ' - ', ' -- ')}),t?(0,v.jsx)(m.xu,{marginStart:2,children:(0,v.jsx)(m.xv,{size:"400",weight:"bold",children:n._('Add section', 'Add new section to Pin to', 'Add new section to Pin to')})}):(0,v.jsx)(m.xu,{marginStart:3,children:(0,v.jsx)(m.xv,{weight:"bold",children:n._('Add section', 'Add new section to Pin to', 'Add new section to Pin to')})})]})})})}class P extends o.PureComponent{constructor(...e){var t,n,o;super(...e),o=e=>{e.section_count?this.props.onRepinToBoardWithSections(e):this.props.repinToOtherBoard(e.id,this.props.i18n)},(n="onRepinToBoard")in(t=this)?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}render(){const{boardId:e,boardSectionId:t,orginalBoardId:n,onAddNewSection:o,repin:i,hideBoardPickerRow:a,selectedPinIds:u,isCollaborative:p}=this.props,h=n===e;return(0,v.jsxs)(s.default,{hasFixedHeader:!0,children:[(0,v.jsxs)(f.FixedHeader,{hasBorder:!0,height:130,children:[(0,v.jsxs)(m.kC,{alignItems:"center",justifyContent:"start",children:[(0,v.jsx)(m.xu,{column:2,children:(0,v.jsx)(r.Z,{})}),(0,v.jsx)(m.xu,{column:8,children:(0,v.jsx)(m.X6,{align:"center",accessibilityLevel:1,size:"300",children:this.props.i18n._('Choose section', 'title for section selection in repin flow', 'title for section selection in repin flow')})}),(0,v.jsx)(m.xu,{column:2})]}),(0,v.jsx)(d.Z,{selectedPinIds:u})]}),e&&(0,v.jsx)(c.Z,{boardId:e,repin:i,originalBoardId:n,hideBoardPickerRow:h&&a,sectionId:t}),h&&(0,v.jsxs)(m.xu,{children:[!p&&(0,v.jsx)(l.Z,{excludeBoardId:e,onRepinToBoard:this.onRepinToBoard}),(0,v.jsx)(y,{onAddNewSection:o})]})]})}}const w=function(e){const{inSelectAll:t,pinIds:n,orginalBoardId:o,boardSectionId:r,onRefreshBoardSection:a,url:s}=e,{showToast:l}=(0,p.F9)(),c=(0,h.ZP)(),d=(0,b.useHistory)(),_=(0,i.useDispatch)();return(0,v.jsx)(P,{...e,i18n:c,repin:async(e,i,c)=>{const p=i&&i.id,h={boardId:o,sectionId:r},m={boardId:e,sectionId:p},f=t?(0,g.X_)({source:h,target:m,excludePinIds:n}):(0,g.ic)({source:h,target:m,pinIds:n});o!==e?(await _(f),d.push({pathname:s})):(await _(f),a&&await a()),l((({hideToast:e})=>(0,v.jsx)(u.ZP,{text:x(t,p,c),onHide:e})))},repinToOtherBoard:async(e,i)=>{const a={boardId:o,sectionId:r},s={boardId:e,sectionId:void 0};l((({hideToast:e})=>(0,v.jsx)(u.ZP,{text:x(t,void 0,i),onHide:e}))),await _(t?(0,g.X_)({source:a,target:s,excludePinIds:n}):(0,g.ic)({source:a,target:s,pinIds:n})),d.go(-2)}})}},795152:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(667294),i=n(702664),r=n(898781),a=n(883119),s=n(785893);const l=(0,i.connect)((({pins:e},t)=>({selectedPins:(t.selectedPinIds||[]).map((t=>e[t]))})),(()=>({})))((function({selectedPins:e}){const t=(0,r.ZP)(),n=(0,o.useRef)();(0,o.useEffect)((()=>{const e=n.current;e&&(e.scrollLeft=e.scrollWidth-e.offsetWidth)}),[e]);const i=e.map(((e,n)=>{var o,i,r,l;const{description:c,images:d}=e,u=null==d?void 0:d["236x"];return(0,s.jsx)(a.xu,{marginEnd:1,children:(0,s.jsx)(a.zd,{rounding:2,wash:!0,width:50,height:65,children:(0,s.jsx)(a.Ee,{alt:!(null==c||!c.trim())&&(null==c?void 0:c.trim())||t._('Selected Pin', 'SelectedPinsPreview.image.accessibilityLabel', 'Accessibility label for Pin image without description'),color:null!==(o=e.dominant_color)&&void 0!==o?o:"",naturalHeight:null!==(i=null==u?void 0:u.height)&&void 0!==i?i:1,naturalWidth:null!==(r=null==u?void 0:u.width)&&void 0!==r?r:1,src:null!==(l=null==u?void 0:u.url)&&void 0!==l?l:"",fit:"contain"})})},n)}));return(0,s.jsx)(a.xu,{display:"flex",overflow:"scroll",marginTop:2,ref:n,children:i})}))},694325:(e,t,n)=>{n.d(t,{T:()=>o,y:()=>i});const o=70,i=80},500594:(e,t,n)=>{n.d(t,{Bb:()=>g,Bx:()=>c,DF:()=>a,F4:()=>l,OG:()=>r,Qj:()=>d,_6:()=>f,gv:()=>s,hg:()=>u,is:()=>_,jP:()=>m,lt:()=>i,oM:()=>p,wI:()=>h});var o=n(826067);const i=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),r=e=>e.pathname,a=e=>{var t;return null!==(t=null==e?void 0:e._('You\'ll need to log in to do that', 'limitedLogin.modalHeader.completeAction', 'Mobile web limited login modal to prompt users to log in in order to complete current action'))&&void 0!==t?t:"You'll need to log in to do that"},s=({firstName:e,i18n:t})=>e?(t._('{{ name }} invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends({{ name }}) board')).replace("{{ name }}",e):t._('Your friends invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends board'),l=e=>{const t=(0,o.mB)(e.search).board_url;if(t){const e=(0,o.Jx)(t),n=(0,o.XP)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${n}`:`${e}?${n}`}return e.pathname},c=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),d=e=>{const t=e.pathname;if(t.startsWith("/pin/")){const e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return t},u=e=>e._('Log in to send this Pin', 'limitedLogin.modalHeader.send', 'Title on mobile web limited login modal to prompt users to login after they clicked send button.'),p=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),h=e=>{const t=e.pathname;if(t.startsWith("/pin/")){const e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return t},_=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.'),m=e=>e._('Log in to hide this Pin', 'limitedLogin.modalHeader.hidePin', 'Title on mobile web limited login modal to prompt users to login after they clicked hide Pin button.'),f=e=>e._('Log in to share the profile', 'limitedLogin.modalHeader.shareProfile', 'Title on mobile web limited login modal to prompt users to login after they clicked share button on profile page.'),g=e=>e._('Log in to create a board', 'limitedLogin.modalHeader.createBoard', 'Title on mobile web limited login modal to prompt users to login to create a board.')},229324:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(898781),i=n(500594),r=n(154391),a=n(785893);function s({children:e,callbackFunction:t,modalHeader:n,nextLocation:s}){const l=(0,o.ZP)(),{viewer:c,loginForMore:d,limitedLoginModalSubheader:u,limitedLoginModalNextLocation:p}=(0,r.H)(),h="LIMITED_LOGIN"===c.type;return(0,a.jsx)("div",{onClickCapture:e=>{h&&(t&&t(),e&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),n||(n=(0,i.lt)(l)),null==d||d.setVisible(!0),null==u||u.setText(n),s&&(null==p||p.setRoute(s)))},children:e})}},347556:(e,t,n)=>{n.d(t,{Ee:()=>m,Hn:()=>i,J6:()=>_,Jw:()=>c,NR:()=>p,OW:()=>h,PS:()=>u,UT:()=>r,Ws:()=>a,cK:()=>d,cy:()=>l,o4:()=>s,tr:()=>o});const o=3,i="has_done_closeup",r=[503459,503761,505139],a="Gender",s="InterestPicker",l="LoadingStep",c="AppInstall",d={NUX_GENDER_STEP_NAME:a,NUX_INTEREST_PICKER_STEP_NAME:s,NUX_LOADING_STEP_NAME:l,NUX_APP_INSTALL_STEP_NAME:c},u="mweb_cfa_full_modal_opt_in_tp",p="mweb_dynamic_onboarding_remove_or_skippable_gender_with_blended_topics",h="dynamic_onboarding_landing_page_interest_autofollow",_="topic_picker_min_interest_selection_experiment",m="mweb_modernize_nux"},777918:(e,t,n)=>{n.d(t,{Z:()=>p});var o=n(702664),i=n(941646),r=n(898781),a=n(112690),s=n(385740),l=n(539497),c=n(883119),d=n(276775),u=n(785893);function p({alignIconLeft:e,bgColor:t,color:n,disableRedirect:p=!1,fallbackUrl:h,icon:_="arrow-back",onTouch:m,padding:f,placement:g,shouldUseFallbackUrl:b,size:v="lg",viewParameter:x,viewType:y}){const P=(0,r.ZP)(),w=(0,d.useHistory)(),S=(0,d.useLocation)(),j=(0,o.useSelector)((e=>e.session.isAuthenticated)),I=(0,a.Z)(),{viewType:k,viewParameter:C}=(0,s.SU)(),[A,T]=y?[y,x]:[k,C],E=()=>{(0,l.My)(`mweb_back_button_click.${String(g)}.is_auth_${String(j)}`),(0,l.LW)({action:"click",pageLocation:S,item:"back-button"}),A&&I({view_type:A,view_parameter:T,element:34,event_type:102}),m&&m(),p||((!S.key||S.state&&"redirect"===S.state.referrer||b)&&h?w.push(h):S.pathname.includes("/password/reset/")&&S.search&&S.search.includes("?nativeShouldDismiss=true")?w.push("/login/?dismissWebview=true"):w.goBack())};return(0,u.jsx)(i.Z,{id:"back-button",children:e?(0,u.jsx)(c.xu,{display:"flex",width:48,height:48,alignItems:"center",marginStart:"cancel"===_?-1:-2,children:(0,u.jsx)(c.hU,{accessibilityLabel:P._('Back', 'navigation button', 'navigation button'),bgColor:t,iconColor:n||t&&!["white","lightGray","transparent"].includes(t)?n:"gray",icon:_,onClick:E,padding:"auto"!==f?f:2,size:v})}):(0,u.jsx)(c.hU,{accessibilityLabel:P._('Back', 'navigation button', 'navigation button'),bgColor:t,iconColor:n||t&&!["white","lightGray","transparent"].includes(t)?n:"gray",icon:_,onClick:E,padding:"auto"!==f?f:2,size:v})})}},433035:(e,t,n)=>{n.d(t,{Z:()=>p});var o=n(667294),i=n(702664),r=n(794987),a=n(898781),s=n(728214),l=n(758127),c=n(349700),d=n(883119),u=n(785893);function p({boardId:e,onBoardSelected:t,noArrowIcon:n,showSingleBoardRep:p}){var h;const _=(0,a.ZP)(),m=(0,i.useSelector)((({boards:e})=>e))[e],f=(m.collaborating_users||[]).map((e=>{var t,n;return{name:null!==(t=e.username)&&void 0!==t?t:"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":null!==(n=e.image_medium_url)&&void 0!==n?n:""}}));let g="";const b=f.slice(0,3).map((e=>e.name));switch(f.length){case 3:g=(0,c.Wc)(`${_._('{{ first }}, {{ second }}, and {{ last }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames')}`,{first:`${b[0]}`,second:`${b[1]}`,last:`${b[2]}`});break;case 2:g=(0,c.Wc)(`${_._('{{ first }} and {{ second }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.')}`,{first:`${b[0]}`,second:`${b[1]}`});break;default:g=b.join(", ")}const v=f.length>3?(0,c.Wc)(_.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', f.length - 3, 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars'),{userNames:g,leftCount:""+(f.length-3)}):(0,c.Wc)(`${_._('Collaborators: {{ userNames }}.', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree', 'Accessibility label that lists the names of collaborators')}`,{userNames:g}),x=new d.Ry(0),y=(0,u.jsx)(o.Fragment,{children:(0,u.jsxs)(d.xu,{"data-test-id":"board-picker-row",display:"flex",alignItems:"center",rounding:2,column:12,marginBottom:p?4:0,children:[(0,u.jsx)(d.xu,{paddingY:p?0:2,children:p?(0,u.jsx)(d.xu,{height:48,overflow:"hidden",width:48,children:(0,u.jsx)(d.zd,{height:"100%",rounding:2,width:"100%",children:(0,u.jsx)(d.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:m.image_cover_url||""})})}):(0,u.jsx)(d.xu,{height:60,overflow:"hidden",rounding:4,width:60,children:(0,u.jsx)(r.Z,{boardId:m.id,type:"thumbnail",fullSize:!0})})}),(0,u.jsxs)(d.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:[(0,u.jsx)(d.xu,{direction:"column",display:"flex",justifyContent:"center",marginStart:p?2:4,width:"100%",overflow:p?"hidden":"auto",children:(0,u.jsx)(d.xv,{size:"400",weight:"bold",lineClamp:p?1:void 0,children:m.name})}),(0,u.jsxs)(d.kC,{alignItems:p?"center":"start",justifyContent:"start",children:["secret"===m.privacy&&(0,u.jsx)(d.xu,{marginStart:p?3:1,children:(0,u.jsx)(d.JO,{color:p?"default":"subtle",icon:"lock",accessibilityLabel:_._('secret board icon', ' - ', ' -- ')})}),m.is_collaborative&&p&&f.length>0?(0,u.jsx)(d.xu,{zIndex:x,children:(0,u.jsx)(d.HE,{accessibilityLabel:l.U+v,collaborators:f,size:1===f.length?"sm":"xs"})}):m.is_collaborative&&(0,u.jsx)(d.xu,{marginStart:1,children:(0,u.jsx)(d.JO,{icon:"people",accessibilityLabel:_._('group board icon', ' - ', ' -- ')})}),!n&&!!m.section_count&&(0,u.jsx)(d.xu,{"data-test-id":"boardSectionPicker",marginStart:p?3:0,children:(0,u.jsx)(d.JO,{color:p?"default":"subtle",icon:"arrow-forward",accessibilityLabel:_._('board section board picker icon', ' - ', ' -- ')})})]})]})]})}),P=m.section_count,w=!!P&&P>0,S=(0,s.Z)(),j=null!==(h=m.name)&&void 0!==h?h:"this board";return(0,u.jsx)(d.iP,{rounding:2,onTap:S({fn:()=>t(w)}),accessibilityLabel:(0,c.Wc)(`${_._('Select {{ boardName }}', 'board.picker.row.select.board', 'Accessibility label for select board button')}`,{boardName:j}),tapStyle:"compress",children:y})}},855813:(e,t,n)=>{n.d(t,{Z:()=>_});var o=n(702664),i=n(433035),r=n(30700),a=n(883119),s=n(785893);function l({onSectionSelected:e,sectionId:t,showSectionRep:n}){var i;const l=(0,o.useSelector)((({boardsections:e})=>e[t])),c=(0,o.useSelector)((({pins:e})=>{var t;return l&&l.preview_pins&&(null===(t=e[l.preview_pins[0]])||void 0===t?void 0:t.image_medium_url)}));return(0,s.jsx)(r.Z,{rounding:2,onTouch:e,pressState:"none",children:(0,s.jsxs)(a.xu,{"data-test-id":"sectionPickerRow",display:"flex",alignItems:"center",rounding:2,column:12,marginBottom:n?4:0,children:[n&&(0,s.jsx)(a.xu,{height:48,width:51,children:(0,s.jsx)(a.zd,{height:"100%",rounding:2,width:"100%",children:(0,s.jsx)(a.Ee,{alt:null!==(i=l.title)&&void 0!==i?i:"",color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:c||""})})}),!n&&(0,s.jsx)(a.xu,{column:1,paddingY:2}),(0,s.jsx)(a.xu,{column:11,display:"flex",flex:"grow",justifyContent:"between",paddingY:2,children:n?(0,s.jsx)(a.xu,{overflow:"hidden",width:"100%",marginStart:2,children:(0,s.jsx)(a.xv,{size:"400",lineClamp:1,weight:"bold",children:l.title})}):(0,s.jsx)(a.xu,{marginStart:2,children:(0,s.jsx)(a.xv,{weight:"bold",children:l.title})})})]})})}var c=n(989726),d=n(479739),u=n(904411),p=n(276775),h=n(898781);function _({boardId:e,originalBoardId:t,sectionId:n,repin:r,hideBoardPickerRow:_,showSectionRep:m}){const f=(0,h.ZP)(),{isFetching:g,boardSections:b,filteredBoardSections:v}=((e,t)=>{const{isFetching:n}=(0,c.Z)({name:"BoardSectionsRepinResource",options:{board_id:e}}),i=(0,o.useSelector)((t=>((0,d.T_)(t,{boardId:e})||[]).reduce(((e,t)=>{if("boardsection"===t.type){const n={type:"boardsection",id:t.id};e.push(n)}return e}),[]))),r=(0,o.useSelector)((n=>i.map((e=>e.id)).reduce(((o,i)=>{const r=n.boardsections[null!=i?i:""];return i!==t&&r&&o.push({board:{id:e},id:r.id,title:r.title,type:"boardsection",slug:r.slug}),o}),[])));return{isFetching:n,boardSections:i,filteredBoardSections:r}})(e,n),x=(0,p.useHistory)(),y=(0,u.gC)()(t||"");return(0,s.jsxs)(a.xu,{children:[b.length>0&&(0,s.jsxs)(a.xu,{paddingY:m?0:3,children:[m&&(0,s.jsx)(a.xu,{paddingY:2,children:(0,s.jsx)(a.xu,{marginBottom:2,children:(0,s.jsx)(a.xv,{children:f._('Board', 'RepinFlow.SectionPickerList.Board', 'Section picker board title')})})}),!_&&(0,s.jsx)(i.Z,{boardId:e,noArrowIcon:!0,onBoardSelected:()=>r(e,void 0,f),showSingleBoardRep:m},e),m&&(0,s.jsx)(a.xu,{paddingY:4,children:(0,s.jsx)(a.xv,{children:f._('Section', 'RepinFlow.SectionPickerList.Section', 'Section picker all sections title')})}),v.map((n=>{var o;return(0,s.jsx)(l,{onSectionSelected:()=>{var o;(r(e,n,f),t)&&x.push(null!==(o=null==y?void 0:y.url)&&void 0!==o?o:"")},sectionId:null!==(o=n.id)&&void 0!==o?o:"",showSectionRep:m},n.id)}))]}),(0,s.jsx)(a.$j,{accessibilityLabel:f._('Loading board section for repin flow', ' - ', ' -- '),show:g})]})}},877867:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(499128),i=n(162158),r=n(789363),a=n(358589),s=n(785893);const l=({boardId:e,boardSectionId:t,clientTrackingParams:n,dispatch:l,i18n:c,newPinId:d,onError:u,onSuccess:p,originalPinId:h,shouldRefresh:_=!1,showToast:m,sourcePinId:f})=>l((0,a.q$)({pinId:d,boardId:e,boardSectionId:t,clientTrackingParams:n})).then((()=>{h&&l((0,a.t_)(h,e,t)),l((0,a.t_)(f,e,t)),_&&(t&&l((0,r.A4)(t)),e&&l((0,i.u)(e))),m((({hideToast:e})=>(0,s.jsx)(o.ZP,{text:c._('Pin removed!', 'Utils.Unsave.Success', 'User removed their pin'),onHide:e}))),p&&p()})).catch((()=>{m((({hideToast:e})=>(0,s.jsx)(o.ZP,{variant:"error",text:c._('Sorry! There was an error removing your Pin.', 'Utils.Unsave.Error', 'Error when user tried to remove pin'),onHide:e}))),null==u||u()}))},789363:(e,t,n)=>{n.d(t,{A4:()=>p,ET:()=>m,Nv:()=>u,PA:()=>c,X_:()=>_,ic:()=>h,o4:()=>d});var o=n(6637),i=n(47495),r=n(414327),a=n(782677),s=n(983360);const l=(e,t)=>({type:s.nk,payload:t}),c=(e,t)=>n=>o.Z.create("BoardSectionEditResource",{...t,section_id:e}).callCreate().then((e=>(n(l(0,t)),e.resource_response.data))),d=(e,t,n,i)=>r=>{const a=o.Z.create("BoardSectionEditResource",{section_id:t}).callDelete();return r(((e,t,n,o)=>({type:s.Yn,payload:{userId:e,boardSectionId:t,boardId:n,pinCount:o}}))(e,t,n,i)),a},u=(e,t,n)=>l=>{const c={board_id:e,initial_pins:t,name:n},d="BoardSectionResource";return o.Z.create(d,c).callCreate().then((n=>{const o=n.resource_response.data,u=(0,a.Fv)(o,i.Z[d]);return l((0,r.XM)(d,c,n,u)),t.length&&l({type:s.u2,payload:{source:{boardId:e},target:{boardId:e,sectionId:o.id},pinIds:t}}),n}))},p=e=>t=>{const n={section_id:e},r="BoardSectionResource";return o.Z.create(r,n).callGet().then((n=>{const o=(0,a.Fv)(n.resource_response.data,i.Z[r]).entities.boardsections[e];return t(l(0,o)),n}))},h=e=>t=>{const{source:n,target:l,pinIds:c}=e;if(t({type:s.u2,payload:e}),n.boardlessPins||l.boardId!==n.boardId){const e={board_id:l.boardId,pin_ids:c,section_id:l.sectionId},t="BulkEditResource";return o.Z.create(t,e).callUpdate()}if(l.sectionId){const e={section_id:l.sectionId,pins:c},n="BoardSectionEditResource";return o.Z.create(n,e).callUpdate().then((o=>{const s=(0,a.Fv)(o.resource_response.data,i.Z[n]);return t((0,r.XM)(n,e,o,s)),o}))}const d={section_id:n.sectionId,pins:c};return o.Z.create("BoardSectionPinsResource",d).callDelete()},_=e=>t=>{t({type:s.Fl,payload:e});const{source:n,target:i,excludePinIds:r}=e,a={board_id:n.boardId,new_board_id:i.boardId,pin_ids:r,old_section_id:n.sectionId,new_section_id:i.sectionId};return o.Z.create("BulkEditSelectAllResource",a).callUpdate()},m=(e,t,n,o)=>i=>i(u(e,[],t)).then((t=>{const r=t.resource_response.data.id;return i(_({source:{boardId:e,sectionId:o},target:{boardId:e,sectionId:r},excludePinIds:n}))}))},479739:(e,t,n)=>{n.d(t,{CQ:()=>l,Cj:()=>_,Il:()=>m,In:()=>j,Is:()=>g,JF:()=>w,NZ:()=>p,PN:()=>b,R_:()=>d,T_:()=>y,Ud:()=>h,ZX:()=>k,gI:()=>u,i3:()=>v,ik:()=>I,kT:()=>x,oF:()=>c,ts:()=>s,ut:()=>S});var o=n(442279);const i=e=>e.boards,r=e=>e.invites,a=e=>e.users,s=e=>e.users[e.session.userId]||null,l=e=>(e=>(t,n)=>t.feeds[((e,t)=>"string"==typeof e?e:e(t))(e,n)])(e),c=(0,o.P1)((e=>e.feeds),(e=>Object.keys(e).filter((e=>e.includes("share-suggestions"))).reduce(((t,n)=>({...t,[n]:e[n]})),{}))),d=(0,o.P1)(r,(e=>Object.keys(e).reduce(((t,n)=>{const o=n.split(":")[0],i=t[o]||{notPendingOwnerAction:[],pendingOwnerAction:[]};return e[n]&&"not_invited"!==e[n].status&&("pending_approval"===e[n].status?i.pendingOwnerAction.push(n):i.notPendingOwnerAction.push(n),t[o]=i),t}),{}))),u=(0,o.P1)(r,(e=>Object.keys(e).reduce(((t,n)=>{const o=e[n];return t[n]=o,t}),{}))),p=(0,o.P1)(s,r,((e,t)=>Object.keys(t).reduce(((n,o)=>{const i=o.split(":"),r=i[0],a=i[1],s=e.id===a,l=t[o]&&["new","contact_request_not_approved"].includes(t[o].status);return s&&l&&(n[r]=o),n}),{}))),h=(0,o.P1)(a,r,((e,t)=>Object.keys(t).reduce(((n,o)=>{const i=t[o]||{};return n[o]=e[i.invited_by_user],n}),{}))),_=(0,o.P1)((e=>e.topics),(e=>Object.keys(e).reduce(((t,n)=>{const o=e[n];return t[o.slug]=o,t[n]=o,t}),{}))),m=(0,o.P1)(a,(e=>Object.keys(e).reduce(((t,n)=>{const o=e[n];return t[o.username]=o,t}),{}))),f=(0,o.P1)(s,i,((e,t)=>Object.keys(t).reduce(((n,o)=>{var i;const r=t[o];return!r.archived_by_me_at&&((null===(i=r.owner)||void 0===i?void 0:i.id)===e.id||r.collaborating_users&&r.collaborating_users.map((({id:e})=>e)).includes(e.id))&&r.cover_images?n.concat([r]):n}),[]))),g=(0,o.P1)(f,(e=>e.sort(((e,t)=>e.name.localeCompare(t.name))))),b=(0,o.P1)(((e,t)=>e.users[t.user_id]||null),i,((e,t)=>Object.keys(t).reduce(((n,o)=>{var i;const r=t[o];return!r.archived_by_me_at&&e&&((null===(i=r.owner)||void 0===i?void 0:i.id)===e.id||r.collaborating_users&&r.collaborating_users.map((({id:e})=>e)).includes(e.id))&&n.push(r),n}),[]))),v=(0,o.P1)(i,(e=>Object.keys(e).reduce(((t,n)=>{const o=e[n];return t[o.url]=o,o.oldSlugUrl&&(t[o.oldSlugUrl]=o),t}),{}))),x=(0,o.P1)((e=>e.boardsections),(e=>Object.keys(e).reduce(((t,n)=>{const o=e[n];return t[`${o.board}_${o.slug}`]=o,t}),{}))),y=l((({boardId:e})=>`board-sections:${e}`)),P=l((({pinId:e})=>`call-to-create-pins:${e}`)),w=(0,o.P1)((e=>e.pins),P,((e=[],t=[])=>t.map((t=>e[t.id])))),S=e=>e.experiences[40001]&&(40002===e.experiences[40001].experience_id||500450===e.experiences[40001].experience_id),j=e=>e.experiences[40001]&&500681===e.experiences[40001].experience_id,I=({pins:e},{pinId:t})=>{const n=e[t];return{callToCreateResponseCount:n.call_to_create_responses_count,callToCreateResponsesPreviewImageUrls:n.call_to_create_responses_preview_image_urls,callToCreateSourcePin:n.call_to_create_source_pin,callToCreateSourcePinId:n.call_to_create_source_pin_id,isCallToCreate:n.is_call_to_create}},k=(0,o.P1)([(e,t,n)=>{var o,i,r;switch(n){case"pin":return null===(o=e.pins)||void 0===o?void 0:o[t];case"board":return null===(i=e.boards)||void 0===i?void 0:i[t];case"user":return null===(r=e.users)||void 0===r?void 0:r[t];default:return""}},({session:e})=>e.seoDebug],((e,t)=>{if(t){var n,o,i,r,a;return{noIndexReason:null==e||null===(n=e.page_metadata)||void 0===n?void 0:n.noindex_reason,canonicalId:null==e||null===(o=e.pin_join)||void 0===o||null===(i=o.canonical_pin)||void 0===i?void 0:i.id,canonicalDomain:null==e||null===(r=e.page_metadata)||void 0===r?void 0:r.canonical_domain,canonicalUrl:null==e||null===(a=e.page_metadata)||void 0===a?void 0:a.canonical_url}}return null}))},176786:(e,t,n)=>{n.d(t,{Io:()=>B,ZP:()=>F});var o=n(667294),i=n(702664),r=n(52395),a=n(777918),s=n(794987),l=n(622359),c=n(609943),d=n(542554),u=n(499128),p=n(877867),h=n(223123),_=n(50286),m=n(411465),f=n(523504),g=n(19121),b=n(313047),v=n(862501),x=n(349700),y=n(643010),P=n(347556),w=n(898781),S=n(112690),j=n(728214),I=n(276775),k=n(358589),C=n(883119),A=n(332611),T=n(785893);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const B=(e,t,n)=>{const o=n._('Saved to new board', 'Board saved message if the new board\'s name is not found', 'Board saved message if the new board\'s name is not found');return{text:t?(0,x.nk)(n._('Saved to {{ board }}', 'Board saved message', 'Board saved message'),{board:t}).join(" "):o,href:e}},R=e=>({color:e?"#fff":"#333",fontSize:21,fontWeight:"bold",background:"none",outline:"none",border:"none",marginTop:"4px",width:"100%"});class z extends o.PureComponent{constructor(...e){var t;super(...e),t=this,E(this,"state",{boardName:this.props.match.params.boardName||"",canSubmit:!!this.props.match.params.boardName,errorBoardNames:[],secret:!1,submitting:!1}),E(this,"handleRepinSuccess",(()=>this.props.history.go(-2))),E(this,"onSwitchToggle",(()=>{this.setState((({secret:e})=>({secret:!e})))})),E(this,"onInputChange",(e=>{const t=e.target.value,n=t.trim().length;this.setState((({errorBoardNames:e})=>({boardName:t,canSubmit:n>0&&n<=100&&!e.includes(t)})))})),E(this,"onCreateClick",this.props.requireAuthForLimitedLogin({fn:()=>{const{boardName:e,secret:n,submitting:i}=this.state,{createPin:r,createBoard:a,dispatchUnsavePin:d,history:p,i18n:h,location:_,match:m,pin:f,repinToBoard:g,showRepinConfirmation:b,showToast:x,undoSaveAction:y}=this.props;if(i)return;const P=n?"secret":"public",w=m.params.pinId,S=_.state?_.state.pinnedToBoardId:"",j=this.props.i18n._('Created Board!', 'Text in toast after creating a new board', 'Text in toast after creating a new board');if(w){const n=(0,c.Z)((_.state||{}).trackingParams,null==f?void 0:f.tracking_params);this.setState({submitting:!0}),a({name:e,pin:f,privacy:P}).then((async function(o){var i;const r=null!==(i=o.url)&&void 0!==i?i:"";t.setState({submitting:!1}),t.props.logContextEvent({event_type:20,view_type:3,object_id_str:w});const a=o.id,s=_.state&&_.state.pinDescription?_.state.pinDescription:"",{isFirstBoardCreateActive:c,isEditingPin:m,pinBoardId:P,pinSectionId:j}=_.state||{},{href:I,text:k}=B(r,e,h),{duration:C,text:A,thumbnail:E}=(0,v.qV)({boardId:a,isFBC:c}),R=()=>b((({hideToast:e})=>(0,T.jsx)(l.Z,{duration:C,href:I,onHide:e,text:A||k,thumbnail:E})));var z;(s?g({i18n:t.props.i18n,logContextEvent:t.props.logContextEvent,pinId:w,boardId:a,onSuccess:()=>{t.completeFirstExperiences()},onUndo:(e,t,o,i,r)=>y({pinId:e,newPinId:t,boardId:o,boardSectionId:i,i18n:r,clientTrackingParams:n}),showRepinConfirmation:e=>x(e),trackingParams:{clientTrackingParams:n,pinnedToBoardId:S}}).catch((e=>{x((({hideToast:n})=>(0,T.jsx)(u.ZP,{variant:"error",text:e.message||t.props.i18n._('Sorry! Something went wrong on our end.', 'error completing repin', 'error completing repin'),onHide:n})))})):(t.completeFirstExperiences(R),t.props.logContextEvent({event_type:5,view_type:3,component:7,object_id_str:w,clientTrackingParams:n,aux_data:{board_id:S,destination_board_id:a}})),m&&f)&&(await d({pinId:f.id,pinBoardId:P,pinSectionId:j,clientTrackingParams:n}),null!==(z=f.pinned_to_board)&&void 0!==z&&z.url&&p.replace(f.pinned_to_board.url))}),(t=>{x((({hideToast:e})=>(0,T.jsx)(u.ZP,{text:t.message||this.props.i18n._('Sorry! Something went wrong on our end.', 'error creating board', 'error creating board'),variant:"error",onHide:e}))),this.setState((({errorBoardNames:t})=>({errorBoardNames:t.concat(e),canSubmit:!1,submitting:!1})))}))}else this.setState({submitting:!0}),a({name:e,pin:f,privacy:P}).then((e=>{const t=this.props.location.state;if(!t||0===Object.keys(t).length){this.setState({submitting:!1});const{duration:t,text:n,thumbnail:o}=(0,v.qV)({boardId:e.id});return x((({hideToast:e})=>(0,T.jsx)(l.Z,{duration:t,onHide:e,text:n||j,thumbnail:o}))),void(e.url&&p.replace(e.url))}const{description:n,guid:i,method:a,url:c}=t,d=[];if("scraped"===t.method)t.imgData.forEach((t=>d.push(r({link:c,image_url:t,description:n,board_id:e.id,method:a,guid:i}))));else{const{base64Image:o,imageUrl:s}=t;d.push(r({link:c,image_url:s,image_base64:o,description:n,board_id:e.id,method:a,guid:i}))}Promise.all(d).then((t=>{x((({hideToast:e})=>(0,T.jsx)(u.ZP,{text:j,onHide:e}))),x((({hideToast:t})=>(0,T.jsx)(u.ZP,{text:(0,T.jsxs)(o.Fragment,{children:[(0,T.jsx)(C.xv,{children:this.props.i18n._('Saved to', 'Saved to {{ boardName }}', 'Saved to {{ boardName }}')}),(0,T.jsx)(C.xv,{weight:"bold",children:e.name})]}),iconThumbnail:(0,T.jsx)(C.xu,{width:54,height:54,children:(0,T.jsx)(s.Z,{boardId:e.id,type:"thumbnail"})}),onHide:t}))),this.props.logContextEvent({event_type:1,view_type:92,component:7,object_id_str:t[0].resource_response.data.id}),this.setState({submitting:!1}),e.url&&p.replace(e.url)}),(()=>{x((({hideToast:e})=>(0,T.jsx)(u.ZP,{text:this.props.i18n._('Sorry! Something went wrong on our end.', 'error during pin creation', 'error during pin creation'),onHide:e}))),this.setState({submitting:!1})}))}),(e=>{this.setState({submitting:!1}),x((({hideToast:t})=>(0,T.jsx)(u.ZP,{text:e.message_detail||e.message||this.props.i18n._('Sorry! Something went wrong on our end.', 'error creating board', 'error creating board'),variant:"error",onHide:t})))}))}})),E(this,"completeFirstExperiences",(e=>{const{closeupExperience:t,repinExperience:n,completeExperience:o}=this.props;if(t||n){const i=[];t&&t.placement_id&&P.UT.includes(t.experience_id)&&i.push(o(t.placement_id,t.experience_id)),n&&n.placement_id&&501032===n.experience_id&&i.push(o(n.placement_id,n.experience_id)),i.length>0&&Promise.all(i).then((()=>{this.handleRepinSuccess(),e&&e()}))}else this.handleRepinSuccess(),e&&e()}))}componentDidMount(){const{repinExperience:e,viewExperience:t}=this.props;e&&t(e.placement_id,e.experience_id)}render(){const{i18n:e}=this.props;return(0,T.jsxs)(d.default,{hasFixedHeader:!0,children:[(0,T.jsx)(r.Z,{text:e._('Create a Board', 'duplo.createboardpage.accessibilityModalLabel', 'Accessibility label for the create board page')}),(0,T.jsx)(b.FixedHeader,{children:(0,T.jsxs)(C.kC,{alignItems:"center",justifyContent:"start",children:[(0,T.jsx)(C.xu,{flex:"none",marginStart:-2,children:(0,T.jsx)(a.Z,{})}),(0,T.jsx)(C.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",children:(0,T.jsx)(C.xv,{align:"center",weight:"bold",children:this.props.i18n._('Create board', 'Label during board creation', 'Label during board creation')})}),(0,T.jsx)(C.kC,{alignItems:"stretch",flex:"none",justifyContent:"end",children:(0,T.jsx)(C.xu,{"data-test-id":"createBoardButton",children:(0,T.jsx)(C.zx,{fullWidth:!0,onClick:this.onCreateClick,color:"red",size:"sm",text:this.props.i18n._('Create', 'Create board button', 'Create board button'),disabled:!this.state.canSubmit||this.state.submitting})})})]})}),(0,T.jsx)(C.iz,{}),(0,T.jsxs)(C.xu,{paddingY:3,paddingX:4,children:[(0,T.jsx)(C.__,{htmlFor:"boardNameInput",children:(0,T.jsx)(C.xv,{size:"200",children:this.props.i18n._('Board name', 'Label during board creation', 'Label during board creation')})}),(0,T.jsx)("input",{id:"boardNameInput",placeholder:e._('Add', ' - ', ' -- '),value:this.state.boardName,style:R((0,y.Yc)()),onChange:this.onInputChange})]}),(0,T.jsx)(C.iz,{}),(0,T.jsxs)(C.xu,{display:"flex",justifyContent:"between",paddingY:3,paddingX:4,children:[(0,T.jsx)(C.__,{htmlFor:"secretToggle",children:(0,T.jsx)(C.xv,{children:this.props.i18n._('Keep board secret', 'Toggle during board creation', 'Toggle during board creation')})}),(0,T.jsx)(C.rs,{id:"secretToggle",switched:this.state.secret,onChange:this.onSwitchToggle})]})]})}}function F(e){const t=(0,I.useHistory)(),n=(0,I.useLocation)(),o=(0,I.useRouteMatch)(),r=(0,h.Z)(),a=(0,m.Z)(),s=(0,w.ZP)(),l=(0,j.Z)(),{isAuth:d}=(0,g.Z)(),u=(0,S.Z)(),b=(0,_.ZP)(),v=(0,i.useDispatch)(),x=(0,i.useSelector)((({experiences:e})=>e[1000112])),y=(0,i.useSelector)((({experiences:e})=>e[1000153])),{showRepinConfirmation:P,showToast:C}=(0,f.Z)();if(!d||o.params.pinId&&a||"desktop"===b)return(0,T.jsx)(I.Redirect,{to:"/"});return(0,T.jsx)(z,{...e,closeupExperience:x,completeExperience:(e,t)=>v((0,A.CK)(e,t)),createBoard:({name:e,pin:t,privacy:i})=>{const a=o.params.pinId,s=n.state&&n.state.pinDescription?n.state.pinDescription:"";if(a&&!s){const o=(0,c.Z)((n.state||{}).trackingParams,null==t?void 0:t.tracking_params);return r({boardCreateOptions:{name:e,privacy:i,initial_pins:[a],initial_pin_client_tracking_params:[o]}})}return r({boardCreateOptions:{name:e,privacy:i}})},createPin:e=>v((0,k.iX)(e)),dispatchUnsavePin:({pinId:e,pinBoardId:t,pinSectionId:n,clientTrackingParams:o})=>v((0,k.q$)({pinId:e,boardId:t||"",boardSectionId:n,clientTrackingParams:o})),history:t,i18n:s,location:n,logContextEvent:u,match:o,repinExperience:y,repinToBoard:({i18n:e,pinId:t,boardId:n,onSuccess:o,onUndo:i,showRepinConfirmation:r,showToast:a,section:s,trackingParams:l})=>v((0,k.wh)({i18n:e,logContextEvent:u,pinId:t,boardId:n,onSuccess:o,onUndo:i,showRepinConfirmation:r,showToast:a,section:s,trackingParams:l})),requireAuthForLimitedLogin:l,showRepinConfirmation:P,showToast:C,undoSaveAction:({boardId:e,boardSectionId:t,clientTrackingParams:n,i18n:o,newPinId:i,pinId:r})=>(0,p.Z)({dispatch:v,i18n:o,showToast:C,newPinId:i,sourcePinId:r,boardId:e,boardSectionId:t,clientTrackingParams:n}),viewExperience:(e,t)=>v((0,A.UT)(e,t))})}},110878:(e,t,n)=>{n.d(t,{Z:()=>Ze});var o=n(667294),i=n(702664),r=n(52395),a=n(777918),s=n(898781),l=n(620707),c=n(883119),d=n(785893);const u="cubic-bezier(0.66, 0.025, 0.33, 0.975)",p=(0,l.qe)(((e,t,n,o,i)=>{let r=e,a=t,s=0,l=0,c="";const d=Math.floor(t/3);if("shrinkToPin"===n&&(s="24px",l=1,r=Math.floor(3*d/2),a=d),"pinToGrid"===n&&o&&i){const e=o.getBoundingClientRect(),t=i.getBoundingClientRect();c=`translate(${t.x+t.width/2-(e.x+e.width/2)}px, ${t.y+t.height/2-(e.y+e.height/2)}px)`,s="24px 0px 0px 24px",l=1,r=d,a=d}return{borderRadius:s,height:r,opacity:l,overflow:"hidden",width:a,WebkitTransformOrigin:"center center",transformOrigin:"center center",WebkitTransform:c,transform:c,WebkitTransition:`all .42s ${u}`,transition:`all .42s ${u}`}})),h=(0,l.qe)((e=>({opacity:e?1:0,WebkitTransition:`opacity .42s ${u}`,transition:`opacity .42s ${u}`}))),_=(0,l.qe)((e=>({opacity:e?0:1,WebkitTransition:`all .25s ${u}`,transition:`all .25s ${u}`,zIndex:3})));function m({completeExperience:e,pinDominantColor:t,pinImageHeight:n,pinImageWidth:i,pinImageUrl:r}){const a=(0,s.ZP)(),[l,u]=(0,o.useState)("visible"),[m,f]=(0,o.useState)("none");let g,b,v,x;const y=window.innerWidth,P=y*(n/i),w=Math.floor(y/3),S=Math.floor(y/6);(0,o.useEffect)((()=>{r&&"none"===m&&(g=setTimeout((()=>{f("shrinkToPin")}),85)),r&&"shrinkToPin"===m&&(b=setTimeout((()=>{f("pinToGrid")}),2e3)),"pinToGrid"===m&&"visible"===l&&(v=setTimeout((()=>{u("hidden")}),2e3)),"hidden"===l&&(x=setTimeout((()=>{u("none"),e()}),300))})),(0,o.useEffect)((()=>()=>{clearTimeout(g),clearTimeout(b),clearTimeout(v),clearTimeout(x)}),[]);const j=(0,o.useRef)(null),I=(0,o.useRef)(null);return(0,d.jsxs)(c.xu,{alignItems:"center",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:_("hidden"===l)},direction:"column",display:"none"===l?"none":"flex",justifyContent:"center",left:!0,position:"fixed",right:!0,top:!0,children:[(0,d.jsxs)(c.xu,{height:y/2,width:"100%",marginBottom:8,display:"flex",justifyContent:"center",alignItems:"center",position:"relative",children:[(0,d.jsx)(c.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:h("pinToGrid"===m)},children:(0,d.jsx)(c.zd,{rounding:6,width:w+S+1,height:w,children:(0,d.jsxs)(c.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,d.jsx)(c.xu,{width:w,height:w,color:"transparent",ref:I}),(0,d.jsxs)(c.kC,{alignItems:"stretch",direction:"column",justifyContent:"between",children:[(0,d.jsx)(c.xu,{width:S,height:S,color:"secondary"}),(0,d.jsx)(c.xu,{width:S,height:S,color:"secondary"})]})]})})}),(0,d.jsx)(c.xu,{ref:j,position:"absolute",dangerouslySetInlineStyle:{__style:p(P,y,m,j.current,I.current)},children:(0,d.jsx)(c.Ee,{alt:a._('Pin image', 'Pin image on repin page', 'Pin image on repin page'),src:r,fit:"cover",naturalHeight:n,naturalWidth:i,color:t})})]}),(0,d.jsx)(c.xu,{marginTop:8,marginBottom:8,paddingX:12,children:(0,d.jsx)(c.X6,{align:"center",size:"500",children:a._('Keep your ideas organized by creating a board', 'boardPicker.edu.heading', 'board create education shown before user create their first board')})})]})}var f=n(622359),g=n(609943);function b(e,t){return!(!e||!e.placement_id||e.experience_id!==t)}var v=n(121151),x=n(542554),y=n(52270),P=n(499128),w=n(877867),S=n(112690),j=n(789363),I=n(343341),k=n(358589),C=n(276775);function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class T extends o.PureComponent{constructor(...e){super(...e),A(this,"state",{name:""}),A(this,"onNextButtonTouch",(()=>{const{name:e}=this.state,{createSectionAndRepin:t,i18n:n}=this.props;t(e,n)})),A(this,"onNameChange",(e=>{this.setState({name:e.target.value})}))}render(){const{pin:e,useRoundedCorners:t}=this.props,{name:n}=this.state;return(0,d.jsx)(y.Z,{backButtonIcon:"arrow-back",name:n,onNameChange:this.onNameChange,onNextButtonTouch:this.onNextButtonTouch,selectedPinIds:[e.id],useRoundedCorners:t})}}function E(e){const{boardId:t,isEditingPin:n,onSuccess:o,pin:r,pinBoardId:a,pinSectionId:l,trackingParams:c}=e,u=(0,i.useDispatch)(),p=(0,C.useHistory)(),h=(0,s.ZP)(),{showToast:_}=(0,I.F9)(),m=(0,S.Z)();return(0,d.jsx)(T,{...e,i18n:h,createSectionAndRepin:e=>{const i=e=>_((({hideToast:t})=>(0,d.jsx)(P.ZP,{text:e.message||h._('Sorry! Something went wrong on our end.', 'error creating board section', 'error creating board section'),variant:"error",onHide:t})));u((0,j.Nv)(t,[],e)).then((e=>{_((({hideToast:e})=>(0,d.jsx)(P.ZP,{text:h._('Section added!', ' - ', ' -- '),onHide:e})));const s=e.resource_response.data;u((0,k.wh)({i18n:h,logContextEvent:m,pinId:r.id,boardId:t,onSuccess:n?void 0:o,onUndo:(e,t,n,o)=>(0,w.Z)({boardId:n,boardSectionId:o,clientTrackingParams:c,dispatch:u,i18n:h,newPinId:t,showToast:_,sourcePinId:e}),showToast:_,section:s,trackingParams:{clientTrackingParams:c,pinnedToBoardId:r.pinned_to_board?r.pinned_to_board.id:""}})).then((()=>{r&&a&&u((0,k.q$)({pinId:r.id,boardId:a,boardSectionId:l,clientTrackingParams:c})).then((()=>{var e;return r.pinned_to_board?p.replace(null!==(e=r.pinned_to_board.url)&&void 0!==e?e:""):void 0}))})).catch(i)})).catch(i)},showToast:_})}var B=n(433035);function R({handleSelected:e}){const t=(0,s.ZP)();return(0,d.jsx)(c.iP,{rounding:2,onTap:()=>{e(!1,null)},children:(0,d.jsxs)(c.xu,{"data-test-id":"board-picker-row",display:"flex",alignItems:"center",rounding:2,column:12,marginBottom:4,children:[(0,d.jsx)(c.xu,{color:"secondary",display:"flex",flex:"none",justifyContent:"center",alignItems:"center",height:48,rounding:2,width:48,children:(0,d.jsx)(c.JO,{accessibilityLabel:t._('Profile', 'save.ProfilePickerRow.IconAccessibilityLabel', 'Accessibility label for icon on option to save Pin to profile'),color:"default",icon:"history",size:22})}),(0,d.jsx)(c.xu,{display:"flex",direction:"column",justifyContent:"center",marginStart:2,width:"100%",overflow:"hidden",children:(0,d.jsx)(c.xv,{size:"400",weight:"bold",lineClamp:1,children:t._('Profile', 'save.ProfilePickerRow', 'Option to save Pin to profile')})})]})})}var z=n(728214),F=n(523504),O=n(500594),Z=n(716235);function L({boards:e,boardsShortlist:t,closeModal:n,dismissFlyout:r,history:a,isEditingPin:l,isFromToast:u,logContextEvent:p,onSelect:h,originalPinId:_,pin:m,pinBoardId:f,pinSectionId:b,saveToProfileEnabled:v,trackingParams:x}){const y=(0,s.ZP)(),S=(0,i.useDispatch)(),j=(0,C.useLocation)(),I=(0,z.Z)(),A=a.location.state&&a.location.state.isOneTapSave,T=(0,g.Z)(j.state?j.state.trackingParams:"",m.tracking_params),{showRepinConfirmation:E,showToast:L}=(0,F.Z)(),N=t?e.filter((e=>t.some((t=>e.id===t.id)))):e.slice(0,3),D=I({fn:async(e,t)=>{if(e&&t)h(t);else try{const e=await(({boardId:e,clientTrackingParams:t,i18n:n})=>(r(),S((0,k.wh)({i18n:n,logContextEvent:p,pinId:m.id,boardId:e,onSuccess:a.goBack,onUndo:(e,o,i,r)=>(0,w.Z)({boardId:i,boardSectionId:r,clientTrackingParams:t,dispatch:S,i18n:n,newPinId:o,originalPinId:u?_:"",showToast:L,sourcePinId:e}),originalPinId:_,showRepinConfirmation:E,trackingParams:x}))))({boardId:null==t?void 0:t.id,clientTrackingParams:T,i18n:y});if(A&&e&&(c={boardId:null==t?void 0:t.id,localPinId:e.id,pinId:m.id},S((0,Z.a)({...c}))),l){var o;await(s=T,S((0,k.q$)({pinId:m.id,boardId:f||"",boardSectionId:b,clientTrackingParams:s})));const e=null===(o=m.pinned_to_board)||void 0===o?void 0:o.url;if(u)n();else if(m.section){var i;const t=`${null!=e?e:""}${null!==(i=m.section.slug)&&void 0!==i?i:""}/`;a.replace(null!=t?t:"")}else m.pinned_to_board&&a.replace(null!=e?e:"")}}catch(g){L((({hideToast:e})=>(0,d.jsx)(P.ZP,{variant:"error",text:g.message||y._('Sorry! Something went wrong on our end.', 'error during repin', 'error during repin'),onHide:e})))}var s,c},modalHeader:(0,O.Bx)(y)});return(0,d.jsxs)(o.Fragment,{children:[(0,d.jsxs)(c.xu,{paddingY:4,children:[v&&(0,d.jsx)(R,{handleSelected:D}),N.map((e=>(0,d.jsx)(B.Z,{boardId:e.id,onBoardSelected:t=>D(t,e),showSingleBoardRep:!0},e.id)))]}),(0,d.jsxs)(c.xu,{children:[(0,d.jsx)(c.xu,{marginBottom:4,children:(0,d.jsx)(c.xv,{children:y._('All boards', 'RepinFlow.BoardPickerList.AllBoards', 'Board picker list all boards title')})}),e.map((e=>(0,d.jsx)(B.Z,{boardId:e.id,onBoardSelected:t=>D(t,e),showSingleBoardRep:!0},e.id)))]})]})}const N=()=>(0,d.jsx)(c.xu,{color:"secondary",display:"inlineBlock",height:60,minWidth:60,overflow:"hidden",position:"relative",rounding:4,children:(0,d.jsxs)(o.Fragment,{children:[(0,d.jsx)(c.xu,{color:"default",dangerouslySetInlineStyle:{__style:{left:"50%"}},height:"100%",position:"absolute",width:1}),(0,d.jsx)(c.xu,{color:"default",dangerouslySetInlineStyle:{__style:{top:"50%"}},height:1,width:"50%",position:"absolute",right:!0})]})});var D=n(30700),$=n(223123),M=n(176786),H=n(862501);function U({isEditingPin:e,isFirstBoard:t,history:n,onFirstBoardCreate:o,pinBoardId:r,pinId:a,pinSectionId:l,pinViewParameter:u,titleSuggestions:p,trackingParams:{clientTrackingParams:h}}){const _=(0,S.Z)(),m=(0,$.Z)(),b=(0,s.ZP)(),v=(0,z.Z)(),{showRepinConfirmation:x}=(0,F.Z)(),y=(0,i.useDispatch)(),P=(0,i.useSelector)((({pins:e})=>e[a])),w=(0,g.Z)(h,P.tracking_params),j=async()=>{var e;await(e=>{y((0,k.q$)({pinId:a,boardId:r||"",boardSectionId:l,clientTrackingParams:e}))})(w);const t=null===(e=P.pinned_to_board)||void 0===e?void 0:e.url;if(P.section){var o;const e=`${null!=t?t:""}${null!==(o=P.section.slug)&&void 0!==o?o:""}/`;n.replace(null!=e?e:"")}else n.replace(null!=t?t:"")},I=v({fn:(i,r,s)=>{(({allSuggestions:e,handleCreateBoard:t,index:n,isFBC:o,logContextEvent:i,pinViewParameter:r})=>{t(),i({aux_data:{board_title_list:JSON.stringify(e),is_fbc:o.toString(),selected_board_title_index:n},component:7,element:23,event_type:102,view_parameter:r,view_type:3})})({allSuggestions:s,handleCreateBoard:()=>{return t?o(r):void m({boardCreateOptions:{name:i=r,initial_pins:[a],initial_pin_client_tracking_params:[h],privacy:"public"}}).then((t=>(e?j():n.goBack(),t))).then((e=>{const{url:t="",id:n}=e||{},{href:o,text:r}=(0,M.Io)(t,i,b),{duration:s,text:l,thumbnail:c}=(0,H.qV)({boardId:n});x((({hideToast:e})=>(0,d.jsx)(f.Z,{duration:s,href:o,onHide:e,text:l||r,thumbnail:c}))),_({event_type:5,view_type:3,component:7,view_parameter:u,object_id_str:a,clientTrackingParams:w,aux_data:{board_id:n,destination_board_id:n}})}));var i},index:i,isFBC:t,logContextEvent:_,pinViewParameter:u})},modalHeader:(0,O.Bb)(b)});return p?p.map(((e,t,n)=>(0,d.jsx)(c.xu,{children:(0,d.jsx)(D.Z,{onTouch:()=>I(t,e,n),pressState:"none",rounding:2,children:(0,d.jsxs)(c.xu,{display:"flex",alignItems:"center",paddingY:2,rounding:2,children:[(0,d.jsx)(N,{}),(0,d.jsx)(c.xu,{column:10,marginStart:3,children:(0,d.jsx)(c.X6,{size:"400",children:e})})]})},t)},t))):null}var W,q=n(166300),Y=n(995228),K=n(989726),G=n(195946),V=n(773285),X=n(167912);function J({allBoards:e,saveToProfileEnabled:t,boardsShortlist:n,closeModal:i,dismissFlyout:r,history:a,isEditingPin:l,isFromToast:u,onSelect:p,originalPinId:h,pin:_,pinBoardId:m,pinSectionId:f,trackingParams:g}){const b=(0,s.ZP)(),v=(0,S.Z)();return(0,d.jsxs)(o.Fragment,{children:[(0,d.jsx)(c.xu,{marginTop:2,children:(0,d.jsx)(c.xv,{children:b._('Top choices', 'boardPicker.header.topChoices', 'Header of a list of user\'s boards')})}),(0,d.jsx)(L,{boards:e,boardsShortlist:n,closeModal:i,dismissFlyout:r,history:a,isEditingPin:l,isFromToast:u,logContextEvent:v,onSelect:p,originalPinId:h,pin:_,pinBoardId:m,pinSectionId:f,saveToProfileEnabled:t,trackingParams:g})]})}function Q({allBoards:e,boardsShortlist:t,closeModal:n,saveToProfileEnabled:o,dismissFlyout:i,history:r,isEditingPin:a,isFirstRepinExperience:l,isFromToast:u,onFirstBoardCreate:p,originalPinId:h,onSelect:_,pin:m,pinBoardId:f,pinSectionId:g,trackingParams:b,titleSuggestions:v}){const x=(0,s.ZP)(),y=l||0===e.length&&!o,P=(0,S.Z)(),w=()=>(0,d.jsx)(U,{history:r,isEditingPin:a,isFirstBoard:y,onFirstBoardCreate:p,pinBoardId:f,pinId:m.id,pinSectionId:g,pinViewParameter:(0,G.A)(m),titleSuggestions:v,trackingParams:b});return y?(0,d.jsxs)(c.xu,{paddingX:1,children:[(0,d.jsx)(c.xu,{marginBottom:4,children:(0,d.jsx)(c.xv,{children:x._('Tap to create your first board', 'CTA for board title suggestions', 'Explain to user that tapping on suggestion creates a board')})}),w()]}):(0,d.jsxs)(c.xu,{marginBottom:4,children:[(0,d.jsx)(c.xu,{marginBottom:4,children:(0,d.jsx)(c.xv,{children:x._('Top choices', 'boardPicker.header.topChoices', 'Header of a list of user\'s boards')})}),(0,d.jsx)(L,{boards:e,boardsShortlist:t,closeModal:n,dismissFlyout:i,history:r,isEditingPin:a,isFromToast:u,logContextEvent:P,onSelect:_,originalPinId:h,pin:m,pinBoardId:f,pinSectionId:g,saveToProfileEnabled:o,trackingParams:b}),v?(0,d.jsxs)(c.xu,{children:[(0,d.jsx)(c.xu,{paddingY:1,children:(0,d.jsx)(q.Z,{children:(0,d.jsx)(c.iz,{})})}),(0,d.jsx)(c.xu,{paddingY:4,children:(0,d.jsx)(c.xv,{children:x._('Or tap to create a new board', 'boardPicker.suggestedBoardName.title', 'Title for repin page suggested board name section')})}),w()]}):(0,d.jsx)(c.xu,{paddingY:6,children:(0,d.jsx)(c.$j,{accessibilityLabel:x._('Loading repin page content', ' - ', ' -- '),show:!0})})]})}function ee(e){const{allBoards:t,boardsShortlist:n,closeModal:o,saveToProfileEnabled:i,dismissFlyout:r,history:a,isEditingPin:s,isFetchingBoards:l,isFirstRepinExperience:c,isFromToast:u,onFirstBoardCreate:p,onSelect:h,originalPinId:_,location:m,pin:f,pinBoardId:g,pinDescription:b,pinSectionId:v}=e,{checkExperiment:x}=(0,V.F)();return x("mweb_graphql_orientation_get_board_title_suggestions").anyEnabled?(0,d.jsx)(Y.Z,{children:(0,d.jsx)(te,{allBoards:t,boardsShortlist:n,saveToProfileEnabled:i,history:a,isFetchingBoards:l,isFirstRepinExperience:c,isFromToast:u,location:m,onFirstBoardCreate:p,onSelect:h,originalPinId:_,closeModal:o,pin:f,pinDescription:b,dismissFlyout:r,isEditingPin:s,pinBoardId:g,pinSectionId:v})}):(0,d.jsx)(ne,{allBoards:t,boardsShortlist:n,saveToProfileEnabled:i,history:a,isFetchingBoards:l,isFirstRepinExperience:c,isFromToast:u,location:m,onFirstBoardCreate:p,onSelect:h,originalPinId:_,closeModal:o,pin:f,pinDescription:b,dismissFlyout:r,isEditingPin:s,pinBoardId:g,pinSectionId:v})}function te(e){const{allBoards:t,boardsShortlist:o,closeModal:i,saveToProfileEnabled:r,dismissFlyout:a,history:s,isEditingPin:l,isFetchingBoards:c,isFirstRepinExperience:u,isFromToast:p,onFirstBoardCreate:h,onSelect:_,originalPinId:m,location:f,pin:g,pinBoardId:b,pinDescription:v,pinSectionId:x}=e,y=(e=>{var t,o,i;const r=void 0!==W?W:W=n(651682),{v3GetPinQuery:a}=(0,X.useLazyLoadQuery)(r,{pinId:e});if(null==a||null===(t=a.error)||void 0===t?void 0:t.message)throw null==a?void 0:a.error;return(null==a||null===(o=a.data)||void 0===o||null===(i=o.boardTitleSuggestions)||void 0===i?void 0:i.map((({title:e})=>e)).filter(Boolean))||[]})(g.id);return(0,d.jsx)(oe,{allBoards:t,boardsShortlist:o,saveToProfileEnabled:r,history:s,isFetchingBoards:c,isFirstRepinExperience:u,isFromToast:p,location:f,onFirstBoardCreate:h,onSelect:_,originalPinId:m,closeModal:i,pin:g,pinDescription:v,dismissFlyout:a,isEditingPin:l,pinBoardId:b,pinSectionId:x,titleSuggestions:y})}function ne(e){const{allBoards:t,boardsShortlist:n,closeModal:o,saveToProfileEnabled:r,dismissFlyout:a,history:s,isEditingPin:l,isFetchingBoards:c,isFirstRepinExperience:u,isFromToast:p,onFirstBoardCreate:h,onSelect:_,originalPinId:m,location:f,pin:g,pinBoardId:b,pinDescription:v,pinSectionId:x}=e,y=(P=g.id,(0,K.Z)({name:"BoardTitleSuggestionsResource",options:{pin_id:P}}),(0,i.useSelector)((({pins:e})=>e[P]?e[P].boardTitleSuggestions:[])));var P;return(0,d.jsx)(oe,{allBoards:t,boardsShortlist:n,saveToProfileEnabled:r,history:s,isFetchingBoards:c,isFirstRepinExperience:u,isFromToast:p,location:f,onFirstBoardCreate:h,onSelect:_,originalPinId:m,closeModal:o,pin:g,pinDescription:v,dismissFlyout:a,isEditingPin:l,pinBoardId:b,pinSectionId:x,titleSuggestions:y})}function oe(e){const t=(0,s.ZP)(),{allBoards:n,boardsShortlist:o,closeModal:i,saveToProfileEnabled:r,dismissFlyout:a,history:l,isEditingPin:u,isFetchingBoards:p,isFirstRepinExperience:h,isFromToast:_,onFirstBoardCreate:m,onSelect:f,originalPinId:g,location:b,pin:v,pinBoardId:x,pinDescription:y,pinSectionId:P,titleSuggestions:w}=e,S={clientTrackingParams:b.state?b.state.trackingParams:"",pinnedToBoardId:v.pinned_to_board?v.pinned_to_board.id:""};return n.length>0||!p?n.length>=10?(0,d.jsx)(J,{allBoards:n,boardsShortlist:o,closeModal:i,dismissFlyout:a,history:l,isEditingPin:u,isFromToast:_,onSelect:f,originalPinId:g,pin:v,pinBoardId:x,pinDescription:y,pinSectionId:P,saveToProfileEnabled:r,trackingParams:S}):(0,d.jsx)(Q,{allBoards:n,boardsShortlist:o,closeModal:i,dismissFlyout:a,history:l,isEditingPin:u,isFirstRepinExperience:h,isFromToast:_,onFirstBoardCreate:m,onSelect:f,originalPinId:g,pin:v,pinBoardId:x,pinDescription:y,pinSectionId:P,saveToProfileEnabled:r,titleSuggestions:w,trackingParams:S}):(0,d.jsx)(c.xu,{paddingY:2,children:(0,d.jsx)(c.$j,{accessibilityLabel:t._('Loading repin page content', ' - ', ' -- '),show:!0})})}var ie=n(287072),re=n(313047);function ae({isEditingPin:e,isFirstBoardCreateActive:t,pin:n,pinBoardId:o,pinDescription:i,pinSectionId:r,trackingParams:a,onTouch:l,useIconWithBackground:u}){const p=(0,s.ZP)(),h=(0,ie.Z)({href:{pathname:`/board/create/${n.id}/`,state:{isFirstBoardCreateActive:t,pinnedToBoardId:n.pinned_to_board?n.pinned_to_board.id:"",pinDescription:i,trackingParams:a,isEditingPin:e,pinBoardId:o,pinSectionId:r}}});return(0,d.jsx)(re.FixedFooter,{height:u?void 0:70,hasTopShadow:u,children:(0,d.jsx)(c.iP,{onTap:({event:e})=>{null==l||l(),h({event:e})},children:(0,d.jsxs)(c.xu,{"data-test-id":"repinCreateBoardButton",display:"flex",alignItems:"center",paddingY:u?0:1,paddingX:u?1:0,children:[u?(0,d.jsx)(c.xu,{color:"secondary",rounding:2,dangerouslySetInlineStyle:{__style:{padding:"14px"}},children:(0,d.jsx)(c.JO,{icon:"add",color:"default",size:20,accessibilityLabel:p._('Create board button', ' - ', ' -- ')})}):(0,d.jsx)(c.JO,{icon:"add-circle",color:"error",size:38,accessibilityLabel:p._('Create board button', ' - ', ' -- ')}),(0,d.jsx)(c.xu,{marginStart:u?2:3,children:(0,d.jsx)(c.xv,{weight:"bold",children:p._('Create board', 'Create new board to Pin to', 'Create new board to Pin to')})})]})})})}var se=n(855813);function le({boardId:e,history:t,location:{search:n},showSectionRep:o,pin:r,onSuccess:a,trackingParams:l,dismissFlyout:c}){const u=(0,i.useDispatch)(),p=(0,s.ZP)(),{showToast:h}=(0,I.F9)(),_=new URLSearchParams(n),m=_.get("isEditingPin"),f=(0,g.Z)(l,r.tracking_params),b=(0,S.Z)(),v=t=>{c(),u((0,k.wh)({i18n:p,logContextEvent:b,pinId:r.id,boardId:e,onSuccess:m?void 0:a,onUndo:(e,t,n,o)=>(0,w.Z)({boardId:n,boardSectionId:o,clientTrackingParams:f,dispatch:u,i18n:p,newPinId:t,showToast:h,sourcePinId:e}),showToast:h,section:t,trackingParams:{clientTrackingParams:f,pinnedToBoardId:r.pinned_to_board?r.pinned_to_board.id:""}})).then((()=>{var e;t&&u((0,j.A4)(null!==(e=t.id)&&void 0!==e?e:""))}))};return(0,d.jsx)(se.Z,{boardId:e,repin:async(e,n)=>{var o;(await v(n),m)&&(await(()=>{var e,t;const n=null!==(e=_.get("pinBoardId"))&&void 0!==e?e:"",o=null!==(t=_.get("pinSectionId"))&&void 0!==t?t:"";return u((0,k.q$)({pinId:r.id,boardId:n,boardSectionId:o,clientTrackingParams:f}))})(),null!==(o=r.pinned_to_board)&&void 0!==o&&o.url&&t.replace(r.pinned_to_board.url))},showSectionRep:o})}var ce=n(941646),de=n(784590),ue=n(19121),pe=n(229324),he=n(317786),_e=n(583228),me=n(968121),fe=n(479739),ge=n(349700),be=n(50286),ve=n(281180);function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ye=["#0074e8","#0FA573","#B469EB","#F13535","#E2780D"],Pe=(e,t)=>Math.random()*((e||1)-(t||0))+(t||0),we=e=>e*(Math.PI/180);class Se extends o.PureComponent{constructor(...e){super(...e),xe(this,"animationTimer",null),xe(this,"canvasRemovalTimer",null),xe(this,"childrenContainerRef",(0,o.createRef)()),xe(this,"containerRef",(0,o.createRef)()),xe(this,"buildCanvas",(()=>{if(!this.containerRef.current)return null;const e=window.innerWidth,{height:t,top:n}=this.containerRef.current.getBoundingClientRect(),o=document.createElement("canvas");return o.style.position="absolute",o.style.left="0px",o.style.top=n-(e-t)/2+"px",o.style.pointerEvents="none",o.style.width=`${e}px`,o.style.height=`${e}px`,o.width=e,o.height=e,o})),xe(this,"explode",(()=>{const e=this.buildCanvas();if(!e)return;const t=this.containerRef.current,n=this.childrenContainerRef.current,o=e.getContext("2d");null==t||t.insertBefore(e,n);const i=Array.from(Array(120)).map((()=>({x:e.width/2,y:e.height/2,radius:Math.round(Pe(10,30)),color:ye[Math.floor(Math.random()*ye.length)],degree:Number(Pe(0,360).toFixed(1)),speed:Math.round(Pe(0,25)),friction:.9,opacity:Number(Pe(0,.5).toFixed(1)),yVel:0,gravity:.04}))),r=(e,t,n,o)=>{window.requestAnimationFrame((()=>r(e,t,n,o))),t.clearRect(0,0,n,o),e.forEach(((e,n)=>{e.x+=e.speed*Math.cos(we(e.degree)),e.y+=e.speed*Math.sin(we(e.degree)),e.opacity-=.01,e.speed*=e.friction,e.radius*=e.friction,e.yVel+=e.gravity,e.y+=e.yVel,e.opacity<0||e.radius<0||(t.beginPath(),t.globalAlpha=e.opacity,t.fillStyle=e.color,t.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),t.fill())}))};r(i,o,e.width,e.height),this.canvasRemovalTimer=setTimeout((()=>{null==t||t.removeChild(e)}),(this.props.delay||0)+1e3)}))}componentDidUpdate(e){const{delay:t,startAnimation:n}=this.props,{startAnimation:o}=e;n&&o!==n&&(this.animationTimer=setTimeout(this.explode,t))}componentWillUnmount(){this.animationTimer&&clearTimeout(this.animationTimer),this.canvasRemovalTimer&&clearTimeout(this.canvasRemovalTimer)}render(){return(0,d.jsx)(c.xu,{ref:this.containerRef,children:(0,d.jsx)(c.xu,{ref:this.childrenContainerRef,children:this.props.children})})}}xe(Se,"defaultProps",{delay:0});const je=Se;function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ke=(e,t,n)=>{var o,i;const r=[],a=null===(o=t.current)||void 0===o?void 0:o.getBoundingClientRect(),s=null===(i=n.current)||void 0===i?void 0:i.getBoundingClientRect();if(a&&s){const e={x:s.left-a.left,y:s.top-a.top},t={x:s.width/a.width,y:s.height/a.height};r.push(`translate(${e.x}px, ${e.y}px)`),r.push(`scale(${t.x}, ${t.y})`)}return{WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?r.join(" "):"none",transform:e?r.join(" "):"none",WebkitTransition:"all .5s ease-in-out",transition:"all .5s ease-in-out",borderRadius:e?"8px 0px 0px 0px":"8px",overflow:"hidden",marginBottom:24}},Ce=e=>({pointerEvents:"none",opacity:e?1:0,WebkitTransition:"opacity .4s ease-in-out",transition:"opacity .4s ease-in-out",zIndex:2}),Ae=e=>({opacity:e?1:0,WebkitTransform:e?"translateY(0)":"translateY(20%)",transform:e?"translateY(0)":"translateY(20%)",WebkitTransition:"all .25s ease-in-out .5s",transition:"all .25s ease-in-out .5s",textAlign:"center",marginTop:"50px"});class Te extends o.PureComponent{constructor(...e){super(...e),Ie(this,"state",{startAnimation:!1}),Ie(this,"dismissTimer",null),Ie(this,"pinRef",(0,o.createRef)()),Ie(this,"pinDestinationRef",(0,o.createRef)()),Ie(this,"handleAnimationAndCompletion",(()=>{const{onComplete:e,savePin:t,selectedBoardName:n}=this.props;if(!n)return;const o=this.startAnimation(),i=t(n);Promise.all([o,i]).then((t=>{const[,o]=t;e(o,n)})).catch((e=>{o.then((()=>{e&&e.onError&&e.onError()}))}))})),Ie(this,"startAnimation",(()=>new Promise((e=>{this.setState({startAnimation:!0},(()=>{this.dismissTimer=setTimeout((()=>{e()}),2600)}))}))))}componentWillUnmount(){this.dismissTimer&&clearTimeout(this.dismissTimer)}componentDidUpdate(){const{selectedBoardName:e}=this.props,{startAnimation:t}=this.state;e&&!t&&this.handleAnimationAndCompletion()}render(){const{pinDominantColor:e,pinImageUrl:t,selectedBoardName:n}=this.props,{startAnimation:i}=this.state;return(0,d.jsxs)(o.Fragment,{children:[(0,d.jsx)(c.Le,{top:re.DEFAULT_HEIGHT,zIndex:new c.Ry(3),children:(0,d.jsx)(c.xu,{display:"flex",color:i?"transparent":"default",justifyContent:"center",alignItems:"center",children:(0,d.jsx)(c.xu,{ref:this.pinRef,height:84,width:84,position:"relative",dangerouslySetInlineStyle:{__style:ke(i,this.pinRef,this.pinDestinationRef)},children:(0,d.jsx)(c.Ee,{alt:this.props.i18n._('Pin image', 'Pin image on repin page', 'Pin image on repin page'),src:t,fit:"cover",naturalHeight:84,naturalWidth:84,color:e})})})}),(0,d.jsx)(c.xu,{color:"default",position:"fixed",top:!0,bottom:!0,right:!0,left:!0,dangerouslySetInlineStyle:{__style:Ce(i)},children:(0,d.jsxs)(c.kC,{alignItems:"center",direction:"column",height:"100%",justifyContent:"center",children:[(0,d.jsx)(je,{delay:1200,startAnimation:i,children:(0,d.jsx)(c.zd,{rounding:2,width:148,children:(0,d.jsx)(c.kC,{alignItems:"stretch",justifyContent:"start",wrap:!0,children:Array.from(Array(4)).map(((e,t)=>{const n=t<=1,o=t%2,i=0===t?this.pinDestinationRef:null;return(0,d.jsx)(c.xu,{ref:i,color:0===t?"transparent":"secondary",marginBottom:n?1:0,marginEnd:o?0:1,width:72,height:72},t)}))})})}),(0,d.jsx)(c.xu,{paddingX:4,dangerouslySetInlineStyle:{__style:Ae(i)},children:(0,d.jsx)(c.X6,{children:(0,ge.nk)(this.props.i18n._('You saved your first Pin to {{ selectedBoardName }}!', 'First repin confirmation message', 'First repin confirmation message'),{selectedBoardName:n})})})]})})]})}}const Ee=function(e){const t=(0,s.ZP)();return(0,d.jsx)(Te,{...e,i18n:t})};var Be=n(332611),Re=n(995081);function ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fe({children:e}){const t=(0,i.useSelector)((({session:e})=>72+((0,Re.Rq)(e.userAgentPlatform)?Re.Vf:0)));return(0,d.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:t}},children:e})}class Oe extends o.PureComponent{constructor(...e){super(...e),ze(this,"state",{dupeWarningDismissed:!1,pinDescription:(this.props.pin.description||"").trim(),saved:!1,suggestedBoardName:void 0,trackingParams:(this.props.location.state||{}).trackingParams||"",warningAnchor:void 0,windowInnerHeight:"undefined"!=typeof window?window.innerHeight:0}),ze(this,"saved",(()=>this.setState({saved:!0}))),ze(this,"onResize",(()=>{this.setState({windowInnerHeight:window.innerHeight})})),ze(this,"handleBackButtonTouch",(()=>{const{logContextEvent:e,match:{params:{boardId:t}}}=this.props;e({view_type:21,view_parameter:87,component:7,element:t?34:75,event_type:102})})),ze(this,"handleDismissWarningFlyout",(()=>this.setState({dupeWarningDismissed:!0}))),ze(this,"handleFirstBoardCreateOnSuccess",((e,t)=>{const{closeupExperience:n,completeExperience:o,history:i,i18n:r,repinExperience:a,showRepinConfirmation:s}=this.props,{boardId:l,boardUrl:c}=e,{href:u,text:p}=(0,M.Io)(c,t,r),{duration:h,text:_,thumbnail:m}=(0,H.qV)({boardId:l,isFBC:!0});i.goBack(),s((({hideToast:e})=>(0,d.jsx)(f.Z,{duration:h,href:u,onHide:e,text:_||p,thumbnail:m}))),n&&n.placement_id&&503459===n.experience_id&&o(n.placement_id,n.experience_id),a&&b(a,501032)&&o(a.placement_id,a.experience_id)})),ze(this,"handleSetSelectedBoard",(e=>{const{history:t,pin:n}=this.props,{trackingParams:o}=this.state;this.isFirstBoardCreateActive()||t.push(`/board/create/${n.id}/${e}/`,{trackingParams:o}),this.setState({suggestedBoardName:e})})),ze(this,"handleFirstBoardCreate",(e=>{const{createBoard:t,history:n,location:o,logContextEvent:i,match:r,pin:a,showToast:s}=this.props,{trackingParams:l}=this.state,c=r.params.id;return t({boardCreateOptions:{initial_pins:c?[c]:[],name:e,initial_pin_client_tracking_params:[(0,g.Z)((o.state||{}).trackingParams)],privacy:"public"},deprecatedSchemaForNormalization:_e.IY}).then((e=>{const t=e.id;i({event_type:5,view_type:3,component:7,view_parameter:(0,G.A)(a),object_id_str:a.id,clientTrackingParams:(0,g.Z)(l,a.tracking_params),aux_data:{board_id:t,destination_board_id:t}});const{url:n=""}=e;return{boardId:t,boardUrl:n}}),(e=>{throw{onError:()=>{n.goBack(),s((({hideToast:t})=>(0,d.jsx)(P.ZP,{onHide:t,variant:"error",text:e.message||this.props.i18n._('Sorry! Something went wrong on our end.', 'error creating board', 'error creating board')})))}}}))})),ze(this,"handleSelectBoard",(e=>{var t,n;const{history:o,pin:i,location:{search:r}}=this.props,{trackingParams:a}=this.state,s=new URLSearchParams(r),l=Boolean(s.get("isEditingPin")),c=null!==(t=s.get("pinBoardId"))&&void 0!==t?t:"",d=null!==(n=s.get("pinSectionId"))&&void 0!==n?n:"";l?o.push(`/pin/${i.id}/repin/${e.id}/?isEditingPin=true&pinBoardId=${c}&pinSectionId=${d}`,{trackingParams:a}):o.push({pathname:`/pin/${i.id}/repin/${e.id}/`},{trackingParams:a})})),ze(this,"handleClickAddSectionButton",(()=>{var e,t;const{pin:n,history:o,match:{params:{boardId:i}},location:{search:r}}=this.props;if(!i)return;const a=new URLSearchParams(r),s=Boolean(a.get("isEditingPin")),l=null!==(e=a.get("pinBoardId"))&&void 0!==e?e:"",c=null!==(t=a.get("pinSectionId"))&&void 0!==t?t:"";s?o.push(`/pin/${n.id}/repin/${i}/add/?isEditingPin=true&pinBoardId=${l}&pinSectionId=${c}`):o.push({pathname:`/pin/${n.id}/repin/${i}/add/`})})),ze(this,"handleRepinToExistingSectionSuccess",(()=>this.props.history.go(-2))),ze(this,"handleRepinToNewSectionSuccess",(()=>this.props.history.go(-3))),ze(this,"handleRepinCreateBoardButtonTouch",(()=>{this.props.logContextEvent({view_type:21,view_parameter:87,component:7,element:249,event_type:102})})),ze(this,"renderCreateScreen",(()=>{var e,t,n;const{pin:o,history:i,location:{search:r},match:{params:{boardId:a}}}=this.props,{pinDescription:s,trackingParams:l}=this.state,c=new URLSearchParams(r),u=Boolean(c.get("isEditingPin")),p=null!==(e=c.get("pinBoardId"))&&void 0!==e?e:"",h=null!==(t=c.get("pinSectionId"))&&void 0!==t?t:"",_=null!==(n=c.get("originalPinId"))&&void 0!==n?n:"";return!!a&&(0,d.jsx)(E,{boardId:a,history:i,isEditingPin:u,pinBoardId:p,pinSectionId:h,onSuccess:this.handleRepinToNewSectionSuccess,originalPinId:_,pin:o,pinDescription:s.trim(),trackingParams:l,useRoundedCorners:!0})})),ze(this,"isFirstBoardCreateActive",(()=>{const{allBoards:e,isFetchingBoards:t,saveToProfileEnabled:n,repinExperience:o}=this.props;return!!b(o,501032)||!t&&0===e.length&&!n})),ze(this,"isBoardCreateEduActive",(()=>{const{repinExperience:e}=this.props;return b(e,501021)})),ze(this,"completeBoardCreateEduExperience",(()=>{const{completeExperience:e,repinExperience:t}=this.props;t&&this.isBoardCreateEduActive()&&e(t.placement_id,t.experience_id)})),ze(this,"renderPicker",(()=>{var e,t,n,o,i;const{allBoards:s,saveToProfileEnabled:l,boardsShortlist:u,history:p,isFetchingBoards:h,location:_,pin:f,match:{params:{boardId:g}},location:{search:b}}=this.props,{pinDescription:v,dupeWarningDismissed:y,saved:P,suggestedBoardName:w,trackingParams:S,warningAnchor:j}=this.state,I=v.trim(),k=f.pinned_to_board,C=k?(0,ge.nk)(this.props.i18n._('Psst! You already saved this Pin to {{ board_name }}', 'Toast for already having repinned pin', 'Toast for already having repinned pin'),{board_name:k.name}).join(" "):null,{dominant_color:A}=f,T=f.images?f.images["236x"]:null,E=T?T.url:"",B=new URLSearchParams(b),R=Boolean(B.get("isEditingPin")),z=null!==(e=B.get("pinBoardId"))&&void 0!==e?e:"",F=null!==(t=B.get("pinSectionId"))&&void 0!==t?t:"",Z=Boolean(B.get("isFromToast")),L=null!==(n=B.get("originalPinId"))&&void 0!==n?n:"",N=this.props.i18n._('Save Pin to', 'RepinPage.Section.Header.Title', 'title for section selection in repin flow'),D=new c.Ry(2),$=this.props.i18n._('Create board', 'Title for first board create', 'Title for first board create. NOTE: we are testing using "collections" in place of "boards" for new users'),M=this.props.i18n._('Save to board', 'boardPicker.header', 'Title for repin page'),H=g?N:0!==s.length||h||l?M:$;return(0,d.jsxs)(x.default,{hasFixedHeader:!0,children:[(0,d.jsx)(r.Z,{text:H}),(0,d.jsx)(re.FixedHeader,{useRoundedCorners:!0,zIndex:D,children:(0,d.jsxs)(c.kC,{alignItems:"center",height:40,justifyContent:"start",children:[(0,d.jsx)(c.xu,{column:2,children:(0,d.jsx)(a.Z,{color:"darkGray",icon:g?"arrow-back":"cancel",onTouch:this.handleBackButtonTouch,alignIconLeft:!0,size:"sm"})}),(0,d.jsx)(c.xu,{column:8,children:(0,d.jsx)(ce.Z,{id:"repin-page-title",children:(0,d.jsx)(c.xv,{align:"center",weight:"bold",children:H})})}),(0,d.jsx)(c.xu,{column:2})]})}),f.images&&(this.isFirstBoardCreateActive()?(0,d.jsx)(Ee,{onComplete:this.handleFirstBoardCreateOnSuccess,pinDominantColor:null!=A?A:"",pinImageUrl:null!=E?E:"",savePin:this.handleFirstBoardCreate,selectedBoardName:w}):null),(0,d.jsx)(Fe,{children:g?(0,d.jsx)(le,{boardId:g,onSuccess:this.handleRepinToExistingSectionSuccess,pin:f,trackingParams:S,dismissFlyout:this.saved,showSectionRep:!0,history:p,location:_}):(0,d.jsx)(ee,{allBoards:s,boardsShortlist:u,saveToProfileEnabled:l,history:p,isFetchingBoards:h,isFirstRepinExperience:this.isFirstBoardCreateActive(),isFromToast:Z,location:_,onFirstBoardCreate:this.handleSetSelectedBoard,onSelect:this.handleSelectBoard,originalPinId:L,closeModal:this.handleBackButtonTouch,pin:f,pinDescription:I,dismissFlyout:this.saved,isEditingPin:R,pinBoardId:z,pinSectionId:F})}),g?(0,d.jsx)(he.Wx,{onAddNewSection:this.handleClickAddSectionButton,useIconWithBackground:!0}):(0,d.jsx)(pe.Z,{modalHeader:(0,O.Bb)(this.props.i18n),nextLocation:`/board/create/${f.id}/`,children:(0,d.jsx)(ae,{isFirstBoardCreateActive:this.isFirstBoardCreateActive(),pin:f,pinDescription:I,trackingParams:S,onTouch:this.handleRepinCreateBoardButtonTouch,useIconWithBackground:!0,isEditingPin:R,pinBoardId:z,pinSectionId:F})}),T&&this.isBoardCreateEduActive()&&(0,d.jsx)(m,{completeExperience:this.completeBoardCreateEduExperience,pinDominantColor:null!=A?A:"",pinImageHeight:null!==(o=T.height)&&void 0!==o?o:1,pinImageWidth:null!==(i=T.width)&&void 0!==i?i:1,pinImageUrl:null!=E?E:""}),j&&!P&&f.pinned_to_board&&!y&&C&&(0,d.jsx)(c.J2,{anchor:j,color:"red",idealDirection:"down",onDismiss:this.handleDismissWarningFlyout,shouldFocus:!1,children:(0,d.jsx)(c.xu,{padding:3,children:(0,d.jsx)(c.xv,{color:"inverse",weight:"bold",children:(0,d.jsx)("span",{children:C})})})})]})}))}componentDidMount(){const{repinExperience:e,triggerExperimentsForPlacement:t,viewExperience:n}=this.props;t(1000153),e&&n(1000153,e.experience_id),window.addEventListener("resize",this.onResize)}componentWillUnmount(){window.removeEventListener("resize",this.onResize)}render(){return(0,d.jsx)(v.ZP,{accessibilityModalLabel:this.props.i18n._('Repin page', 'RepinPage.MobileModal.AccessibilityLabel', 'Accessibility label on repin page'),isOpen:!0,type:"repinPage",closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,d.jsx)(c.xu,{paddingX:2,paddingY:0,height:this.state.windowInnerHeight-me.i_,children:(0,d.jsxs)(C.Switch,{children:[(0,d.jsx)(C.Route,{exact:!0,path:"/pin/:id/repin/",render:this.renderPicker}),(0,d.jsx)(C.Route,{exact:!0,path:"/pin/:id/repin/:boardId/",render:this.renderPicker}),(0,d.jsx)(C.Route,{exact:!0,path:"/pin/:id/repin/:boardId/add/",render:this.renderCreateScreen})]})})})}}function Ze(e){var t;const n=(0,C.useHistory)(),o=(0,C.useLocation)(),r=(0,C.useRouteMatch)(),a=null!==(t=r.params.id)&&void 0!==t?t:"",l=(0,s.ZP)(),c=(0,S.Z)(),u=(0,$.Z)(),p=(0,ve.Tt)(),{isAuth:h}=(0,ue.Z)(),_=(0,be.HG)(),m=(e=>((0,K.Z)({name:"PinResource",options:{id:e,field_set_key:"repin"}}),(0,i.useSelector)((({pins:t})=>t[e]))))(a),{isFetching:f,allBoards:g,boardsShortlist:b}=(e=>{const t=(0,i.useSelector)((e=>e.session.userId)),{isFetching:n}=(0,K.Z)({name:"BoardPickerBoardsResource",options:{pin_id:e,field_set_key:"profile_grid_item",shortlist_suggestions:3,user_id:t}});return{isFetching:n,allBoards:(0,i.useSelector)((e=>(0,fe.Is)(e)||[])),boardsShortlist:(0,i.useSelector)((({pins:t})=>t[e]&&t[e].boards_shortlist||[]))}})(a);(0,de.Z)({name:"UserResource",options:{user_id:null==p?void 0:p.id,field_set_key:"quicksave"}});const v=(0,i.useDispatch)(),x=(0,i.useSelector)((({experiences:e})=>e)),{showToast:y,showRepinConfirmation:P}=(0,F.Z)();return!h||_?(0,d.jsx)(C.Redirect,{to:`/pin/${a}/`}):m?(0,d.jsx)(Oe,{...e,allBoards:g,boardsShortlist:b,closeupExperience:x[1000112],completeExperience:(e,t)=>v((0,Be.CK)(e,t)),createBoard:u,history:n,i18n:l,isFetchingBoards:f,location:o,logContextEvent:c,match:r,pin:m,repinExperience:x[1000153],saveToProfileEnabled:null==p?void 0:p.has_quicksave_board,showRepinConfirmation:P,showToast:y,triggerExperimentsForPlacement:e=>v((0,Be.kd)(e)),viewExperience:(e,t)=>v((0,Be.UT)(e,t))}):null}},56641:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(567831),i=n(539497);function r(e,t){if(t&&!(()=>{try{return window.localStorage.test=2,!1}catch(e){return!0}})()){const t=window.open(e,"_blank");return t&&(t.opener=null),t}{const t=(0,o.Z)(e);return setTimeout((()=>{(0,i.My)("setting_new_window_location")}),0),window.location.href=t,window}}},407043:(e,t,n)=>{n.d(t,{B:()=>l,v:()=>s});var o=n(385740),i=n(425288),r=n(785893);const{Provider:a,useHook:s}=(0,i.Z)("ContextLogger");function l({children:e,value:t}){const{setViewContextData:n}=(0,o.sV)();return t.injectSetViewContextDataFromHook=n,(0,r.jsx)(a,{value:t,children:e})}},425288:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(667294),i=n(785893);function r(e,t){let n=e.slice(1);if(n=n.endsWith("Context")?n:`${n}Context`,t){return{hocDisplayName:`with${e[0].toUpperCase()}${n}(${t})`}}return{propsDisplayName:`${e[0].toLowerCase()}${n}`,messageDisplayName:`${e[0].toUpperCase()}${n}`}}function a(e,t){const n=(0,o.createContext)(t),{propsDisplayName:a,messageDisplayName:s}=r(e);n.displayName=s;const l=n.Provider,c=({children:e})=>{const t=(0,o.useContext)(n);if(void 0===t)throw new Error(`${s}Consumer must be used within a ${s}Provider.`);return e(t)},d=()=>(0,o.useContext)(n);function u(t){const{hocDisplayName:n}=r(e,String(t.displayName||t.name)),o=e=>(0,i.jsx)(c,{children:o=>{if(void 0===o)throw new Error(`${n} must be used within a ${s}Provider.`);if(e[a])throw new Error("Parent Component and Context are passing to the component the same variables.");const r={[a]:o};return(0,i.jsx)(t,{...e,...r})}});return o.displayName=n,o}return l.displayName=`${s}Provider`,c.displayName=`${s}Consumer`,u.displayName=`${s}HOC`,{Provider:l,Consumer:c,MaybeConsumer:({children:e})=>e((0,o.useContext)(n)),useMaybeHook:d,useHook:function(){const e=d();if(void 0===e)throw new Error(`use${s} must be used within a ${s}Provider.`);return e},deprecatedHOC:u}}},966476:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(667294);const i=()=>{const[e,t]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{t(!0)}),[]),e}},499128:(e,t,n)=>{n.d(t,{UZ:()=>c,Vg:()=>l,ZP:()=>d});var o=n(667294),i=n(829407),r=n(50286),a=n(883119),s=n(785893);const l=200,c=({deviceType:e,hiding:t,visible:n})=>{const o="desktop"===e;let i=0,r=o?"translateY(200px)":"translateY(-200px)",a="opacity 0.1s ease-in-out",s="hidden";return n&&!t&&(i=1,r="translateY(0)",a="all 0.7s cubic-bezier(.19, 1.15, .48, 1)",s="visible"),n&&t&&(r="scale(1.1)",a="opacity transform 0.2s"),{opacity:i,pointerEvents:"auto",position:"relative",marginTop:o?10:0,transform:r,transition:a,visibility:s}};function d({_dangerouslySetPrimaryAction:e,text:t,primaryAction:n,thumbnailShape:d,variant:u,dataTestId:p,duration:h=2e3,onHide:_,href:m,onClick:f,openNewPage:g,iconThumbnail:b,imageUrl:v}){const x=(0,r.ZP)(),[y,P]=(0,o.useState)(!1),[w,S]=(0,o.useState)(!1),j=(0,o.useRef)(),I=()=>{P(!0),j.current=setTimeout(_,l)},k=()=>{j.current=setTimeout(I,h)},C=()=>{j.current&&clearTimeout(j.current)};let A;(0,i.Z)((()=>(setTimeout((()=>S(!0)),100),k(),C))),b?A=b:v&&(A=(0,s.jsx)(a.xu,{height:48,overflow:"hidden",width:48,children:(0,s.jsx)(a.Ee,{alt:"string"==typeof t?t:`${t[0]} ${t[1]}`,fit:"cover",naturalHeight:1,naturalWidth:1,src:v})}));const T=(0,s.jsx)(a.FN,{_dangerouslySetPrimaryAction:e,primaryAction:n,text:t,thumbnail:A,thumbnailShape:d,variant:u}),{marginTop:E,opacity:B,pointerEvents:R,position:z,transform:F,transition:O,visibility:Z}=c({deviceType:x,hiding:y,visible:w});return(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transform:F,transition:O,visibility:Z,pointerEvents:R}},"data-test-id":null!=p?p:"toast",onMouseEnter:C,onMouseLeave:k,opacity:B,position:z,marginTop:E,children:m?(0,s.jsx)(a.iP,{role:"link",href:m,onTap:({event:e})=>null==f?void 0:f(e),target:g?"blank":null,rounding:"pill",children:T}):T})}},898781:(e,t,n)=>{n.d(t,{ZP:()=>s,oz:()=>r,q6:()=>i});var o=n(425288);const{Provider:i,Consumer:r,useHook:a}=(0,o.Z)("i18n"),s=a},349700:(e,t,n)=>{function o(e,t,n){return e.split(n).map((e=>{if(e.match(n)){const n=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,n))return t[n]}return e}))}n.d(t,{Wc:()=>a,bF:()=>l,nk:()=>r});const i=/(\{\{\s*\w+\s*\}\})/g;function r(e,t){return o(e,t,i)}function a(e,t){return o(e,t,i).join("")}const s=/(\{\s*\w+\s*\})/g;function l(e,t){return o(e,t,s)}},995081:(e,t,n)=>{n.d(t,{Rq:()=>o,Vf:()=>i,jd:()=>r,oy:()=>a});const o=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,i=28,r=e=>window.innerHeight>=748&&o(e),a=function(){return!("undefined"==typeof window||!window.navigator)&&(/iPad/.test(navigator.platform)||navigator.maxTouchPoints>1&&"MacIntel"===navigator.platform)}},755742:(e,t,n)=>{n.d(t,{Z:()=>o});const o={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,F5:116,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},313047:(e,t,n)=>{n.r(t),n.d(t,{DEFAULT_HEIGHT:()=>d,DEFAULT_PADDING_Y:()=>u,FixedFooter:()=>_,FixedHeader:()=>h});var o=n(667294),i=n(124580),r=n(643010),a=n(53987),s=n(834256),l=n(883119),c=n(785893);const d=64,u=3;function p({children:e,footerConfig:t,headerConfig:n,height:a,hideOnScroll:s,hideOnScrollState:{isHidden:p,updateHiddenState:h},showDockedNavBar:_,dockNavBarForAuthTablet:m,dockNavBarForUnauthTablet:f,noPadding:g,paddingY:b=u,type:v,zIndex:x}){const{headerLimitedOverflow:y,ignoreObstructions:P,zIndexForGestaltBug:w}=n||{},{appUpsellFooterConfig:S,footerInLego:j,footerWidth:I}=t||{},k=!!S,C="header"===v?"top":"bottom",A=(0,r.Yc)(),T=(0,o.useRef)(null),E=(0,o.useRef)(null);(0,o.useEffect)((()=>{try{if(!P){const e=T.current;E.current=y&&e&&Array.isArray(e.children)?e.children[0]:e,E.current instanceof HTMLElement&&i.Z.addObstruction(C,E.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{P||E.current instanceof HTMLElement&&i.Z.removeObstruction(C,E.current)}}),[P,y,C,A]);const B="top"===C?"relative":"fixed",R=g?0:b,z=(null!=a?a:d)+((null==n?void 0:n.overrideTop)||0),F=s||_||m||f?{transition:j?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...p?{transform:`translateY(${"top"===C?-z:z}px)`,opacity:j?0:1}:Object.freeze({})}:{},O="relative"!==B||null!=n&&n.noGutter?0:2,Z=O?-O:0,L=A?"#000":"rgba(255,255,255,.95)";let N,D;return A&&("header"===v?N=-1:D=-1),(0,c.jsx)(l.xu,{ref:T,dangerouslySetInlineStyle:{__style:{top:N,bottomStyle:D,...!x||w?{zIndex:w||1}:Object.freeze({}),...y?{background:"transparent",overflow:"hidden",paddingBottom:100,marginBottom:-100,pointerEvents:"none"}:Object.freeze({}),...null!=n&&n.hasBorder?{borderBottom:"1px solid #efefef"}:Object.freeze({}),...null!=t&&t.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...F}},zIndex:w?void 0:x,"data-test-id":v,display:k?"flex":void 0,height:a&&!j?a:void 0,position:B,bottom:"footer"===v,top:"header"===v,left:!0,right:!0,marginStart:j?"auto":Z,marginEnd:j?"auto":Z,onTransitionEnd:()=>{(s||_||m||f)&&E.current&&(p?i.Z.removeObstruction(C,E.current):i.Z.addObstruction(C,E.current))},width:j||"fixed"!==B?void 0:"100%",children:(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:(null==n?void 0:n.isTranslucent)&&L||(null==n?void 0:n.isTransparentBackground)&&"transparent"||A&&"var(--color-background-default)"||"white",height:j?k?void 0:null!=a?a:d:"100%",boxShadow:j?"0px 0px 8px rgba(0, 0, 0, 0.1)":void 0,marginBottom:j&&!_?16:void 0,...y?{pointerEvents:"auto"}:Object.freeze({}),...null!=n&&n.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},paddingX:("footer"!==v||g?0:4)+O,paddingY:R,position:"relative",width:j&&I?I:k?void 0:"100%",rounding:j&&!_?"pill":void 0,display:j||null!=t&&t.alignCenter?"flex":void 0,marginStart:j?"auto":void 0,marginEnd:j?"auto":void 0,alignItems:null!=t&&t.alignCenter?"center":void 0,children:"function"==typeof e?e({updateHiddenState:h}):e})})}function h({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:n,isTranslucent:o,isTransparentBackground:i,noGutter:r,overrideTop:a,useRoundedCorners:d,zIndexForGestaltBug:h,..._}){const{noPadding:m,paddingY:f=u,zIndex:g}=_,b=m?0:f;return(0,c.jsx)(l.Le,{top:a||0,height:t?44+2*b*4:void 0,zIndex:g||void 0,children:(0,c.jsx)(s.Z,{hideOnScroll:_.hideOnScroll,children:s=>(0,c.jsx)(p,{..._,hideOnScrollState:s,type:"header",headerConfig:{isTranslucent:o,isTransparentBackground:i,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:n,noGutter:r,overrideTop:a,zIndexForGestaltBug:h,useRoundedCorners:d}})})})}function _({alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,footerWidth:o,forceShow:i,hasTopShadow:r,location:l,showDockedNavBar:d,dockNavBarForAuthTablet:u,dockNavBarForUnauthTablet:h,isModal:_,onScroll:m,...f}){const g=!!l&&(0,a.uM)(l)&&(!!d||!!u||!!h);return(0,c.jsx)(s.Z,{appUpsellFooterConfig:t,forceShow:i,hideOnScroll:f.hideOnScroll,location:l,isDockedNavOnPlp:g,isModal:_,onScroll:m,children:i=>(0,c.jsx)(p,{...f,hideOnScrollState:i,showDockedNavBar:d,dockNavBarForAuthTablet:u,dockNavBarForUnauthTablet:h,type:"footer",footerConfig:{alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,footerWidth:o,hasTopShadow:r}})})}},834256:(e,t,n)=>{n.d(t,{Z:()=>s,m:()=>a});var o=n(667294),i=n(700380);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const a=20;class s extends o.Component{constructor(...e){super(...e),r(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!!this.props.isDockedNavOnPlp}),r(this,"lastScrollPos",0),r(this,"updateHiddenState",(e=>{this.reqAnimationId=window.requestAnimationFrame((()=>{this.setState({isHidden:e})}))})),r(this,"handleScroll",(0,i.Z)((()=>{const{appUpsellFooterConfig:e,isModal:t,onScroll:n,isDockedNavOnPlp:o}=this.props,{isHidden:i}=this.state,r=window.scrollY,s=r-this.lastScrollPos;let l="none";const{scrollHeight:c,clientHeight:d}=document.documentElement||{};if(!Number.isNaN(c)&&!Number.isNaN(d))if(s<0){const e=window.scrollMinY||0;l=r<=Math.abs(e+Math.max(s,a))?"start":"none"}else{l=r>=(window.scrollMaxY||c-d)-Math.max(s,a)?"end":"none"}const u=t?0:55;if(e)if(s>a&&i&&r>=500){e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),n&&n(!1))}else(s<-a&&!i||r<=u)&&(this.updateHiddenState(!0),n&&n(!0));else!this.props.hideOnScroll&&o?"start"===l&&!i||r<=u?(this.updateHiddenState(!0),n&&n(!0)):(r>u||"end"===l)&&i&&(this.updateHiddenState(!1),n&&n(!1)):(s<-a||"start"===l)&&i||r<=u?(this.updateHiddenState(!1),n&&n(!1)):(s>a||"end"===l)&&!i&&(this.updateHiddenState(!0),n&&n(!0));this.lastScrollPos=r}),30))}componentDidMount(){try{(this.props.hideOnScroll||this.props.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){(this.props.hideOnScroll||this.props.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll||!e.isDockedNavOnPlp&&this.props.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||e.isDockedNavOnPlp&&!this.props.isDockedNavOnPlp)&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){const{children:e,forceShow:t}=this.props,{isHidden:n}=this.state;return e({isHidden:!t&&n,updateHiddenState:this.updateHiddenState})}}},542554:(e,t,n)=>{n.r(t),n.d(t,{AMPPageContainer:()=>c,default:()=>d});var o=n(883119),i=n(134879),r=n(444445),a=n(780280),s=n(995081),l=n(785893);const c=({children:e,dataLayoutShiftBoundaryId:t,hasFixedHeader:n=!1,hasGutter:c=!0,height:d,showKeychainError:u=!1,useViewport:p=!1})=>{const h=(0,a.B)(),_=(0,s.jd)(h.userAgent.platform)?s.Vf:0;return(0,l.jsx)(o.xu,{"data-layout-shift-boundary-id":t||"PageContainer",height:p?`calc(100vh - ${_}px)`:d,paddingX:c?r.D6:void 0,paddingY:n||u?void 0:3,children:(0,l.jsx)(i.C,{value:!!c,children:e})})},d=c},53987:(e,t,n)=>{n.d(t,{wy:()=>T,Fw:()=>G,ey:()=>Y,dt:()=>b,bo:()=>D,oF:()=>Q,bW:()=>g,AX:()=>p,Fy:()=>u,XE:()=>d,am:()=>a,pD:()=>h,OJ:()=>l,LO:()=>le,Gl:()=>te,PY:()=>x,Ni:()=>v,pV:()=>E,L6:()=>A,bb:()=>ue,b0:()=>f,jC:()=>M,O7:()=>ne,LM:()=>$,OK:()=>k,mP:()=>y,C$:()=>P,dr:()=>z,gT:()=>R,Fr:()=>q,Xn:()=>w,l4:()=>C,b_:()=>J,J:()=>s,dZ:()=>c,re:()=>j,RU:()=>oe,Ui:()=>_,KY:()=>m,fY:()=>K,uM:()=>W,x7:()=>V,rk:()=>ce,cD:()=>H,dW:()=>de,Pu:()=>ee,En:()=>B,ej:()=>ae,E0:()=>N,gf:()=>I,mY:()=>ie,kY:()=>se,cY:()=>X,$Y:()=>L,Zz:()=>S,$V:()=>Z,j8:()=>U,ip:()=>F,tZ:()=>O,YW:()=>re});const o=new RegExp(/^\/(?!(?:pin|categories|report|search|password|terms|discover|help|email|topics|explore|pw|login|signup|about|business|source|ideas|today|tv))[\w\d\-]+\/(?!(?:following|followers|_tools|_created|_saved|tried))[\w\d\-]+(?=\/|$)/),i=["/BingSiteAuth.xml","/about","/add-account","/ads","/age_verification","/all","/apple-app-site-association","/apple-app-site-association.p7m","/attribution_source","/bot.html","/branded-pins","/browserbutton","/buy-it","/careers","/categories","/close-account","/content-claiming","/convert-business","/convert-personal","/create-business","/create-linked-business","/create-personal","/creation-inspiration","/creator-onboarding-landing","/csrf_error","/ct.html","/deactivate-account","/deed6a3ef3a44d41bb3ae2bad137db84.txt","/developers","/discover","/edit","/email_verification_error","/engagement","/explore","/favicon.ico","/fb.html","/following","/google_gdn.html","/google_search.html","/googlef5dc42d6e03f6e61.html","/guidedsearch","/help","/holidays-celebrations","/homefeed","/idea-pin-builder","/idea-pin-invite","/ideas","/inbox","/install-shuffles","/invited","/jobs","/live-session","/login","/login_redirect","/logout","/manifest.json","/manifest.webapp","/me","/messages","/mobile","/notifications","/oauth","/app-factory-oauth","/appealed-pin","/oembed.json","/offline.html","/offsite","/opensearch.xml","/parent_contact_info","/pin-builder","/pin-editor","/pin_catalog","/pin_redirect","/pinterest-wellbeing","/pinterest-predicts","/pinterestlens","/pinterestlenstryon","/pinterestwellbeing","/policy","/product-catalogs","/recently-viewed","/report","/robots.txt","/safe-redirect","/search","/settings","/signup","/socialmanager","/story-pin-builder","/story-pin-invite","/story_feed","/sw-shell.html","/sw.html","/sw.js","/switch_account","/terms","/today","/topics","/transparent.html","/tv","/unauth-profile","/unlink","/upload-image","/upload-profile-image","/verified","/verify","/videos","/web-mentorship","/welcome","/windows-app-web-link","/your-shop"];var r=n(276775);const a=e=>o.test(e.pathname),s=(e,t)=>{const{pathname:n}=e;return a(e)&&n.match(t||"?")},l=e=>{const{pathname:t}=e;return!!(0,r.matchPath)(t,{path:"/:username/:boardId/:boardSectionId",exact:!0})&&!t.match(/^\/.+\/.+\/(_tools)/i)},c=(e,t)=>{const{pathname:n}=e;return l(e)&&n.match(t||"?")},d=e=>!!(0,r.matchPath)(e.pathname,{path:"/board/:id/edit",exact:!0}),u=e=>!!(0,r.matchPath)(e.pathname,{path:"/board/:id/edit/collaborators",exact:!0}),p=e=>!!(0,r.matchPath)(e.pathname,{path:"/board/:id/edit/add_collaborators",exact:!0}),h=e=>!!(0,r.matchPath)(e.pathname,{path:"/boardsection/:id/edit",exact:!0}),_=e=>!!(0,r.matchPath)(e.pathname,{path:"/pin/:id/comments",exact:!0}),m=e=>!!(0,r.matchPath)(e.pathname,{path:"/pin/:id/edit",exact:!0}),f=e=>!!(0,r.matchPath)(e.pathname,{path:"/conversation/:id",exact:!0}),g=e=>!!(0,r.matchPath)(e.pathname,{path:"/appealed-pin/",exact:!0}),b=e=>e.pathname.startsWith("/age-appeal"),v=e=>e.pathname.startsWith("/business/"),x=e=>e.pathname.startsWith("/business/invite/"),y=e=>!!(0,r.matchPath)(e.pathname,{path:"/pin/:id/visual-search/",exact:!0}),P=e=>"/"===e.pathname,w=e=>e.pathname.startsWith("/login"),S=e=>!!(0,r.matchPath)(e.pathname,{path:"/today",exact:!0}),j=e=>e.pathname.startsWith("/password/reset")||!!(0,r.matchPath)(e.pathname,{path:"/pw/:username",exact:!0}),I=e=>e.pathname.startsWith("/signup"),k=e=>e.pathname.startsWith("/email/subscription"),C=e=>e.pathname.startsWith("/notifications/"),A=e=>!!(0,r.matchPath)(e.pathname,{path:"/pin/:id",exact:!0}),T=e=>A(e)&&void 0===e.state,E=e=>e.pathname.startsWith("/pin_redirect"),B=e=>e.pathname.startsWith("/search"),R=e=>!!(0,r.matchPath)(e.pathname,{path:"/ideas",exact:!0}),z=e=>!!(0,r.matchPath)(e.pathname,{path:"/ideas/:interest/:id",exact:!0}),F=e=>!!(0,r.matchPath)(e.pathname,{path:"/videos/:category/:id",exact:!0}),O=e=>e.pathname.startsWith("/videos"),Z=e=>e.pathname.startsWith("/topics"),L=e=>e.pathname.startsWith("/today/article/")||e.pathname.startsWith("/today/best/")||e.pathname.startsWith("/today/trending/"),N=e=>e.pathname.startsWith("/today/shop/"),D=e=>S(e)||L(e)||e.pathname.startsWith("/today/popular/"),$=e=>/^\/discover\/article\/\S+\/?/i.test(e.pathname),M=e=>e.pathname.startsWith("/pin/create/"),H=e=>!!(0,r.matchPath)(e.pathname,{path:"/:username/",exact:!0})&&!i.includes(e.pathname.replace(/\/$/,"")),U=e=>e.pathname.startsWith("/unauth-profile"),W=e=>e.pathname.startsWith("/pin/"),q=e=>"#imgViewer"===e.hash,Y=e=>new RegExp("invite_code").test(e.search),K=e=>!!(0,r.matchPath)(e.pathname,{path:"/pin/:id",exact:!1})&&(e.pathname.includes("/sent/")||e.pathname.includes("/feedback/")),G=e=>Y(e)&&((K(e)?"pin":a(e)&&"board")||H(e)&&"profile")||null,V=e=>e.pathname.includes("/repin/x"),X=e=>e.pathname.startsWith("/_/storyboard"),J=e=>e.pathname.startsWith("/oauth"),Q=e=>e.pathname.startsWith("/app-factory-oauth"),ee=e=>e.pathname.includes("/scheduled-pin/"),te=e=>e.pathname.startsWith("/business/convert"),ne=e=>e.pathname.startsWith("/pin-editor"),oe=e=>e.pathname.startsWith("/pin-builder"),ie=e=>e.pathname.startsWith("/story-pin-builder")||e.pathname.startsWith("/idea-pin-builder"),re=e=>e.pathname.startsWith("/advertiser/quick-promote"),ae=e=>e.pathname.startsWith("/settings"),se=e=>e.pathname.startsWith("/story-pin-invite")||e.pathname.startsWith("/idea-pin-invite"),le=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/business-access/")&&e.pathname.includes("/dashboard/"),ce=e=>void 0!==e.pathname&&e.pathname.startsWith("/tv/studio"),de=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/schedule_call/"),ue=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/commerce-integrations/connect/")},620707:(e,t,n)=>{function o(e,t){if("object"==typeof e&&"object"==typeof t){const n=Object.keys(e),o=Object.keys(t);return n.length===o.length&&n.every((n=>e[n]===t[n]))}return e===t}n.d(t,{Ak:()=>o,_Y:()=>i,qe:()=>s,xZ:()=>a});const i=(e,t)=>e.length===t.length&&e.every(((e,n)=>o(e,t[n]))),r=(e,t)=>e.length===t.length&&e.every(((e,n)=>e===t[n])),a=(e,t=r)=>n=>{const o=[];return function(...i){const r=this,a=o.find((e=>e.context===r&&t(e.args,i)));if(a)return a.result;const s={context:r,args:i,result:n.apply(this,i)};return o.push(s),e&&o.length>e&&o.shift(),s.result}},s=a(1);a()},623568:(e,t,n)=>{n.d(t,{Js:()=>s,NK:()=>b,Nc:()=>v,VX:()=>l,Zt:()=>f,_J:()=>u,_Q:()=>a,_S:()=>x,cL:()=>_,dZ:()=>w,hb:()=>g,hy:()=>d,iR:()=>r,jL:()=>c,o:()=>y,oN:()=>o,pU:()=>P,rM:()=>m,sV:()=>p,sY:()=>h});const o=5e3,i=["Uploaded by user"],r=e=>!!e&&!!e.video_list,a=e=>!!e.promoted_is_lead_ad,s=(e,t)=>{let n=e&&e.url?e.url.split("/")[1]:"";return t&&t.full_name&&(n=t.full_name),n},l=e=>{var t;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null===(t=e.rich_metadata)||void 0===t?void 0:t.products)&&e.rich_metadata.products.length>0||!1},c=e=>!!e.promoter&&!e.is_downstream_promotion,d=e=>!!e,u=e=>!!e.video_status&&5!==e.video_status,p=e=>["email","messages","deep_linking"].includes(e),h=e=>!!e&&"gif"===e,_=({embedSrc:e,embedSubtype:t,embedType:n})=>!!e&&!h(n)&&!(e=>"pinstory"===e)(t),m=({link:e,mobileLink:t,trackedLink:n})=>!t&&!n&&!e,f=({link:e,mobileLink:t,origImageUrl:n,trackedLink:o})=>t||o||e||n||"",g=({isStoryPin:e,isVideoPin:t})=>e?"storyPin":t?"video":"image",b=(e,t)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:t.state?t.state.trackingParams:""}}});function v(e){var t,n;return!r(e.videos)&&!d(e.story_pin_data_id)&&0!==Object.keys((null===(t=e.aggregated_pin_data)||void 0===t||null===(n=t.creator_analytics)||void 0===n?void 0:n["30d_realtime"])||{}).length}function x(e){for(const t of i)if(e===t)return!1;return!0}function y(e){var t;return 0!==Object.keys((null===(t=e.creator_analytics)||void 0===t?void 0:t["30d_realtime"])||{}).length}function P(e){var t;return 0!==Object.keys((null===(t=e.public_creator_analytics)||void 0===t?void 0:t.all_time_realtime)||{}).length}function w(e){var t,n;return!(null===(t=e.creator_analytics)||void 0===t||null===(n=t["30d_realtime"])||void 0===n||!n.is_realtime)}},773285:(e,t,n)=>{n.d(t,{F:()=>r,a:()=>i});var o=n(425288);const{Provider:i,useHook:r}=(0,o.Z)("ExperimentContext")},886858:(e,t,n)=>{n.d(t,{Z:()=>a,k:()=>r});const o=new Set(["bookmarks","client_tracking_params","get_page_metadata","in_nux","invite_code","original_referrer","source","top_level_source","top_level_source_depth"]),i=e=>!o.has(e)&&!e.startsWith("__track__");function r(e){return e.split(/([^=]+=[^=]+),/).filter(Boolean).reduce(((e,t)=>{const[n,o]=t.split("=");return e[n]=JSON.parse(o),e}),{})}const a=e=>e?Object.keys("object"==typeof e&&e||{}).filter((e=>"string"==typeof e)).filter(i).sort().map((t=>`${t}=${JSON.stringify(null==e[t]?null:e[t])}`)).join(","):""},780280:(e,t,n)=>{n.d(t,{B:()=>u,LC:()=>c,P2:()=>l,fH:()=>d,gf:()=>p});var o=n(667294),i=n(608832),r=n(620707),a=n(785893);const s=(0,o.createContext)();function l({children:e,value:t}){const[n,l]=(0,o.useState)(t),c=(0,o.useMemo)((()=>({requestContext:n,updateRequestContext:e=>{const t={...n,...e};(0,r.Ak)(n,e)||l(t),(0,i.J)(t)}})),[n]);return(0,a.jsx)(s.Provider,{value:c,children:e})}const c=({children:e})=>{const t=(0,o.useContext)(s);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t.requestContext)},d=({children:e})=>{const t=(0,o.useContext)(s);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t.requestContext)};function u(){const e=(0,o.useContext)(s);if(!e)throw new Error("useRequestContext must be used within a RequestContextProvider");return e.requestContext}function p(){const e=(0,o.useContext)(s);if(!e)throw new Error("useUpdateRequestContext must be used within a RequestContextProvider");return e.updateRequestContext}},608832:(e,t,n)=>{let o;function i(e){o=e}function r(){return o}n.d(t,{J:()=>i,l:()=>r})},379725:(e,t,n)=>{n.d(t,{U:()=>l,b:()=>c});var o=n(886858),i=n(6637),r=n(414327),a=n(718368);function s({fetchOptions:e,resource:t,retry:n}){return(l,c)=>{var d,u,p;const{bookmark:h,headers:_,options:m,refresh:f,schema:g}=e,b=(0,o.Z)(m);if(null!==(d=c().resources)&&void 0!==d&&null!==(u=d[t])&&void 0!==u&&null!==(p=u[b])&&void 0!==p&&p.fetching&&!n)return Promise.resolve();const v=n?n.bookmark:h,x=v?{...m,bookmarks:[v]}:m;return l((0,r.LQ)(t,m,!0)),i.Z.create(t,x).callGet(void 0,_).then((o=>{var c,d,u;const p=null===(c=o.resource_response)||void 0===c?void 0:c.data,[_]=o.bookmarks||[];if(Array.isArray(p)&&0===p.length&&_&&_!==a.q){const o=n?n.count:0;if(!(o>=a.s))return l(s({resource:t,fetchOptions:e,retry:{count:o+1,bookmark:_}}))}null===(d=i.Z.customDataManipulations)||void 0===d||d.call(i.Z,t,p);const{normalizedResponse:b,resourceSchema:v}=(null===(u=i.Z.normalizeResponse)||void 0===u?void 0:u.call(i.Z,{data:p,opts:{bookmark:h,options:m,schema:g},resource:t}))||{normalizedResponse:null,resourceSchema:void 0};return h?(l((0,r.Dm)(t,m,o,b,v)),i.Z.fetchMoreCompleteCallback&&i.Z.fetchMoreCompleteCallback({resource:t,options:m,response:o,normalizedResponse:b,refresh:f,resourceSchema:v})):(l((0,r.Sr)(t,m,o,b,f,v)),i.Z.fetchCompleteCallback&&i.Z.fetchCompleteCallback({resource:t,options:m,response:o,normalizedResponse:b,refresh:f,resourceSchema:v})),Promise.resolve()}),(e=>{l((0,r.Tl)(t,m,e))}))}}const l=(e,{bookmark:t,headers:n,options:o,schema:i})=>s({resource:e,fetchOptions:{bookmark:t,headers:n,options:o,refresh:!1,schema:i}}),c=(e,{headers:t,options:n,schema:o})=>s({resource:e,fetchOptions:{headers:t,options:n,refresh:!0,schema:o}})},718368:(e,t,n)=>{n.d(t,{q:()=>o,s:()=>i});const o="-end-",i=10},176843:(e,t,n)=>{function o(e,t){let n;if(e.error){const{httpStatus:o,api_error_code:i,redirectUrl:r}=e.error;if(404===o||401===o&&7===i){n={pathname:t?"/ideas/":"/",state:{showError:!0}}}301===o&&r&&(n={pathname:r})}return n}n.d(t,{Z:()=>o})},338739:(e,t,n)=>{n.d(t,{AF:()=>o,KK:()=>i,aW:()=>s,cR:()=>r,se:()=>l,zP:()=>a});const o="CREATE_COMPLETE",i="FETCHING",r="FETCH_ERROR",a="FETCH_COMPLETE",s="FETCH_MORE_COMPLETE",l="RESOURCE_INVALIDATE"},414327:(e,t,n)=>{n.d(t,{Dm:()=>l,LQ:()=>r,Sr:()=>s,Tl:()=>a,XM:()=>i,jB:()=>c});var o=n(338739);function i(e,t,n,i){return{type:o.AF,payload:{resource:e,options:t,response:n,normalizedResponse:i}}}function r(e,t,n){return{type:o.KK,payload:{resource:e,options:t,isFetching:n}}}const a=(e,t,n)=>({type:o.cR,payload:{resource:e,options:t,error:n}});function s(e,t,n,i,r,a){return{type:o.zP,payload:{isRefresh:r,normalizedResponse:i,options:t,resource:e,response:n,schema:a}}}function l(e,t,n,i,r){return{type:o.aW,payload:{resource:e,options:t,response:n,normalizedResponse:i,schema:r}}}function c(e,t){return{type:o.se,payload:{resource:e,optionsOrOptionsKey:t}}}},784590:(e,t,n)=>{n.d(t,{Z:()=>u});var o=n(667294),i=n(702664),r=n(886858),a=n(718368),s=n(276775),l=n(780280),c=n(379725);const d={};function u(e){const{enabledRouteRefresh:t,__unstableEnableSuspenseSupport:n,headers:u,name:p,noCache:h,options:_,schema:m}=null!=e?e:{name:"DisabledResource",options:null},f=!e,g=(0,i.useDispatch)(),b=(0,r.Z)(_),v=(0,o.useRef)(null),x=(0,o.useRef)(),y=(0,s.useHistory)(),P=y&&"POP"!==y.action,w=e=>(e[p]||d)[b]||d,S=(0,i.useSelector)((({resources:e})=>w(e).nextBookmark)),j=(0,i.useSelector)((({resources:e})=>w(e).data)),I=(0,i.useSelector)((({resources:e})=>w(e).auxData)),k=(0,i.useSelector)((({resources:e})=>w(e).error)),C=(0,i.useSelector)((({resources:e})=>Boolean(w(e).fetching))),A=Boolean(k)||void 0!==j,T=A&&!C&&S===a.q,E=Boolean(A&&t&&P&&!f),[B,R]=(0,o.useState)(E),z=(0,o.useCallback)((e=>{v.current=g((0,c.U)(p,{options:_,schema:m,bookmark:e,headers:u}))}),[g,p,b,m,u]),F=()=>{v.current=g((0,c.b)(p,{options:_,schema:m,headers:u}))},{isBot:O}=(0,l.B)(),Z=()=>{if(!f&&x.current!==b){const e=void 0===x.current;x.current=b,!A&&!C||e&&k&&(({httpStatus:e})=>!e||e>=500)(k)?z():(!O&&h||E)&&F()}};(0,o.useEffect)((()=>{n||Z()})),n&&Z();const L=(0,o.useCallback)((()=>{f||(F(),R(!0))}),[f,c.b,p,b,u,R]),N=(0,o.useCallback)((()=>{!S||T||C||f||z(S)}),[f,z,S,T,C]);if(v.current)if(A&&!C)v.current=null;else if(n)throw v.current;const D=(0,o.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:N,isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,nextBookmark:void 0,refresh:L}),$={auxData:I,data:j,error:k,fetchMore:N,isAtEnd:T,isFetching:C,isLoaded:A,isRefreshing:B,nextBookmark:S,refresh:L};return(0,i.shallowEqual)($,D.current)||(!B||!D.current.data&&E||(0,i.shallowEqual)($.data,D.current.data)||($.isRefreshing=!1,R(!1)),D.current=$),D.current}},989726:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(176843),i=n(784590),r=n(19121),a=n(53987),s=n(276775);function l(e){const t=(0,s.useHistory)(),n=(0,s.useLocation)(),{isAuth:l}=(0,r.Z)(),c=!l&&(0,a.L6)(n),d=(0,i.Z)(e),u=(0,o.Z)(d,c);return u&&t.replace(u.pathname,u.state),d}},995228:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(667294),i=n(966476),r=n(464228),a=n(785893);function s({children:e,fallback:t,dangerouslyServerRenderForGraphQL:n=!1}){const s=t||null,l=(0,i.Z)(),c=(0,r.P)();return c&&"legacy"!==c?n||l?(0,a.jsx)(o.Suspense,{fallback:s,children:e}):s:(0,a.jsx)(o.Suspense,{fallback:s,children:e})}},223815:(e,t,n)=>{n.d(t,{U:()=>a,Z:()=>s});var o=n(755742),i=n(785893);const r=()=>{},a=e=>{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()};function s({allowClickAndDrag:e,allowEsc:t,allowMediaPlay:n,allowScroll:s,children:l}){const c=e=>function(e,t){t&&e.keyCode===o.Z.ESCAPE||a(e)}(e,t);return(0,i.jsx)("div",{onAbort:a,onAnimationEnd:a,onAnimationIteration:a,onAnimationStart:a,onBlur:r,onCanPlay:n?r:a,onCanPlayThrough:a,onChange:a,onClick:e?r:a,onCompositionEnd:a,onCompositionStart:a,onCompositionUpdate:a,onContextMenu:a,onCopy:a,onCut:a,onDoubleClick:a,onDurationChange:a,onEmptied:a,onEncrypted:a,onEnded:a,onError:a,onFocus:r,onInput:a,onInvalid:a,onKeyDown:c,onKeyPress:c,onKeyUp:c,onLoad:a,onLoadedData:a,onLoadedMetadata:a,onLoadStart:a,onMouseDown:a,onMouseEnter:a,onMouseLeave:a,onMouseMove:e?r:a,onMouseOut:a,onMouseOver:a,onMouseUp:e?r:a,onPaste:a,onPause:a,onPlay:a,onPlaying:a,onProgress:a,onRateChange:a,onScroll:s?r:a,onSeeked:a,onSeeking:a,onSelect:a,onStalled:a,onSubmit:a,onSuspend:a,onTimeUpdate:a,onTouchCancel:a,onTouchEnd:e?r:a,onTouchMove:e?r:a,onTouchStart:e?r:a,onTransitionEnd:a,onVolumeChange:a,onWaiting:a,onWheel:a,children:l})}},622096:(e,t,n)=>{n.d(t,{L_:()=>i,Nh:()=>r,qn:()=>o});const o=(e,t)=>{if("undefined"==typeof window)return t;try{return window.sessionStorage.getItem(e)}catch(n){return window.console.error("Cannot access sessionStorage."),t}},i=e=>{if("undefined"!=typeof window)try{window.sessionStorage.removeItem(e)}catch(t){window.console.error("Cannot access sessionStorage.")}},r=(e,t)=>{if("undefined"!=typeof window)try{window.sessionStorage.setItem(e,t)}catch(n){window.console.error("Cannot access sessionStorage.")}}},985913:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(858142);const i=/\{\{\s*(\w+)\s*\}\}/g,r=(e,t)=>(0,o.Z)(i,e,t)},858791:(e,t,n)=>{n.d(t,{Z:()=>o});const o=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},858142:(e,t,n)=>{n.d(t,{Z:()=>o});const o=(e,t,n)=>t?t.replace(e,((e,t)=>n&&Object.prototype.hasOwnProperty.call(n,t)?n[t]:"")):""},66699:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(985913),i=n(858791);const r=(e,t)=>{const n={};return Object.keys(t).forEach((e=>{n[e]=t[e]?(0,i.Z)(t[e].toString()):""})),(0,o.Z)(e,n)}},657292:(e,t,n)=>{n.d(t,{X0:()=>i,ZP:()=>a,iT:()=>r,v0:()=>o});const o="unauthHistories",i="authHistories",r="trackHistoryClickInternalUrl";function a(e,t){if("undefined"!=typeof window)try{const n=new URL(window.location.href).searchParams.get("consoleTra");if(window.PINTEREST_DEV_LOG||n){const n=window.PINTEREST_DEV_REGEX||"";n&&!(e||"").match(n)||(t&&"object"==typeof t&&Object.keys(t).length?console.log(e+": %O",t):console.log(e))}}catch(n){}}},539497:(e,t,n)=>{n.d(t,{De:()=>x,LW:()=>y,My:()=>_,NC:()=>f,Nc:()=>g,SB:()=>v,an:()=>b,dy:()=>P,qJ:()=>p,tj:()=>h,yl:()=>d});var o=n(6637),i=n(826067),r=n(657292),a=n(622096),s=n(53987);let l=[];let c;function d(e){l.length&&(o.Z.create("UserRegisterTrackActionResource",{actions:l}).callUpdate({showError:!1,async:!e}),l=[],c=null)}function u(e,t){const n=(0,a.qn)(r.iT);if((0,a.L_)(r.iT),n)return;let o=(0,a.qn)(e);if(o=o?o.split(","):[],o.length){const e=`${t}.${o.reduce(((e,t)=>e+"-"+t))}`;l.push({name:e,aux_data:{}})}(0,a.L_)(e)}const p=e=>{u(r.v0,e),u(r.X0,`${e}_auth`),l.length&&d(!0)};function h(e,t){let n="undefined"!=typeof window&&window.encodeURIComponent&&encodeURIComponent(e)||e;t||(t={}),-1!==n.indexOf("%")&&(t.invalid_action&&(t.invalid_action_original=t.invalid_action),t.invalid_action=n,n="track_register_action.web.invalid_action.with_percent"),l.push({name:n,aux_data:t}),c||(c=setTimeout((()=>d()),5e3)),(0,r.ZP)(e,t)}function _(e,t){h(e,{tags:t?{...t}:Object.freeze({})})}function m(e,t,n=!1){if("undefined"==typeof window)return;let o=(0,a.qn)(e);o=o?o.split(","):[],o.push(t),(0,a.Nh)(e,o.join()),e!==r.X0&&_(`lex.${t}`),n&&(0,a.Nh)(r.iT,!0)}function f(e,t=!1){m(r.v0,e,t)}function g(e,t=!1){m(r.X0,e,t)}const b=()=>{const e=(0,i.mB)(window.location.search);if("31"===e.utm_source)return"email";if(e.utm_pai)return"paid";const t=document.referrer;return t?t.includes("/t.co/")?"twitter":t.includes("cdn.ampproject.org")?"amp":t.includes("google.")?"google":t.includes("bing.")?"bing":t.includes("facebook.")?"facebook":"other":"direct"},v=e=>(0,s.L6)(e)?"pin":(0,s.am)(e)?"board":(0,s.Xn)(e)?"login":(0,s.C$)(e)?"home":(0,s.cD)(e)?"profile":(0,s.dr)(e)?"ideas":(0,s.gT)(e)?"ideas-root":(0,s.tZ)(e)?"videos":(0,s.$Y)(e)?"article":(0,s.E0)(e)?"shopping-spotlight":(0,s.Zz)(e)?"today":(0,s.j8)(e)?"unauth-profile":"other",x=e=>{e.action&&e.event?_("pinner_conversion",{...e,type:e.type||"none",trigger:e.trigger||"other",referrer:b()}):_("pinner_conversion.missing_tags")},y=({action:e,item:t,pageLocation:n,within:o})=>{_(`logged_out_product.interaction.${v(n)}.${e}`,{item:t||"none",within:o||"none"})},P=({event:e,provider:t})=>{_(`pinner_conversion.autologin.${t}.${e}`)}},343341:(e,t,n)=>{n.d(t,{F9:()=>a,Zo:()=>i,nE:()=>r});var o=n(425288);const{Provider:i,Consumer:r,useHook:a}=(0,o.Z)("toastManagerContext")},149230:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(954931);const i=({url:e})=>!(!e||!e.match(/^https{0,1}:\/\//)||(0,o.Z)(e))},50286:(e,t,n)=>{n.d(t,{HG:()=>l,Mq:()=>i,Wb:()=>s,ZP:()=>c,ml:()=>a});var o=n(780280);function i(e){const{isMobile:t,isTablet:n}=e.userAgent;return n?"tablet":t?"phone":"desktop"}const r=()=>i((0,o.B)()),a=()=>"phone"===r(),s=()=>"tablet"===r(),l=()=>"desktop"===r(),c=r},829407:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(667294);const i=e=>{(0,o.useEffect)(e,[])}},19121:(e,t,n)=>{n.d(t,{$:()=>i,Z:()=>a});var o=n(425288);const{Provider:i,useHook:r}=(0,o.Z)("viewer"),a=r},52395:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(883119),i=n(785893);function r({text:e}){return(0,i.jsx)(o.xu,{display:"visuallyHidden",children:(0,i.jsx)(o.X6,{accessibilityLevel:1,children:e})})}},904411:(e,t,n)=>{n.d(t,{bn:()=>s,fJ:()=>c,gC:()=>l});var o=n(702664),i=n(425288),r=n(785893);const{Provider:a,useHook:s}=(0,i.Z)("Boards");function l(){const e=s();return t=>e[t]}function c({children:e}){const t=(0,o.useSelector)((({boards:e})=>e),o.shallowEqual);return(0,r.jsx)(a,{value:t,children:e})}},281180:(e,t,n)=>{n.d(t,{Tt:()=>d,kW:()=>l,kY:()=>u,mN:()=>c});var o=n(702664),i=n(19121),r=n(425288),a=n(785893);const{Provider:s,useHook:l}=(0,r.Z)("Users");function c(){const e=l();return t=>e[t]}function d(){const{id:e}=(0,i.Z)();return l()[null!=e?e:""]}function u({children:e}){const t=(0,o.useSelector)((({users:e})=>e),o.shallowEqual);return(0,a.jsx)(s,{value:t,children:e})}},223123:(e,t,n)=>{n.d(t,{Z:()=>d});var o=n(702664),i=n(6637),r=n(332611),a=n(886858),s=n(379725),l=n(414327),c=n(782677);function d(){const e=(0,o.useDispatch)(),t=(0,o.useSelector)((e=>e.resources));return async function({boardCreateOptions:n,deprecatedSchemaForNormalization:o}){var d,u;const p=await i.Z.create("BoardResource",n).callCreate(),h=null===(d=p.resource_response)||void 0===d?void 0:d.data,_=o?(0,c.Fv)(h,o):void 0;e((0,l.XM)("BoardResource",n,p,_)),e((0,r.fO)({event_type:20})),null!==(u=h.owner)&&void 0!==u&&u.id&&e((0,s.b)("UserResource",{options:{user_id:h.owner.id,field_set_key:"save_behavior"}}));const m=t.BoardsResource||{},f=t.BoardsFeedResource||{};return Object.keys(m).forEach((t=>{var n;(0,a.k)(t).username===(null===(n=h.owner)||void 0===n?void 0:n.username)&&e((0,l.jB)("BoardsResource",t))})),Object.keys(f).forEach((t=>{var n;(0,a.k)(t).username===(null===(n=h.owner)||void 0===n?void 0:n.username)&&e((0,l.jB)("BoardsFeedResource",t))})),h}}},162158:(e,t,n)=>{n.d(t,{V:()=>a,u:()=>r});var o=n(6637),i=n(935409);const r=e=>t=>{const n={board_id:e};return o.Z.create("BoardResource",n).callGet().then((e=>{const n=e&&e.resource_response&&e.resource_response.data;return n&&t((0,i.yT)(n)),e}))};function a(e,t,n){return(r,a)=>{const{boards:s}=a(),l=s[e],c=void 0===t.collaborator_requests_enabled||null===t.collaborator_requests_enabled?Object.freeze({}):{collaborator_requests_enabled:t.collaborator_requests_enabled},d={allow_homefeed_recommendations:t.allow_homefeed_recommendations,category:t.category,collab_board_email:t.collab_board_email,collaborator_invites_enabled:t.collaborator_invites_enabled,collaborator_permissions_setting:t.collaborator_permissions_setting,description:t.description,name:t.name,privacy:t.privacy,sensitivity:t.sensitivity||null,...n?{orbac_subject_id:n}:Object.freeze({}),...c};return r((0,i.yT)({...d,id:e})),o.Z.create("BoardResource",{...d,board_id:e}).callUpdate().then((e=>{const n=e&&e.resource_response&&e.resource_response.data||t;return r((0,i.yT)(n)),e})).catch((e=>{throw l&&r((0,i.yT)(l)),e}))}}},464228:(e,t,n)=>{n.d(t,{P:()=>r,Z:()=>a});var o=n(667294);const i=(0,o.createContext)();function r(){return(0,o.useContext)(i)}const a=i},373897:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o},e.exports.__esModule=!0,e.exports.default=e.exports},163405:(e,t,n)=>{var o=n(373897);e.exports=function(e){if(Array.isArray(e))return o(e)},e.exports.__esModule=!0,e.exports.default=e.exports},474704:(e,t,n)=>{var o=n(386116);e.exports=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}},e.exports.__esModule=!0,e.exports.default=e.exports},238416:e=>{e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},564836:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},379498:e=>{e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},742281:e=>{e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},242122:(e,t,n)=>{var o=n(238416);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},600861:(e,t,n)=>{var o=n(163405),i=n(379498),r=n(386116),a=n(742281);e.exports=function(e){return o(e)||i(e)||r(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},386116:(e,t,n)=>{var o=n(373897);e.exports=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},497326:(e,t,n)=>{function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:()=>o})},487462:(e,t,n)=>{function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}n.d(t,{Z:()=>o})},875068:(e,t,n)=>{function o(e,t){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,o(e,t)}n.d(t,{Z:()=>i})},263366:(e,t,n)=>{function o(e,t){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:()=>o})}},e=>{var t=t=>e(e.s=t);e.O(0,[97270,83119,15115,26067,72826,50558,27950,38098,29825,85330],(()=>(t(473580),t(178973))));e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/pin/[id]/repin-mobile-70a98a7da3ae4d9d.mjs.map