(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[924],{807592:(e,t,a)=>{function i(e){const{max_price:t,min_price:a,price:i}=e;return t&&a?`${a}-${t}`:i}a.d(t,{Z:()=>i})},310227:(e,t,a)=>{a.d(t,{Dv:()=>n,Ml:()=>o,Oc:()=>i,mv:()=>s});const i=16,s=4,n={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"},o=120},56641:(e,t,a)=>{a.d(t,{Z:()=>n});var i=a(567831),s=a(539497);function n(e,t){if(t&&!(()=>{try{return window.localStorage.test=2,!1}catch(e){return!0}})()){const t=window.open(e,"_blank");return t&&(t.opener=null),t}{const t=(0,i.Z)(e);return setTimeout((()=>{(0,s.My)("setting_new_window_location")}),0),window.location.href=t,window}}},121093:(e,t,a)=>{a.d(t,{Z:()=>c});var i=a(667294),s=a(702664),n=a(332611),o=a(242923);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class l extends i.Component{constructor(...e){super(...e),r(this,"state",{hasCompleted:[],hasDismissed:[]}),r(this,"view",(()=>{const{experience:e,isBackendExperience:t,targeting:a,viewExperience:i,viewExperienceObject:s}=this.props;e&&"viewed"!==e.status&&(t?(e.status="viewed",s(e)):a?i(e.placement_id,e.experience_id,a):i(e.placement_id,e.experience_id))})),r(this,"complete",(e=>{const{completeExperience:t,completeExperienceObject:a,experience:i,isBackendExperience:s,preventRemoval:n,targeting:o}=this.props,r=e||1;if(i&&!this.state.hasCompleted.includes(i.experience_id)){const{placement_id:e,experience_id:l}=i||{},c=n||2===r;(1===r||c)&&e&&l&&(s?a(i,c):o?t(e,l,c,o):t(e,l,c),this.setState((e=>({hasCompleted:[...e.hasCompleted,l]}))))}})),r(this,"dismiss",(()=>{const{dismissExperience:e,dismissExperienceObject:t,experience:a,isBackendExperience:i,preventRemoval:s,targeting:n}=this.props,{placement_id:o,experience_id:r}=a||{};a&&!this.state.hasDismissed.includes(r)&&(i?t(a):n?e(o,r,!!s,n):e(o,r,!!s),this.setState((e=>({hasDismissed:[...e.hasDismissed,r]}))))})),r(this,"shouldRenderExperience",(()=>{const{experience:e}=this.props;if(e){const{eligibleIds:t,eligibleTypes:a,predicate:i,transitionType:s}=this.props,{experience_id:n,type:o}=e;if(t&&t.includes(n))return!0;if(null==t||!t.length){if(i&&i(e))return!0;if(a&&a.includes(o))return!0;if(s&&s===o)return!0}}return!1}))}componentDidMount(){if(this.props.disableAutoView)return;const{experience:e}=this.props;e&&this.shouldRenderExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;const t=e.experience,a=this.props.experience;a&&this.shouldRenderExperience()&&(t&&t.experience_id===a.experience_id||this.view())}render(){const{children:e,experience:t,disableAutoView:a}=this.props;return t&&this.shouldRenderExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...a?{view:this.view}:Object.freeze({})}):i.Children.only(e):null}}r(l,"defaultProps",{eligibleIds:[],eligibleTypes:[]});const c=(0,s.connect)((({experiences:e},t)=>({experience:t.experience||(t.placementId?e[t.placementId]:void 0)})),(e=>({completeExperience:(t,a,i,s)=>e((0,n.CK)(t,a,i,!1,{},s)),completeExperienceObject:(t,a)=>e((0,o.Tl)(t,a)),dismissExperience:(t,a,i,s)=>e((0,n.Qu)(t,a,i,void 0,s)),dismissExperienceObject:t=>e((0,o.CF)(t)),viewExperience:(t,a,i)=>e((0,n.UT)(t,a,!1,!1,void 0,i)),viewExperienceObject:t=>e((0,o.dy)(t))})))(l)},242923:(e,t,a)=>{a.d(t,{CF:()=>r,Tl:()=>o,dy:()=>l});var i=a(6637),s=a(332611);const n=(e,t)=>(a,n)=>o=>{if(a&&a.id){const r=i.Z.create(e,{placed_experience_id:a.id,extra_context:{}});switch(t){case"dismissed":r.callDelete().then((()=>{o((0,s.fO)())}));break;case"completed":r.callUpdate().then((()=>{n||o((0,s.fO)())}));break;case"viewed":r.callUpdate()}}},o=n("UserExperienceCompletedResource","completed"),r=n("UserExperienceResource","dismissed"),l=n("UserExperienceViewedResource","viewed")},954571:(e,t,a)=>{a.d(t,{Z:()=>i});function i(e){if(!e)return!1;const t=new Date(e);return t.setDate(t.getDate()+28),(new Date).getTime()<t.getTime()}},713930:(e,t,a)=>{a.d(t,{Z:()=>s});var i=a(172071);function s(e,t){return new Promise(((a,s)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if("FACEBOOK"===t)if(window.FB)a();else{const t=setInterval((()=>{window.FB||20===e?(clearInterval(t),a()):(e+=1,i.Z.increment(`mweb.loadScript.facebook.tries_${e}`,.01))}),100)}else if("GSI"===t)if(window.google)a();else{const t=setInterval((()=>{window.google||20===e?(clearInterval(t),a()):(e+=1,i.Z.increment(`mweb.loadScript.gsi.tries_${e}`,.01))}),100)}else a()}else{const t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",(()=>a())),t.addEventListener("error",s),document.getElementsByTagName("head")[0].appendChild(t)}}))}},55275:(e,t,a)=>{a.d(t,{P:()=>o,t:()=>r});var i=a(6637);const s=()=>{};const n={complaint:function(e,t){i.Z.create("PinFeedbackResource",e).callUpdate().then((()=>t()))},followBoard:function(e,t){i.Z.create("BoardFollowResource",e).callCreate().then((()=>t()))},followPinner:function(e,t){i.Z.create("UserFollowResource",e).callCreate().then((()=>t()))},followTopic:function(e,t){i.Z.create("InterestFollowResource",e).callCreate().then((()=>t()))},newsHubPinHide:function(e,t){i.Z.create("NewsHubPinFeedbackResource",e).callUpdate().then((()=>t()))},promotedComplaint:function(e,t){i.Z.create("PinFeedbackResource",e).callUpdate().then((()=>t()))},relatedPinHide:function(e,t){i.Z.create("RelatedPinFeedbackResource",e).callUpdate().then((()=>t()))},reportPin:function(e,t){t()},showAdReasons:function(e,t){t()},unfollowBoard:function(e,t){i.Z.create("BoardFollowResource",e).callDelete().then((()=>t()))},unfollowPinner:function(e,t){i.Z.create("UserFollowResource",e).callDelete().then((()=>t()))},unfollowTopic:function(e,t){i.Z.create("InterestFollowResource",e).callDelete().then((()=>t()))},unrelatedSearchPin:function(e,t){i.Z.create("SearchPinFeedbackResource",e).callUpdate().then((()=>t()))}},o=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function r(e,t,a=s){const i=e?n[e]:null;return i?i(t,a):a()}},680046:(e,t,a)=>{a.d(t,{EF:()=>h,XZ:()=>c,ZP:()=>r,nb:()=>d,yl:()=>l});var i=a(966113),s=a(55275),n=a(760372);const o=e=>e.length>32?`${e.substring(0,32).trim()}...`:e,r=({i18n:e,interpolateNamedTemplate:t})=>({getLearnMoreUrl:(e,t)=>{switch(e){case 1:return i.Z.settings.HELP_PROMOTED_PINS_RETARGETED_PIN_URL;case 2:case 3:return i.Z.settings.HELP_PROMOTED_PINS_LOOKALIKE_TARGETING_URL;default:return t?i.Z.settings.HELP_DEFAULT_PROMOTED_PINS_URL:i.Z.settings.HELP_PROMOTED_PINS_URL}},getRecommendationDescription:({ad_match_reason:a,board:i,feedbackType:s,makeNavigateLink:n,pinner:r,promoter:l,recommendationReason:c,sourceInterest:d})=>{switch(s){case"pfy":return e._('This Pin was inspired by your recent activity', 'Pin feedback reason', 'Pin feedback reason');case"pfyBoard":const{name:s,url:h}=c.board,u=n("navigation",h,s);return t(e._('This Pin was inspired by your board {{ boardLink }}', 'Pin feedback - inspired by your board', 'Pin feedback - inspired by your board'),{boardLink:u});case"topic":const{name:p,url_name:m}=d,y=n("topicUrl",`/topics/${m}`,p);return t(e._('This Pin was inspired by {{ formattedTopic }}', 'Pin feedback', 'Pin feedback'),{formattedTopic:y});case"followed":const b=`/${r.username}`,f=n("boardUrl",i.url,o(i.name)),g=n("pinnerUrl",b,o(r.full_name));return r.explicitly_followed_by_me?t(e._('This Pin is from {{ formattedPinner }}, a profile you follow', 'Pin feedback', 'Pin feedback'),{formattedPinner:g}):t(e._('This Pin is from {{ formattedBoard }}, a board you follow', 'Pin feedback', 'Pin feedback'),{formattedBoard:f});case"promoted":switch(a){case 1:case 2:case 3:return e._('This ad was personalized for you using info from one of our partners', 'Pin feedback', 'Pin feedback');default:const{full_name:a,username:i}=l,s=n("promotedLink",i?"/"+i+"/":"/",a);return t(e._('{{ promoterLink }} paid to have this Pin show up where\n          you\u2019d be more likely to notice it', 'Pin feedback', 'Pin feedback'),{promoterLink:s})}default:return null}},getFeedbackType({board:e,feedback:t,viewParameter:a,pin:{promoter:i,is_downstream_promotion:s,recommendation_reason:n},pinner:o}){const r=t&&t.type;return i&&!s?"promoted":r||((e=>!!e&&"FOLLOWED_INTEREST"!==e.reason&&"FOLLOWING_FEED"!==e.reason&&"RECENT_FOLLOWED_BOARD"!==e.reason&&!0)(n)?n.board?"pfyBoard":"pfy":n&&"FOLLOWED_INTEREST"===n.reason?"topic":e&&e.followed_by_me||o&&o.explicitly_followed_by_me?"followed":140===a||144===a||141===a||145===a||139===a||3173===a?"related":92===a?"default":3082===a?"newsHub":null)},getHidePinAction:({feedbackData:e,feedbackType:t,pinId:a,recommendationReasonId:i,pinFeedbackType:s,complaintReason:n,throughId:o,throughProperties:r,clientTrackingParams:l})=>{const c="promoted"===t;let d,h;switch(t){case"promoted":d="promotedComplaint";break;case"search":d="unrelatedSearchPin";break;case"related":d="relatedPinHide";break;case"newsHub":d="newsHubPinHide";break;default:d="complaint"}switch(t){case"search":h={query:e.query,pin_id:a};break;case"related":h={pin:a};break;case"newsHub":h={pinId:a,newsId:e.newsId};break;default:h={complaint_reason:n||0,pin_id:a,...i?{recommendation_reason_id:i}:{},feedback_type:s||1,promoted:c,...o?{through_id:o}:{},...r?{through_properties:r}:{},...l?{client_tracking_params:l}:{}}}return{action:d,actionOptions:h}},getUnfollowAction:({board:a,feedbackType:i,makeNavigateLink:s,pinner:o,sourceInterest:r})=>{if("topic"===i){if(r){const{id:a,name:i,url_name:o}=r,l=s("topicUrl",`/topics/${o}`,i,!0),c=t(e._('We\u2019ll show you less Pins from {{ formattedTopic }} in the future.', 'pin.contextualMenu.feedback.unfollowTopic.subtitle', 'Confirmation text after unfollowing a topic'),{formattedTopic:l});return{action:"unfollowTopic",actionOptions:{interest_id:a,interest_list:n.X},title:"",subTitle:c}}}else if("followed"===i&&a&&o){const{id:i,name:n,url:r}=a||{},{explicitly_followed_by_me:l,full_name:c,username:d}=o,h=`/${d}`,u=s("boardUrl",r,n,!0),p=s("pinnerUrl",h,c,!0);let m=l?t(e._('You\u2019ve unfollowed {{ formattedPinner }}\u2019s Board {{ formattedBoard }}. You can follow it again by searching for it.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedPinner:p,formattedBoard:u}):t(e._('You\u2019ve unfollowed {{ formattedBoard }}. You can follow it again by searching for it.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:u});return m=l?t(e._('You unfollowed {{ formattedPinner }} and won\u2019t see Pins they save anymore.', 'Confirmation text after unfollowing a user', 'Confirmation text after unfollowing a user'),{formattedPinner:p}):t(e._('You unfollowed the board {{ formattedBoard }} and won\u2019t see Pins saved to it anymore.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:u}),{action:"unfollowBoard",actionOptions:{board_id:i},title:"",subTitle:m}}return null}});function l(e){return null!=e&&e.reason_id?e.reason_id:null!=e&&e.board?e.board.id:null!=e&&e.pin?e.pin.id:null!=e&&e.interest?e.interest.id:""}function c(e){return null==e?void 0:e.through_properties}function d(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}function h(e,t,a,i,n,o,r){return()=>{const l={...e,undo:!0};let c=t;"unfollowPinner"===t?c="followPinner":"unfollowBoard"===t?c="followBoard":"unfollowTopic"===t&&(c="followTopic"),(0,s.t)(c,l),o(a),r({event_type:101,component:0,element:11181,view_type:i,view_parameter:n})}}},935879:(e,t,a)=>{a.d(t,{Z:()=>i});const i=e=>`//connect.facebook.net/${(e=>{const t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}})(e)}/sdk.js`},760372:(e,t,a)=>{a.d(t,{X:()=>i});const i="favorited"},813401:(e,t,a)=>{a.d(t,{kf:()=>b,l5:()=>m,of:()=>u,xC:()=>y,yz:()=>p});var i=a(667294),s=a(172071),n=a(829407),o=a(807609),r=a(30287),l=a(425288),c=a(785893);const{Provider:d,useMaybeHook:h}=(0,l.Z)("PwaContext"),u=({children:e,initialContext:t})=>{const[a,o]=(0,i.useState)(null),l=t||{pwaType:"unknown",twaType:null},h=l.pwaType;(0,n.Z)((()=>{const e=(0,r.FB)(window)||"unknown";o(e),h!==e&&s.Z.increment("pwa.type_mismatch",1,{serverPwaType:h,clientPwaType:e,conflict:"unknown"!==h&&"unknown"!==e})}));const u="unknown"===h&&a?a:h,p=l.twaType,m=(0,i.useMemo)((()=>({pwaType:u,twaType:p})),[u,p]);return(0,c.jsx)(d,{value:m,children:e})},p=()=>{var e;const t=h();return null!==(e=null==t?void 0:t.pwaType)&&void 0!==e?e:"unknown"},m=()=>{var e;const t=h();return null!==(e=null==t?void 0:t.twaType)&&void 0!==e?e:null},y=()=>"android-twa"===p(),b=()=>{const e=p(),t=(0,o.Z)();return"unknown"===e&&t?null:"windows"===e}},995228:(e,t,a)=>{a.d(t,{Z:()=>r});var i=a(667294),s=a(966476),n=a(464228),o=a(785893);function r({children:e,fallback:t,dangerouslyServerRenderForGraphQL:a=!1}){const r=t||null,l=(0,s.Z)(),c=(0,n.P)();return c&&"legacy"!==c?a||l?(0,o.jsx)(i.Suspense,{fallback:r,children:e}):r:(0,o.jsx)(i.Suspense,{fallback:r,children:e})}},947599:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a(995228).Z},862628:(e,t,a)=>{function i(e){return(e||"").trim().replace(/\s+/g," ")}a.d(t,{Z:()=>i})},31149:(e,t,a)=>{a.d(t,{Z:()=>s});var i=a(785893);function s({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#EFEFEF"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.1106 19.6408C18.2759 19.551 18.4653 19.5 18.6667 19.5H37.3333C37.5535 19.5 37.7594 19.561 37.9351 19.667C37.9351 19.667 37.9352 19.667 37.9352 19.667L28.7395 27.2024C28.3095 27.5547 27.6905 27.5547 27.2605 27.2024L18.0648 19.667C18.0799 19.6579 18.0951 19.6492 18.1106 19.6408ZM14 20.8611V20.6667C14 18.0893 16.0893 16 18.6667 16H37.3333C39.9107 16 42 18.0893 42 20.6667V20.8611V34.6667C42 37.244 39.9107 39.3333 37.3333 39.3333H18.6667C16.0893 39.3333 14 37.244 14 34.6667V20.8611ZM38.5 23.7292V34.6667C38.5 35.311 37.9777 35.8333 37.3333 35.8333H18.6667C18.0223 35.8333 17.5 35.311 17.5 34.6667V23.7292L25.0422 29.9095C26.7622 31.319 29.2378 31.319 30.9578 29.9096L38.5 23.7292Z",fill:"black"})]})}},659522:(e,t,a)=>{a.d(t,{Z:()=>s});var i=a(785893);function s({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("path",{d:"M56 28C56 12.536 43.464 0 28 0S0 12.536 0 28c0 13.975 10.24 25.56 23.625 27.66V36.094h-7.11V28h7.11v-6.169c0-7.017 4.18-10.893 10.576-10.893 3.064 0 6.268.546 6.268.546v6.891h-3.53c-3.479 0-4.564 2.159-4.564 4.373V28h7.766l-1.242 8.094h-6.524V55.66C45.761 53.56 56 41.975 56 28Z",fill:"#1877F2"}),(0,i.jsx)("path",{d:"M38.9 36.094 40.14 28h-7.765v-5.252c0-2.215 1.085-4.373 4.563-4.373h3.53v-6.89s-3.203-.547-6.267-.547c-6.396 0-10.576 3.876-10.576 10.893V28h-7.11v8.094h7.11V55.66a28.206 28.206 0 0 0 8.75 0V36.094h6.524Z",fill:"#fff"})]})}},331744:(e,t,a)=>{a.d(t,{Z:()=>s});var i=a(785893);function s({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("path",{d:"M28 56c15.464 0 28-12.536 28-28S43.464 0 28 0 0 12.536 0 28s12.536 28 28 28Z",fill:"#00B900"}),(0,i.jsx)("path",{d:"M46.625 26.32c0-8.335-8.354-15.115-18.625-15.115-10.267 0-18.625 6.78-18.625 15.115 0 7.471 6.627 13.73 15.578 14.91.606.13 1.432.401 1.642.92.187.47.122 1.208.06 1.684l-.265 1.596c-.08.471-.373 1.843 1.615 1.003 1.988-.835 10.724-6.314 14.634-10.812 2.693-2.964 3.986-5.969 3.986-9.3Z",fill:"#fff"}),(0,i.jsx)("path",{d:"M24.215 22.293H22.91c-.201 0-.364.163-.364.364v8.115c0 .2.163.364.364.364h1.306c.2 0 .364-.163.364-.364v-8.12a.363.363 0 0 0-.364-.36ZM33.208 22.293H31.9c-.2 0-.364.163-.364.364v4.82l-3.72-5.02c-.009-.015-.018-.024-.027-.038l-.005-.005-.023-.023c-.005 0-.005-.005-.005-.005-.005-.005-.014-.01-.019-.014l-.009-.01c-.005-.004-.014-.008-.019-.013-.004-.005-.009-.005-.009-.005a.036.036 0 0 0-.019-.01c-.004 0-.009-.004-.009-.004-.005-.004-.014-.004-.019-.01-.004 0-.009-.004-.014-.004l-.023-.01c-.005 0-.01 0-.014-.004-.01 0-.014-.005-.019-.005h-.014c-.004 0-.014 0-.018-.004H26.212c-.2 0-.364.163-.364.364v8.115c0 .2.164.364.364.364h1.307c.2 0 .364-.163.364-.364v-4.82l3.724 5.03a.283.283 0 0 0 .093.089s.005 0 .005.005c.01.004.014.009.023.014.005 0 .005.004.01.004.004.005.01.005.018.01.005.004.01.004.02.009.004 0 .008.005.008.005.01.004.02.004.024.009h.004c.028.01.061.014.094.014h1.306c.201 0 .364-.163.364-.364v-8.125a.37.37 0 0 0-.368-.36ZM21.065 29.097h-3.551v-6.445c0-.2-.164-.364-.364-.364h-1.307c-.2 0-.364.163-.364.364v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306a.358.358 0 0 0-.359-.364ZM40.422 24.323c.201 0 .364-.163.364-.364v-1.307c0-.2-.163-.364-.364-.364h-5.217a.353.353 0 0 0-.252.103l-.005.005c0 .004-.004.004-.004.004a.373.373 0 0 0-.103.252v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55c.201 0 .364-.164.364-.364v-1.307c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55v.005Z",fill:"#00B900"})]})}},757146:(e,t,a)=>{a.d(t,{Z:()=>s});var i=a(785893);function s({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#fff"}),(0,i.jsx)("rect",{x:".5",y:".5",width:"55",height:"55",rx:"27.5",stroke:"#767676",strokeOpacity:".4"}),(0,i.jsx)("path",{d:"M28 12c-9.012 0-16 6.604-16 15.52 0 4.664 1.912 8.696 5.024 11.48.26.232.42.56.428.912l.088 2.848c.028.908.964 1.5 1.796 1.132l3.176-1.4c.268-.12.572-.14.856-.064 1.46.4 3.012.616 4.632.616 9.012 0 16-6.604 16-15.52S37.012 12 28 12Z",fill:"url(#paint0_radial_3730_649)"}),(0,i.jsx)("path",{d:"m18.392 32.06 4.7-7.456a2.401 2.401 0 0 1 3.472-.64l3.74 2.804a.96.96 0 0 0 1.156-.004l5.048-3.832c.672-.512 1.552.296 1.104 1.012l-4.704 7.452a2.401 2.401 0 0 1-3.472.64l-3.74-2.804a.96.96 0 0 0-1.156.004l-5.048 3.832c-.672.512-1.552-.292-1.1-1.008Z",fill:"#fff"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("radialGradient",{id:"paint0_radial_3730_649",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(18.16 43.826) scale(34.8672)",children:[(0,i.jsx)("stop",{stopColor:"#09F"}),(0,i.jsx)("stop",{offset:".61",stopColor:"#A033FF"}),(0,i.jsx)("stop",{offset:".935",stopColor:"#FF5280"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#FF7061"})]})})]})}},464240:(e,t,a)=>{a.d(t,{Z:()=>s});var i=a(785893);function s({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#1DA1F2"}),(0,i.jsx)("path",{d:"M24.34 42c11.37 0 17.591-9.429 17.591-17.591 0-.265 0-.53-.012-.796a12.596 12.596 0 0 0 3.087-3.207c-1.11.494-2.303.82-3.557.976a6.22 6.22 0 0 0 2.725-3.424 12.299 12.299 0 0 1-3.93 1.495 6.17 6.17 0 0 0-4.51-1.953 6.19 6.19 0 0 0-6.186 6.185c0 .483.06.953.157 1.411-5.136-.253-9.694-2.725-12.744-6.463a6.184 6.184 0 0 0-.832 3.111 6.2 6.2 0 0 0 2.749 5.148 6.254 6.254 0 0 1-2.797-.771v.084a6.196 6.196 0 0 0 4.955 6.065 6.028 6.028 0 0 1-1.628.217c-.397 0-.783-.036-1.157-.109a6.182 6.182 0 0 0 5.775 4.293 12.4 12.4 0 0 1-7.68 2.652c-.494 0-.989-.024-1.471-.084A17.587 17.587 0 0 0 24.34 42Z",fill:"#fff"})]})}},22641:(e,t,a)=>{a.d(t,{Z:()=>s});var i=a(785893);function s({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#25D366"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39.206 16.65A15.75 15.75 0 0 0 27.99 12c-8.74 0-15.854 7.113-15.857 15.855a15.821 15.821 0 0 0 2.117 7.927L12 44l8.406-2.205a15.837 15.837 0 0 0 7.577 1.93h.007c8.74 0 15.853-7.114 15.856-15.857a15.76 15.76 0 0 0-4.64-11.218ZM27.99 41.047h-.005c-2.365 0-4.684-.636-6.708-1.837l-.482-.286-4.988 1.309 1.331-4.864-.313-.499a13.146 13.146 0 0 1-2.015-7.014c.003-7.266 5.915-13.178 13.185-13.178a13.09 13.09 0 0 1 9.318 3.865 13.098 13.098 0 0 1 3.856 9.324c-.003 7.267-5.915 13.18-13.179 13.18Zm7.23-9.871c-.397-.199-2.345-1.157-2.708-1.289-.364-.132-.628-.198-.891.198-.264.397-1.024 1.29-1.255 1.554-.231.264-.462.297-.858.099-.396-.199-1.673-.617-3.187-1.966-1.178-1.051-1.973-2.348-2.204-2.745-.231-.397-.024-.611.173-.808.178-.178.397-.463.595-.695.198-.23.264-.396.396-.66.132-.265.066-.496-.033-.695-.098-.198-.89-2.148-1.221-2.941-.322-.773-.649-.668-.892-.68a16.01 16.01 0 0 0-.759-.014c-.264 0-.693.099-1.057.495-.363.397-1.387 1.356-1.387 3.305 0 1.95 1.42 3.835 1.618 4.1.199.264 2.794 4.265 6.769 5.982.945.409 1.683.653 2.259.835.948.302 1.812.26 2.495.157.76-.114 2.344-.958 2.674-1.884.33-.925.33-1.719.23-1.884-.098-.166-.362-.266-.758-.464Z",fill:"#fff"})]})}},867060:(e,t,a)=>{a.d(t,{c:()=>i,y:()=>s});const i={10:13098,11:13099,6:13100,5:13101,14:13102,12:13103,15:13104,8:13105,4:13106,1:13107,18:13108,19:13109,20:13110,21:13111,22:13112,23:13113,26:13114,27:13115,29:13116},s={pin:1,board:2,did_it:6,pinner:3,user:3,today_article:8}},936776:(e,t,a)=>{a.d(t,{Z:()=>s});const i=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,s=e=>i.test(e)},807609:(e,t,a)=>{a.d(t,{Z:()=>n});var i=a(411465),s=a(966476);const n=()=>{const e=(0,i.Z)(),t=(0,s.Z)();return e&&!t}},562559:(e,t,a)=>{a.d(t,{Z:()=>v});var i=a(667294),s=a(867631),n=a.n(s),o=a(112690),r=a(19121),l=a(494349),c=a(773285),d=a(780280),h=a(883119),u=a(969315),p=a(179888),m=a(785893);function y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const b=(e,t)=>{if(t){const a="control"===t?"v3.pinimg.com":"v2.pinimg.com";return e.replace("v.pinimg.com",a)}return e},f=(e,t)=>"string"==typeof e?b(e,t):Array.isArray(e)?((e,t)=>e[0].src&&t?[{...e[0],src:b(e[0].src,t)}]:e)(e,t):e;class g extends i.PureComponent{constructor(...e){super(...e),y(this,"state",{canPlayVideo:!1,isManifestParsed:!1,playbackState:p.Cy.DEFAULT}),y(this,"errorRetryCount",1),y(this,"firstFragBuffered",!1),y(this,"hasPlaybackStarted",!1),y(this,"hasVideoSessionStarted",!1),y(this,"hasVideoSessionEnded",!1),y(this,"hls",null),y(this,"fragStartupTime",{}),y(this,"lastLevelSwitchKbps",null),y(this,"lastStallTime",null),y(this,"lastPauseTime",null),y(this,"logSessionStartOnNextPlay",!1),y(this,"playerId",""),y(this,"videoSessionId",""),y(this,"videoVisibleTime",null),y(this,"playbackPerformance",{canPlayTime:null,detailedErrors:"",downloadedKiloBytes:0,errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numberOfStalls:0,numberOfSeeks:0,playbackStartTimestamp:null,segments:[],srcString:"string"==typeof this.props.src?b(this.props.src,this.props.quicExpGroup):b(this.props.src[0].src,this.props.quicExpGroup),totalStallDurationMs:0,totalPauseDurationMs:0,videoCreatedTime:null}),y(this,"initializeHls",(()=>{this.destroyHls();const{src:e,hlsConfig:t,quicExpGroup:a}=this.props,i=new(n())(t),s=f(e,a);i.loadSource(s),this.videoPlayerRef&&i.attachMedia(this.videoPlayerRef.video),i.on(n().Events.FRAG_BUFFERED,this.handleHlsFragBuffered),i.on(n().Events.FRAG_CHANGED,this.handleHlsFragChanged),i.on(n().Events.FRAG_LOADING,this.handleHlsFragLoading),i.on(n().Events.FRAG_LOADED,this.handleHlsFragLoaded),i.on(n().Events.MANIFEST_PARSED,(()=>{this.setState({isManifestParsed:!0})})),i.on(n().Events.LEVEL_SWITCHED,this.handleHlsLevelSwitched),i.on(n().Events.ERROR,this.handleHlsError),this.hls=i})),y(this,"destroyHls",(()=>{const{hls:e}=this;e&&e.destroy()})),y(this,"addSegment",(e=>{const{segments:t}=this.playbackPerformance,a=t&&t[t.length-1];if(this.hls&&t.length&&a&&a.uri!==e.url){this.updateWatchDurationForCurrentSegment();const a=this.videoPlayerRef&&this.videoPlayerRef.video,i=this.hls&&this.hls.levels||{},s="number"==typeof e.level?i[e.level]:{},n=this.fragStartupTime[e.url];let o=-1;n&&n.startLoadTime&&n.endLoadTime&&(o=n.endLoadTime-n.startLoadTime);const r={indicatedKbps:s.bitrate/p.bR,duration:e.duration,level:e.level,lastStartPlayTime:this.getCurrentVideoTime(),numServerAddressChange:-1,observedKbps:this.hls&&this.hls.bandwidthEstimate/p.bR||-1,playbackStartDate:Date.now(),serverAddress:"",sn:e.sn,sourceWidth:s.width,sourceHeight:s.height,startupTimeMs:o,switchBitrateKbps:this.lastLevelSwitchKbps||-1,uri:e.url,viewportWidth:a&&a.clientWidth||-1,viewportHeight:a&&a.clientHeight||-1,watchedDurationMs:0};t.push(r)}})),y(this,"initializeSegments",(e=>{const{contextLogData:t={}}=this.props,{is_closeup_video:a=!1}=t,{segments:i}=this.playbackPerformance;if(!i.length)if(this.hls&&this.videoPlayerRef&&this.videoPlayerRef.video&&e){if(!i.length&&"number"==typeof e.level){const t=this.videoPlayerRef&&this.videoPlayerRef.video,a=this.hls.levels,s="number"==typeof e.level?a[e.level]:{},n=this.fragStartupTime[e.url];let o=-1;n&&n.startLoadTime&&n.endLoadTime&&(o=n.endLoadTime-n.startLoadTime),this.lastLevelSwitchKbps=this.hls.bandwidthEstimate/p.bR;const r={indicatedKbps:s.bitrate/p.bR,duration:e.duration,level:e.level,lastStartPlayTime:null,numServerAddressChange:-1,observedKbps:this.hls.bandwidthEstimate/p.bR||-1,playbackStartDate:null,serverAddress:"",sn:e.sn,sourceWidth:s.width,sourceHeight:s.height,startupTimeMs:o,switchBitrateKbps:this.lastLevelSwitchKbps||-1,uri:e.url,viewportWidth:t.clientWidth,viewportHeight:t.clientHeight,watchedDurationMs:0};i.push(r)}}else(0,u.tE)("initializeSegmentsFailed",!0,a)})),y(this,"getCurrentVideoTime",(()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*p.gJ:null)),y(this,"handleCanPlayVideo",(e=>{const{contextLogData:t={},onReady:a,playing:i}=this.props,{is_closeup_video:s=!1}=t,{canPlayVideo:n}=this.state;(0,u.tE)("handleCanPlayVideo",!0,s,{firstCanPlayEvent:!n,playing:i}),this.playbackPerformance.hasFatalError=!1,n||(this.playbackPerformance.canPlayTime=new Date),this.setState({canPlayVideo:!0}),a&&a(e)})),y(this,"handleEnded",(e=>{const{loop:t,onEnded:a}=this.props,{segments:i}=this.playbackPerformance,s=i&&i[i.length-1];t&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDurationForCurrentSegment(),s&&(s.lastStartPlayTime=0),this.fragStartupTime={}):t||this.logPlaybackPerformance(p.$f,{initiator:"videoEnded",loop:t}),this.setState({playbackState:p.Cy.ENDED}),a&&a(e)})),y(this,"handleHlsError",((e,t)=>{var a;const{contextLogData:i={}}=this.props,{is_closeup_video:s=!1}=i;if(this.playbackPerformance.detailedErrors+=`${this.playbackPerformance.detailedErrors.length>0?", ":""}${t.details}`,t.fatal){var o,r,l,c;this.playbackPerformance.hasFatalError=!0,this.playbackPerformance.errorName=t.type,this.playbackPerformance.errorReason=t.details,this.playbackPerformance.errorCode=t.response&&t.response.code?t.response.code:0;const e={errorName:t.type,errorReason:t.details,errorRetryCount:this.errorRetryCount,errorMessage:(null===(o=t.err)||void 0===o||null===(r=o.message)||void 0===r?void 0:r.slice(0,50))||"unknown",errorResponse:(null===(l=t.response)||void 0===l||null===(c=l.text)||void 0===c?void 0:c.slice(0,50))||"unknown",playbackState:this.state.playbackState};if((0,u.tE)("fatalError",!0,s,e),this.errorRetryCount>0)switch(this.errorRetryCount-=1,t.type){case n().ErrorTypes.NETWORK_ERROR:if(t.details===n().ErrorDetails.MANIFEST_LOAD_ERROR||t.details===n().ErrorDetails.MANIFEST_LOAD_TIMEOUT||t.details===n().ErrorDetails.MANIFEST_LOAD_PARSING_ERROR){var d;const{src:e,quicExpGroup:t}=this.props,a=f(e,t);null===(d=this.hls)||void 0===d||d.loadSource(a)}else{var h;null===(h=this.hls)||void 0===h||h.startLoad()}break;case n().ErrorTypes.MEDIA_ERROR:null===(a=this.hls)||void 0===a||a.recoverMediaError()}}this.updateWatchDurationForCurrentSegment(),this.setState({playbackState:p.Cy.FAILED})})),y(this,"handleHlsFragBuffered",((e,t)=>{this.firstFragBuffered||(this.initializeSegments(t.frag),this.firstFragBuffered=!0)})),y(this,"handleHlsFragChanged",((e,t)=>{this.addSegment(t.frag)})),y(this,"handleHlsFragLoading",((e,t)=>{var a;const i=null===(a=t.frag)||void 0===a?void 0:a.url;i&&!this.fragStartupTime[i]&&(this.fragStartupTime[i]={startLoadTime:new Date})})),y(this,"handleHlsFragLoaded",((e,t)=>{var a;t.frag&&t.frag.loaded&&(this.playbackPerformance.downloadedKiloBytes+=t.frag.loaded/p.Fm);const i=null===(a=t.frag)||void 0===a?void 0:a.url;i&&this.fragStartupTime[i]&&this.fragStartupTime[i].startLoadTime&&(this.fragStartupTime[i].endLoadTime=new Date)})),y(this,"handleHlsLevelSwitched",(()=>{this.hls&&this.hls.bandwidthEstimate&&(this.lastLevelSwitchKbps=this.hls.bandwidthEstimate/p.bR)})),y(this,"handleLoadedMetadata",(()=>{this.setState({playbackState:p.Cy.LOADED_METADATA})})),y(this,"handleLoadStart",(()=>{this.playbackPerformance.loadStartTime=new Date,this.setState({playbackState:p.Cy.LOAD_START})})),y(this,"handleLoadedData",(()=>{this.setState({playbackState:p.Cy.LOADED_DATA})})),y(this,"handlePlaying",(()=>{this.playbackPerformance.hasFatalError=!1,this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.updateStallDuration(),this.updatePauseDuration(),this.setState({playbackState:p.Cy.PLAYING})})),y(this,"handleUserPause",(e=>{const{onControlsPause:t}=this.props;this.lastPauseTime=new Date,t&&t(e)})),y(this,"handleVideoPause",(()=>{this.state.playbackState!==p.Cy.STALLING&&this.state.playbackState!==p.Cy.SEEKING&&(this.updateWatchDurationForCurrentSegment(),this.lastPauseTime||this.updateStallDuration()),this.setState({playbackState:p.Cy.PAUSED})})),y(this,"handleSeeking",(()=>{this.playbackPerformance.numberOfSeeks+=1;const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&(t.lastStartPlayTime=null),this.state.playbackState!==p.Cy.ENDED&&this.setState({playbackState:p.Cy.SEEKING})})),y(this,"handleStalled",(()=>{null===this.lastStallTime&&this.state.playbackState!==p.Cy.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numberOfStalls+=1),this.setState({playbackState:p.Cy.STALLING})})),y(this,"handleTimeUpdate",(e=>{const{onTimeChange:t}=this.props;t&&t(e),this.state.playbackState===p.Cy.PLAYING&&(this.updateWatchDurationForCurrentSegment(),this.setLastSegmentStartPlayTime())})),y(this,"resetPlaybackMetrics",(()=>{this.hasPlaybackStarted=!1,this.hasVideoSessionStarted=!1,this.hasVideoSessionEnded=!0,this.lastLevelSwitchKbps=null,this.lastStallTime=null,this.lastPauseTime=null,this.videoSessionId="",this.videoVisibleTime=null,this.logSessionStartOnNextPlay=!1;const e={...this.playbackPerformance.segments[this.playbackPerformance.segments.length-1],lastStartPlayTime:null,playbackStartDate:null,switchBitrateKbps:-1,watchedDurationMs:0};this.playbackPerformance.detailedErrors="",this.playbackPerformance.downloadedKiloBytes=0,this.playbackPerformance.errorCode=0,this.playbackPerformance.errorName="",this.playbackPerformance.errorReason="",this.playbackPerformance.hasFatalError=!1,this.playbackPerformance.numberOfStalls=0,this.playbackPerformance.numberOfSeeks=0,this.playbackPerformance.playbackStartTimestamp=null,this.playbackPerformance.totalStallDurationMs=0,this.playbackPerformance.segments=[e]})),y(this,"setLastSegmentStartPlayTime",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.lastStartPlayTime&&(t.lastStartPlayTime=this.getCurrentVideoTime())})),y(this,"setLastSegmentPlaybackStartDate",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.playbackStartDate&&(t.playbackStartDate=Date.now())})),y(this,"setPlaybackStartTime",(()=>{this.hasPlaybackStarted||(this.playbackPerformance.playbackStartTimestamp=Date.now(),this.hasPlaybackStarted=!0)})),y(this,"setVideoPlayerRef",(e=>{const{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){const e=this.videoPlayerRef.video;e.addEventListener("loadedmetadata",this.handleLoadedMetadata),e.addEventListener("loadeddata",this.handleLoadedData),e.addEventListener("pause",this.handleVideoPause),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}})),y(this,"updateStallDuration",(()=>{null!==this.lastStallTime&&(this.playbackPerformance.totalStallDurationMs+=new Date-this.lastStallTime,this.lastStallTime=null)})),y(this,"updatePauseDuration",(()=>{if(null!==this.lastPauseTime){const e=this.lastPauseTime;this.playbackPerformance.totalPauseDurationMs+=new Date-e,this.lastPauseTime=null}})),y(this,"updateWatchDurationForCurrentSegment",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1],a=t?t.lastStartPlayTime:null,i=this.getCurrentVideoTime();if(t&&null!==a&&"number"==typeof i&&"number"==typeof a){const e=i-a;e>0&&(t.watchedDurationMs+=e,t.lastStartPlayTime=null)}})),y(this,"logPlaybackPerformance",((e,t)=>{const{contextLogData:a={},userId:i,isAutoPlay:s,logContextEvent:n}=this.props,{is_closeup_video:o=!1}=a,{canPlayTime:r,detailedErrors:l,downloadedKiloBytes:c,errorCode:d,errorName:h,errorReason:m,hasFatalError:y,playbackStartTimestamp:b,totalPauseDurationMs:f,totalStallDurationMs:g,segments:v,srcString:P,loadStartTime:S,numberOfStalls:_,numberOfSeeks:w}=this.playbackPerformance,E=this.videoPlayerRef&&this.videoPlayerRef.video,k=e===p.DR,D=k&&!this.hasVideoSessionStarted,T=!k&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(this.hls&&E&&(D||T)){var C;let D=-1;r&&S&&(D=r>S?r-S:0);let T=-1;r&&this.videoVisibleTime&&(T=r>this.videoVisibleTime?r-this.videoVisibleTime:0),k&&(this.videoSessionId=(0,p.Y7)(i),this.playerId=this.playerId||(0,p.EB)());const R={autoplaying:s,averageVideoKbps:-1,detailedErrors:l,downloadedKiloBytes:c,isCellular:!1,errorCode:d,errorName:h,errorReason:m,fatalError:y,nativeVideoDurationMs:E.duration*p.gJ||-1,numberOfStalls:_,numberOfSeeks:w,overallPausedDurationMs:f,overallBufferDurationMs:g,overallWatchedDurationMs:-1,rebufferRate:-1,playbackSessionId:this.videoSessionId,playbackStartTimestamp:b||-1,segments:[],sessionMark:e,screenPixelScale:null!==(C=window)&&void 0!==C&&C.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:E.clientWidth,startupPlayerHeight:E.clientHeight,startupTimeMs:D,startupLatencyMs:T,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:E.videoWidth,startupVariantHeight:E.videoHeight,videoUrl:P};if(!k&&v.length){const e=this.hls.levels,t=v[0];this.updateWatchDurationForCurrentSegment(),this.updateStallDuration();const a=v.reduce(((t,a)=>{if(a&&"number"==typeof a.level&&e&&e.length>0){return t+(e[a.level]||{}).bitrate*(a.watchedDurationMs||0)/p.gJ}return t}),0),i=v.reduce(((e,t)=>e+(t.watchedDurationMs||0)),0);let s=null,n=0,o=0;do{n+=v[o].watchedDurationMs,s=s||v[o].level,o+=1}while(o<v.length&&v[o].level===s);R.startupVariantKbps=t.indicatedKbps,R.startupVariantWatchedDurationMs=n,R.startupVariantWidth=t.sourceWidth,R.startupVariantHeight=t.sourceHeight,R.startupPlayerWidth=t.viewportWidth,R.startupPlayerHeight=t.viewportHeight,R.overallWatchedDurationMs=i,i>0?(R.averageVideoKbps=a/(i/p.gJ),R.rebufferRate=this.playbackPerformance.totalStallDurationMs/i):0===i&&(R.averageVideoKbps=-1,R.rebufferRate=-1,R.errorName="invalid_watch_duration"),R.segments=v}else R.errorName="invalid_watch_duration";(0,u.ZP)(R,!0,o,{playbackState:this.state.playbackState,...t});const{clientTrackingParams:L,component:x,durationNs:A,element:M,objectId:I,pairId:O,viewData:V,view:N,viewParameter:F,...B}=a;n({aux_data:{...B,is_closeup_video:o,playback_session_id:this.videoSessionId},clientTrackingParams:L,component:x,duration_ns:A,element:M,event_data:{videoPerformanceData:R},event_type:3606,object_id_str:I,pair_id:O,view_data:V,view_parameter:F,view_type:N}),k?(this.hasVideoSessionStarted=!0,this.hasVideoSessionEnded=!1):this.resetPlaybackMetrics(),(0,u.tE)(k?"sessionStart":"sessionEnd",!0,o,{playbackState:this.state.playbackState,...t})}}))}componentDidMount(){const{contextLogData:e={},playing:t}=this.props,{is_closeup_video:a=!1}=e;this.playbackPerformance.videoCreatedTime=new Date,this.initializeHls(),(0,u.tE)("videoMounted",!0,a),t&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(p.DR,{initiator:"mount"}))}componentDidUpdate(e){const{loop:t,playing:a,src:i,visible:s,appInFocus:n}=this.props;var o,r;(typeof(o=e.src)!=typeof(r=i)||(Array.isArray(r)?o.length!==r.length||r.some(((e,t)=>!Array.isArray(o)||e.type!==o[t].type||e.src!==o[t].src)):r!==o))&&this.initializeHls(),e.appInFocus&&!n&&(this.logPlaybackPerformance(p.$f,{initiator:"update",loop:t}),this.logSessionStartOnNextPlay=!0),e.visible&&!1===s&&(this.logSessionStartOnNextPlay=!1,this.updatePauseDuration(),this.logPlaybackPerformance(p.$f,{initiator:"update",loop:t})),!1===e.visible&&!0===s&&(this.videoVisibleTime=this.videoVisibleTime||new Date,a?(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(p.DR,{initiator:"update"})):this.logSessionStartOnNextPlay=!0),a&&n&&this.logSessionStartOnNextPlay&&(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(p.DR,{initiator:"update"}),this.logSessionStartOnNextPlay=!1)}componentWillUnmount(){const{loop:e}=this.props;this.updatePauseDuration(),this.logPlaybackPerformance(p.$f,{initiator:"unmount",loop:e}),this.destroyHls()}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:a,accessibilityPauseLabel:i,accessibilityPlayLabel:s,accessibilityProgressBarLabel:n,accessibilityUnmuteLabel:o,aspectRatio:r,backgroundColor:l,captions:c,controls:d,loop:u,loopOverride:p,onDurationChange:y,onFullscreenChange:b,onLoadedChange:g,onControlsPlay:v,onPlayheadDown:P,onPlayheadUp:S,onSeek:_,onVolumeChange:w,playbackRate:E,playing:k,playsInline:D,poster:T,preload:C,quicExpGroup:R,src:L,volume:x}=this.props,{canPlayVideo:A,isManifestParsed:M}=this.state,I=f(L,R);return(0,m.jsx)(h.nk,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:a,accessibilityPauseLabel:i,accessibilityPlayLabel:s,accessibilityProgressBarLabel:n,accessibilityUnmuteLabel:o,aspectRatio:r,backgroundColor:l,captions:c,controls:d,loop:void 0===p?u:p,onDurationChange:y,onEnded:this.handleEnded,onFullscreenChange:b,onLoadStart:this.handleLoadStart,onLoadedChange:g,onControlsPause:this.handleUserPause,onControlsPlay:v,onPlaying:this.handlePlaying,onPlayheadDown:P,onPlayheadUp:S,onReady:this.handleCanPlayVideo,onSeek:_,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:w,onWaiting:this.handleStalled,playbackRate:E,onPlay:()=>{},onPlayError:()=>{},playing:M&&A&&k,playsInline:D,poster:T,preload:C,ref:this.setVideoPlayerRef,src:I,volume:x})}}const v=(0,i.memo)((function(e){const{country:t,isAuthenticated:a,isBot:i,isSocialBot:s,unauthId:n,userAgent:h}=(0,d.B)(),p=(0,o.Z)(),y=(0,r.Z)(),{browserName:b,browserVersion:f,isMobile:v}=h,{contextLogData:P={}}=e,{is_closeup_video:S=!1,view:_,viewParameter:w}=P,{checkExperiment:E}=(0,c.F)();let k=null;a&&(k=E("web_video_quic").group.length?E("web_video_quic").group:null);const{appUI:D}=(0,l.I)(),T=E("web_video_fail_to_start_fix").anyEnabled?D.appInFocus:e.appInFocus,C={browserName:b,browserVersion:f,country:t,isAuthenticated:a,isBot:i,is_closeup_video:S,isMobile:v,isSocialBot:s,view:_,viewParameter:w};return(0,u.r$)(C),(0,m.jsx)(g,{...e,userId:y.id||n,appInFocus:T,quicExpGroup:k,logContextEvent:p})}))},964082:(e,t,a)=>{function i(e,t){const{organicVideosAutoplaying:a,promotedVideosAutoplaying:i}=t,s={...a,...i};for(const n in s){const{paused:t}=s[n];if(n!==e&&!t)return!1}return!0}a.d(t,{Z:()=>i})},36971:(e,t,a)=>{function i(e,t){const{organicVideosAutoplaying:a,promotedVideosAutoplaying:i}=t,s={...a,...i};return s[e]&&s[e].currentTime}a.d(t,{Z:()=>i})},463045:(e,t,a)=>{function i(e,t){const{organicVideosAutoplaying:a,promotedVideosAutoplaying:i}=t,s={...a,...i};return!!s[e]&&!s[e].paused}a.d(t,{Z:()=>i})},969315:(e,t,a)=>{a.d(t,{ZP:()=>h,r$:()=>c,tE:()=>d});var i=a(311560),s=a(172071),n=a(179888);const o=["isCellular","videoUrl","sessionMark"];let r={},l="";const c=e=>{const{browserName:t,browserVersion:a,country:s,isAuthenticated:n,isBot:o,isMobile:c,isSocialBot:d,view:h="unknown",viewParameter:u="unknown"}=e;l=(d?"socialBot":o&&"bot")||"nonbot";const p=(0,i.Z)(s);r={browserName:t,browserVersion:(null==a?void 0:a.split(".")[0])||"0",isAuthenticated:n,isMobile:c,region:p,view:h,viewParameter:u}};function d(e,t,a,i={}){const n=a?"closeup":"nonCloseup",o=t?"hls":"nonHls",c={...i,...r},d=`web.video.${o}.${l}.${n}.${e}`;s.Z.increment(d,1,c)}function h(e,t,a,i={}){const c=a?"closeup":"nonCloseup",d=t?"hls":"nonHls",h=e.sessionMark===n.DR?"sessionStart":"sessionEnd",u={...i,...r};if(Object.entries(e).forEach((([t,a])=>{const i=`web.video.${d}.${l}.${c}.${h}.${t}`,n=parseInt(a,10),r="number"==typeof n?n:-1;var p;if(!o.includes(t))if(t.includes("fatalError")&&!0===a){const{errorCode:t,errorName:a,errorReason:n}=e;s.Z.increment(i,1,{errorCode:t,errorName:a,errorReason:n,...u})}else if(t.includes("Width")||t.includes("Height")){const e=(p=r)<0?"negative":0===p?"zero":p<200?"xs":p<400?"s":p<600?"m":p<800?"l":p<1e3?"xl":p<1200?"xxl":"over1200";s.Z.increment(i,1,{dimensionBucket:e,...u})}else if("numberOfStalls"===t){let e=a;r>1e3?e="over1000":r>10?e="over10":r<0&&(e="negative"),s.Z.increment(i,1,{numberOfStalls:e,...u})}else"screenPixelScale"===t?s.Z.increment(i,1,{screenPixelScale:a||-1,...u}):r>=0?(0===r&&s.Z.increment(`${i}.zero`,1,u),s.Z.timing(i,r,1),s.Z.timing(`${i}_with_tags`,r,1,u)):r<0&&s.Z.increment(`${i}.negative`,1,u)})),e.sessionMark!==n.DR){const{rebufferRate:t,screenPixelScale:a,startupLatencyMs:i,startupVariantWidth:n,startupPlayerWidth:o}=e,r=`web.video.${d}.${l}.${c}.${h}`;if("number"==typeof n&&"number"==typeof o&&"number"==typeof a){const e=1.5*n>a*o;s.Z.increment(`${r}.upscaled.${e?"good":"bad"}`,1,u)}"number"==typeof i&&s.Z.increment(`${r}.startupLatency.${i<500?"good":"bad"}`,1,u),"number"==typeof t&&s.Z.increment(`${r}.rebufferRate.${t<.01?"good":"bad"}`,1,u)}}},179888:(e,t,a)=>{a.d(t,{$f:()=>n,Cy:()=>c,DR:()=>s,EB:()=>u,Fm:()=>l,Y7:()=>h,bR:()=>r,gJ:()=>o,lG:()=>d});var i=a(172045);const s=1,n=2,o=1e3,r=1e3,l=1e3,c=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),d=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4});function h(e){return e+"-"+(0,i.Z)()}function u(){return(0,i.Z)()}},639758:(e,t,a)=>{a.d(t,{Z:()=>c});var i=a(898781),s=a(883119),n=a(785893);const o={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},r={__path:"M17.496 14.572a1 1 0 0 1-1 1h-.001a1.001 1.001 0 0 1-.999-1.001l.002-4.652-7.29 7.288a.995.995 0 0 1-.707.293.999.999 0 0 1-.707-1.707l7.293-7.29L9.428 8.5a1 1 0 0 1 .001-2h.001l8.071.005-.005 8.067zM12 0C5.373 0 0 5.373 0 12c0 6.628 5.373 12 12 12 6.628 0 12-5.372 12-12 0-6.627-5.372-12-12-12z"},l={overlay:{__style:{backgroundColor:"#000"}}};function c({backgroundImage:e,naturalHeight:t,naturalWidth:a,onRestartVideo:c,pinTitle:d,pin:h}){const u=(0,i.ZP)(),{id:p}=h;return(0,n.jsxs)(s.Ee,{alt:d||u._('pin image', 'image of a pin', 'image of a pin'),naturalHeight:t,naturalWidth:a,src:e,children:[(0,n.jsx)(s.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:l.overlay}),(0,n.jsxs)(s.xu,{justifyContent:"center",direction:"column",display:"flex",position:"absolute",height:"100%",width:"100%","data-test-id":`video-end-card-${p}`,children:[(0,n.jsx)(s.iP,{rounding:2,children:(0,n.jsxs)(s.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,n.jsx)(s.JO,{accessibilityLabel:u._('Visit site', 'Button when pressed goes to pin\'s website', 'Button when pressed goes to pin\'s website'),color:"light",dangerouslySetSvgPath:r,size:25}),(0,n.jsx)(s.xu,{margin:1}),(0,n.jsx)(s.xv,{color:"light",lineClamp:1,weight:"bold",children:u._('Visit site', 'Button when pressed goes to pin\'s website', 'Button when pressed goes to pin\'s website')})]})}),(0,n.jsx)(s.xu,{margin:3}),(0,n.jsx)(s.iP,{onTap:c,rounding:2,children:(0,n.jsxs)(s.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,n.jsx)(s.JO,{accessibilityLabel:u._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video'),color:"light",dangerouslySetSvgPath:o,size:25}),(0,n.jsx)(s.xu,{margin:1}),(0,n.jsx)(s.xv,{color:"light",lineClamp:1,weight:"bold",children:u._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video')})]})})]})]})}},479301:(e,t,a)=>{a.d(t,{i5:()=>P,sX:()=>w,aX:()=>S,Z5:()=>v,NG:()=>_,MT:()=>E,iu:()=>k});var i=a(667294),s=a(6637),n=a(802201),o=a(682492),r=a.n(o);const l=(e,t)=>e.data[t]&&e.data[t].messages||[];function c(e,t){const a={};return e.filter((e=>!!e)).reduce(((e,i)=>{const s=t(i);return a[s]?(r()(a[s],i),e):(a[s]=i,e.concat([i]))}),[])}function d(e){return[...e].sort(((e,t)=>new Date(e.created_ms||e.created_at)-new Date(t.created_ms||t.created_at)))}function h(e,t,a){let i=l(e,t).concat(a);return i=c(i,(e=>e.id)),d(i)}const u={conversationsUnseenCount:0,data:{},newsHubCount:0,open:null,objectAttachment:null,showConversationsDropdown:!1,showNewMessageView:!1,ui:{},unread:0};function p(e=u,t){if("CONVERSATION_OPEN"===t.type)return{...e,open:t.payload.id,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:t.payload.isPreview}}};if("CONVERSATION_CLOSE"===t.type)return{...e,open:null,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:!1,isDeclined:t.payload.isDeclined}}};if("CONVERSATION_CREATE"===t.type){const{id:a}=t.payload;return{...e,data:{...e.data,[a]:{...e.data[a]||{},...t.payload}}}}if("CONVERSATION_DELETE"===t.type){const a={...e,data:{...e.data}},{id:i}=t.payload;return delete a.data[i],a}if("FETCH_COMPLETE"===t.type){const{options:a,resource:i,response:s}=t.payload,n=s.resource_response.data;if("ConversationMessagesResource"===i){const t=n||[],i=(null==a?void 0:a.conversation_id)||"",s=h(e,i,t),o=s[s.length-1];return{...e,data:{...e.data,[i]:{...e.data[i],id:i,messages:s,unread:0,last_message:o}}}}if("ConversationsResource"===i){const t=n||[],a={...e,data:{...e.data}};return t.forEach((e=>{const{id:t,created_at:i,name:s,board:n,emails:o,unread:r,users:l,last_message:c}=e,d=h(a,t,[c]);a.data[t]={...a.data[t],id:t,created_at:i,name:s,board:n,emails:o||[],unread:r||0,users:l||[],last_message:c,messages:d}})),a}if("ConversationResource"===i){const t=n||{},{id:a}=t,i={...e,data:{...e.data}};return a&&(i.data[a]={...i.data[a],...t}),i}if("NewsHubBadgeResource"===i){if(n){const t=n.conversations_unseen_count||0;return{...e,unread:t}}return e}}else{if("MESSAGE_SEND_PENDING"===t.type){const{id:a,message:i}=t.payload;return e.data[a]?{...e,data:{...e.data,[a]:{...e.data[a],id:a,messages:[...e.data[a].messages,i]}}}:e}if("MESSAGE_SEND_PENDING_SUCCESS"===t.type){const{id:a,tempMessage:i,newMessage:s}=t.payload;if(e.data[a]){if(l(e,a).find((e=>e.id===i.id&&e.created_ms===i.created_ms))){let t=l(e,a).filter((e=>e.id!==i.id)).concat([s]);return t=c(t,(e=>e.id)),t=d(t),{...e,data:{...e.data,[a]:{...e.data[a],last_message:s,messages:t}}}}}return e}if("MESSAGE_SEND_PENDING_FAILURE"===t.type){const{id:a,tempMessageId:i}=t.payload;if(e.data[a]){const t=l(e,a).filter((e=>e.id!==i));return{...e,data:{...e.data,[a]:{...e.data[a],messages:t}}}}return e}if("OPEN_NEW_MESSAGE"===t.type){const{objectAttachment:a}=t.payload||null;return{...e,showNewMessageView:!0,open:null,objectAttachment:a}}if("CLOSE_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!1,objectAttachment:null,showNewMessageView:!1};if("OPEN_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!0};if("UPDATE_NEWSHUB_COUNT"===t.type)return{...e,newsHubCount:t.payload};if("UPDATE_UNREAD_COUNT"===t.type)return{...e,conversationsUnseenCount:t.payload};if("CLEAR_MESSAGE_BADGE"===t.type){const{id:a}=t.payload;return{...e,data:{...e.data,[a]:{...e.data[a],unread:0}}}}}return e}var m=a(425288),y=a(505920),b=a(785893);const f=(()=>{let e=0;return()=>e++})(),{Provider:g,useHook:v}=(0,m.Z)("Conversations");function P({children:e}){const[t,a]=(0,i.useReducer)(p,u),n=(0,i.useCallback)((e=>a({type:"FETCH_COMPLETE",payload:e})),[]);(0,y.Z8)("ConversationMessagesResource",n),(0,y.my)("ConversationMessagesResource",n),(0,y.Z8)("ConversationsResource",n),(0,y.Z8)("ConversationResource",n),(0,y.Z8)("NewsHubBadgeResource",n);const o=(0,i.useCallback)(((e,t=!1,i="")=>a({type:"CONVERSATION_OPEN",payload:{id:e,isPreview:t,contactRequestId:i}})),[]),r=(0,i.useCallback)(((e,t="",i=!1)=>a({type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:t,isDeclined:i}})),[]),l=(0,i.useCallback)((e=>a({type:"CONVERSATION_CREATE",payload:e})),[]),c=(0,i.useCallback)((e=>a({type:"CONVERSATION_DELETE",payload:{id:e}})),[]),d=(0,i.useCallback)(((e,t,i)=>{s.Z.create("ConversationsResource",{user_ids:e,emails:t,text:""}).callCreate().then((e=>{const t=e&&e.resource_response.data;a({type:"CONVERSATION_OPEN",payload:{id:t.id}})})).catch((e=>{const t=e.message_detail||e.message||"";i(t)}))}),[]),h=(0,i.useCallback)((()=>{a({type:"CLOSE_DROPDOWN"})}),[]),m=(0,i.useCallback)((()=>{a({type:"OPEN_DROPDOWN"})}),[]),f=(0,i.useCallback)((e=>{a({type:"OPEN_NEW_MESSAGE",payload:{objectAttachment:e}})}),[]),v=(0,i.useCallback)(((e,t)=>a({type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}})),[]),P=(0,i.useCallback)(((e,t,i)=>a({type:"MESSAGE_SEND_PENDING_SUCCESS",payload:{id:e,tempMessage:t,newMessage:i}})),[]),S=(0,i.useCallback)(((e,t)=>a({type:"MESSAGE_SEND_PENDING_FAILURE",payload:{id:e,tempMessageId:t}})),[]),_=(0,i.useCallback)((e=>a({type:"UPDATE_NEWSHUB_COUNT",payload:e})),[]),w=(0,i.useCallback)((e=>a({type:"UPDATE_UNREAD_COUNT",payload:e})),[]),E=(0,i.useCallback)((e=>a({type:"CLEAR_MESSAGE_BADGE",payload:{id:e}})),[]),k=(0,i.useMemo)((()=>({clearMessageBadge:E,conversationOpen:o,conversationClose:r,conversationCreate:l,conversationDelete:c,conversationGet:d,dropdownClose:h,dropdownOpen:m,newMessageOpen:f,pendingMessageSend:v,pendingMessageSuccess:P,pendingMessageFailure:S,updateNewsHubCount:_,updateUnreadCount:w,conversations:t})),[E,o,r,l,c,d,h,m,f,v,P,S,_,w,t]);return(0,b.jsx)(g,{value:k,children:e})}function S(){const{conversationCreate:e}=v();return async t=>{let a;const i=s.Z.create("ConversationsResource",t);try{var n;const t=null===(n=(await i.callCreate()).resource_response)||void 0===n?void 0:n.data;t&&(e(t),a=t)}catch(o){throw new Error(o.message)}return a}}function _(){const{conversations:e,conversationCreate:t,pendingMessageSend:a,pendingMessageSuccess:i,pendingMessageFailure:o}=v(),r=(0,n.AF)();return async(n,l,c,d)=>{const{text:h,pinId:u,boardId:p,userId:m,didItId:y}=l;async function b(){const e=s.Z.create("ConversationMessagesResource",{conversation_id:n,text:h,pin:u,board:p,user:m,user_did_it_data:y,source:c}),t=`${f()}`,l={text:h,sender:d,created_at:(new Date).toString(),created_ms:Date.now(),id:t,pin:u?r[u]:null,type:"tempMessage"};a(n,l);try{var b;const t=null===(b=(await e.callCreate()).resource_response)||void 0===b?void 0:b.data;t&&i(n,l,t)}catch(g){throw o(n,t),new Error(g.message)}}if(e.data[n])await b();else{const e=s.Z.create("ConversationResource",{conversation_id:n});try{var g;const a=null===(g=(await e.callGet()).resource_response)||void 0===g?void 0:g.data;a&&(t(a),await b())}catch(v){throw new Error(v.message)}}}}function w(e){const{conversations:t}=v();return t.data[e]}function E(e){const{conversations:t}=v();return t.ui[e]||{contactRequestId:"",isDeclined:!1,isPreview:!1}}function k(){const{conversations:{data:e}}=v(),t=(a=e,Object.keys(a).map((e=>a[e]))).filter((e=>e.users&&e.last_message));var a,i;return i=t,Array.from(i).sort(((e,t)=>new Date((t.last_message||t).created_at)-new Date((e.last_message||e).created_at)))}},993786:(e,t,a)=>{a.d(t,{O:()=>c,Z:()=>d});var i=a(667294),s=a(966113),n=a(898781),o=a(883119),r=a(785893);const l={xs:12,sm:16,md:20,lg:24};function c({children:e}){const t=(0,n.ZP)();return(0,r.jsx)(o.u,{link:(0,r.jsx)(o.rU,{href:s.Z.settings.HELP_SHOPPING_WITH_PINTEREST,target:"blank",children:(0,r.jsx)(o.xv,{color:"inverse",size:"100",weight:"bold",children:t._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:t._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:e})}function d({hasVerifiedIdentity:e,iconOnly:t,isVerifiedMerchant:a,showText:s,size:d}){const h=(0,n.ZP)(),u=(0,r.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[(0,r.jsx)(o.JO,{accessibilityLabel:h._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"shopping",icon:"workflow-status-ok",inline:!0,size:l[d]}),s&&(0,r.jsx)(o.xu,{marginStart:2,children:(0,r.jsx)(o.xv,{color:"shopping",inline:!0,weight:"bold",children:h._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,r.jsxs)(i.Fragment,{children:[a&&!t&&(0,r.jsx)(c,{children:u}),a&&t&&u,e&&!a&&(0,r.jsx)(o.JO,{accessibilityLabel:h._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:l[d]})]})}},572260:(e,t,a)=>{a.d(t,{ZP:()=>E});var i=a(667294),s=a(23279),n=a.n(s),o=a(722767);function r(e){const{eventData:{videoEvent:{videoDuration:t,startTime:a,endTime:i,videoStartTime:s,videoEndTime:n,isAudible:o,height:r,width:l,playbackState:c,quartile:d,quartilePercentValue:h,windowHeight:u,windowWidth:p,viewability:m}},component:y,objectId:b,view:f,viewParameter:g,...v}=e;return{component:y,object_id_str:b,view_type:f,view_parameter:g,aux_data:{...v},event_data:{videoEventData:{videoDuration:t,time:a,endTime:i,videoTime:s,endVideoTime:n,isAudible:o,height:r,width:l,playbackState:c,quartile:d,quartilePercentValue:h,windowHeight:u,windowWidth:p,viewability:m}}}}var l=a(121630),c=a(559230),d=a(407043),h=a(288273),u=a(883119),p=a(785893);function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const y=[0,.25,.5,.75,.95,.97],b=[0,.5,.8,.99,1],f="-64px 0px 0px 0px",g={rootMargin:f,threshold:b},v={rootMargin:f,threshold:c.iM},P=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function S(){return(new Date).getTime()}function _(e){return!!e.volume&&e.volume>0}class w extends i.Component{constructor(e){super(e),m(this,"videoWrapperRef",(0,i.createRef)()),m(this,"handleWindowResize",(()=>{if(!this.fullscreen){const e=this.getDimensions(),{height:t,width:a}=this.currentInterval;e.height!==t||e.width!==a?this.startNewInterval(e):(this.currentInterval.windowHeight=e.windowHeight,this.currentInterval.windowWidth=e.windowWidth)}})),m(this,"handlePlayheadDown",(({event:e})=>{const{onPlayheadDown:t}=this.props;this.setState({seeking:!0}),t&&t({event:e})})),m(this,"handlePlayheadUp",(({event:e})=>{const{onPlayheadUp:t}=this.props;this.setState({seeking:!1}),t&&t({event:e})})),m(this,"handleLoop",(()=>{this.videoTime=0})),m(this,"handleTimeChange",(e=>{const{seeking:t,ready:a}=this.state;if(!this.currentInterval.videoDuration)return;const i=1e3*e.time,s=function(e,t,a,i){if(e>t)return null;if(a<=0)return null;for(const s of i){const i=s*a;if(e<=i&&t>i)return s}return null}(this.videoTime,i,this.currentInterval.videoDuration,y);if("number"==typeof s&&this.props.playing&&!t&&a){const e=S();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*s),quartilePercentValue:s})}this.videoTime=i,this.props.onTimeChange&&this.props.onTimeChange(e)})),m(this,"handleDurationChange",(e=>{this.currentInterval.videoDuration=1e3*e.duration,this.props.onDurationChange&&this.props.onDurationChange(e)})),m(this,"handleReady",(e=>{const{ready:t}=this.state;t||this.setState({ready:!0}),this.props.onReady&&this.props.onReady(e)})),m(this,"handleEnded",(e=>{this.logFourthQuartileEvent(),this.props.loop&&(this.startNewInterval(),this.currentInterval.videoStartTime=0),this.props.onEnded&&this.props.onEnded(e)})),m(this,"handleVisibilityChange",((e,t)=>{if(0===e.length)return;const a=e.slice(-1)[0],i=function(e,t){for(let a=0;a<t.length;a+=1){const i=t[a],s=t[a+1];if(null==s)return i;if(i<=e&&e<s)return i}return null}(Number.parseFloat(a.intersectionRatio.toFixed(2)),b);"number"==typeof i&&(this.visible=i>=.5),null==i||i===this.currentInterval.viewability||this.fullscreen||(0===i?this.startNewInterval({viewability:i,playbackState:P.PAUSED}):this.startNewInterval({viewability:i}))})),m(this,"handleFullscreenChange",(({event:e,fullscreen:t})=>{if(t){const{height:e,width:t}=window.screen;this.startNewInterval({height:e,width:t,windowHeight:e,windowWidth:t})}else t||this.startNewInterval(this.getDimensions());this.fullscreen=t,this.props.onFullscreenChange&&this.props.onFullscreenChange({event:e,fullscreen:t})})),m(this,"handleClose",(()=>{this.startNewInterval()})),m(this,"handleContextMenu",(e=>{e.preventDefault()})),this.state={ready:!1,seeking:!1};const t=S();this.handleWindowResize=n()(this.handleWindowResize,1e3),this.currentInterval={videoDuration:0,startTime:t,endTime:t,videoStartTime:0,videoEndTime:0,isAudible:_(e),playbackState:this.getPlaybackState(e,this.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},this.videoTime=0,this.fullscreen=!1,this.visible=null}componentDidMount(){this.currentInterval={...this.currentInterval,...this.getDimensions()},window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}componentDidUpdate(e,t){const a={};_(e)&&!_(this.props)?a.isAudible=!1:!_(e)&&_(this.props)&&(a.isAudible=!0);const i=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==i&&(a.playbackState=i),Object.keys(a).length>0&&this.startNewInterval(a)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}getPlaybackState(e,t){return t.ready?e.playing&&!t.seeking?P.PLAYING:P.PAUSED:P.LOADING}getDimensions(){let e,t;if(this.videoWrapperRef.current){const a=this.videoWrapperRef.current;a.clientHeight&&a.clientWidth&&(e=a.clientHeight,t=a.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}logVideoEvent(e,t){const{closeupStoryPinViewability:a,contextLogData:i,logContextEvent:s}=this.props,{height:n,width:o,windowHeight:l,windowWidth:c,viewability:d,...h}=t;if(null!=n&&null!=o&&null!=l&&null!=c&&null!=d){const t={...h,height:n,width:o,windowHeight:l,windowWidth:c,viewability:a||d};s({event_type:e,...r({...i,view:this.fullscreen?108:i.view,eventData:{videoEvent:t}})})}}logFourthQuartileEvent(){const e=S();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1})}startNewInterval(e){const t=S();this.logVideoEvent(6904,{...this.currentInterval,endTime:t,videoEndTime:this.videoTime}),this.currentInterval={...this.currentInterval,...e,startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:a,accessibilityPauseLabel:i,accessibilityPlayLabel:s,accessibilityProgressBarLabel:n,accessibilityUnmuteLabel:r,aspectRatio:c,backgroundColor:d,captions:m,contextLogData:y,controls:b,cropHeight:f,hlsConfig:P,inAdsDesktopVideoExperiment:S,isAutoPlay:_,loop:w,objectFit:E,onLoadedChange:k,onControlsPause:D,onControlsPlay:T,onSeek:C,onVolumeChange:R,playbackRate:L,playing:x,playsInline:A,poster:M,preload:I,rootMargin:O,src:V,surface:N,videoStartTime:F,volume:B}=this.props,{seeking:j}=this.state,U=S?v:g;return void 0!==O&&(U.rootMargin=N?(0,l.e)(N):O),(0,p.jsx)(o.Z,{options:U,onVisibilityChange:this.handleVisibilityChange,children:(0,p.jsx)(u.xu,{ref:this.videoWrapperRef,onContextMenu:this.handleContextMenu,dangerouslySetInlineStyle:{__style:f?{display:"flex",alignItems:"center",height:`${f}px`}:{}},children:(0,p.jsx)(h.default,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:a,accessibilityPauseLabel:i,accessibilityPlayLabel:s,accessibilityProgressBarLabel:n,accessibilityUnmuteLabel:r,aspectRatio:f?236/f:c,backgroundColor:d,captions:m,contextLogData:y,controls:b,hlsConfig:P,isAutoPlay:_,loop:w,objectFit:E,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:k,onLoop:this.handleLoop,onControlsPause:D,onControlsPlay:T,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onSeek:C,onTimeChange:this.handleTimeChange,onVolumeChange:R,playbackRate:L,playing:!j&&x,onPlay:()=>{},onPlayError:()=>{},playsInline:A,poster:M,preload:I,src:V,videoStartTime:F,visible:this.visible,volume:B})})})}}function E(e){const{logContextEvent:t}=(0,d.v)();return(0,p.jsx)(w,{...e,logContextEvent:t})}m(w,"defaultProps",u.nk.defaultProps)},288273:(e,t,a)=>{a.r(t),a.d(t,{VideoWrapper:()=>S,default:()=>_,getPlaylistSourceSrc:()=>P});var i=a(667294),s=a(19121),n=a(494349),o=a(407043),r=a(773285),l=a(780280),c=a(883119),d=a(969315),h=a(179888),u=a(785893);function p(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function m(e,t){if(!e||void 0===e)return"undefined";if("string"==typeof e){let a=e;if(t){const i="control"===t?"v3.pinimg.com":"v2.pinimg.com";a=e.replace("v.pinimg.com",i)}return a}if(Array.isArray(e)&&e[0].src){let a=e[0].src;if(t){const e="control"===t?"v3.pinimg.com":"v2.pinimg.com";a=a.replace("v.pinimg.com",e)}return a}return"unsupported_type_"+typeof e}class y extends i.Component{constructor(...e){super(...e),p(this,"state",{canPlayVideo:!1,playbackState:h.Cy.DEFAULT}),p(this,"errorRetryCount",2),p(this,"hasSegmentStarted",!1),p(this,"hasPlaybackStarted",!1),p(this,"hasVideoSessionStarted",!1),p(this,"hasVideoSessionEnded",!1),p(this,"lastStallTime",null),p(this,"lastPauseTime",null),p(this,"logSessionStartOnNextPlay",!1),p(this,"playerId",""),p(this,"videoSessionId",""),p(this,"videoVisibleTime",null),p(this,"playbackPerformance",{canPlayTime:null,detailedErrors:"",errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numberOfStalls:0,numberOfSeeks:0,playbackStartTimestamp:null,segments:[],srcString:m(this.props.src,this.props.quicExpGroup),totalStallDurationMs:0,totalPauseDurationMs:0}),p(this,"componentDidMount",(()=>{const{contextLogData:e={},playing:t}=this.props,{is_closeup_video:a=!1}=e;(0,d.tE)("videoMounted",!1,a),t&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(h.DR,{initiator:"mount"}))})),p(this,"componentDidUpdate",(e=>{const{playing:t,visible:a,appInFocus:i}=this.props;e.appInFocus&&!i&&(this.logPlaybackPerformance(h.$f,{initiator:"update"}),this.logSessionStartOnNextPlay=!0),e.visible&&!1===a&&(this.logSessionStartOnNextPlay=!1,this.updatePauseDuration(),this.logPlaybackPerformance(h.$f,{initiator:"update"})),!1===e.visible&&!0===a&&(this.videoVisibleTime=this.videoVisibleTime||new Date,t?(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(h.DR,{initiator:"update"})):this.logSessionStartOnNextPlay=!0),t&&i&&this.logSessionStartOnNextPlay&&(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(h.DR,{initiator:"update"}),this.logSessionStartOnNextPlay=!1)})),p(this,"addSegment",(()=>{const{canPlayTime:e,loadStartTime:t,segments:a,srcString:i}=this.playbackPerformance;let s=-1;e&&t&&0===a.length&&(s=e>t?e-t:0);const n=this.videoPlayerRef&&this.videoPlayerRef.video,o={indicatedKbps:-1,duration:n&&n.duration*h.gJ||-1,lastStartPlayTime:null,level:-1,numServerAddressChange:-1,observedKbps:-1,playbackStartDate:null,serverAddress:"",sourceWidth:-1,sourceHeight:-1,startupTimeMs:s,switchBitrateKbps:-1,uri:i,viewportWidth:n&&n.clientWidth||-1,viewportHeight:n&&n.clientHeight||-1,watchedDurationMs:0};a.push(o)})),p(this,"getCurrentVideoTime",(()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*h.gJ:0)),p(this,"getVideoResourceTiming",(()=>{var e,t;if(null!==(e=window)&&void 0!==e&&null!==(t=e.performance)&&void 0!==t&&t.getEntriesByName&&this.playbackPerformance.srcString){const e=window.performance.getEntriesByName(this.playbackPerformance.srcString);return e.length>0&&e[0]||null}return null})),p(this,"handleCanPlayVideo",(e=>{const{contextLogData:t={},onReady:a,playing:i,videoStartTime:s}=this.props,{is_closeup_video:n=!1}=t,{canPlayVideo:o}=this.state;(0,d.tE)("handleCanPlayVideo",!1,n,{firstCanPlayEvent:!o,playing:i}),this.playbackPerformance.hasFatalError=!1,o||(this.playbackPerformance.canPlayTime=new Date,null!=s&&this.videoPlayerRef&&this.videoPlayerRef.video&&(this.videoPlayerRef.video.currentTime=s)),this.setState({canPlayVideo:!0}),a&&a(e)})),p(this,"handleEnded",(e=>{const{loop:t,onEnded:a}=this.props,{segments:i}=this.playbackPerformance,s=i&&i[i.length-1];t&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDurationForCurrentSegment(),s&&(s.lastStartPlayTime=0),this.hasSegmentStarted=!1):t||this.logPlaybackPerformance(h.$f,{initiator:"videoEnded",loop:t}),this.setState({playbackState:h.Cy.ENDED}),a&&a(e)})),p(this,"handleError",(()=>{var e,t,a,i,s,n,o,r;const{contextLogData:l={}}=this.props,{is_closeup_video:c=!1}=l,u=this.videoPlayerRef&&this.videoPlayerRef.video;(null==u||null===(e=u.error)||void 0===e?void 0:e.code)!==h.lG.MEDIA_ERR_ABORTED&&(this.playbackPerformance.hasFatalError=!0),this.playbackPerformance.detailedErrors+=`${this.playbackPerformance.detailedErrors.length>0?", ":""}${(null==u||null===(t=u.error)||void 0===t?void 0:t.message)||""}`,this.playbackPerformance.errorCode=(null==u||null===(a=u.error)||void 0===a?void 0:a.code)||0,this.playbackPerformance.errorName=(null==u||null===(i=u.error)||void 0===i||null===(s=i.message)||void 0===s?void 0:s.slice(0,100))||"unknown",this.playbackPerformance.errorReason=(null==u||null===(n=u.error)||void 0===n||null===(o=n.message)||void 0===o?void 0:o.slice(0,100))||"unknown";const p={errorName:this.playbackPerformance.errorCode,errorReason:this.playbackPerformance.errorName,errorRetryCount:this.errorRetryCount,playbackState:this.state.playbackState,networkState:(null==u?void 0:u.networkState)||"unknown"};switch((0,d.tE)("fatalError",!1,c,p),null==u||null===(r=u.error)||void 0===r?void 0:r.code){case h.lG.MEDIA_ERR_ABORTED:break;case h.lG.MEDIA_ERR_NETWORK:case h.lG.MEDIA_ERR_DECODE:case h.lG.MEDIA_ERR_SRC_NOT_SUPPORTED:default:this.errorRetryCount>0&&(null==u||u.load(),this.errorRetryCount-=1)}this.updateWatchDurationForCurrentSegment(),this.setState({playbackState:h.Cy.FAILED})})),p(this,"handleLoadedMetadata",(()=>{this.setState({playbackState:h.Cy.LOADED_METADATA})})),p(this,"handleLoadStart",(()=>{this.playbackPerformance.loadStartTime=new Date,this.setState({playbackState:h.Cy.LOAD_START})})),p(this,"handleLoadedData",(()=>{this.setState({playbackState:h.Cy.LOADED_DATA})})),p(this,"handlePlaying",(()=>{this.playbackPerformance.hasFatalError=!1,this.setPlaybackStartTime(),this.hasSegmentStarted||this.addSegment(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.updateStallDuration(),this.updatePauseDuration(),this.setState({playbackState:h.Cy.PLAYING})})),p(this,"handleUserPause",(e=>{const{onControlsPause:t}=this.props;this.lastPauseTime=new Date,t&&t(e)})),p(this,"handleVideoPause",(()=>{this.state.playbackState!==h.Cy.STALLING&&this.state.playbackState!==h.Cy.SEEKING&&(this.updateWatchDurationForCurrentSegment(),this.lastPauseTime||this.updateStallDuration()),this.setState({playbackState:h.Cy.PAUSED})})),p(this,"handleSeeking",(()=>{this.playbackPerformance.numberOfSeeks+=1;const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&(t.lastStartPlayTime=null),this.state.playbackState!==h.Cy.ENDED&&this.setState({playbackState:h.Cy.SEEKING})})),p(this,"handleStalled",(()=>{null===this.lastStallTime&&this.state.playbackState!==h.Cy.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numberOfStalls+=1,this.setState({playbackState:h.Cy.STALLING}))})),p(this,"handleTimeUpdate",(e=>{const{onTimeChange:t}=this.props;t&&t(e),this.state.playbackState===h.Cy.PLAYING&&(this.updateWatchDurationForCurrentSegment(),this.setLastSegmentStartPlayTime())})),p(this,"resetPlaybackMetrics",(()=>{this.hasSegmentStarted=!0,this.hasPlaybackStarted=!1,this.hasVideoSessionStarted=!1,this.hasVideoSessionEnded=!0,this.lastStallTime=null,this.lastPauseTime=null,this.videoSessionId="",this.videoVisibleTime=null,this.logSessionStartOnNextPlay=!1;const e={...this.playbackPerformance.segments[this.playbackPerformance.segments.length-1],lastStartPlayTime:null,playbackStartDate:null,watchedDurationMs:0};this.playbackPerformance.detailedErrors="",this.playbackPerformance.errorCode=0,this.playbackPerformance.errorName="",this.playbackPerformance.errorReason="",this.playbackPerformance.hasFatalError=!1,this.playbackPerformance.numberOfStalls=0,this.playbackPerformance.numberOfSeeks=0,this.playbackPerformance.playbackStartTimestamp=null,this.playbackPerformance.totalStallDurationMs=0,this.playbackPerformance.segments=[e]})),p(this,"setLastSegmentStartPlayTime",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.lastStartPlayTime&&(t.lastStartPlayTime=this.getCurrentVideoTime())})),p(this,"setLastSegmentPlaybackStartDate",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.playbackStartDate&&(t.playbackStartDate=Date.now())})),p(this,"setPlaybackStartTime",(()=>{this.hasPlaybackStarted||(this.playbackPerformance.playbackStartTimestamp=Date.now(),this.hasPlaybackStarted=!0)})),p(this,"setVideoPlayerRef",(e=>{const{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){const e=this.videoPlayerRef.video;e.addEventListener("loadedmetadata",this.handleLoadedMetadata),e.addEventListener("loadeddata",this.handleLoadedData),e.addEventListener("pause",this.handleVideoPause),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}})),p(this,"updateStallDuration",(()=>{if(null!==this.lastStallTime){const e=this.lastStallTime;this.playbackPerformance.totalStallDurationMs+=new Date-e,this.lastStallTime=null}})),p(this,"updatePauseDuration",(()=>{if(null!==this.lastPauseTime){const e=this.lastPauseTime;this.playbackPerformance.totalPauseDurationMs+=new Date-e,this.lastPauseTime=null}})),p(this,"updateWatchDurationForCurrentSegment",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1],a=t?t.lastStartPlayTime:null,i=this.getCurrentVideoTime();if(t&&null!==a&&"number"==typeof i&&"number"==typeof a){const e=i-a;e>0&&(t.watchedDurationMs+=e,t.lastStartPlayTime=null)}})),p(this,"logPlaybackPerformance",((e,t)=>{const{contextLogData:a={},userId:i,isAutoPlay:s,logContextEvent:n}=this.props,{is_closeup_video:o=!1}=a,{canPlayTime:r,detailedErrors:l,errorCode:c,errorName:u,errorReason:p,hasFatalError:m,loadStartTime:y,totalPauseDurationMs:b,totalStallDurationMs:f,numberOfStalls:g,numberOfSeeks:v,playbackStartTimestamp:P,segments:S,srcString:_}=this.playbackPerformance,w=this.videoPlayerRef&&this.videoPlayerRef.video,E=e===h.DR,k=E&&!this.hasVideoSessionStarted,D=!E&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(w&&(k||D)){var T;let k=-1;r&&y&&(k=r>y?r-y:0);let D=-1;r&&this.videoVisibleTime&&(D=r>this.videoVisibleTime?r-this.videoVisibleTime:0),E&&(this.videoSessionId=(0,h.Y7)(i),this.playerId=this.playerId||(0,h.EB)());const C=this.getVideoResourceTiming(),R={averageVideoKbps:-1,autoplaying:s,detailedErrors:l,downloadedKiloBytes:"number"==typeof(null==C?void 0:C.decodedBodySize)&&C.decodedBodySize/h.Fm||0,errorCode:c,errorName:u,errorReason:p,fatalError:m,isCellular:!1,nativeVideoDurationMs:w.duration*h.gJ||-1,numberOfStalls:g,numberOfSeeks:v,overallPausedDurationMs:b,overallBufferDurationMs:f,overallWatchedDurationMs:-1,rebufferRate:-1,playbackSessionId:this.videoSessionId,playbackStartTimestamp:P||-1,segments:[],sessionMark:e,screenPixelScale:null!==(T=window)&&void 0!==T&&T.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:w.clientWidth,startupPlayerHeight:w.clientHeight,startupTimeMs:k,startupLatencyMs:D,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:w.videoWidth,startupVariantHeight:w.videoHeight,videoUrl:_};if(!E){this.updateWatchDurationForCurrentSegment(),this.updateStallDuration();const e=S.reduce(((e,t)=>e+(t.watchedDurationMs||0)),0);R.overallWatchedDurationMs=e,R.startupVariantWatchedDurationMs=e,R.segments=this.playbackPerformance.segments,0===e?(R.errorName="invalid_watch_duration",R.rebufferRate=-1):R.rebufferRate=f/e}(0,d.ZP)(R,!1,o,{playbackState:this.state.playbackState,...t});const{view:L,viewParameter:x,component:A,element:M,objectId:I,...O}=a;n({event_type:3606,event_data:{videoPerformanceData:R},view_type:L,view_parameter:x,component:A,element:M,object_id_str:I,aux_data:{...O,is_closeup_video:o,playback_session_id:this.videoSessionId}}),E?(this.hasVideoSessionStarted=!0,this.hasVideoSessionEnded=!1):this.resetPlaybackMetrics(),(0,d.tE)(E?"sessionStart":"sessionEnd",!1,o,{playbackState:this.state.playbackState,...t})}}))}componentWillUnmount(){const{loop:e}=this.props;this.updatePauseDuration(),this.logPlaybackPerformance(h.$f,{initiator:"unmount",loop:e})}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:a,accessibilityPauseLabel:i,accessibilityPlayLabel:s,accessibilityProgressBarLabel:n,accessibilityUnmuteLabel:o,aspectRatio:r,captions:l,controls:d,loop:h,loopOverride:p,objectFit:y,onDurationChange:b,onFullscreenChange:f,onLoadedChange:g,onControlsPlay:v,onPlayheadDown:P,onPlayheadUp:S,onSeek:_,onVolumeChange:w,playbackRate:E,playing:k,playsInline:D,poster:T,preload:C,src:R,volume:L}=this.props,{canPlayVideo:x}=this.state;return(0,u.jsx)(c.nk,{autoplay:x&&k,accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:a,accessibilityPauseLabel:i,accessibilityPlayLabel:s,accessibilityProgressBarLabel:n,accessibilityUnmuteLabel:o,aspectRatio:r,captions:l,controls:d,loop:void 0===p?h:p,objectFit:y,onDurationChange:b,onEnded:this.handleEnded,onError:this.handleError,onFullscreenChange:f,onLoadedChange:g,onLoadStart:this.handleLoadStart,onControlsPause:this.handleUserPause,onControlsPlay:v,onPlaying:this.handlePlaying,onPlayheadDown:P,onPlayheadUp:S,onReady:this.handleCanPlayVideo,onSeek:_,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:w,onWaiting:this.handleStalled,playbackRate:E,onPlay:()=>{},onPlayError:()=>{},playing:x&&k,playsInline:D,poster:T,preload:C,ref:this.setVideoPlayerRef,src:m(R,this.props.quicExpGroup),volume:L})}}const b=(0,i.memo)((function(e){const{logContextEvent:t}=(0,o.v)(),{country:a,isAuthenticated:i,isBot:c,isSocialBot:h,unauthId:p,userAgent:m}=(0,l.B)(),{browserName:b,browserVersion:f,isMobile:g}=m,{contextLogData:v={}}=e,{is_closeup_video:P=!1,view:S,viewParameter:_}=v,{appUI:{appInFocus:w}}=(0,n.I)(),{checkExperiment:E}=(0,r.F)();let k=null;i&&(k=E("web_video_quic").group.length?E("web_video_quic").group:null);const D=(0,s.Z)(),T={browserName:b,browserVersion:f,country:a,isAuthenticated:i,isBot:c,is_closeup_video:P,isMobile:g,isSocialBot:h,view:S,viewParameter:_};return(0,d.r$)(T),(0,u.jsx)(y,{...e,userId:D.id||p,appInFocus:w,quicExpGroup:k,logContextEvent:t})}));var f=a(562559),g=a(366284);function v(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const P=e=>{if(Array.isArray(e)){const t=e.find((e=>"video/m3u8"===e.type));return t?t.src:void 0}return RegExp("m3u8$").test(e)?e:void 0};class S extends i.PureComponent{constructor(e){super(e),v(this,"componentDidUpdate",((e,t)=>{var a;e.videoStartTime&&this.props.videoStartTime&&e.videoStartTime<this.props.videoStartTime&&null!==(a=this.videoPlayerRef)&&void 0!==a&&a.video&&(this.videoPlayerRef.video.currentTime=this.props.videoStartTime)})),v(this,"setVideoPlayerRef",(e=>{e&&(this.videoPlayerRef=e)})),v(this,"handleOnEnded",(({event:e})=>{const{loop:t,onLoop:a,onEnded:i}=this.props;i&&(i({event:e}),this.videoPlayerRef&&this.videoPlayerRef.video&&t&&(this.videoPlayerRef.video.play(),a&&a()))}));const t=P(e.src);this.state={useHlsVideo:!e.preferMp4&&!(0,g.G6)(e.requestContext.userAgent.browserName)&&!!t}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:a,accessibilityPauseLabel:i,accessibilityPlayLabel:s,accessibilityProgressBarLabel:n,accessibilityUnmuteLabel:o,aspectRatio:r,appInFocus:l,backgroundColor:c,captions:d,contextLogData:h,controls:p,hlsConfig:m,isAutoPlay:y,loop:g,objectFit:v,onDurationChange:S,onEnded:_,onFullscreenChange:w,onLoadedChange:E,onControlsPause:k,onControlsPlay:D,onPlayheadDown:T,onPlayheadUp:C,onReady:R,onSeek:L,onTimeChange:x,onVolumeChange:A,playbackRate:M,playing:I,playsInline:O,poster:V,preferMp4:N,preload:F,src:B,videoStartTime:j,visible:U,volume:Z}=this.props,{useHlsVideo:H}=this.state,z=P(B),W={...m,startPosition:j||-1},G=!_&&g;return H&&z?(0,u.jsx)(f.Z,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:a,accessibilityPauseLabel:i,accessibilityPlayLabel:s,accessibilityProgressBarLabel:n,accessibilityUnmuteLabel:o,aspectRatio:r,appInFocus:l,backgroundColor:c,captions:d,contextLogData:h,controls:p,hlsConfig:W,isAutoPlay:y,loop:g,loopOverride:G,onDurationChange:S,onEnded:this.handleOnEnded,onFullscreenChange:w,onLoadedChange:E,onControlsPause:k,onControlsPlay:D,onPlayheadDown:T,onPlayheadUp:C,onReady:R,onSeek:L,onTimeChange:x,onVolumeChange:A,playbackRate:M,onPlay:()=>{},onPlayError:()=>{},playing:I,playsInline:O,poster:V,preload:F,setVideoRef:this.setVideoPlayerRef,src:z,visible:U,volume:Z}):(0,u.jsx)(b,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:a,accessibilityPauseLabel:i,accessibilityPlayLabel:s,accessibilityProgressBarLabel:n,accessibilityUnmuteLabel:o,aspectRatio:r,captions:d,contextLogData:h,controls:p,isAutoPlay:y,loop:g,loopOverride:G,objectFit:v,onDurationChange:S,onEnded:this.handleOnEnded,onFullscreenChange:w,onLoadedChange:E,onControlsPause:k,onControlsPlay:D,onPlayheadDown:T,onPlayheadUp:C,onReady:R,onSeek:L,onTimeChange:x,onVolumeChange:A,playbackRate:M,onPlay:()=>{},onPlayError:()=>{},playing:I,playsInline:O,poster:V,preload:F,setVideoRef:this.setVideoPlayerRef,src:N?B:z||B,videoStartTime:j,visible:U,volume:Z})}}function _(e){const{appUI:{appInFocus:t}}=(0,n.I)(),a=(0,l.B)();return(0,u.jsx)(S,{...e,appInFocus:t,requestContext:a})}},559230:(e,t,a)=>{a.d(t,{HJ:()=>s,VS:()=>i,iM:()=>n});const i=2,s="V_HLSV3_MOBILE",n=[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1,.11,.12,.13,.14,.15,.16,.17,.18,.19,.2,.21,.22,.23,.24,.25,.26,.27,.28,.29,.3,.31,.32,.33,.34,.35,.36,.37,.38,.39,.4,.41,.42,.43,.44,.45,.46,.47,.48,.49,.5,.51,.52,.53,.54,.55,.56,.57,.58,.59,.6,.61,.62,.63,.64,.65,.66,.67,.68,.69,.7,.71,.72,.73,.74,.75,.76,.77,.78,.79,.8,.81,.82,.83,.84,.85,.86,.87,.88,.89,.9,.91,.92,.93,.94,.95,.96,.97,.98,.99,1]},464228:(e,t,a)=>{a.d(t,{P:()=>n,Z:()=>o});var i=a(667294);const s=(0,i.createContext)();function n(){return(0,i.useContext)(s)}const o=s}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/924-5325257a33bd777e.mjs.map