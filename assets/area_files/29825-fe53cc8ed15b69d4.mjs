(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[29825],{217508:(e,t,o)=>{o.d(t,{Z:()=>a});var i=o(898781),r=o(883119),n=o(785893);function a({backgroundColor:e="darkGray",iconColor:t="inverse",iconSize:o,size:a=20}){const s=(0,i.ZP)();return(0,n.jsx)(r.xu,{display:"flex",direction:"column",alignItems:"center",color:e,width:a,height:a,rounding:"circle",justifyContent:"center",children:(0,n.jsx)(r.JO,{accessibilityLabel:s._('Secret board icon', 'Icon indicating that a board is secret', 'Icon indicating that a board is secret'),color:t,icon:"lock",size:null!=o?o:a/2})})}},408285:(e,t,o)=>{o.d(t,{$J:()=>z,AP:()=>M,Dm:()=>C,Fv:()=>P,H$:()=>O,In:()=>F,Ng:()=>A,RH:()=>w,Wj:()=>D,_P:()=>S,go:()=>x});var i=o(126098),r=o(6637),n=o(360903),a=o(30287),s=o(53987),l=o(539497),d=o(957161);const c="home",u="closeup",_="news_hub",h="board",m="profile",p="topic",v="today",g="business",b="search";let f;const w="_push",y=e=>{e.onupdatefound=()=>{(0,l.My)("mweb_service_worker.update_found")}},x=()=>Boolean("undefined"!=typeof navigator&&navigator.serviceWorker&&navigator.serviceWorker.controller),P=()=>new Promise(((e,t)=>{const o=navigator.serviceWorker,{pwaType:i,twaType:r}=f.getState().session,n=new URLSearchParams({source_url:window.location.pathname});i&&r&&(0,a.Rx)(r)&&(n.append("pwa_type",i),n.append("twa_type",r)),Boolean("undefined"!=typeof document&&document.referrer&&!document.referrer.startsWith(window.location.origin))&&n.append("referrer",document.referrer),o&&o.register?((0,l.My)("mweb_service_worker.install_attempt"),o.register(`/sw.js?${n.toString()}`).then((t=>{(0,l.My)("mweb_service_worker.install_success"),y(t),e(t)})).catch((e=>{(0,l.tj)("mweb_service_worker.install_fail",{error:e.message}),t(e)}))):e()})),A=()=>new Promise(((e,t)=>{const o=navigator.serviceWorker;o&&o.getRegistration?((0,l.My)("mweb_service_worker.update_attempt"),o.getRegistration().then((o=>{o?o.update().then((()=>{(0,l.My)("mweb_service_worker.update_success"),y(o),e(o)})).catch((e=>{(0,l.tj)("mweb_service_worker.update_fail",{error:e.message}),t(e)})):P().then(e)}))):e()})),z=()=>{const e=f.getState().session.isAuthenticated;(0,l.My)(`mweb.${e?"auth":"unauth"}.register_service_worker`),P()},C=()=>{const e=navigator.serviceWorker;return e&&e.getRegistration?((0,l.My)("mweb_service_worker.unregister_attempt"),(0,n.Qi)(),e.getRegistration().then((e=>{if(e)return e.unregister().then((()=>((0,l.My)("mweb_service_worker.unregister_success"),navigator.serviceWorker&&window.caches?window.caches.keys().then((e=>{const t=e.find((e=>e.startsWith("workbox-precaching")));return t?window.caches.delete(t):null})).then((()=>(0,l.My)("mweb_service_worker.clear_app_shell"))):Promise.resolve()))).catch((e=>{(0,l.tj)("mweb_service_worker.unregister_fail",{error:e.message})}))}))):Promise.resolve()},S=()=>!(!x()||!("SyncManager"in window)),j=e=>(0,s.C$)(e)?c:(0,s.L6)(e)?u:(0,s.l4)(e)?_:(0,s.am)(e)?h:(0,s.cD)(e)?m:(0,s.En)(e)?b:(0,s.$V)(e)?p:(0,s.Zz)(e)?v:(0,s.Ni)(e)?g:"undefined",k=e=>{switch(j(e)){case c:return{viewType:1,viewParameter:92};case u:return{viewType:3,viewParameter:void 0};case _:return{viewType:107,viewParameter:3081};case h:return{viewType:5,viewParameter:void 0};case b:return{viewType:2,viewParameter:43};case p:return{viewType:210,viewParameter:void 0};case m:return{viewType:4,viewParameter:void 0};case g:return{viewType:409,viewParameter:3397};case v:return{viewType:1,viewParameter:3372};default:return{viewType:void 0,viewParameter:void 0}}},I=(e,t)=>(0,l.tj)(e,{browser:f.getState().session.browser,version:Math.floor(parseInt(f.getState().session.browserVersion,10)),...t}),T=(0,i.Z)(),O="default"===T||"granted"===T,D=(e,t,o,i)=>{const n=navigator.serviceWorker,a=Boolean((0,d.qn)(w)),s={experimentName:o||"noExperiment",experimentGroup:i||"noGroup"};return n&&n.ready&&O&&!a?(t({event_type:13,view_type:170,component:13125,aux_data:{experiment_name:o,experiment_group:i}}),I(`mweb.notifications_upsell.${j(e)}.viewed`,s),n.ready.then((e=>e.pushManager.subscribe({userVisibleOnly:!0}))).then((o=>((e,t,o,i)=>{r.Z.create("WebPushDeviceResource",{}).callGet().then((t=>{const o=(({subscriptionId:e,endpoint:t})=>{return e||(o=t.split("/"))[o.length-1];var o})(e);if(t.resource_response.data[o])return;const i={registration_id:o,subscription_endpoint:e.endpoint};r.Z.create("WebPushDeviceResource",i).callCreate()})),(0,d.Nh)(w,"subscribed"),I(`mweb.notifications_upsell.${j(t)}.subscribed`,o);const n=k(t);i({component:13125,element:10357,event_type:102,view_type:n.viewType,view_parameter:n.viewParameter,aux_data:{experiment_name:o.experimentName,experiment_group:o.experimentGroup}})})(o,e,s,t)),(()=>((e,t,o)=>{(0,d.Nh)(w,"denied"),I(`mweb.notifications_upsell.${j(e)}.denied`,t);const i=k(e);o({component:13125,element:10358,event_type:102,view_type:i.viewType,view_parameter:i.viewParameter,aux_data:{experiment_name:t.experimentName,experiment_group:t.experimentGroup}})})(e,s,t)))):Promise.reject()},F=e=>{f=e},M=({isAuthenticated:e,isAppShell:t})=>{let o=!1;const i=i=>{if(o)return;o=!0;const r=`${t?"warm":"cold"}.${e?"auth":"unauth"}`;(0,l.My)(`mweb_service_worker.appshell_status.${r}.${i}`)},r=navigator.serviceWorker,n=null==r?void 0:r.controller;r&&n?setTimeout((()=>i("timeout")),1e3):i("no_worker")}},755506:(e,t,o)=>{o.d(t,{AH:()=>l,Bk:()=>n,CK:()=>s,Fi:()=>a,Xe:()=>r,wS:()=>i});const i=e=>{if(!e)return Object.freeze({});let t;return e.native_creator?(t=e.native_creator,t):e.link_domain?(t=e.link_domain.official_user,t):(t=e.origin_pinner||e.pinner,t)};function r({hasLinkDomain:e,hasNativeCreator:t,hasOriginPinner:o,pinDomain:i,sourceUserUsername:r,sourceUserFullName:n}){return!t&&(e||o)&&r?{pinCreditLink:`/${r}/`,pinCredit:n}:{pinCreditLink:void 0,pinCredit:!t&&e?i:""}}const n=({i18n:e,isLego:t,hasLinkDomain:o,hasRichMetadataArticle:i,hasRichMetadataTutorial:r,hasRichMetadataRecipeCategorizedIngredients:n,hasRichMetadataProductOfferSummary:a,hasRichSummaryProductOfferSummary:s,richMetadataRecipeFromAggregatedData:l,richMetadataProductName:d,richSummaryProductName:c})=>{const u=n;let _;d&&a&&(_=!0);const h=i,m=r;let p=t?e._('From ', 'Closeup pin annotation', 'Closeup pin annotation'):e._('Saved from ', 'Closeup pin annotation', 'Closeup pin annotation');return!o||l?p=e._('Saved by ', 'Closeup pin annotation', 'Closeup pin annotation'):_?p=e._('Product sold by ', 'pin annotation', 'pin annotation'):m?(t&&(p=e._('From ', 'pin annotation', 'pin annotation')),p=e._('Saved from ', 'pin annotation', 'pin annotation')):u?p=e._('Recipe from ', 'pin annotation', 'pin annotation'):h&&(p=e._('Article from ', 'pin annotation', 'pin annotation')),!a&&c&&s&&(p=e._('Product sold by ', 'pin annotation', 'pin annotation')),p},a=({i18n:e,isLego:t,pin:o})=>{var a,s,l,d,c,u,_,h,m,p,v,g,b,f,w,y,x,P;const A=o.link_domain,z=o.native_creator,C=o.rich_metadata,S=o.rich_summary,j=o.attribution;let k,I,T,O;const D=i(o),{pinCreditLink:F,pinCredit:M}=r({hasLinkDomain:!!A,hasNativeCreator:!!z,hasOriginPinner:!!o.origin_pinner,pinDomain:o.domain,sourceUserUsername:null==D?void 0:D.username,sourceUserFullName:null==D?void 0:D.full_name}),E=n({i18n:e,isLego:t,hasLinkDomain:!!o.link_domain,hasRichMetadataArticle:!(null===(a=o.rich_metadata)||void 0===a||!a.article),hasRichMetadataTutorial:!(null===(s=o.rich_metadata)||void 0===s||!s.tutorial),hasRichMetadataRecipeCategorizedIngredients:!(null===(l=o.rich_metadata)||void 0===l||null===(d=l.recipe)||void 0===d||!d.categorized_ingredients),hasRichMetadataProductOfferSummary:!(null===(c=o.rich_metadata)||void 0===c||null===(u=c.products)||void 0===u||null===(_=u[0])||void 0===_||!_.offer_summary),hasRichSummaryProductOfferSummary:!(null===(h=o.rich_summary)||void 0===h||null===(m=h.products)||void 0===m||null===(p=m[0])||void 0===p||!p.offer_summary),richMetadataRecipeFromAggregatedData:null===(v=o.rich_metadata)||void 0===v||null===(g=v.recipe)||void 0===g?void 0:g.from_aggregated_data,richMetadataProductName:null===(b=o.rich_metadata)||void 0===b||null===(f=b.products)||void 0===f||null===(w=f[0])||void 0===w?void 0:w.name,richSummaryProductName:null===(y=o.rich_summary)||void 0===y||null===(x=y.products)||void 0===x||null===(P=x[0])||void 0===P?void 0:P.name});if(A&&!(C&&C.recipe&&C.recipe.from_aggregated_data)){const e=!!(C&&C.recipe&&C.recipe.name&&C.recipe.categorized_ingredients);let t;C&&C.products&&C.products[0]&&(t=!!(C&&C.products[0].name&&C.products[0].offer_summary));const i=!(!C||!C.article);var R,B;if(t)T=null==C||null===(R=C.products)||void 0===R?void 0:R[0].offer_summary,O=null==C||null===(B=C.products)||void 0===B?void 0:B[0].shipping_info;else if(e){var Z,L,N;I=null!==(Z=null==C?void 0:C.recipe)&&void 0!==Z?Z:null,null!==(L=I)&&void 0!==L&&null!==(N=L.aggregate_rating)&&void 0!==N&&N.rating_value&&"number"==typeof I.aggregate_rating.review_count&&(null!=C&&C.site_name||o.domain)?I.aggregate_rating.review_source=(null==C?void 0:C.site_name)||o.domain:I&&(I.aggregate_rating=null)}else if(i){var U;k=(null==C||null===(U=C.article)||void 0===U?void 0:U.date_published)&&new Date(C.article.date_published)}}if(!T&&S){let e;S&&S.products&&S.products[0]&&(e=!!(S&&S.products[0].name&&S.products[0].offer_summary),e&&(T=S.products[0].offer_summary,O=S.products[0].shipping_info))}return{pinArticleDate:k,pinAttribution:j,pinCreditLink:F,pinCreditPrefix:E,pinCredit:M,pinProduct:T,pinShippingInfo:O,pinRecipe:I}},s=({hasRichMetadata:e,hasRichMetadataProducts:t,hasRichMetadataArticle:o,hasRichMetadataRecipe:i})=>e?t?144:o?141:i?145:139:140,l=e=>!!e&&!e.startsWith("https://i.pinimg.com")},185894:(e,t,o)=>{o.d(t,{Cp:()=>_,FK:()=>u,H5:()=>j,MI:()=>y,Mj:()=>C,O0:()=>f,QZ:()=>c,W:()=>A,WF:()=>v,Wz:()=>k,YV:()=>p,a5:()=>g,dz:()=>P,e0:()=>b,e2:()=>d,gH:()=>w,iW:()=>z,n1:()=>l,rm:()=>m,wb:()=>S,xu:()=>x});var i=o(172071),r=o(360903),n=o(983360),a=o(53987),s=o(408285);const l=()=>({type:n.Wn}),d=()=>({type:n.lj}),c=e=>({type:n.j_,payload:{unauthSavePinId:e}}),u=()=>({type:n.JG}),_=()=>({type:n.pV}),h=e=>({type:n.BM,payload:e}),m=e=>({type:n.a9,payload:{from:e}}),p=()=>e=>{e(h({preparingNewVersion:!0})),(0,s.Ng)().catch((()=>(i.Z.increment("mweb_service_worker.prepareNewVersion.error",1),(0,s.Dm)()))).finally((()=>{i.Z.increment("mweb.new_version.refresh",1),e(h({newVersionAvailable:!0,preparingNewVersion:!1}))})),(0,r.Qi)()},v=()=>({type:n.cs}),g=()=>({type:n.tg}),b=e=>({type:n.$t,payload:{steps:e}}),f=()=>({type:n.LB}),w=e=>({type:n.aj,payload:e}),y=e=>({type:n.HQ,payload:e}),x=e=>({type:n.vH,payload:{viewedImageSignature:e}}),P=e=>({type:n.le,payload:{pins:e}}),A=()=>({type:n.L6}),z=e=>e?{type:n.Pz,payload:e}:{type:n.OO},C=(e,t,o)=>i=>i(((e,t,o)=>({type:n.AO,payload:{isShareMenuOpen:e,objectType:t,objectId:o}}))(e,t,o)),S=()=>({type:n.dO}),j=e=>({type:n.UD,payload:e}),k=(e,t)=>{let o;return o=e?(0,a.bo)(e)?"today":(0,a.dr)(e)?"ideas":t&&(0,a.dZ)(e,t)?"own_section":t&&(0,a.J)(e,t)?"own_board":(0,a.OJ)(e)?"section":(0,a.am)(e)?"board":(0,a.L6)(e)?"closeup":(0,a.C$)(e)?"home":(0,a.cD)(e)?"profile":(0,a.En)(e)?"search":(0,a.$V)(e)?"topic":"":"",{type:n.il,payload:o}}},360903:(e,t,o)=>{o.d(t,{Qi:()=>d,RK:()=>l,$_:()=>s});var i=o(766935);var r=o(957161);const n="REDUX_STATE",a=()=>!!navigator.serviceWorker,s=()=>a()&&JSON.parse((0,r.qn)(n))||{},l=e=>(0,i.Z)((t=>{const o={};o[e]=t,a()&&(e=>{if(window.requestIdleCallback)return window.requestIdleCallback(e);{const t=Date.now();setTimeout((()=>{e({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-t))})}),1)}})((()=>(e=>{a()&&(0,r.Nh)(n,JSON.stringify({...s(),...e}))})(o)))}),1e3),d=()=>{(0,r.L_)(n)}},391254:(e,t,o)=>{o.d(t,{Z:()=>n});o(441143);var i=o(785893);class r{static factory(e){return e instanceof r?e:new r(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function n(e){const{css:t,unsafeCSS:o,...n}=e,a=String(t||"")||o||"";return!!a?(0,i.jsx)("style",{...n,dangerouslySetInnerHTML:{__html:String(r.factory(a))}}):null}},941646:(e,t,o)=>{o.d(t,{Z:()=>n});var i=o(883119),r=o(785893);function n(e){const{children:t,display:o,id:n}=e;return(0,r.jsx)(i.xu,{"data-test-id":n,display:o,children:t})}},126098:(e,t,o)=>{function i(){if("undefined"!=typeof navigator&&"serviceWorker"in navigator&&void 0!==navigator.serviceWorker&&"Notification"in window&&"PushManager"in window)try{return window.Notification.permission}catch(e){return}}o.d(t,{Z:()=>i})},112690:(e,t,o)=>{o.d(t,{Z:()=>r});var i=o(407043);const r=()=>(0,i.v)().logContextEvent},766935:(e,t,o)=>{function i(e,t){let o;return(...i)=>{clearTimeout(o),o=setTimeout((()=>e(...i)),t)}}o.d(t,{Z:()=>i})},780679:(e,t,o)=>{o.d(t,{g:()=>a,t:()=>n});var i=o(667294);const r=(0,i.createContext)(null),n=r.Provider,a=()=>(0,i.useContext)(r)},298361:(e,t,o)=>{o.d(t,{Z:()=>a});var i=o(898781),r=o(349700),n=o(202139);function a(){const e=(0,i.ZP)();return function(t,o){const i=new Date(t),a=new Date-i,s=Math.floor(a/n.FS),l=Math.floor(a/n.UK),d=Math.floor(a/n.F4),c=Math.floor(a/n.VL),u=Math.floor(a/n.N1),_=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', s, ' - ', ' -- '),h=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', l, ' - ', ' -- '),m=e.ngettext('{{ days }} day ago', '{{ days }} days ago', d, ' - ', ' -- '),p=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', c, ' - ', ' -- '),v=e.ngettext('{{ years }} year ago', '{{ years }} years ago', u, ' - ', ' -- '),g=e.ngettext('{{ minutes }}m', '{{ minutes }}m', s, 'minutes ago abbreviated', 'minutes ago abbreviated'),b=e.ngettext('{{ hours }}h', '{{ hours }}h', l, 'hours ago abbreviated', 'hours ago abbreviated'),f=e.ngettext('{{ days }}d', '{{ days }}d', d, 'days ago abbreviated', 'days ago abbreviated'),w=e.ngettext('{{ weeks }}w', '{{ weeks }}w', c, 'weeks ago abbreviated', 'weeks ago abbreviated'),y=e.ngettext('{{ years }}y', '{{ years }}y', u, 'years ago abbreviated', 'years ago abbreviated');return u>0?(0,r.nk)(o?y:v,{years:u}).join(""):c>0?(0,r.nk)(o?w:p,{weeks:c}).join(""):d>0?(0,r.nk)(o?f:m,{days:d}).join(""):l>0?(0,r.nk)(o?b:h,{hours:l}).join(""):s>0?(0,r.nk)(o?g:_,{minutes:s}).join(""):e._('Just now', ' - ', ' -- ')}}},892819:(e,t,o)=>{o.d(t,{Z:()=>s});var i=o(66699),r=o(898781);const n=(e,t)=>{const o=t||0,i=10**o,r=+(o?e*i:e).toFixed(8),n=Math.floor(r),a=r-n,s=a>.5-1e-8&&a<.5+1e-8?n%2==0?n:n+1:Math.round(r);return o?s/i:s},a=e=>{try{(0).toLocaleString([e])}catch(t){return!1}return!0};function s(){const e=(0,r.ZP)();return(t,o,r)=>{let s=0,l=0;const d=r&&r.style||void 0,c=r&&r.shortform||!1,u=r&&r.uplimit||void 0,_=r&&r.currency||void 0,h=!!u&&o>=u,m=u&&h?u:o;if("currency"===d){const{minimumFractionDigits:e,maximumFractionDigits:o}=((e,t)=>{if(t){const{minimumFractionDigits:o,maximumFractionDigits:i}=new Intl.NumberFormat(e,{style:"currency",currency:t}).resolvedOptions();if(void 0!==o&&void 0!==i)return{minimumFractionDigits:o,maximumFractionDigits:i}}return{minimumFractionDigits:2,maximumFractionDigits:2}})(t,_);s=void 0===r||void 0===r.maximum_fraction_digits?o:r.maximum_fraction_digits,l=void 0===r||void 0===r.minimum_fraction_digits?e:r.minimum_fraction_digits}else s=void 0===r||void 0===r.maximum_fraction_digits?0:r.maximum_fraction_digits,l=void 0===r||void 0===r.minimum_fraction_digits?0:r.minimum_fraction_digits;if(c&&m>999&&(s=void 0===r||void 0===r.shortform_maximum_fraction_digits?2:r.shortform_maximum_fraction_digits,l=0),s<l)return String(m);let p=m,v="";const g=[{"100M":{value:1e8,localeKey:e._('億', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.')}},{"10k":{value:1e4,localeKey:e._('万', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.')}}],b=[{b:{value:1e9,localeKey:e._('B', 'Abbreviation for one billion.', 'Abbreviation for one billion.')}},{m:{value:1e6,localeKey:e._('M', 'Abbreviation for one million.', 'Abbreviation for one million.')}},{k:{value:1e3,localeKey:e._('k', 'Abbreviation for one thousand.', 'Abbreviation for one thousand.')}}],f=/^zh|ja|ko/.test(t);if(c&&m>999){const e=f?g:b;for(let t=0;t<e.length;t+=1){const o=Object.keys(e[t])[0],i=e[t][o].value;if(m>=i){p=n(m/i*Math.pow(10,s))/Math.pow(10,s),v=e[t][o].localeKey;break}}}if(null==p)return"";const w=p.toLocaleString([a(t)&&"ar-SA"!==t?t:"en-US"],(({maximumFractionDigits:e,minimumFractionDigits:t,style:o,currency:i})=>{const r={maximumFractionDigits:e,minimumFractionDigits:t};return o?{...r,style:o,..."currency"===o?{currency:i,currencyDisplay:"symbol"}:{}}:r})({maximumFractionDigits:s,minimumFractionDigits:l,currency:_,style:d}));return v&&v.length>0?(0,i.Z)(e._('{{formattedNumber}}{{numberSuffix}}', 'i18n.usePrettyNumberFormat.prettyNumberFormat', 'String used to concatenate formatted number and localized number suffix'),{formattedNumber:w,numberSuffix:v})+(h?"+":""):w+(h?"+":"")}}},12610:(e,t,o)=>{function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}o.d(t,{Z3:()=>_,LU:()=>h,ZP:()=>m});const r=1e6,n=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,a={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},s={},l={background:"#FF8A8A",transform:"scale(.98)"},d={init:e=>({transform:`scale(${s[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[a.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[a.exit]:l,[a.stopped]:l,[a.paused]:l,[a.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class c{constructor(e){i(this,"setMutationObserver",(e=>(this.mutationObserver=e,this))),i(this,"startMutationObserver",(e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)})),i(this,"stopMutationObserver",(()=>{this.mutationObserver&&this.mutationObserver.disconnect()})),i(this,"handleIntersectionChange",(e=>{const t=e.intersectionRatio>0||e.isIntersecting;if(t&&!this.inViewport){const e=Date.now();this.startTime=e,this._debug(a.enter,{startTime:e,node:this.node}),this.enterCallbacks.forEach((e=>e()))}else!t&&this.inViewport&&(this._debug(a.exit,!0),this.exitCallbacks.forEach((e=>e(this.toJSON()))));this.inViewport=t})),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId=""}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,n&&Object.assign(this.node.style,d.init(e)),this}pause(){return this.inViewport&&(this._debug(a.paused,!0),this.exitCallbacks.forEach((e=>e(this.toJSON())))),this}resume(){if(this.inViewport){const e=Date.now();this._debug(a.resumed,{startTime:e}),this.startTime=e}return this}stop(e){return this.inViewport&&(this._debug(a.stopped,!0),this.exitCallbacks.forEach((t=>t(this.toJSON(e))))),this}toJSON(e=""){return{startTime:this.startTime*r,endTime:Date.now()*r,forcedExit:e}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:(Date.now()-this.startTime)/1e3+" seconds"}}_debug(e,t){if(n)switch(window.console.log(`📌 ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),d[e]&&Object.assign(this.node.style,d[e]),e){case a.flushed:case a.paused:case a.exit:s[this.debugId]=!0}}}function u(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const _=!0,h=!1;class m{constructor(){u(this,"_delegateChange",(e=>{e.forEach((e=>{const t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)}))})),u(this,"_handleMutations",((e,t)=>{const o=this.mutationObservers.get(t);o&&o.offsetHeight<1&&o&&this.stop(o,"removed")})),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=h,this.observer=new window.IntersectionObserver(this._delegateChange),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){const o=this.activeImpressions.get(e);o&&(o.stop(t),this.mutationObservers.delete(o.mutationObserver),o.stopMutationObserver(),this.activeImpressions.delete(e),this.observer.unobserve(e))}start(e){let t=this.activeImpressions.get(e);if(!t){t=new c(e),this.activeImpressions.set(e,t),this.observer.observe(e);const o=(e,t)=>this._handleMutations(e,t);t.setMutationObserver(new window.MutationObserver(o)),this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})}return t}pause(e=_){this.paused||(Array.from(this.activeImpressions.values()).forEach((e=>e.pause())),this.paused=!0,this.pausePriority===h&&(this.pausePriority=e))}resume(e=_){e===h&&this.pausePriority===_||this.paused&&(Array.from(this.activeImpressions.values()).forEach((e=>e.resume())),this.paused=!1,this.pausePriority=h)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){const e=Array.from(this.topObstructions).reduce(((e,t)=>{const{bottom:o}=t.getBoundingClientRect();return o>e?o:e}),0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce(((e,t)=>{const{top:o}=t.getBoundingClientRect();return o<e?o:e}),window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){const o={rootMargin:`${-e}px 0px ${-t}px`};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,o),Array.from(this.activeImpressions.values()).forEach((e=>this.observer.observe(e.node))),this.topHeight=e,this.bottomHeight=t}}}},124580:(e,t,o)=>{o.d(t,{Z:()=>i});const i=new(o(12610).ZP)},134879:(e,t,o)=>{o.d(t,{C:()=>n,V:()=>a});var i=o(667294);const r=(0,i.createContext)(!1),n=r.Provider,a=()=>(0,i.useContext)(r)},458882:(e,t,o)=>{o.d(t,{l:()=>n,r:()=>a});var i=o(667294);const r=(0,i.createContext)(null),n=()=>(0,i.useContext)(r),a=r.Provider},667679:(e,t,o)=>{o.d(t,{Z:()=>n});var i=o(458882),r=o(780679);const n=()=>{const e=(0,r.g)(),t=(0,i.l)();return o=>{const{mobileOptions:i,desktopOptions:r,reason:n,attributionLabel:a}=o;e?e.showDesktopSignupModal({signupFlow:"login"===(null==r?void 0:r.modalType)?{type:"login"}:{type:"signup"},reason:n,attributionLabel:a,...null==r?void 0:r.modalOptions}):t&&t.showMobileSignupModal({reason:n,attributionLabel:a,headingType:null==i?void 0:i.headingType})}}},758127:(e,t,o)=>{o.d(t,{U:()=>n,Z:()=>a});var i=o(883119),r=o(785893);const n=", ";function a(){return(0,r.jsx)(i.xu,{display:"visuallyHidden",children:n})}},70598:(e,t,o)=>{o.d(t,{Z:()=>P});var i=o(829407),r=o(898781),n=o(112690),a=o(728214),s=o(602574),l=o(667679),d=o(19121),c=o(957314),u=o(755506),_=o(773285),h=o(802201),m=o(281180),p=o(50286),v=o(276775),g=o(343341),b=o(687999),f=o(539497),w=o(883119),y=o(785893);const x=({children:e,pulsar:t,testId:o})=>t.show?(0,y.jsx)(w.xu,{position:"relative","data-test-id":o,children:(0,y.jsxs)(w.iP,{tapStyle:"none",onTap:t.onClick,children:[(0,y.jsx)(w.xu,{position:"absolute",marginTop:-5,dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},children:e}),(0,y.jsx)(w.xu,{position:"absolute",marginTop:-12,dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},children:(0,y.jsx)(w.o3,{})})]})}):(0,y.jsx)(w.xu,{"data-test-id":o,children:e});function P({auxData:e,disabled:t,disableLog:o,followEventType:P,id:A,inline:z,invertColors:C,isFollowed:S,isIdeaPin:j,isLegoEnabled:k,isSecondaryButton:I,isUserFollowButton:T,isUserMe:O,onFollow:D,onUnfollow:F,pinId:M,shouldUseLegoColors:E,showPulsar:R,size:B,textType:Z="FollowFollowing",unfollowEventType:L,viewParameter:N,viewType:U}){const H=(0,r.ZP)(),W=(0,v.useLocation)(),$=(0,p.HG)(),{showToast:G}=(0,g.F9)(),V=(0,n.Z)(),J=(0,l.Z)(),{checkExperiment:K}=(0,_.F)(),q=(0,a.Z)(),Q=(0,d.Z)(),X=Q&&Q.isAuth,{unauthFollowUserId:Y,setUnauthFollowUserId:ee}=(0,b.f)(),te=(0,m.mN)()(A),oe=(0,h.S6)()(null!=M?M:""),ie=(0,u.wS)(oe),re=null!=te?te:ie;(0,i.Z)((()=>{!$&&X&&Y&&A&&Y===A&&D(A)}));const ne=q({fn:()=>{X?S?(F(A),o||V({event_type:L,view_type:U,view_parameter:N,object_id_str:A,aux_data:e})):(D(A),T&&G((({hideToast:e})=>{if(!re)return null;const t=re.username?`/${re.username}/`:"";return(0,y.jsx)(s.Z,{handleHide:e,text:(0,y.jsx)(w.xv,{children:H._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow')}),userId:A,href:t,imageUrl:re.image_medium_url})})),o||V({event_type:P,view_type:U,view_parameter:N,object_id_str:A,aux_data:e})):((0,f.My)(`mweb_unauth_follow_button.tap.${String(U)}`),5===U&&26===P&&(0,f.My)("mweb_unauth_board_page_follow_button.tap"),(0,f.NC)(S?"press_profile_unfollow":"press_profile_follow"),(0,f.LW)({action:"click",pageLocation:W,item:"board-follow-button"}),J({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:j?"tap.unauth_idea_pin.follow_button":"tap.unauth.follow_button",desktopOptions:{modalType:"signup",modalOptions:$&&K("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!$&&K("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0}),$||ee(null!=A?A:""),(0,f.NC)("clickthrough"))},modalHeader:(0,c.N4)({i18n:H,toFollow:!S})}),ae=!S&&!!R,se=()=>{if(O)return H._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===Z)return S?H._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow'):H._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow');const e="FollowUnfollow"===Z?H._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):H._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return S?e:H._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')};return(0,y.jsx)(x,{pulsar:ae?{show:!0,onClick:ne}:{show:!1},testId:O||S?"board-unfollow-button":"board-follow-button",children:(0,y.jsx)(w.zx,{color:E||"AddRemove"===Z||!k&&I||S?"gray":"red",disabled:O||t,fullWidth:z,onClick:ae?void 0:({event:t})=>{t.preventDefault(),t.stopPropagation(),o||V({event_type:101,component:13672,element:11951,object_id_str:A,view_type:U,view_parameter:N,aux_data:e}),ne()},selected:C?!S:E&&S||!!S&&I,size:B,text:se(),accessibilityLabel:se()})})}},802201:(e,t,o)=>{o.d(t,{AF:()=>s,H0:()=>l,S6:()=>d,_S:()=>c});var i=o(702664),r=o(425288),n=o(785893);const{Provider:a,useHook:s,useMaybeHook:l}=(0,r.Z)("Pins");function d(){const e=s();return t=>e[t]}function c({children:e}){const t=(0,i.useSelector)((({pins:e})=>e),i.shallowEqual);return(0,n.jsx)(a,{value:t,children:e})}},687999:(e,t,o)=>{o.d(t,{f:()=>s,w:()=>l});var i=o(667294),r=o(425288),n=o(785893);const{Provider:a,useHook:s}=(0,r.Z)("Session");function l({children:e}){const[t,o]=(0,i.useState)(void 0),r=(0,i.useCallback)((()=>o(void 0)),[]),s=(0,i.useMemo)((()=>({unauthFollowUserId:t,setUnauthFollowUserId:o,removeUnauthFollowUserId:r})),[t,r]);return(0,n.jsx)(a,{value:s,children:e})}},14254:(e,t,o)=>{o.d(t,{Z:()=>x});var i=o(667294),r=o(948618),n=o(70598),a=o(298361),s=o(112690),l=o(892819),d=o(19121),c=o(349700),u=o(539497),_=o(773285),h=o(50286),m=o(758127),p=o(322937),v=o(898781),g=o(808058),b=o(883119),f=o(785893);function w(e,t){const{full_name:o,username:i}=e,r=(0,f.jsx)(b.rU,{href:`/${i}`,inline:!0,underline:"hover",children:o});return(0,c.nk)(t._('{{ linkToUser }} invited you to join this board', 'boardRep.invite.invitationText', 'Indicating that another user invited the viewer to this board'),{linkToUser:r})}const y=({children:e})=>{const t=(0,d.Z)(),o=(0,h.HG)(),i=t&&t.isAuth;return o&&i?(0,f.jsx)(b.X6,{accessibilityLevel:2,size:"400",lineClamp:1,children:e}):(0,f.jsx)(b.xv,{lineClamp:1,weight:"bold",children:e})};function x({archivedDate:e,boardUrl:t,canEdit:o,collaborators:d,collaboratorsCount:x=0,containerBackgroundColor:P,coverPhoto:A,followedByMe:z,fullSizeDrawer:C,sensitivityScreen:S,handleInviteResponse:j,hideMeta:k,id:I,invite:T,imagesLego:O=[],isBoardInviteAccepted:D,isActive:F,isAuthenticated:M,isCollaborative:E,isCollaborator:R,isOwner:B,isSecret:Z,lastModifiedDate:L,layout:N,locale:U,name:H,numCols:W,onEditClick:$,onFollow:G,onUnfollow:V,owner:J,pinCount:K=0,sectionCount:q,showFollowButton:Q,viewParameter:X,viewType:Y,viewerId:ee}){const te=(0,v.ZP)(),oe=(0,a.Z)(),ie=(0,l.Z)(),re=(0,s.Z)(),ne=(0,h.HG)(),ae=ne&&M,se="square"===N?g.M0:g.z9,le=O.map((e=>({url:e.url,name:H}))),de=!!J&&!o&&Q,{checkExperiment:ce}=(0,_.F)(),ue=!B&&!R&&ce("mweb_board_sensitivity_screen").anyEnabled,_e=!(null==S||!S.show_warning)&&ue,he={board_id:I,reason:null==S?void 0:S.reason};(0,i.useEffect)((()=>{_e&&re({event_type:13,component:13861,view_type:215,aux_data:he})}),[]);const me=J?J.id:void 0,pe=[...d.filter((({id:e})=>e===me)),...d.filter((({id:e})=>e===ee&&e!==me)),...d.filter((({id:e})=>![me,ee].includes(e)))].map((e=>{var t,o;return{name:null!==(t=ae?e.full_name:e.username)&&void 0!==t?t:"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":null!==(o=e.image_medium_url)&&void 0!==o?o:""}}));let ve=x>=pe.length?x-pe.length:0;ve=ve>99?100:ve;const ge=[...pe,...Array(ve).fill({name:"",src:""})],be=ae?24:16,fe=be/3*(2*(pe.length>2?3:pe.length)+1);return(0,f.jsxs)(b.xu,{"data-test-id":`boardCard-${H}`,position:"relative",height:de?"max(calc(25vh + 10px), 220px)":"100%",width:ae?se:"100%",children:[(0,f.jsx)(p.Z,{canEdit:o,containerBackgroundColor:P,coverPhoto:A,images:le,isSecret:Z,fullSize:C,showSensitivityScreen:_e,isActive:F,onEditClick:$,layout:N}),!k&&(0,f.jsx)(i.Fragment,{children:T?(0,f.jsxs)(i.Fragment,{children:[(0,f.jsxs)(b.xu,{padding:2,alignItems:"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,f.jsxs)(b.xu,{width:"100%",children:[(0,f.jsx)(b.rU,{href:null!=t?t:"",children:(0,f.jsx)(b.xu,{marginTop:0,marginBottom:1,children:(0,f.jsx)(y,{children:H})})}),D?(0,f.jsx)(b.xv,{size:"200",lineClamp:1,children:te._('You\u2019ve joined', 'boardRep.invite.invitationAcceptedText', 'Text shown after accepting collaborator board invitations')}):(0,f.jsx)(b.xv,{size:"200",children:w(T.invited_by_user,te)})]}),(0,f.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1}},marginStart:2,width:fe,minWidth:fe,height:be,children:(0,f.jsx)(b.HE,{accessibilityLabel:m.U+(te._('Board has collaborators', 'BoardCard.AvatarGroup.Collaborators', 'Board description: title, number of pins, date, and it has collaborators or not.')),collaborators:ge})})]}),D?(0,f.jsx)(b.xu,{direction:"row",display:"flex",paddingX:2,children:(0,f.jsx)(b.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,f.jsx)(b.zx,{role:"link",href:null!=t?t:"",fullWidth:!0,size:"lg",text:te._('See board', 'boardRep.invite.seeBoardButton', 'Button text to see board after accepting collaborator invite')})})}):(0,f.jsxs)(b.kC,{direction:"row",flex:"grow",justifyContent:"start",wrap:!0,children:[(0,f.jsx)(b.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,f.jsx)(b.zx,{fullWidth:!0,onClick:()=>{null==j||j(!1)},size:"lg",text:te._('Decline', 'boardRep.invite.declineButton', 'Button text to decline board collaborator invite or request')})}),(0,f.jsx)(b.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,f.jsx)(b.zx,{fullWidth:!0,color:"red",onClick:()=>{null==j||j(!0)},size:"lg",text:te._('Accept', 'boardRep.invite.acceptButton', 'Button text to accept board collaborator invite or request')})})]})]}):(0,f.jsxs)(b.xu,{height:ae?void 0:g.s0,marginTop:ae?0:1,paddingX:2,paddingY:ae?2:0,children:[(0,f.jsxs)(b.xu,{alignItems:"center","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,f.jsx)(y,{children:H}),E&&(0,f.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1}},marginStart:2,width:fe,minWidth:fe,height:be,children:(0,f.jsx)(b.HE,{accessibilityLabel:m.U+(te._('Board has collaborators', 'BoardCard.AvatarGroup.Collaborators', 'Board description: title, number of pins, date, and it has collaborators or not.')),collaborators:ge})})]}),(0,f.jsxs)(b.xu,{alignItems:ne?"center":"start",direction:ne?"row":"column",display:"flex",marginTop:1,children:[(0,f.jsxs)(b.xv,{size:"100",lineClamp:1,children:[(0,f.jsx)(m.Z,{}),(0,c.nk)(te.ngettext('{{ count }} Pin', '{{ count }} Pins', K, 'profile.ProfilePage.board.BoardCard.PinsCount', 'label for n amount of pins'),{count:ie(U,K,{})}),!!q&&(0,f.jsxs)(i.Fragment,{children:[(0,f.jsx)(r.Z,{ariaHidden:!0}),(0,f.jsx)(m.Z,{}),(0,c.nk)(te.ngettext('{{ count }} section', '{{ count }} sections', q, 'profile.ProfilePage.board.BoardCard.SectionsCount', 'label for n amount of sections'),{count:q})]})]}),!e&&(0,f.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{display:ae?"inline-flex":"inline",paddingLeft:ne?7:0}},children:(0,f.jsxs)(b.xv,{color:"subtle",inline:!0,size:"100",lineClamp:1,children:[(0,f.jsx)(m.Z,{}),oe(L,!0)]})})]}),!!e&&(0,f.jsxs)(b.xu,{marginTop:1,children:[(0,f.jsx)(m.Z,{}),(0,f.jsx)(b.xv,{color:"subtle",size:"100",lineClamp:1,children:te._('Archived', 'profile.ProfilePage.board.BoardCard.ArchivedBoardText', 'subtitle for archived boards on profile page')})]}),de&&(0,f.jsx)(b.xu,{marginTop:2===W?3:void 0,column:2===W?12:void 0,flex:"none",children:(0,f.jsx)(n.Z,{disabled:null==J?void 0:J.blocked_by_me,followEventType:26,id:I,isFollowed:z,onFollow:e=>{M||(0,u.NC)("press_follow_board"),G&&G(e)},onUnfollow:e=>{M||(0,u.NC)("press_unfollow_board"),V&&V(e)},shouldUseLegoColors:!0,size:"md",unfollowEventType:27,viewParameter:X,viewType:Y})})]})})]})}},794987:(e,t,o)=>{o.d(t,{Z:()=>v});var i=o(702664),r=o(14254),n=o(851850),a=o(19121),s=o(904411),l=o(276775),d=o(780280),c=o(286268),u=o(539497),_=o(883119),h=o(628358),m=o(785893);const p=["thumbnail","imageOnly"];function v({boardId:e,containerBackgroundColor:t,forwardedRef:o,fullSize:v,showFollowButton:g=!0,showPinCount:b=!0,type:f,viewParameter:w,viewType:y}){var x,P,A;const z=(0,a.Z)(),C=z&&z.isAuth,S=(0,i.useDispatch)(),j=(0,l.useLocation)(),{locale:k}=(0,d.B)(),I=(0,s.gC)()(e),T=(0,n.Z)(),O=z.isAuth?z.id:"";if(!I)return null;const D=I.owner,F=[D,...I.collaborating_users||[]].filter(Boolean).map((({id:e,image_medium_url:t,username:o})=>({id:e,image_medium_url:t,username:o}))),M=(null==D?void 0:D.id)===O,E=F.filter((({id:e})=>e===O)).length>0;if("secret"===I.privacy&&!E)return null;const R="grid"===f||"thumbnail"===f?2:4,B=T(I,R),Z={isCustom:I.has_custom_cover,url:B,position:(0,c.Bw)(I.cover_pin)},L=(0,c.Jx)(I,B).map((({url:e})=>({name:(0,c.po)(e),url:e}))),N=(0,m.jsx)(r.Z,{archivedDate:null!==(x=I.archived_by_me_at)&&void 0!==x?x:void 0,canEdit:!!I.access&&I.access.includes("write"),collaborators:F,collaboratorsCount:I.collaborator_count,containerBackgroundColor:t,coverPhoto:B?Z:null,followedByMe:I.followed_by_me,fullSizeDrawer:v,hideMeta:p.includes(f),id:I.id,imagesLego:L,isAuthenticated:C,isCollaborative:I.is_collaborative,isCollaborator:E,isOwner:M,isSecret:"secret"===I.privacy,lastModifiedDate:"full"===f?I.board_order_modified_at:"",locale:k,name:null!==(P=I.name)&&void 0!==P?P:"",numCols:R,onFollow:e=>S((0,h.Z)(e)),onUnfollow:e=>S((0,h.f)(e)),owner:D,pinCount:b&&I.pin_count?I.pin_count:void 0,sectionCount:null!==(A=I.section_count)&&void 0!==A?A:0,sensitivityScreen:I.sensitivity_screen,showFollowButton:g,viewParameter:w,viewType:y,viewerId:O});return!p.includes(f)&&I.url?(0,m.jsx)(_.iP,{role:"link",href:I.url,rounding:2,tapStyle:"compress",onTap:()=>{C||((0,u.NC)("click_go_to_board"),(0,u.LW)({action:"click",pageLocation:j,item:"board-card"}))},children:(0,m.jsx)(_.xu,{ref:o,paddingY:3,children:N})}):N}},371918:(e,t,o)=>{o.d(t,{Z:()=>n});var i=o(883119),r=o(785893);function n({customCover:e,height:t,imgUrl:o,imgPos:n,width:a}){const s=t/a;let l="center center";if(e&&n){let e=1;e=n.height/n.width>s?a/n.width:t/n.height;l=`-${n.x*e}px -${n.y*e}px`}const d={backgroundImage:`url(${o})`,backgroundPosition:l,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"};return(0,r.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{height:t,width:a}},children:(0,r.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:d},children:(0,r.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}},322937:(e,t,o)=>{o.d(t,{Z:()=>_});var i=o(371918),r=o(217508),n=o(898781),a=o(50286),s=o(780280),l=o(808058),d=o(883119),c=o(785893);const u="100%";function _(e){var t,o,_,h;const m=(0,n.ZP)(),{containerBackgroundColor:p="white",coverPhoto:v,fullSize:g,images:b,isSecret:f,showSensitivityScreen:w,isActive:y,canEdit:x,onEditClick:P,layout:A}=e,z=(0,a.HG)(),{isRTL:C,isAuthenticated:S}=(0,s.B)(),j=z&&S,k=b[0],I=!v&&(null===(t=b[0])||void 0===t?void 0:t.name)||m._('Cover image', 'DrawerImageGroup', 'Alt text for the main image of a board'),T=Array(2).fill(),O=new d.Ry(1),D="square"===A?l.M0:l.z9,F="square"===A?l.FP:l.FC,M=w?{filter:"blur(20px)"}:{};return(0,c.jsx)(d.zd,{height:g?"100%":void 0,rounding:4,width:"100%",wash:y,children:(0,c.jsxs)(d.xu,{"aria-hidden":!0,display:"flex",height:j?F:"100%",direction:"row",children:[(0,c.jsx)(d.sg,{span:8,children:(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:M},position:"relative",height:g?"100%":void 0,children:(0,c.jsx)(d.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:u}},overflow:"hidden",width:"100%",children:(0,c.jsxs)(d.xu,{"data-test-id":"drawer-image-group-first-image-container",dangerouslySetInlineStyle:{__style:{borderColor:p,borderStyle:"solid",borderWidth:"1px 0 1px 1px"}},overflow:"hidden",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,children:[f&&(0,c.jsx)(d.xu,{left:!C,right:C,margin:2,position:"absolute",top:!0,zIndex:O,children:(0,c.jsx)(r.Z,{backgroundColor:"default",iconColor:"default",size:j?32:24})}),j&&null!=v&&v.url?(0,c.jsx)(i.Z,{customCover:v.isCustom,imgPos:v.position||{width:0,height:0,x:0,y:0},imgUrl:null!==(o=v.url)&&void 0!==o?o:"",width:Math.floor(D/3*2),height:F}):(0,c.jsx)(d.Ee,{alt:I,color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:null!==(_=null!==(h=null==v?void 0:v.url)&&void 0!==h?h:null==k?void 0:k.url)&&void 0!==_?_:""})]})})})}),(0,c.jsx)(d.sg,{span:4,children:(0,c.jsxs)(d.xu,{dangerouslySetInlineStyle:{__style:M},height:"100%",children:[x&&y&&(0,c.jsx)(d.xu,{left:C,right:!C,margin:2,position:"absolute",bottom:!0,zIndex:O,children:(0,c.jsx)(d.hU,{accessibilityLabel:m._('Edit', 'DrawerImageGroup.edit', 'Icon indicating that a board is editable'),bgColor:"white",icon:"edit",iconColor:"darkGray",onClick:({event:e})=>null==P?void 0:P(e),size:"sm"})}),T.map(((e,t)=>{var o,i;const r=b[j?t:t+1];return(0,c.jsx)(d.xu,{position:"relative",height:g?"50%":void 0,children:(0,c.jsx)(d.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:u}},overflow:"hidden",width:"100%",children:(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{borderColor:p,borderStyle:"solid",borderWidth:0===t?1:"0 1px 1px 1px"}},overflow:"hidden",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,children:(0,c.jsx)(d.Ee,{alt:null!==(o=null==r?void 0:r.name)&&void 0!==o?o:"placeholder",color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:null!==(i=null==r?void 0:r.url)&&void 0!==i?i:""})})})},t)}))]})}),w&&(0,c.jsx)(d.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:(0,c.jsx)(d.X6,{align:"center",color:"light",size:"400",children:m._('This board may contain sensitive content', 'drawerImageGroup.sensitivityScreen.heading', 'Warning text for a board that may have sensitive content')})})]})})}},808058:(e,t,o)=>{o.d(t,{FC:()=>s,FP:()=>n,M0:()=>r,s0:()=>i,z9:()=>a});const i=40,r=236,n=157,a=320,s=213},851850:(e,t,o)=>{o.d(t,{Z:()=>n});var i=o(19121),r=o(50286);function n(){const e=(0,r.HG)(),t=(0,i.Z)(),o=t&&t.isAuth;if(e&&o){return e=>{var t,o;const i=e.cover_images&&e.cover_images["222x"]?e.cover_images["222x"].url:void 0,r=null!==(t=null===(o=e.cover_pin)||void 0===o?void 0:o.image_url)&&void 0!==t?t:i,n=e.images&&e.images["170x"]&&e.images["170x"].length?e.images["170x"][0].url:"";return r||n}}return(e,t)=>{var o,i;const r=e.has_custom_cover?e.image_cover_hd_url||e.image_cover_url:"";if(!r)return"";const n=e.cover_images&&e.cover_images["400x300"]?e.cover_images["400x300"].url:void 0,a=e.cover_images&&e.cover_images["222x"]?e.cover_images["222x"].url:void 0,s=e.cover_images&&e.cover_images["216x146"]?e.cover_images["216x146"].url:void 0,l=null!==(o=null!==(i=null!=n?n:a)&&void 0!==i?i:s)&&void 0!==o?o:"",d=e.image_cover_url||"";return r||(t&&t>2&&l?l:"")||d}}},286268:(e,t,o)=>{o.d(t,{Bw:()=>s,Jx:()=>a,po:()=>i});const i=(e="")=>(null!=e?e:"").substring((null!=e?e:"").lastIndexOf("/")+1),r=e=>({dominant_color:"#FFFFFF",height:1,url:e,width:1}),n=e=>{if(!e)return()=>!0;const t=i(e);return e=>{var o;return"string"==typeof e?i(e)!==t:i(null!==(o=e.url)&&void 0!==o?o:"")!==t}},a=(e,t)=>e.images&&e.images["170x"]?e.images["170x"].filter(n(t)):e.pin_thumbnail_urls?e.pin_thumbnail_urls.filter(n(t)).map(r):[],s=e=>{var t;return null!==(t=e&&e.crop&&e.size&&{x:e.crop[0],y:e.crop[1],width:e.size[0],height:e.size[1]})&&void 0!==t?t:{x:0,y:0,width:0,height:0}}},154391:(e,t,o)=>{o.d(t,{H:()=>n,o:()=>r});var i=o(425288);const{Provider:r,useHook:n}=(0,i.Z)("LimitedLogin")},957314:(e,t,o)=>{o.d(t,{N4:()=>n,Wh:()=>i,hr:()=>r});const i=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),r=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),n=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},728214:(e,t,o)=>{o.d(t,{Z:()=>s});var i=o(898781),r=o(50286),n=o(154391),a=o(957314);const s=()=>{const e=(0,i.ZP)(),t=(0,r.HG)(),{viewer:o,loginForMore:s,limitedLoginModalSubheader:l,limitedLoginModalNextLocation:d}=(0,n.H)();return"LIMITED_LOGIN"===o.type?({modalHeader:o,nextLocation:i})=>r=>{let n=null;r&&(r.nativeEvent&&r.nativeEvent instanceof Event?n=r:r.event&&(n=r.event)),n&&(n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation()),o||(o=t?(0,a.hr)(e):(0,a.Wh)(e)),null==s||s.setVisible(!0),null==l||l.setText(o),i&&(null==d||d.setRoute(i))}:({fn:e})=>e}},31185:(e,t,o)=>{function i(e,t,o){return{privacy_filter:t?"secret":"public",sort:o||"last_pinned_to",field_set_key:"profile_grid_item",username:e}}o.d(t,{Z:()=>i})},527885:(e,t,o)=>{o.d(t,{O:()=>s,Q:()=>l});var i=o(848900),r=o(414327),n=o(875495);const a=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],s={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:t,mixPublicSecret:o,username:i},r)=>({privacy_filter:"all",sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:t,username:i,page_size:25,group_by:o?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0,...r?{orbac_subject_id:r}:Object.freeze({})})},l=e=>a.reduce(((t,o)=>{const a=[(0,n.N8)("profileBoards",(0,i.Z)(e,o))];return[!0,!1].forEach((t=>{[!0,!1].forEach((i=>{a.push((0,r.jB)(s.name,s.options({username:e,boardOrder:o,mixPublicSecret:t,filterStories:i})))}))})),t.concat(a)}),[])},602574:(e,t,o)=>{o.d(t,{Z:()=>c});var i=o(883119),r=o(785893);function n({ideaPinImages:e}){const t={1:28,2:40,3:48},o=e.map(((e,t)=>{var o,n,a;return(0,r.jsx)(i.xu,{height:48,width:28,color:"default",borderStyle:"sm",overflow:"hidden",rounding:2,dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},children:(0,r.jsx)(i.Ee,{alt:"",src:null!==(o=null==e?void 0:e.url)&&void 0!==o?o:"",color:"#696969",fit:"cover",naturalHeight:null!==(n=null==e?void 0:e.height)&&void 0!==n?n:1,naturalWidth:null!==(a=null==e?void 0:e.width)&&void 0!==a?a:1})},t)}));return(0,r.jsx)(i.kC,{justifyContent:"center",children:(0,r.jsx)(i.kC,{justifyContent:"start",width:t[e.length],children:o})})}var a=o(499128),s=o(898781),l=o(784590),d=o(50286);function c({handleHide:e,text:t,userId:o,href:c,imageUrl:u}){const _=(0,s.ZP)(),h=(0,d.HG)(),m=(0,l.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:o}}),p=Array.isArray(t)?t.join(" "):t;if(0===(m.data||[]).length){const t=u?(0,r.jsx)(i.xu,{height:48,overflow:"hidden",width:48,children:(0,r.jsx)(i.Ee,{alt:_._('Image of who you followed', 'userFollowingToast.thumbnail.userImage', 'Profile thumbnail of the user you followed'),fit:"cover",naturalHeight:1,naturalWidth:1,src:u})}):void 0;return(0,r.jsx)(a.ZP,{duration:5e3,onHide:e,text:p,href:c,iconThumbnail:t,thumbnailShape:"circle"})}const v=(m.data||[]).slice(0,3).map((e=>{var t;return null===(t=e.images)||void 0===t?void 0:t[h?"236x":"170x"]})),g=(0,r.jsx)(n,{ideaPinImages:v});return(0,r.jsx)(a.ZP,{href:c,duration:5e3,onHide:e,iconThumbnail:g,text:p,thumbnailShape:"square"})}},935409:(e,t,o)=>{o.d(t,{Br:()=>_,Cr:()=>z,K8:()=>b,Q_:()=>y,Tq:()=>v,YV:()=>A,ZP:()=>C,aX:()=>S,eo:()=>m,gi:()=>P,md:()=>h,oG:()=>p,oL:()=>j,of:()=>f,xH:()=>g,xQ:()=>w,xk:()=>x,yT:()=>u});var i=o(27255),r=o(31185),n=o(6637),a=o(778821),s=o(379725),l=o(875495),d=o(527885),c=o(414327);function u(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function _(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function h(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function m({viewingUserId:e,viewingUsername:t,boardId:o,boardPinCount:i}){return{type:"BOARD_DELETE",payload:{viewingUserId:e,viewingUsername:t,boardId:o,boardPinCount:i}}}const p=(e,t)=>o=>o((0,s.U)("BoardResource",{options:{board_id:e,field_set_key:t}}));function v(e,t,o){return(0,s.U)("BoardResource",{options:{board_id:e,field_set_key:t,...o?{orbac_subject_id:o}:{}}})}function g(e,t,o){return i=>n.Z.create("BoardsMergeResource",{source_board_id:e,target_board_id:t,...o?{orbac_subject_id:o}:{}}).callUpdate().then((()=>Promise.all([i(m({boardId:e})),i(v(t,"pin_count")),i((0,l.N8)(a.DV.BOARD_SECTIONS,t))])))}function b(e){return t=>{e&&(0,d.Q)(e).forEach((e=>{t(e)}))}}const f=e=>({type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}),w=e=>p(e,"pin_count");function y(e,t){return{type:"BOARD_ARCHIVE",payload:{boardId:e,username:t}}}function x(e,t){return o=>(o(y(e)),n.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callUpdate())}function P(e){return{type:"BOARD_UNARCHIVE",payload:{boardId:e}}}function A(e,t){return o=>(o(P(e)),n.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callDelete())}const z=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),C=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}});function S(e,t,o){const a={name:e,privacy:i.Z.BoardPrivacy.PUBLIC,username:t,...o?{orbac_subject_id:o}:Object.freeze({})};return e=>n.Z.create("BoardResource",a).callCreate().then((o=>{const i=o.resource_response.data;return e(t&&(0,c.jB)("BoardsResource",(0,r.Z)(t,!1))),i}))}function j(e={},t,o){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:o}}},628358:(e,t,o)=>{o.d(t,{Z:()=>a,f:()=>s});var i=o(6637),r=o(935409);function n(e){return i.Z.create("BoardFollowResource",{board_id:e})}function a(e){return t=>{n(e).callCreate().catch((()=>{t((0,r.md)(e,!1))})),t((0,r.md)(e,!0))}}function s(e){return t=>{n(e).callDelete().catch((()=>{t((0,r.md)(e,!0))})),t((0,r.md)(e,!1))}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/29825-fe53cc8ed15b69d4.mjs.map