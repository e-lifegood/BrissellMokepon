(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[23239],{397066:(e,t,n)=>{n.d(t,{b:()=>d,h:()=>u});var o=n(983722),i=n(768559),r=n(43760),a=n(966113),s=n(619937),l=n(48714),c=n(366284);const d=({href:e,pinId:t,pin:n,location:r,auxData:d},u)=>{if(n&&n.is_promoted){var _,p,m,g;const S=(0,i.Z)({boardUrl:null===(_=n.board)||void 0===_?void 0:_.url,callToCreateSourcePinId:n.call_to_create_source_pin_id,location:r,pinId:n.id,pinnerUserName:null===(p=n.pinner)||void 0===p?void 0:p.username,storyPinDataId:n.story_pin_data_id,trackingParams:n.tracking_params,trackingParamsMap:n.tracking_params_map}),T=(0,l.nS)({url:e,pinId:t,csrId:null,clientTrackingParams:S,auxData:d}),A=(0,o.Z)();if((0,c.G6)(null!==(m=null==A?void 0:A.userAgent.browserName)&&void 0!==m?m:"")){var f,h;const{group:o}=null!==(f=null==A?void 0:A.experimentsClient.checkExperiment("m10n_event_conversion_measurement"))&&void 0!==f?f:{};let i=null!=A&&null!==(h=A.userAgent)&&void 0!==h&&h.browserVersion?A.userAgent.browserVersion:"0.0";if(i=parseFloat(i.split(".")[0]+"."+i.split(".")[1]),void 0!==n.campaign_id&&i>=14.1&&["enabled_safari"].includes(o)){var v;const o=n.attribution_source_id?((e,t,n)=>{const o=document.createElement("a");return o.setAttribute("href",t),o.setAttribute("target","_blank"),o.setAttribute("rel","noopener nofollow noreferrer"),o.style.cursor="pointer",o.style.display="block",o.setAttribute(s.$N.ATTRIBUTION_SOURCE_ID,e),o.setAttribute(s.$N.ATTRIBUTE_DESTINATION,n),o.setAttribute(s.$N.ATTRIBUTE_ON,n),o.click(),e})(n.attribution_source_id,T,e):((e,t,n)=>{const o=document.createElement("a");o.setAttribute("href",t),o.setAttribute("target","_blank"),o.setAttribute("rel","noopener nofollow noreferrer"),o.style.cursor="pointer",o.style.display="block";const i=""+(e%32*8+Math.floor(((new Date).getTime()-16409952e5)/864e5)%8);return o.setAttribute(s.$N.ATTRIBUTION_SOURCE_ID,i),o.setAttribute(s.$N.ATTRIBUTE_DESTINATION,n),o.setAttribute(s.$N.ATTRIBUTE_ON,n),o.click(),i})(null!==(v=n.pin_promotion_id)&&void 0!==v?v:0,T,e);return u({event_type:101,clientTrackingParams:S,object_id_str:t||"",aux_data:{pin_id:t||"",click_measurement_ppid:n.pin_promotion_id||"",click_measurement_campaign_id:n.campaign_id||"",is_pcm:!0,attribution_source_id:o,page_url:e}}),!0}}else if((0,c.i7)(null!==(g=null==A?void 0:A.userAgent.browserName)&&void 0!==g?g:"")){var y,E;const{group:o}=null!==(y=null==A?void 0:A.experimentsClient.checkExperiment("m10n_event_conversion_measurement_chrome"))&&void 0!==y?y:{},i=null!=A&&null!==(E=A.userAgent)&&void 0!==E&&E.browserVersion?parseInt(A.userAgent.browserVersion.split(".")[0],10):0;if(void 0!==n.attribution_source_id&&i>=101&&["enabled"].includes(o)){var w;const o=((e,t,n)=>{const o=new URL(`${a.Z.settings.CANONICAL_MAIN_URL}/attribution_source/`);o.searchParams.set(s.NR.ATTRIBUTION_SOURCE_EVENT_ID,e),o.searchParams.set(s.NR.ATTRIBUTION_DESTINATION,n),o.searchParams.set(s.NR.ATTRIBUTION_EXPIRY,""+s.uV);const i=document.createElement("a");return i.setAttribute("href",t),i.setAttribute("target","_blank"),i.setAttribute("rel","noopener nofollow noreferrer"),i.style.cursor="pointer",i.style.display="block",i.setAttribute(s.NR.ATTRIBUTION_SOURCE,o.toString()),i.click(),e})(null!==(w=n.attribution_source_id)&&void 0!==w?w:"0",T,e);return u({event_type:101,clientTrackingParams:S,object_id_str:t||"",aux_data:{pin_id:t||"",click_measurement_ppid:n.pin_promotion_id||"",click_measurement_campaign_id:n.campaign_id||"",is_arapi:!0,attribution_source_id:o,page_url:e}}),!0}}}return!1},u=({href:e,pinId:t,pin:n,location:o,auxData:a},s)=>{if("undefined"!=typeof window&&window.Windows)(0,r.Z)({url:e,pinId:t,pin:n,location:o,auxData:a});else{var c,u;if(d({href:e,pinId:t,pin:n,location:o,auxData:a},s))return;(0,l.Gj)({url:e,pinId:t,csrId:null,clientTrackingParams:(0,i.Z)({boardUrl:null==n||null===(c=n.board)||void 0===c?void 0:c.url,callToCreateSourcePinId:null==n?void 0:n.call_to_create_source_pin_id,location:o,pinId:null==n?void 0:n.id,pinnerUserName:null==n||null===(u=n.pinner)||void 0===u?void 0:u.username,storyPinDataId:null==n?void 0:n.story_pin_data_id,trackingParams:null==n?void 0:n.tracking_params,trackingParamsMap:null==n?void 0:n.tracking_params_map}),auxData:a})}}},735079:(e,t,n)=>{n.d(t,{Z:()=>f});var o=n(702664),i=n(172071),r=n(826067);const a="http://play.google.com/store/apps/details?id=com.pinterest",s=["access_token","new_password","new_password_confirm","password","next"],l=(e,t)=>t?(0,r.ru)(e,{invite_code:t}):e,c=(e,t,n)=>{if("ios"===t&&"string"==typeof e&&e.startsWith("discover/article/")){const t=e.split("/")[2];e=`discover_article/${t}/?is_deeplink=1`}return"string"==typeof e&&e.startsWith("tv/")&&(e=e.replace(/^tv\//,"live-session/")),"string"==typeof e?l(e,n):"ios"===t||"ipad"===t?l(e.iOS,n):"android"===t?l(e.android,n):null},d=({deeplinkUri:e,fallbackUrl:t,invite_code:n,platform:o,redirectToLite:l,unauthId:d,userAgent:u})=>{if(e){const _=(({deeplinkUri:e,invite_code:t,platform:n,fallbackUrl:o,unauthId:i})=>({deeplink_path:c(e,n,t),current_page_url:(0,r.Gw)("undefined"!=typeof window?window.location.href:"",s),install_id:i,utm_source:140,utm_medium:2152,...o?{af_r:o}:null}))({deeplinkUri:e,fallbackUrl:t,invite_code:n,platform:o,unauthId:d,userAgent:u});if(i.Z.increment("mweb.deeplink",1,{platform:o}),n&&i.Z.increment("mweb.deeplink.invite_code",1),i.Z.increment("mweb.deeplink.unauthId",1,{withUnauthId:Boolean(d)}),l){i.Z.increment("mweb.deeplink.lite_link",1);const e=(({unauthId:e})=>{const t=(0,r.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e});return{referrer:encodeURI(t)}})({unauthId:d});window.location.href=(0,r.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===o){const t=(({deeplinkUri:e,invite_code:t,platform:n,unauthId:o})=>{const i=JSON.stringify({deeplink_path:c(e,n,t),current_page_url:(0,r.Gw)("undefined"!=typeof window?window.location.href:"",s),install_id:o});return{referrer:(0,r.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:i})}})({deeplinkUri:e,invite_code:n,platform:o,unauthId:d});"getInstalledRelatedApps"in navigator?navigator.getInstalledRelatedApps().then((e=>{if(e.length>0){const e=(0,r.ru)(window.location.href,_);window.open(e)}else window.location.href=(0,r.ru)(a,t)})).catch(i.Z.increment("mweb_android.deeplink.playStore.error",1)):window.location.href=(0,r.ru)(a,t)}else{if(i.Z.increment("mweb.deeplink.appsflyer_link",1),"ios"===o&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal"))return void(window.location.href=(0,r.ru)("https://pinterest.com/pinterest-predicts",_));window.location.href=(0,r.ru)("https://pinterest.onelink.me/TVSr/21e04bfd",_)}}};var u=n(619277),_=n(968228),p=n(785893);function m({children:e,invite_code:t}){const{userAgentPlatform:n,unauthId:i,userAgent:r}=(0,o.useSelector)((({session:e})=>e));return e((async(e,o)=>{d({deeplinkUri:e,fallbackUrl:o,invite_code:t,platform:n,redirectToLite:(0,_.Rp)({platform:n,userAgent:r}),unauthId:i,userAgent:r})}))}const g=e=>(0,p.jsx)(u.ty,{children:t=>(0,p.jsx)(m,{...e,invite_code:t})});g.displayName="DeepLinkNavigator";const f=g},30700:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(883119),i=n(785893);function r({children:e,onMouseEnter:t,onMouseLeave:n,onTouch:r,rounding:a,fullWidth:s=!1,pressState:l="none",accessibilityLabel:c,role:d}){const u=(Array.isArray(l)?l:[l]).includes("compress");return(0,i.jsx)(o.iP,{fullWidth:s,onMouseEnter:t&&(({event:e})=>t(e)),onMouseLeave:n&&(({event:e})=>n(e)),onTap:r&&(({event:e})=>r(e)),rounding:a,tapStyle:u?"compress":"none",accessibilityLabel:c,role:d,children:e})}},707853:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(907620);const i=new(n(883119).H3)([o.N])},474635:(e,t,n)=>{n.d(t,{Z:()=>_});var o=n(667294),i=n(735079),r=n(949372),a=n(53987),s=n(407043),l=n(385740),c=n(539497),d=n(276775),u=n(785893);function _({children:e,componentType:t,within:n}){const _=(0,d.useLocation)(),{flushContextEvents:p,logContextEvent:m}=(0,s.v)(),{viewType:g,viewParameter:f}=(0,l.SU)();(0,o.useEffect)((()=>{(0,c.LW)({action:"view",item:"download-button",pageLocation:_,within:n})}),[_,n]);const h=(0,o.useRef)(!1);(0,o.useEffect)((()=>{m({component:t||13106,element:10308,event_type:9976,view_type:g||32,view_parameter:f,aux_data:{app_upsell_type:n,app_upsell_is_dupe:h.current}}),h.current=!0}),[t,m,f,g,n]);const v=(0,r.Z)();return(0,o.useEffect)((()=>{v||(0,c.My)(`mweb.app_upsell.forbidden_upsell.${n}`)}),[v,n]),(0,u.jsx)(i.Z,{children:o=>e({handleOpenApp:e=>{var i;((0,c.LW)({action:"click",item:"download-button",pageLocation:_,within:n}),(0,c.NC)("press_open_app",!0),m({component:t||13106,element:10308,event_type:102,view_type:g||32,view_parameter:f,aux_data:{app_upsell_type:n}}),m({component:t||13106,element:10308,event_type:9977,view_type:g||32,view_parameter:f,aux_data:{app_upsell_type:n}}),p(!0),o)&&(m({component:t||13106,element:10308,event_type:1701,view_type:g||32,view_parameter:f,aux_data:{app_upsell_type:n}}),o(null!==(i=null==e?void 0:e.deepLinkUri)&&void 0!==i?i:(e=>"/"===e.pathname?"/":(0,a.am)(e)?`board/${e.pathname.substr(1)}`:e.pathname.substr(1))(_)))}})})}},949372:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(702664);const i=()=>(0,o.useSelector)((({session:{canUseNativeApp:e}})=>e))},32509:(e,t,n)=>{n.d(t,{Z:()=>s,e:()=>a});var o=n(702664),i=n(883119),r=n(785893);const a=new i.Ry(1);function s({children:e,isImagePinForUnauthOnTablet:t}){const n=(0,o.useSelector)((({session:e})=>e.isAuthenticated));return(0,r.jsxs)(i.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:"pointer",width:t?"40vw":void 0}},zIndex:n?void 0:a,display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!t||void 0,top:!0,children:[(0,r.jsx)(i.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",borderRadius:"6px 6px 0 0",WebkitTransition:"opacity .04s linear",transition:"opacity .04s linear"}},left:!0,opacity:.4,position:"absolute",right:!0,top:!0}),e]})}},907620:(e,t,n)=>{n.d(t,{N:()=>E,Z:()=>w});var o=n(667294),i=n(223815),r=n(529285),a=n(898781),s=n(276775),l=n(539497),c=n(883119),d=n(785893);function u({icon:e}){const{hide:t}=(0,r.Z)(),n=(0,a.ZP)(),o=(0,s.useLocation)();return(0,d.jsx)(i.Z,{children:(0,d.jsx)(c.xu,{"data-test-id":"expandButton",children:(0,d.jsx)(c.hU,{icon:e||"maximize",size:e?"md":"lg",iconColor:"darkGray",bgColor:"white",padding:3,accessibilityLabel:n._('Expand Image', 'mweb.closeup.image.expand.a11y', 'Accessibility label for the expand icon'),onClick:({event:e})=>{e.stopPropagation(),(0,l.My)("mweb_pin_page.pin_image.enlarge_image"),(0,l.NC)("click_expand_image"),(0,l.LW)({action:"click",pageLocation:o,item:"expand-button",within:"pin-image"}),t()}})})})}var _=n(700380),p=n(50286),m=n(792182),g=n(32509),f=n(444445),h=n(773285);const v=.3,y=.75,E=new c.H3([g.e]),w=({children:e,closableDrawer:t})=>{var n;const{hide:i}=(0,r.Z)(),a=(0,o.useRef)(null),s=(0,o.useRef)(null),[l,g]=(0,o.useState)(null),[w,S]=(0,o.useState)(0),[T,A]=(0,o.useState)(!1),I=(null===(n=(0,m.Z)())||void 0===n?void 0:n.height)||0,[b,P]=(0,o.useState)(!1),N=(0,p.ZP)(),{checkExperiment:k}=(0,h.F)(),L=null!=l?l:.75*I,R=()=>{var e;const t=(null===(e=a.current)||void 0===e?void 0:e.offsetTop)||0;return t>0&&I>0?t-I*v+60:0};return(0,o.useEffect)((()=>{const e=()=>{var e;const t=(null===(e=a.current)||void 0===e?void 0:e.offsetTop)||0;window.scrollY+L>t&&i()};e();const t=(0,_.Z)(e,10);return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)}),[i,L]),(0,d.jsxs)(o.Fragment,{children:[(0,d.jsxs)(c.xu,{position:"fixed",bottom:!0,left:!0,right:!0,color:"default",zIndex:E,height:null===l?"25vh":`calc(100vh - ${l}px)`,dangerouslySetInlineStyle:{__style:{...T?{transitionDuration:"500ms",transitionProperty:"maxHeight, borderRadius"}:{},borderRadius:0===l&&T?0:"32px 32px 0 0",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.3)",overscrollBehavior:"none",touchAction:"none"}},"data-test-id":"related-pins-drawer","data-layout-shift-boundary-id":"Drawer",ref:s,onTouchStart:e=>{const{clientY:t}=e.touches[0];S(t),A(!1)},onTouchMove:e=>{e.preventDefault();const{clientY:t}=e.touches[0],n=null!=l?l:.75*window.innerHeight,o=t-w;if(null!==n&&o){const e=I*v,t=I*y,r=Math.floor(Math.min(t,Math.max(e,n+o)));g(r);const a=R();if(I>0&&a>0){const e=a*(i=r/I,1-(Math.max(v,Math.min(y,i))-v)/.45);window.pageYOffset<e&&window.scrollTo({top:e})}r<.525*I&&P(!0)}var i;S(t)},onTouchEnd:()=>{if(b){A(!0);g(I*v);const e=R();e&&window.scrollTo({top:e,behavior:"smooth"}),P(!1)}},children:["desktop"!==N&&(t?(0,d.jsx)(c.xu,{position:"absolute",top:!0,left:!0,margin:1,marginTop:t?0:4,paddingY:1,children:(0,d.jsx)(u,{icon:"cancel"})}):!k("pcons_remove_expand_button").anyEnabled&&(0,d.jsx)(c.xu,{position:"absolute",top:!0,right:!0,children:(0,d.jsx)(c.xu,{position:"absolute",bottom:!0,right:!0,children:(0,d.jsx)(c.xu,{padding:3,children:(0,d.jsx)(u,{})})})})),(0,d.jsx)(c.xu,{paddingX:f.D6,children:e})]}),(0,d.jsx)(c.xu,{ref:a,height:"100vh"})]})}},529285:(e,t,n)=>{n.d(t,{Z:()=>c,t:()=>l});var o=n(667294),i=n(539497),r=n(276775),a=n(785893);const s=(0,o.createContext)({hide:()=>{},isHidden:!0,isScrolledToPins:!1,scrollToPins:()=>{}});function l({children:e,isEligible:t}){const[n,l]=(0,o.useState)(!t),[c,d]=(0,o.useState)(!1),{pathname:u}=(0,r.useLocation)();(0,o.useEffect)((()=>{l(!t)}),[u,t]);const _=(0,o.useCallback)((()=>{(0,i.My)("web_unification.expand_click.hide_drawer"),l(!0)}),[]),p=(0,o.useCallback)((e=>{d(!!e)}),[]),m=(0,o.useMemo)((()=>({isHidden:n,hide:_,isScrolledToPins:c,scrollToPins:p})),[n,_,c,p]);return(0,a.jsx)(s.Provider,{value:m,children:e})}const c=()=>(0,o.useContext)(s)},777918:(e,t,n)=>{n.d(t,{Z:()=>_});var o=n(702664),i=n(941646),r=n(898781),a=n(112690),s=n(385740),l=n(539497),c=n(883119),d=n(276775),u=n(785893);function _({alignIconLeft:e,bgColor:t,color:n,disableRedirect:_=!1,fallbackUrl:p,icon:m="arrow-back",onTouch:g,padding:f,placement:h,shouldUseFallbackUrl:v,size:y="lg",viewParameter:E,viewType:w}){const S=(0,r.ZP)(),T=(0,d.useHistory)(),A=(0,d.useLocation)(),I=(0,o.useSelector)((e=>e.session.isAuthenticated)),b=(0,a.Z)(),{viewType:P,viewParameter:N}=(0,s.SU)(),[k,L]=w?[w,E]:[P,N],R=()=>{(0,l.My)(`mweb_back_button_click.${String(h)}.is_auth_${String(I)}`),(0,l.LW)({action:"click",pageLocation:A,item:"back-button"}),k&&b({view_type:k,view_parameter:L,element:34,event_type:102}),g&&g(),_||((!A.key||A.state&&"redirect"===A.state.referrer||v)&&p?T.push(p):A.pathname.includes("/password/reset/")&&A.search&&A.search.includes("?nativeShouldDismiss=true")?T.push("/login/?dismissWebview=true"):T.goBack())};return(0,u.jsx)(i.Z,{id:"back-button",children:e?(0,u.jsx)(c.xu,{display:"flex",width:48,height:48,alignItems:"center",marginStart:"cancel"===m?-1:-2,children:(0,u.jsx)(c.hU,{accessibilityLabel:S._('Back', 'navigation button', 'navigation button'),bgColor:t,iconColor:n||t&&!["white","lightGray","transparent"].includes(t)?n:"gray",icon:m,onClick:R,padding:"auto"!==f?f:2,size:y})}):(0,u.jsx)(c.hU,{accessibilityLabel:S._('Back', 'navigation button', 'navigation button'),bgColor:t,iconColor:n||t&&!["white","lightGray","transparent"].includes(t)?n:"gray",icon:m,onClick:R,padding:"auto"!==f?f:2,size:y})})}},981292:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(898781),i=n(112690),r=n(539497),a=n(883119),s=n(785893);const l=({marginTop:e=4,marginBottom:t=0})=>{const n=(0,o.ZP)(),l=(0,i.Z)();return(0,s.jsxs)(a.xu,{display:"flex",justifyContent:"center",alignItems:"baseline",marginTop:e,marginBottom:t,children:[(0,s.jsx)(a.xu,{display:"flex",marginEnd:1,justifyContent:"center",children:(0,s.jsx)(a.xv,{align:"center",inline:!0,children:n._('Are you a business?', 'Prompt for business signup', 'Prompt for business signup')})}),(0,s.jsx)(a.xu,{display:"flex",justifyContent:"center","data-test-id":"create-business",children:(0,s.jsx)(a.rU,{inline:!0,target:"blank",href:"/business/create",onClick:()=>{(0,r.NC)("click_business_signup"),l({element:10281,event_type:102,view_type:10,view_parameter:3146})},underline:"hover",children:(0,s.jsx)(a.xv,{align:"center",weight:"bold",children:n._('Get started here!', 'Prompt for signing up', 'Prompt for signing up')})})})]})}},408285:(e,t,n)=>{n.d(t,{$J:()=>I,AP:()=>D,Dm:()=>b,Fv:()=>T,H$:()=>O,In:()=>x,Ng:()=>A,RH:()=>E,Wj:()=>C,_P:()=>P,go:()=>S});var o=n(126098),i=n(6637),r=n(360903),a=n(30287),s=n(53987),l=n(539497),c=n(957161);const d="home",u="closeup",_="news_hub",p="board",m="profile",g="topic",f="today",h="business",v="search";let y;const E="_push",w=e=>{e.onupdatefound=()=>{(0,l.My)("mweb_service_worker.update_found")}},S=()=>Boolean("undefined"!=typeof navigator&&navigator.serviceWorker&&navigator.serviceWorker.controller),T=()=>new Promise(((e,t)=>{const n=navigator.serviceWorker,{pwaType:o,twaType:i}=y.getState().session,r=new URLSearchParams({source_url:window.location.pathname});o&&i&&(0,a.Rx)(i)&&(r.append("pwa_type",o),r.append("twa_type",i)),Boolean("undefined"!=typeof document&&document.referrer&&!document.referrer.startsWith(window.location.origin))&&r.append("referrer",document.referrer),n&&n.register?((0,l.My)("mweb_service_worker.install_attempt"),n.register(`/sw.js?${r.toString()}`).then((t=>{(0,l.My)("mweb_service_worker.install_success"),w(t),e(t)})).catch((e=>{(0,l.tj)("mweb_service_worker.install_fail",{error:e.message}),t(e)}))):e()})),A=()=>new Promise(((e,t)=>{const n=navigator.serviceWorker;n&&n.getRegistration?((0,l.My)("mweb_service_worker.update_attempt"),n.getRegistration().then((n=>{n?n.update().then((()=>{(0,l.My)("mweb_service_worker.update_success"),w(n),e(n)})).catch((e=>{(0,l.tj)("mweb_service_worker.update_fail",{error:e.message}),t(e)})):T().then(e)}))):e()})),I=()=>{const e=y.getState().session.isAuthenticated;(0,l.My)(`mweb.${e?"auth":"unauth"}.register_service_worker`),T()},b=()=>{const e=navigator.serviceWorker;return e&&e.getRegistration?((0,l.My)("mweb_service_worker.unregister_attempt"),(0,r.Qi)(),e.getRegistration().then((e=>{if(e)return e.unregister().then((()=>((0,l.My)("mweb_service_worker.unregister_success"),navigator.serviceWorker&&window.caches?window.caches.keys().then((e=>{const t=e.find((e=>e.startsWith("workbox-precaching")));return t?window.caches.delete(t):null})).then((()=>(0,l.My)("mweb_service_worker.clear_app_shell"))):Promise.resolve()))).catch((e=>{(0,l.tj)("mweb_service_worker.unregister_fail",{error:e.message})}))}))):Promise.resolve()},P=()=>!(!S()||!("SyncManager"in window)),N=e=>(0,s.C$)(e)?d:(0,s.L6)(e)?u:(0,s.l4)(e)?_:(0,s.am)(e)?p:(0,s.cD)(e)?m:(0,s.En)(e)?v:(0,s.$V)(e)?g:(0,s.Zz)(e)?f:(0,s.Ni)(e)?h:"undefined",k=e=>{switch(N(e)){case d:return{viewType:1,viewParameter:92};case u:return{viewType:3,viewParameter:void 0};case _:return{viewType:107,viewParameter:3081};case p:return{viewType:5,viewParameter:void 0};case v:return{viewType:2,viewParameter:43};case g:return{viewType:210,viewParameter:void 0};case m:return{viewType:4,viewParameter:void 0};case h:return{viewType:409,viewParameter:3397};case f:return{viewType:1,viewParameter:3372};default:return{viewType:void 0,viewParameter:void 0}}},L=(e,t)=>(0,l.tj)(e,{browser:y.getState().session.browser,version:Math.floor(parseInt(y.getState().session.browserVersion,10)),...t}),R=(0,o.Z)(),O="default"===R||"granted"===R,C=(e,t,n,o)=>{const r=navigator.serviceWorker,a=Boolean((0,c.qn)(E)),s={experimentName:n||"noExperiment",experimentGroup:o||"noGroup"};return r&&r.ready&&O&&!a?(t({event_type:13,view_type:170,component:13125,aux_data:{experiment_name:n,experiment_group:o}}),L(`mweb.notifications_upsell.${N(e)}.viewed`,s),r.ready.then((e=>e.pushManager.subscribe({userVisibleOnly:!0}))).then((n=>((e,t,n,o)=>{i.Z.create("WebPushDeviceResource",{}).callGet().then((t=>{const n=(({subscriptionId:e,endpoint:t})=>{return e||(n=t.split("/"))[n.length-1];var n})(e);if(t.resource_response.data[n])return;const o={registration_id:n,subscription_endpoint:e.endpoint};i.Z.create("WebPushDeviceResource",o).callCreate()})),(0,c.Nh)(E,"subscribed"),L(`mweb.notifications_upsell.${N(t)}.subscribed`,n);const r=k(t);o({component:13125,element:10357,event_type:102,view_type:r.viewType,view_parameter:r.viewParameter,aux_data:{experiment_name:n.experimentName,experiment_group:n.experimentGroup}})})(n,e,s,t)),(()=>((e,t,n)=>{(0,c.Nh)(E,"denied"),L(`mweb.notifications_upsell.${N(e)}.denied`,t);const o=k(e);n({component:13125,element:10358,event_type:102,view_type:o.viewType,view_parameter:o.viewParameter,aux_data:{experiment_name:t.experimentName,experiment_group:t.experimentGroup}})})(e,s,t)))):Promise.reject()},x=e=>{y=e},D=({isAuthenticated:e,isAppShell:t})=>{let n=!1;const o=o=>{if(n)return;n=!0;const i=`${t?"warm":"cold"}.${e?"auth":"unauth"}`;(0,l.My)(`mweb_service_worker.appshell_status.${i}.${o}`)},i=navigator.serviceWorker,r=null==i?void 0:i.controller;i&&r?setTimeout((()=>o("timeout")),1e3):o("no_worker")}},464453:(e,t,n)=>{n.d(t,{FC:()=>s,L_:()=>l,nv:()=>a,yi:()=>r});var o=n(957161);const i="lastSavedLandingPage",r="_is_landing_hf_after_login";function a(){const e=(0,o.qn)(r);return(0,o.L_)(r),!!e}function s(e,t){const n=(0,o.qn)(i);if(e.startsWith("enabled_save"))if(n)switch(n){case"slp":return void t.replace("/search/");case"homefeed":return}else(0,o.Nh)(i,"none");else{if("dismissed"===n)return;(0,o.Nh)(i,"ableToDismiss")}e.includes("slp")&&t.replace("/search/")}function l({logContextEvent:e,page:t,viewType:n}){const r=(0,o.qn)(i);r&&r!==t&&"dismissed"!==r&&("ableToDismiss"!==r?(e({view_type:n,event_type:10124,aux_data:{page:t}}),(0,o.Nh)(i,t)):"homefeed"===t&&((0,o.Nh)(i,"dismissed"),e({view_type:n,event_type:10123})))}},968228:(e,t,n)=>{n.d(t,{G3:()=>d,Rp:()=>c,kp:()=>l});var o=n(622096),i=n(202139),r=n(957161);const a=14*i.F4;function s(e,t,n){return e-t>n}const l=e=>{const t=function(){const e=Date.now(),t=Number((0,r.qn)("appUpsell"));return{currentTime:e,firstUpsellTime:Number((0,r.qn)("firstUpsellTime")),lastUpsellTime:t,showedAppUpsellCurrentSession:Boolean((0,o.qn)("showedAppUpsellCurrentSession"))}}();return e?function(e,t,n){const{currentTime:o,firstUpsellTime:i,lastUpsellTime:l,showedAppUpsellCurrentSession:c}=e;return n=n||a,!i||function(e,t,n){return e<t+n}(o,i,t)?!c:!!s(o,l,n)&&((0,r.L_)("firstUpsellTime"),!0)}(t,i.F4):function(e,t){const{currentTime:n,lastUpsellTime:o}=e;return t=t||a,!o||s(n,o,t)}(t)},c=({platform:e,userAgent:t})=>{try{return"android"===e&&parseFloat((e=>{const t=(e=e.toLowerCase()).match(/android\s([0-9\.]*)/i);return t?t[1]:void 0})(t))<7}catch(n){return!1}},d=e=>(e.startsWith("zh")||e.startsWith("ar")?e:e.slice(0,2)).toUpperCase()},693099:(e,t,n)=>{n.d(t,{AA:()=>r,E9:()=>g,EU:()=>v,IO:()=>h,Jd:()=>p,KH:()=>d,QR:()=>c,Uw:()=>i,ZR:()=>y,dy:()=>l,eA:()=>_,fo:()=>m,k7:()=>a,rT:()=>f,tz:()=>u,u9:()=>E,zR:()=>s,zu:()=>o});const o="OPEN_UNAUTH",i="openUnauthType",r="_isAfterLogin",a="_lastVisitedPages",s="_lastVisitedPagesBeforeLogin",l="_lastVisitedBoardPages",c="_lastVisitedPagesBeforeNavPage",d="_lastVisitedSessionPages",u="_unauthVisitedPages",_=20,p="_unauthInviteCode",m="_unauthReferrerString",g="unauthTopicsFollowed",f=["US","CA","NZ","AU"],h=new Set(["GB","IE"]),v=new Set(["AT","BE","CH","DE","DK","ES","FR","IT","NL","NO","PT","SE"]),y=new Set(["BR","MX","AR","CL","CO","PE"]),E="ad_img"},371415:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(7893),i=n(539497);async function r(e){const t=await(0,o.Kw)(),n=t?{user_ids:Object.keys(t)}:{};(0,i.tj)(`mweb_multiple_accounts_${e}`,n)}},408330:(e,t,n)=>{n.d(t,{eN:()=>l,_:()=>d,kB:()=>c});var o=n(172071),i=n(966113),r=n(276775);const a=["/resource/:name/:method/","/resource/commerce/:name/:method/","/:username/pins/follow/","/email/remove/","/about/trademark/form/:claim_type/","/about/copyright/dmca-pin/web-result/:id/","/about/copyright/dmca-pin/pin/:id/","/about/copyright/dmca-pin/","/about/koplg/","/about/:lawName/","/about/radtc/","/suspension-appeal/netzdg/","/website/confirm/","/oauth/","/app-factory-oauth/","/settings/extension/uninstall/","/offsite/","/amp/(.*)"];var s=n(826067);const l=e=>e&&(0,s.Qg)(e)&&i.Z.settings.PASSWORD_RESET_URL!==e?(0,s.Qc)(e).relative:"/",c=e=>{const t=(0,s.Jx)(e);return(e=>{const t=new URL(e,window.location.origin);return a.some((e=>!!(0,r.matchPath)(t.pathname,{path:e,exact:!0})))})(t)||(0,s.OM)(t)===s.vx.TRUSTED_DIFFERENT_ORIGIN},d=({forceFullPageNavigation:e,history:t,next:n,noLocationReplace:i})=>{const r=(0,s.Jx)(n);c(n)||!t||e?(e&&o.Z.increment("webapp.duplo.navigateOnLogin.forceFullPageNavigation",1),window.location.assign(r)):i?t.push(l(r)):t.replace(l(r))}},81759:(e,t,n)=>{n.d(t,{CC:()=>E,Cb:()=>h,Ff:()=>k,H$:()=>S,Mt:()=>y,Yi:()=>I,Ys:()=>f,Yy:()=>P,Z4:()=>g,ZN:()=>_,dc:()=>A,dp:()=>w,i$:()=>m,kw:()=>v,p9:()=>T,t_:()=>p});var o=n(231486),i=n(6637),r=n(826067),a=n(400660),s=n(226198),l=n(539497),c=n(622096),d=n(957161),u=n(693099);const _=["utm_pai","utm_source","invite_code"],p=()=>(0,d.qn)(u.tz,""),m=()=>{const e=p();let t;try{t=JSON.parse(e)}catch(n){t=[]}return t},g=(e,t)=>{const n=m(),o=n.length,i=o?n[0].path:"";if(o<u.eA&&(!o||e!==i)){const o={path:e,pageType:t,ts:Date.now()};(0,d.Nh)(u.tz,JSON.stringify([o].concat(n)))}},f=e=>{(0,d.Nh)(u.Jd,e)},h=e=>{(0,d.Nh)(u.fo,e)},v=()=>{p()&&(0,d.L_)(u.tz),(0,d.qn)(u.Jd,"")&&(0,d.L_)(u.Jd),(0,d.qn)(u.fo,"")&&(0,d.L_)(u.fo)},y=(e,t,n,o,i,r,a=u.k7)=>{const s=(0,d.qn)(a)?JSON.parse((0,d.qn)(a)):[];if(!s[0]||s[0].path!==e){const l=[{path:e,ts:Date.now(),pin_id:n||0,first_pin_image_signature:t||"",first_pin_id:n||"",image_info:o||"",pin_description:i||"",is_shared:!!r,pin_invite_code:r}];(0,d.Nh)(a,JSON.stringify(l.concat(s)))}},E=({path:e,image:t,dominant_color:n,pin_description:o,pin_id:i})=>{const r=(()=>{const e=(0,c.qn)(u.KH);if(!e)return[];let t;try{t=JSON.parse(e)}catch(n){t=[]}return t})();if(!r[0]||r[0].path!==e){const a=[{path:e,image:t,pin_description:o||"",dominant_color:n||"",pin_id:i||""}];(0,c.Nh)(u.KH,JSON.stringify(a.concat(r)))}};function w(e,t,n,o,i,r){y(e,t,n,o,i,r,u.zR)}const S=(e,t)=>{var n,o;y(e,t.image_signature,t.id,null===(n=t.images)||void 0===n?void 0:n["236x"],null!==(o=t.description)&&void 0!==o?o:"","",u.dy)};function T(e,t,n,o,i){y(e,t,n,o,i,"",u.QR)}function A(){return m().filter((e=>"closeup"===e.pageType)).length}function I(){const e=i.Z.create("UnauthUserDataResource");return new Promise(((t,n)=>{e.callGet().then((e=>{const i=e.resource_response.data,r=!!o.U2(s.x3);return i?((0,a.Wn)(i.medium_image_url)&&(i.medium_image_url=""),(0,l.My)("mweb.unauth.personalized_login.fetch_user_info.info.user_info_found.logged_out_cookie_"+(r?"true":"false")),t(i)):((0,l.My)("mweb.unauth.personalized_login.fetch_user_info.info.no_user_info.logged_out_cookie_"+(r?"true":"false")),n({}))})).catch((e=>{if(e&&e.message){const t=e.message.replace(/\s/g,"_").toLowerCase();(0,l.My)(`mweb.unauth.personalized_login.fetch_user_info.error.${t}`)}else(0,l.My)("mweb.unauth.personalized_login.fetch_user_info.error.unknown");return n(e)}))}))}function b({i18n:e,location:t}){const n=t.pathname.startsWith("/signup"),o=t.pathname.startsWith("/login");if(!n&&!o)return{showPLPBanner:!1,pinForBanner:null};let i;try{i=JSON.parse((0,c.qn)(u.KH))}catch(r){i=[]}if(i&&i.length>0){const t=i[0];if(t)return t.bannerCopy=e._('More ideas like this await', 'page banner with pin image that was signed up from', 'page banner with pin image that was signed up from'),{showPLPBanner:Boolean(t.image),pinForBanner:t}}return{showPLPBanner:!1,pinForBanner:null}}const P=e=>e.search&&e.search.startsWith("?next=")?e.search.split("?next=")[1]:null;function N({i18n:e,location:t}){var n;const o=(null===(n=t.state)||void 0===n?void 0:n.next)||P(t);if(o){const t=o.indexOf("?"),n=(0,r.mB)(o.substring(t));if(n.url&&n.media)return{showPLPBanner:!0,pinForBanner:{image:{url:(0,r.Jx)(n.media),height:1,width:1},pinDescription:n.description,bannerCopy:e._('Save this idea and discover more inspiration like it.', 'page banner with pin image that was signed up from', 'page banner with pin image that was signed up from')}}}return{showPLPBanner:!1,pinForBanner:null}}function k({i18n:e,location:t}){return N({i18n:e,location:t}).showPLPBanner?N({i18n:e,location:t}):b({i18n:e,location:t}).showPLPBanner?b({i18n:e,location:t}):{showPLPBanner:!1,pinForBanner:null}}},630135:(e,t,n)=>{n.d(t,{E:()=>a,S:()=>s});var o=n(667294),i=n(957161);const r="_loggingInNotHome",a=e=>{e?(0,i.Nh)(r,1):(0,i.L_)(r)},s=()=>{const[e,t]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{t(!0)}),[]),e&&(0,i.qn)(r)}},400660:(e,t,n)=>{function o(e){return Boolean(null==e?void 0:e.is_matured_new_user)}n.d(t,{IR:()=>a,V0:()=>o,Wn:()=>r,xT:()=>i});const i=e=>!!e&&2===e.login_state,r=e=>!(!e||!e.match(/\/static\/images\/user\/default_\d+\.png$/));function a(e){return!e||void 0===e.third_party_marketing_tracking_enabled||null===e.third_party_marketing_tracking_enabled||e.third_party_marketing_tracking_enabled}},983360:(e,t,n)=>{n.d(t,{$o:()=>s,$t:()=>R,AO:()=>oe,AZ:()=>v,Ae:()=>P,BM:()=>m,C2:()=>U,CB:()=>de,CD:()=>y,DC:()=>A,Df:()=>w,F5:()=>r,Fi:()=>f,Fl:()=>p,GG:()=>Q,HQ:()=>V,IY:()=>re,JG:()=>q,K0:()=>a,Kp:()=>ie,L6:()=>i,LB:()=>O,Ly:()=>H,MA:()=>G,MU:()=>o,NE:()=>_e,OO:()=>J,Pz:()=>K,Qj:()=>ee,R8:()=>M,Th:()=>Y,U1:()=>B,UD:()=>he,Uf:()=>D,Wn:()=>me,XA:()=>ae,YZ:()=>d,Yn:()=>E,ZX:()=>L,a9:()=>T,aj:()=>j,b6:()=>u,c7:()=>S,cZ:()=>Z,cs:()=>C,dF:()=>k,dO:()=>le,eI:()=>F,fz:()=>c,hC:()=>ye,hl:()=>I,il:()=>ve,j_:()=>ge,l_:()=>l,le:()=>$,lj:()=>fe,m2:()=>pe,mU:()=>ce,nk:()=>g,o3:()=>ne,pV:()=>z,pd:()=>ue,q:()=>X,tg:()=>x,u2:()=>_,vH:()=>W,vW:()=>se,wc:()=>h,xV:()=>b,xl:()=>N,zB:()=>te});const o="APPEND_FEED_ITEMS",i="DISMISS_UNAUTH_APP_UPSELL",r="SETTINGS_CHANGE",a="TOPIC_FOLLOW",s="PIN_ADD",l="PIN_DELETE",c="PIN_EDIT",d="PIN_UNDO_SAVE",u="PIN_IMPRESSIONS",_="PINS_MOVE",p="PINS_MOVE_ALL",m="SET_SESSION_DATA",g="BOARD_SECTION_EDIT",f="BOARD_COLLABORATOR_DELETE",h="BOARD_COLLABORATOR_ADD",v="BOARD_INVITE_APPROVED_BY_VIEWER",y="BOARD_INVITE_DENIED_BY_VIEWER",E="BOARD_SECTION_DELETE",w="AUTHENTICATE_USER",S="REGISTER_USER",T="SET_LOGIN_SIGNUP_FROM",A="UPDATE_CURRENT_SEARCH",I="UPDATE_RECENT_SEARCHES",b="CLEAR_RECENT_SEARCH",P="CLEAR_RECENT_PERSONAL_SEARCH",N="CLEAR_RECENT_SEARCHES",k="CLEAR_RECENT_PERSONAL_SEARCHES",L="COMPLETE_STORY",R="SET_NUM_SIGNUP_STEPS",O="SET_OWN_PROFILE_PINS_REFRESH",C="SHOW_REPIN_ANIMATION",x="HIDE_REPIN_ANIMATION",D="MESSAGE_SEND_PENDING",U="MESSAGE_SEND_PENDING_SUCCESS",M="MESSAGE_SEND_PENDING_FAILURE",Z="ONE_TAP_SAVE",B="ONE_TAP_UNSAVE",F="CLEAR_MESSAGES_BADGE",G="CLEAR_MESSAGE_BADGE",H="RELOAD_VISUAL_SEARCH_ANNOTATIONS",j="SHOW_NUX_HOMEFEED_LOADER",V="SHOW_BIZ_NUX_HOMEFEED_LOADER",W="SET_VIEWED_IMAGE",$="SET_VIEWED_SHARED_PINS",z="SHOW_NAV_FOOTER",q="HIDE_NAV_FOOTER",Y="SET_MESSENGER_CAMPAIGN_DATA",K="LOGGED_OUT_USER_INFO_FOUND",J="LOGGED_OUT_USER_INFO_NOT_FOUND",X="PIN_BUILDER_LOADED_IMAGES",Q="UPDATE_PIN_BUILDER_INPUT",ee="SET_ACTIVE_HOMEFEED_TAB",te="SET_MARKETING_PARAMS",ne="SET_SOCIAL_SEASONAL_BOARD",oe="SET_SHARE_ON_BOARD_PAGE",ie="UPDATE_PIN_REACTION_COUNT",re="SET_FLASHLIGHT_CROP_SOURCE",ae="ALLOW_ALL_COOKIES",se="SCROLL_TO_CLOSEUP_PIN",le="STOP_SCROLL_TO_CLOSEUP_PIN",ce="UPDATE_CONTACT_REQUEST_STATUS",de="REMOVE_CONTACT_REQUESTS",ue="SHOW_TOAST_CONTACT_REQUEST_UNDO",_e="SHOW_BLOCK_UNBLOCK_MODAL_CONTACT_REQUEST",pe="CONVERSATION_DELETE",me="DISMISS_UNAUTH_SAVE",ge="SET_UNAUTH_SAVE_PIN_ID",fe="COMPLETE_UNAUTH_SAVE_ACTION",he="UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",ve="SET_LANDING_PAGE_TYPE",ye="REPLACE_STATE"},967053:(e,t,n)=>{n.d(t,{Pt:()=>R,f0:()=>L,lq:()=>O});var o=n(667294),i=n(702664),r=n(231486),a=n(441143),s=n.n(a),l=n(371415),c=n(383690),d=n(983360),u=n(330102),_=n(628551),p=n(290148),m=n(81759),g=n(464453),f=n(408330),h=n(957191),v=n(630135),y=n(643010),E=n(539278),w=n(773285),S=n(6637),T=n(693099),A=n(884732),I=n(539497),b=n(226198),P=n(408285),N=n(957161);const k=e=>({type:d.Df,payload:{user:e}}),L=()=>{const e=(0,w.F)(),t=(0,i.useDispatch)(),n=(0,i.useSelector)((({session:e})=>e)),a=(0,c.Z)();return(0,o.useCallback)((async(o,i,c="/",d={isAutologin:!1,isSwitchAccount:!1,noLocationReplace:!1,recaptchaV3Token:"default",noImmediateRedirect:!1,useAlternativeResourceCall:!1,trigger:"other",accountUnlinked:!1})=>{a();const{country:y,country_from_hostname:w,country_from_ip:A,region_from_ip:L,isTablet:R,isMobile:O}=n,C=!R&&!O,{isAutologin:x,isSwitchAccount:D,noLocationReplace:U,recaptchaV3Token:M,noImmediateRedirect:Z,useAlternativeResourceCall:B,trigger:F,accountUnlinked:G}=d;let H={get_user:!0,...o,app_type_from_client:6,recaptchaV3Token:M};const j=(0,m.t_)();j&&(H={...H,visited_pages_before_login:j});let V=S.Z.create("UserSessionResource",H).callCreate();if(B&&o.username_or_email&&o.password){const e=new FormData;e.append("username",o.username_or_email),e.append("password",o.password);const t={method:"POST",body:e,credentials:"include",headers:{Accept:"application/json, text/javascript, */*","X-CSRFToken":(0,_.getCsrfToken)()||"","X-Requested-With":"XMLHttpRequest"}};V=fetch("/resource/UserSessionResource/create/",t).then((e=>{if(200!==e.status)throw new Error(e.statusText);return e.json()})).catch((e=>Promise.reject(e)))}try{x&&(0,I.dy)({event:"login_api_call_start",provider:o.google_open_id_token?"google":"facebook"}),(0,I.De)({action:x?"autologin":"login",event:"attempt",type:(0,p.lp)(o),trigger:F});const n=await V;x&&(0,I.dy)({event:"login_api_call_success",provider:o.google_open_id_token?"google":"facebook"}),s()(n.resource_response,"Login response is invalid"),t(k(n.resource_response.data.user));const a=n.client_context;a&&(a.placed_experiences&&t((0,h.OD)(a.placed_experiences)),e.active=a.active_experiments,e.triggerable=a.triggerable_experiments),(0,l.Z)("authentication.login_success"),(0,I.De)({action:x?"autologin":"login",event:"success",type:(0,p.lp)(o),trigger:F}),r.zN(b.e7.name),r.zN(b.x3.name),(0,N.Nh)(T.AA,1),"/"!==c?(0,v.E)(!0):(0,N.Nh)(g.yi,1),D?(0,P.Dm)().then((()=>{var e,t;const o=`/${(null===(e=n.resource_response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.user.username)||""}`+(G?`?message=${E.aU}`:"");window.location.href=o})):x&&!C||Z||(0,f._)({forceFullPageNavigation:C,history:i,next:c,noLocationReplace:U}),(0,u.ko)({country:y,countryFromHostName:w,countryFromIp:A,regionFromIp:L,deviceType:"Mobile",eventCategory:"Logins"})}catch(W){if(x&&(0,I.dy)({event:"login_api_call_failure",provider:o.google_open_id_token?"google":"facebook"}),1201!==W.api_error_code||x||C)throw(0,I.De)({action:x?"autologin":"login",event:"fail",type:(0,p.lp)(o),trigger:F}),D&&(0,l.Z)("authentication.login_error"),W;if(i){const e={creds:o,next:c,phoneNumber:W.data.phone_number_end};i.push({pathname:"/login/mfa/",state:e})}}}),[t,n,a,e])},R=(e={logoutOnAbort:!1})=>async(t,n)=>{const{session:o}=n(),{redirectUrl:i,localStorageItems:a,logoutOnAbort:s,reason:c="user_initiated",source:d}=e,u=!o.isTablet&&!o.isMobile;(0,I.tj)("logout.attempt",{tags:{app:"web_mobile",reason:c,source:d}});try{await S.Z.create("UserSessionResource",{disable_auth_failure_redirect:!0}).callDelete()}catch(_){if(!s||"abort"!==(null==_?void 0:_.type))throw(0,I.tj)("logout.error",{tags:{app:"web_mobile",reason:c,source:d}}),_;(0,l.Z)("logout.logout_ignored")}(0,l.Z)("logout.logout_success"),(0,I.tj)("logout",{tags:{app:"web_mobile",reason:c,source:d}}),r.t8(b.e7,"True",(0,r.kZ)(b.e7)),(0,v.E)(!1),(0,N.L_)(y.Uf),(0,N.L_)(T.E9),(0,N.L_)(P.RH),(0,N.L_)(void 0),(0,N.L_)("_epik_localstore"),a&&((0,A.r8)(a.multipleAccountMap),(0,A.M3)(a.multipleAccountGroupId)),await(0,P.Dm)(),i?window.location.href=i:u&&(window.location.href="/")},O=()=>{const e=(0,w.F)(),t=(0,i.useDispatch)(),n=(0,c.Z)();return({client_context:o,resource_response:i})=>{const r=null==i?void 0:i.data;r&&(n(),t(k(r.user))),o&&(t((0,h.OD)(o.placed_experiences)),e.active=o.active_experiments,e.triggerable=o.triggerable_experiments)}}},185894:(e,t,n)=>{n.d(t,{Cp:()=>_,FK:()=>u,H5:()=>N,MI:()=>w,Mj:()=>b,O0:()=>y,QZ:()=>d,W:()=>A,WF:()=>f,Wz:()=>k,YV:()=>g,a5:()=>h,dz:()=>T,e0:()=>v,e2:()=>c,gH:()=>E,iW:()=>I,n1:()=>l,rm:()=>m,wb:()=>P,xu:()=>S});var o=n(172071),i=n(360903),r=n(983360),a=n(53987),s=n(408285);const l=()=>({type:r.Wn}),c=()=>({type:r.lj}),d=e=>({type:r.j_,payload:{unauthSavePinId:e}}),u=()=>({type:r.JG}),_=()=>({type:r.pV}),p=e=>({type:r.BM,payload:e}),m=e=>({type:r.a9,payload:{from:e}}),g=()=>e=>{e(p({preparingNewVersion:!0})),(0,s.Ng)().catch((()=>(o.Z.increment("mweb_service_worker.prepareNewVersion.error",1),(0,s.Dm)()))).finally((()=>{o.Z.increment("mweb.new_version.refresh",1),e(p({newVersionAvailable:!0,preparingNewVersion:!1}))})),(0,i.Qi)()},f=()=>({type:r.cs}),h=()=>({type:r.tg}),v=e=>({type:r.$t,payload:{steps:e}}),y=()=>({type:r.LB}),E=e=>({type:r.aj,payload:e}),w=e=>({type:r.HQ,payload:e}),S=e=>({type:r.vH,payload:{viewedImageSignature:e}}),T=e=>({type:r.le,payload:{pins:e}}),A=()=>({type:r.L6}),I=e=>e?{type:r.Pz,payload:e}:{type:r.OO},b=(e,t,n)=>o=>o(((e,t,n)=>({type:r.AO,payload:{isShareMenuOpen:e,objectType:t,objectId:n}}))(e,t,n)),P=()=>({type:r.dO}),N=e=>({type:r.UD,payload:e}),k=(e,t)=>{let n;return n=e?(0,a.bo)(e)?"today":(0,a.dr)(e)?"ideas":t&&(0,a.dZ)(e,t)?"own_section":t&&(0,a.J)(e,t)?"own_board":(0,a.OJ)(e)?"section":(0,a.am)(e)?"board":(0,a.L6)(e)?"closeup":(0,a.C$)(e)?"home":(0,a.cD)(e)?"profile":(0,a.En)(e)?"search":(0,a.$V)(e)?"topic":"":"",{type:r.il,payload:n}}},360903:(e,t,n)=>{n.d(t,{Qi:()=>c,RK:()=>l,$_:()=>s});var o=n(766935);var i=n(957161);const r="REDUX_STATE",a=()=>!!navigator.serviceWorker,s=()=>a()&&JSON.parse((0,i.qn)(r))||{},l=e=>(0,o.Z)((t=>{const n={};n[e]=t,a()&&(e=>{if(window.requestIdleCallback)return window.requestIdleCallback(e);{const t=Date.now();setTimeout((()=>{e({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-t))})}),1)}})((()=>(e=>{a()&&(0,i.Nh)(r,JSON.stringify({...s(),...e}))})(n)))}),1e3),c=()=>{(0,i.L_)(r)}},157796:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(667294),i=n(883119),r=n(785893);function a({color:e="red",duration:t,finalProgress:n,shape:a="pill"}){const[s,l]=(0,o.useState)(!1);(0,o.useEffect)((()=>{const e=setTimeout((()=>{l(!0)}),0);return()=>{clearTimeout(e)}}),[]);const c="pill"===a;return(0,r.jsx)(i.xu,{color:e,height:c?8:6,rounding:c?"pill":2,width:`${n}%`,dangerouslySetInlineStyle:{__style:{transform:c?`translateX(${s?"-5px":"-100%"})`:`scaleX(${s?1:0})`,transformOrigin:"left",transitionDuration:`${t}ms`,transitionTimingFunction:"ease-in"}}})}},391254:(e,t,n)=>{n.d(t,{Z:()=>r});n(441143);var o=n(785893);class i{static factory(e){return e instanceof i?e:new i(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function r(e){const{css:t,unsafeCSS:n,...r}=e,a=String(t||"")||n||"";return!!a?(0,o.jsx)("style",{...r,dangerouslySetInnerHTML:{__html:String(i.factory(a))}}):null}},941646:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(883119),i=n(785893);function r(e){const{children:t,display:n,id:r}=e;return(0,i.jsx)(o.xu,{"data-test-id":r,display:n,children:t})}},743413:(e,t,n)=>{n.d(t,{BG:()=>L,Bf:()=>T,J3:()=>w,Nv:()=>g,Ph:()=>p,Un:()=>m,Y7:()=>E,ay:()=>f,bJ:()=>h,gC:()=>v,lv:()=>P,me:()=>y,pK:()=>S});var o=n(172071),i=n(966113),r=n(330102),a=n(957161);const{ADMO_TV_WEB_PIXEL_URL:s,ADMO_TV_WEB_REZ_LOGIN_URL:l,ADMO_TV_LOGIN_EVENT_PIXEL_URL:c,ADMO_TV_REGISTRATION_EVENT_PIXEL_URL:d,ADMO_TV_DEFAULT_LOGGED_IN_USERS_PIXEL_URL:u,ADMO_TV_BILLING_ACCOUNT_CONVERSION_EVENT_PIXEL_URL:_}=i.Z.settings,p="admo-tv-d-ses",m="admo-tv-m-ses",g="admo-tv-d-rez-login",f="admo-tv-m-rez-login",h="admo-tv-d-login",v="admo-tv-m-login",y="admo-tv-def-login",E="admo-tv-d-reg",w="admo-tv-m-reg",S="admo-tv-d-billing",T="admo-tv-m-billing",A={"admo-tv-d-ses":s,"admo-tv-m-ses":s,"admo-tv-d-rez-login":l,"admo-tv-m-rez-login":l,"admo-tv-d-login":c,"admo-tv-m-login":c,"admo-tv-d-reg":d,"admo-tv-m-reg":d,"admo-tv-d-billing":_,"admo-tv-m-billing":_,"admo-tv-def-login":u};function I(e,t){o.Z.increment("admo_tracking_pixel",1,{event_category:e,event_name:"All"}),"All"!==t&&o.Z.increment("admo_tracking_pixel",1,{event_category:e,event_name:t})}function b(){for(const t of Object.keys(A)){let n=(0,a.qn)(t);if(n){const o=(0,r.zj)({src:A[t],id:t,height:1,width:1,sandbox:"allow-scripts",style:"display:none;"});if(!document.getElementById(t)){var e;null===(e=document.body)||void 0===e||e.appendChild(o),n=n.split("#");const[i,r]=n;I(i,r),(0,a.L_)(t)}}}}function P(e,t){function n(e,t){const n=(0,r.zj)({src:A[e],id:e,height:1,width:1,sandbox:"allow-scripts",style:"display:none;"});var o;document.getElementById(e)||(null===(o=document.body)||void 0===o||o.appendChild(n),t(),b())}document.getElementById(e)?b():("complete"===document.readyState&&n(e,t),window.addEventListener("load",function e(t,o){return i=>{n(t,o),window.removeEventListener(i,e)}}(e,t)))}function N(e,t,n){A[e]&&(0,a.Nh)(e,`${t}#${n}`)}function k(e,t,n){return o=>{N(e,t,n),window.removeEventListener(o,k)}}function L(e,t,n){"complete"===document.readyState?N(e,t,n):window.addEventListener("load",k(e,t,n))}},619937:(e,t,n)=>{n.d(t,{$N:()=>S,GY:()=>v,MZ:()=>g,NR:()=>E,Vn:()=>y,fm:()=>o,kM:()=>r,q6:()=>i,qp:()=>h,uV:()=>w,vJ:()=>f});const o={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",RESOURCES:"RESOURCES"},i={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},r={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",DOCUMENTS:"DOCUMENTS"},a="Shopify",s="WordPress",l="WooCommerce",c="Weebly",d="Tealium",u="Magento",_="Squarespace",p="Ecwid",m="Bigcommerce",g={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce"},f={["Google Tag Manager"]:g.GOOGLE_TAG_MANAGER,[a]:g.SHOPIFY,[l]:g.WOO_COMMERCE,[s]:g.WORDPRESS,[_]:g.SQUARESPACE,[c]:g.WEEBLY,[d]:g.TEALIUM,[u]:g.MAGENTO,[p]:g.ECWID,[m]:g.BIG_COMMERCE},h={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_EVENTS:"PINTEREST_TAG_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_DEDUPLICATION:"CONVERSIONS_API_DEDUPLICATION",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",PINTEREST_EVENT_HISTORY:"PINTEREST_EVENT_HISTORY"},v={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},y={UNREAD:"UNREAD",READ:"READ",ACCEPTED:"ACCEPTED",REJECTED:"REJECTED",DISMISSED:"DISMISSED",INVALID:"INVALID",MUTED:"MUTED",SNOOZED:"SNOOZED",PMP_REPORTED:"PMP_REPORTED",EMAILED:"EMAILED",BULK_DOWNLOADED:"BULK_DOWNLOADED",FILTERED:"FILTERED",PUSHED:"PUSHED"},E={ATTRIBUTION_DESTINATION:"destination",ATTRIBUTION_EXPIRY:"expiry",ATTRIBUTION_SOURCE:"attributionsrc",ATTRIBUTION_SOURCE_EVENT_ID:"source_event_id"},w=604800,S={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"}},100183:(e,t,n)=>{n.d(t,{CC:()=>o,Ll:()=>r,XF:()=>i});const o=(e,t)=>((e,t,n)=>({x:Math.floor(e*Math.cos(n)),y:Math.floor(t*Math.sin(n))}))(t/2,e/2,2*Math.random()*Math.PI),i=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,r=e=>["@-webkit-keyframes","@keyframes"].map((t=>e.map((e=>t+" "+e)).join("\n"))).join("\n")},176532:(e,t,n)=>{function o({async:e,data:t,headers:n,timeout:o,type:i,updateProgress:r,url:a}){let s=!1;return{promise:new Promise(((r,l)=>{const c=o?setTimeout((()=>{s="timeout",l({type:"timeout"})}),o):void 0;fetch(a,{method:i,credentials:"include",mode:"same-origin",keepalive:!e,headers:n,...t?{body:t}:{}}).then((e=>{c&&clearTimeout(c),s?"timeout"!==s&&l({type:"abort"}):r({status:e.status,statusText:e.statusText,ok:e.status>=200&&e.status<300||304===e.status,headers:{get:t=>e.headers.get(t),_logString:()=>{const t=[];for(const[n,o]of e.headers.entries())t.push(`${n}: ${o}\r\n`);return t.join("")}},json:()=>e.json().then((e=>e instanceof Object?e:Promise.reject(new Error("JSON.parse did not return an object"))))})})).catch((()=>Promise.reject({type:"timeout"})))})),abort:()=>{s="manual"}}}n.d(t,{Z:()=>_});var i=n(635240);const r=(...e)=>{};function a({async:e,data:t,headers:n,timeout:o,type:i,updateProgress:a,url:s}){const l=new XMLHttpRequest;return{promise:new Promise(((c,d)=>{const u=o?setTimeout((()=>{l.onreadystatechange=r,l.abort(),d({type:"timeout"})}),o):void 0;l.onreadystatechange=()=>{if(4===l.readyState){l.onreadystatechange=r,clearTimeout(u);const e=l.status,t=l.statusText,n=l.responseText;if(!e)return void d({type:"abort"});c({status:e,statusText:t,ok:e>=200&&e<300||304===e,headers:{get:e=>l.getResponseHeader(e),_logString:()=>l.getAllResponseHeaders()},json:()=>new Promise(((e,t)=>{try{const o=JSON.parse(n);o instanceof Object?e(o):t(new Error("JSON.parse did not return an object"))}catch(o){t(o)}})),responseText:n})}},a&&l.upload.addEventListener("progress",(e=>{let t=null;e.lengthComputable&&(t=e.loaded/e.total*100),a(t)})),l.open(i,s,e),Object.keys(n).forEach((e=>{l.setRequestHeader(e,n[e])})),l.send(t||null)})),abort:()=>{l&&l.abort()}}}var s=n(42238),l=n.n(s);const c=e=>{if((e=>{const t=e.match(/\s+chrome\/(\d+)\./i);return!!t&&parseInt(t[1],10)>=79})(e))return!0;const{name:t="",version:n=""}=l()(e).browser,o=parseInt(n.replace(/\..*/,""),10)||0;return"chrome"===t.toLowerCase()&&o>=79};var d=n(826067),u=n(628551);function _(e){const t={async:!0,cache:!1,data:void 0,headers:{},query:{},timeout:0,type:"GET",...e};let{url:n,data:r}=t;const s=t.type;r&&"object"==typeof r&&("GET"===s?(n=(0,d.ru)(n,r),r=void 0):r instanceof FormData||(r=(0,d.XP)(r))),!1===t.cache&&"GET"===s&&(n=(0,d.ru)(n,{_:Date.now()}));const l=(0,u.needsCsrfToken)(s,n);if(l&&!(0,u.getCsrfToken)())return{promise:Promise.reject({type:"csrferror",message:"No csrf token found"}),abort:()=>{}};return(!t.async&&"keepalive"in new Request("")&&c(window.navigator.userAgent||"")?o:a)({...t,url:n,data:r,headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json, text/javascript, */*, q=0.01","X-APP-VERSION":(0,i.Z)(),..."GET"===s||!r||r instanceof FormData?{}:{"Content-Type":"application/x-www-form-urlencoded"},...l?{"X-CSRFToken":(0,u.getCsrfToken)()||""}:{},...t.headers}})}},366284:(e,t,n)=>{n.d(t,{G6:()=>r,i7:()=>a,oi:()=>o,u$:()=>i,un:()=>l,vU:()=>s});const o=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),i=e=>{switch(!0){case e.includes("Chrome"):return o.CHROME;case e.includes("Safari"):return o.SAFARI;case e.includes("Firefox"):return o.FIREFOX;case e.includes("Opera"):return o.OPERA;case e.includes("IE"):return o.IE;case e.includes("Edge"):return o.EDGE;default:return o.OTHER}};function r(e){return i(e)===o.SAFARI}function a(e){return i(e)===o.CHROME}function s(e){return i(e)===o.FIREFOX}function l(e){return i(e)===o.EDGE}},56641:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(567831),i=n(539497);function r(e,t){if(t&&!(()=>{try{return window.localStorage.test=2,!1}catch(e){return!0}})()){const t=window.open(e,"_blank");return t&&(t.opener=null),t}{const t=(0,o.Z)(e);return setTimeout((()=>{(0,i.My)("setting_new_window_location")}),0),window.location.href=t,window}}},126098:(e,t,n)=>{function o(){if("undefined"!=typeof navigator&&"serviceWorker"in navigator&&void 0!==navigator.serviceWorker&&"Notification"in window&&"PushManager"in window)try{return window.Notification.permission}catch(e){return}}n.d(t,{Z:()=>o})},78714:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(56641),i=n(954931),r=n(539497);const a=(e,t)=>{null!=t&&t.disableOriginCheck||(0,i.Z)(e)||(e="/",(0,r.My)("url_reset")),(0,o.Z)(e)}},792182:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(667294),i=n(23279),r=n.n(i);function a(){const[e,t]=(0,o.useState)(null);return(0,o.useEffect)((()=>{const e=()=>t({width:window.innerWidth,height:window.innerHeight});e();const n=r()(e,50);return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)}),[]),e}},768559:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(826067);const i=/\/today\/(article|best|trending)\/[\w-]+\/(\d+)/,r=/\/discover\/article\/[\w-]+\/(\d+)/,a=(e,t)=>t?e.substring(t.length).split("/")[0]:e,s=({boardUrl:e,callToCreateSourcePinId:t,path:n,pinId:s,pinnerUserName:l,query:c,search:d,storyPinDataId:u})=>{var _,p;if(!n)return"";let m="";switch(n){case"/":case"/homefeed/":return"UserHomefeedResource";case l&&`/${l}/pins/`:return"UserPinsResource";case l&&`/${l}/`:case/\/_activity\//.test(n)&&n:return"UserActivityPinsResource";case/\/_created\//.test(n)&&n:return u?"UserStoryPinsFeedResource":"UserActivityPinsResource";case/\/_community\//.test(n)&&n:return"UserDiscoveredPinsResource";case/\/_shop\//.test(n)&&n:return"StoreFrontFeedResource";case/\/_saved\//.test(n)&&n:return"BoardlessPinsResource";case l&&`/${l}/_shopping_list/`:return"ShoppingListFeedResource";case/\/visual-search\//.test(n)&&n:return"VisualLiveSearchResource";case/\/pin\//.test(n)&&n:m="/pin/";const g=a(n,m);if(s!==g)return t?`ApiResource_callToCreatePins_${g}`:`RelatedPinFeedResource_${g}`;break;case/\/search\//.test(n)&&n:if(d){return`SearchResource_${((0,o.mB)(d,{shouldDecode:!1}).q||"").toLowerCase()}`}if(c)return`SearchResource_${encodeURIComponent(c.q||"").toLowerCase()}`;break;case r.test(n)&&n:return`ExploreArticleResource_${(null===(_=n.match(r))||void 0===_?void 0:_[2])||"unknown"}`;case/\/discover\/article\//.test(n)&&n:m="/discover/article/";return`ExploreArticleResource_${a(n,m)}`;case/\/categories\//.test(n)&&n:m="/categories/";return`CategoryFeedResource_${a(n,m)}`;case/\/discover\/topics\//.test(n)&&n:return"CategoryFeedResource";case/\/news_hub\//.test(n)&&n:m="/news_hub/";return`NewsHubDetailsResource_${a(n,m)}`;case/\/_tools\/more-ideas\//.test(n)&&n:return"BoardContentRecommendationResource";case/\/topics\//.test(n)&&n:m="/topics/";return`TopicFeedResource_${a(n,m)}`;case l&&`/${l}/products/`:return"StoreFrontFeedResource";case/\/source\//.test(n)&&n:m="/source/";return`DomainFeedResource_${a(n,m)}`;case/\/explore\//.test(n)&&n:m="/explore/";return`SearchResource_${a(n,m)}`;case e:case!!e&&/\/more_ideas\//.test(n)&&n:return"BoardFeedResource";case e&&n.indexOf(e)>-1&&n:return"BoardSectionPinsResource";case/\/following\//.test(n)&&n:return"FollowingFeedResource";case/\/brand_catalog\//.test(n)&&n:return"BrandCatalogFeedResource";case i.test(n)&&n:return`TodayArticleFeedResource_${(null===(p=n.match(i))||void 0===p?void 0:p[2])||"unknown"}`;case/\/today\//.test(n):return"TodayTabResource";case/\story_feed\//.test(n)&&n:if(d){const{feed_type:e,request_params:t}=(0,o.mB)(d);return`StoryFeedResource_${e}_${t}`}break;case/\/your-shop\//.test(n)&&n:return"PersonalBoutiqueResource"}return""},l=({boardUrl:e,callToCreateSourcePinId:t,location:n,pinId:o,pinnerUserName:i,previousHistory:r,storyPinDataId:a,trackingParams:l,trackingParamsMap:c={}})=>{if(!o||!l||!n)return;if(!c)return`${l}~0`;const{pathname:d,search:u,query:_}=n,p=s({boardUrl:e,callToCreateSourcePinId:t,path:d,pinId:o,pinnerUserName:i,query:_,search:u,storyPinDataId:a,trackingParams:l,trackingParamsMap:c}),m=Object.keys(c);let g;if((d||"").startsWith("/pin/")){const e=m.find((e=>"PinResource"!==e));g=e?c[e]:c.PinResource}else g=c[p];let f;if(!g&&r&&r.length){const n=(e=>{let t=null==e?void 0:e.pathname;return t?(t.match(/\/search\//)&&null!=e&&e.search&&(t+=e.search),t.toLowerCase()):""})(r[r.length-1].location);f=s({boardUrl:e,callToCreateSourcePinId:t,path:n,pinId:o,pinnerUserName:i,query:_,search:u,storyPinDataId:a,trackingParams:l,trackingParamsMap:c}),g=c[f]}return g||(g=`${l||""}~0`),g}},643010:(e,t,n)=>{n.d(t,{F6:()=>c,Hs:()=>l,Uf:()=>r,Yc:()=>s});var o=n(539497),i=n(957161);const r="theme",a="dark"===(0,i.qn)(r),s=()=>a,l=()=>{(0,i.Nh)(r,"dark"),(0,o.My)("mweb.dark_mode.enable"),window.location.reload()},c=()=>{(0,i.L_)(r),(0,o.My)("mweb.dark_mode.disable"),window.location.reload()}},887432:(e,t,n)=>{n.d(t,{C:()=>d,FB:()=>u,ZY:()=>_,l8:()=>p});var o=n(811859),i=n(966113),r=n(330102);const a=i.Z.settings.DATA_PLUS_MATH_WEB_PIXEL,s=i.Z.settings.DATA_PLUS_MATH_EVENT_PIXEL,l="dpm_images",c="dpm_pixel_unauth";function d(e){const{origin:t,pixelEvent:n,userIdString:o}=e,i=n?new URL(t+n):new URL(t);return i.searchParams.set("url",document.URL),i.searchParams.set("refr",document.referrer),i.searchParams.set("uid",o),i.toString()}async function u(e,t,n){const i=e+"*"+("undefined"!=typeof window&&window.crypto&&window.crypto.subtle?await(0,o.Z)(t):""),s=d({origin:a,userIdString:i});(0,r.VL)(e,"dpm_pixel_auth",c,l,s,i,"dpm",n)}async function _(e,t,n,i){let a="";t&&(a="undefined"!=typeof window&&window.crypto&&window.crypto.subtle?await(0,o.Z)(t):"");const s=e+"*"+a;(0,r.YJ)(n,e,l,s,"dpm",i)}async function p(e,t="",n,i,a){let c;if(t){const n="undefined"!=typeof window&&window.crypto&&window.crypto.subtle?await(0,o.Z)(t):"";c=d({origin:s,pixelEvent:e,userIdString:n})}(0,r.dO)({pixelId:e,divId:l,url:c,eventCategory:n,eventName:i,onSendPixelSuccess:a})}},816068:(e,t,n)=>{n.d(t,{Z:()=>o});const o=e=>Math.floor(new Date(e).getTime()/1e3)},766935:(e,t,n)=>{function o(e,t){let n;return(...o)=>{clearTimeout(n),n=setTimeout((()=>e(...o)),t)}}n.d(t,{Z:()=>o})},549872:(e,t,n)=>{n.d(t,{IV:()=>u,Ii:()=>m,Ob:()=>_,sX:()=>p,vF:()=>d});var o=n(811859),i=n(966113),r=n(330102);const a=i.Z.settings.DENTSU_STADIA_PIXEL,s="dentsu_images",l="ds_pixel_unauth",c="PageView";function d(e,t){const n=new URL(a+document.URL);return n.searchParams.set("c_3",t),n.searchParams.set("c_4",e),n.searchParams.set("c_7",(0,r.OJ)()),n.toString()}async function u(e,t,n){const i=e+"*"+("undefined"!=typeof window&&window.crypto&&window.crypto.subtle?await(0,o.Z)(t):""),a=d(i,c);(0,r.VL)(e,"ds_pixel_auth",l,s,a,i,"dentsu",n)}async function _(e,t){const n=d(e,c);(0,r.PN)(e,l,s,n,t)}function p(e,t,n){(0,r.dO)({pixelId:e,divId:s,eventCategory:t,eventName:n})}function m(e){function t(){const t=(0,r.zj)({src:"https://"+location.hostname+"/_/_/pixel/fb-dentsu-jp.html",id:"dentsuFBPixel",sandbox:"allow-scripts allow-same-origin",style:"display: none;"});if(!document.body)throw new Error("missing <body>");document.body.appendChild(t),t.contentWindow.addEventListener("load",(()=>window._sendFacebookPixel=t.contentWindow.fbq)),e()}document.getElementById("dentsuFBPixel")||("complete"===document.readyState&&t(),window.addEventListener("load",t))}},207737:(e,t,n)=>{n.d(t,{$S:()=>o,V$:()=>i,_4:()=>a,iY:()=>s,mR:()=>r});const o="REFRESH_ALL_EXPERIENCES_MULTI",i="UPDATE_EXPERIENCE_MULTI",r="FETCH_EXPERIENCES",a="REFRESH_ALL_EXPERIENCES",s="UPDATE_EXPERIENCE"},957191:(e,t,n)=>{n.d(t,{NW:()=>a,OD:()=>l,Yb:()=>s,cL:()=>c,xW:()=>r});var o=n(6637),i=n(207737);const r=(e,t,n)=>({type:i.V$,payload:{placementId:e,experienceId:t,status:n}}),a=e=>t=>o.Z.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then((e=>{return e.resource_response?t((n=e.resource_response.data,{type:i.$S,payload:{experiencesMulti:n}})):void 0;var n})),s=(e,t,n)=>({type:i.iY,payload:{placementId:e,experienceId:t,status:n}}),l=e=>({type:i._4,payload:{experiences:e}}),c=e=>({type:i.mR,payload:{experiences:e}})},180630:(e,t,n)=>{n.d(t,{W:()=>s,Z:()=>a});var o=n(330102);function i(e,t,n=3){if(window._sendFacebookPixel)"NewOrRezUsers"===e||"MAU"===e?window._sendFacebookPixel("trackCustom",e):window._sendFacebookPixel("track",e),t();else if(n>0){const o=Math.floor(3e3/n);setTimeout((()=>{i(e,t,n-1)}),o)}}function r(e,t){return n=>{i(e,t),window.removeEventListener(n,r)}}function a(e,t){"complete"===document.readyState?i(e,t):window.addEventListener("load",r(e,t))}function s(){document.getElementById("facebookPixel")||("complete"===document.readyState&&function(){const e=(0,o.zj)({src:"https://"+location.hostname+"/fb.html",id:"facebookPixel",sandbox:"allow-scripts allow-same-origin",style:"display: none;"});if(!document.body)throw new Error("missing <body>");document.body.appendChild(e),e.contentWindow.addEventListener("load",(()=>window._sendFacebookPixel=e.contentWindow.fbq))}(),window.addEventListener("load",s))}},38:(e,t,n)=>{n.d(t,{F8:()=>te,M7:()=>ee,Rs:()=>Q,Tm:()=>se,VC:()=>K,YM:()=>le,eP:()=>ce,el:()=>re,lV:()=>ie,rN:()=>ae,sl:()=>ne,tr:()=>oe,x9:()=>de});var o=n(172071),i=n(966113),r=n(330102),a=n(957161);const{FLASHTALKING_DWEB_SESSION_PIXEL_START:s,FLASHTALKING_DWEB_SESSION_PIXEL_END:l,FLASHTALKING_MWEB_SESSION_PIXEL_START:c,FLASHTALKING_MWEB_SESSION_PIXEL_END:d,FLASHTALKING_DWEB_LOGIN_PIXEL_START:u,FLASHTALKING_DWEB_LOGIN_PIXEL_END:_,FLASHTALKING_MWEB_LOGIN_PIXEL_START:p,FLASHTALKING_MWEB_LOGIN_PIXEL_END:m,FLASHTALKING_DWEB_REGISTER_PIXEL_START:g,FLASHTALKING_DWEB_REGISTER_PIXEL_END:f,FLASHTALKING_MWEB_REGISTER_PIXEL_START:h,FLASHTALKING_MWEB_REGISTER_PIXEL_END:v,FLASHTALKING_DWEB_BUSINESS_PIXEL_START:y,FLASHTALKING_DWEB_BUSINESS_PIXEL_END:E,FLASHTALKING_BILLING_FIRST_SPENDERS_URL:w,FLASHTALKING_BILLING_ALL_SPENDERS_URL:S,FLASHTALKING_BILLING_RESURRECTIONS_URL:T,FLASHTALKING_BILLING_SHOPPING_URL:A,FLASHTALKING_BILLING_CATALOG_FEED_URL:I,FLASHTALKING_BUSINESS_BILLING_COMPLETE_URL:b,FLASHTALKING_NO_MICRO_CATALOG_FEED_REALTIME_URL:P,FLASHTALKING_CATALOG_FEED_REALTIME_URL:N,FLASHTALKING_CATALOG_FEED_PAGE_VIEW_URL:k,FLASHTALKING_BUSINESS_SITE_CATALOG_UPLOAD_BUTTON_PIXEL_URL:L,FLASHTALKING_BUSINESS_SITE_NO_MICRO_CATALOG_UPLOAD_BUTTON_PIXEL_URL:R,FLASHTALKING_BUSINESS_SITE_PAGE_VIEW_URL:O}=i.Z.settings,C={"flashtalking-d-ses":[s,l],"flashtalking-m-ses":[c,d],"flashtalking-d-login":[u,_],"flashtalking-m-login":[p,m],"flashtalking-d-reg":[g,f],"flashtalking-m-reg":[h,v],"flashtalking-bus":[y,E],"flashtalking-first-spend-event":[w],"flashtalking-all-spend-event":[S],"flashtalking-advertiser-rez-event":[T],"flashtalking-shop-event":[A],"flashtalking-catalog-feed-event":[I],"flashtalking-billing-complete-event":[b],"flashtalking-no-micro-catalog-feed-realtime-event":[P],"flashtalking-catalog-feed-realtime-event":[N],"flashtalking-catalog-feed-page-view-event":[k],"flashtalking-business-site-catalog-upload-click-event":[L],"flashtalking-business-site-no-micro-catalog-upload-click-event":[R],"flashtalking-business-site-page-view-event":[O]},x=["flashtalking-d-login","flashtalking-m-login","flashtalking-d-reg","flashtalking-m-reg"],D="flashtalking-first-spend-event",U="flashtalking-all-spend-event",M="flashtalking-advertiser-rez-event",Z="flashtalking-catalog-feed-event",B="flashtalking-billing-complete-event",F="flashtalking-no-micro-catalog-feed-realtime-event",G="flashtalking-catalog-feed-realtime-event",H="flashtalking-catalog-feed-page-view-event",j="flashtalking-business-site-catalog-upload-click-event",V="flashtalking-business-site-no-micro-catalog-upload-click-event",W="flashtalking-business-site-page-view-event",$=new Set([D,M,"flashtalking-shop-event",Z,B,F,G,H,j,V,W,U]);function z(e,t=""){let n="";return n=$.has(e)?C[e][0]+t+"&cachebuster="+(0,r.OJ)():C[e][0]+(0,r.OJ)()+C[e][1],n}function q(e,t){o.Z.increment("flashtalking_tracking_pixel",1,{event_category:e,event_name:"All"}),"All"!==t&&o.Z.increment("flashtalking_tracking_pixel",1,{event_category:e,event_name:t})}function Y(){for(const t of x){let n=(0,a.qn)(t);if(n){const o=(0,r.zj)({src:z(t),id:t,height:1,width:1,style:"display:none;"});if(!document.getElementById(t)){var e;null===(e=document.body)||void 0===e||e.appendChild(o),n=n.split("#");const[i,r]=n;q(i,r),(0,a.L_)(t)}}}}function K(e,t,n,o){function i(e,t,n,o){const i=(0,r.zj)({src:z(e,n),id:e,height:1,width:1,style:"display:none;"});var a;document.getElementById(e)||(i.setAttribute("data-test-id",o),null===(a=document.body)||void 0===a||a.appendChild(i),t(),Y())}document.getElementById(e)?Y():("complete"===document.readyState&&i(e,t,n,o),window.addEventListener("load",function e(t,n,o,r){return a=>{i(t,n,o,r),window.removeEventListener(a,e)}}(e,t,n,o)))}function J(e,t,n,o){x.find((t=>t===e))?(0,a.Nh)(e,`${t}#${n}`):K(e,o)}function X(e,t,n,o){return i=>{J(e,t,n,o),window.removeEventListener(i,X)}}function Q(e,t,n,o){"complete"===document.readyState?J(e,t,n,o):window.addEventListener("load",X(e,t,n,o))}function ee(e,t){if(!e||!t||0===Object.keys(e).length)return;const n=e[t].resurrected;if(n){const e=new Date(n),i=new Date;if((0,r.LG)(e,i)<=90){const e=i.toISOString().slice(0,10),n=(0,r.TF)(r.qs,t);K(M,(()=>{o.Z.increment("flashtalking_tracking_pixel",1,{event_category:"AdvertiserRez",event_name:"All"})}),e+"&U8="+n)}}}function te(e,t){if(!e||!t||0===Object.keys(e).length)return;const n=e[t].replaceAll("'",'"');let i="";try{const e=JSON.parse(n);if(e&&Object.keys(e).length>0){const{dt:t,merchant_id:n,feed_profile_ids:o}=e;if(t&&n&&o){i=t+"&U8="+o+"&U9="+(0,r.TF)(r.qs,n)}}}catch(a){o.Z.increment("flashtalking_tracking_pixel",1,{event_category:"CatalogFeed",event_name:"ParseErrors"})}K(Z,(()=>{o.Z.increment("flashtalking_tracking_pixel",1,{event_category:"CatalogFeed",event_name:"All"})}),i)}function ne(e,t){const n=(new Date).toISOString().slice(0,10),i=(0,r.TF)(r.qs,e),a=(0,r.TF)(r.qs,t);K(B,(()=>{o.Z.increment("flashtalking_tracking_pixel",1,{event_category:"Billing",event_name:"All"})}),n+"&U8="+a+"&U9="+i)}function oe(e,t){const n=(new Date).toISOString().slice(0,10),i=(0,r.TF)(r.qs,e);K(G,(()=>{o.Z.increment("flashtalking_tracking_pixel",1,{event_category:"CatalogFeedRealtime",event_name:"All"})}),n+"&U8="+t+"&U9="+i,"data-source-catalog-upload-realtime-pixel")}function ie(e,t){const n=(new Date).toISOString().slice(0,10),i=(0,r.TF)(r.qs,e);K(F,(()=>{o.Z.increment("flashtalking_tracking_pixel",1,{event_category:"NoMicroCatalogFeedRealtime",event_name:"All"})}),n+"&U8="+t+"&U9="+i,"data-source-no-micro-catalog-upload-realtime-pixel")}function re(e,t){if(!e)return;const n=(new Date).toISOString().slice(0,10),i=(0,r.TF)(r.qs,e),a=t?(0,r.TF)(r.qs,t):"";K(H,(()=>{o.Z.increment("flashtalking_tracking_pixel",1,{event_category:"CatalogFeedPageView",event_name:"All"})}),n+"&U8="+i+"&U9="+a,"data-source-catalog-page-view-pixel")}function ae(e){const t=(new Date).toISOString().slice(0,10),n=e?e.toString():"",i=(0,r.TF)(r.qs,n);K(j,(()=>{o.Z.increment("flashtalking_tracking_pixel",1,{event_category:"BusinessSiteCatalogUploadClick",event_name:"All"})}),t+"&U8="+i,"data-source-business-site-catalog-upload-button-pixel")}function se(e){const t=(new Date).toISOString().slice(0,10),n=e?e.toString():"",i=(0,r.TF)(r.qs,n);K(V,(()=>{o.Z.increment("flashtalking_tracking_pixel",1,{event_category:"BusinessSiteNoMicroCatalogUploadClick",event_name:"All"})}),t+"&U8="+i,"data-source-business-site-no-micro-catalog-upload-button-pixel")}function le(e){const t=(new Date).toISOString().slice(0,10),n=e?e.toString():"",i=(0,r.TF)(r.qs,n);K(W,(()=>{o.Z.increment("flashtalking_tracking_pixel",1,{event_category:"BusinessSitePageView",event_name:"All"})}),t+"&U8="+i)}function ce(e){const t=(new Date).toISOString().slice(0,10),n=e?(0,r.TF)(r.qs,e):"";K(D,(()=>{o.Z.increment("flashtalking_tracking_pixel",1,{event_category:"FirstSpender",event_name:"All"})}),t+"&U8="+n)}function de(e){const t=(new Date).toISOString().slice(0,10),n=e?(0,r.TF)(r.qs,e):"";K(U,(()=>{o.Z.increment("flashtalking_tracking_pixel",1,{event_category:"AllSpender",event_name:"All"})}),t+"&U8="+n)}},894738:(e,t,n)=>{function o(e){e&&e.focus()}n.d(t,{Z:()=>o})},116303:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(883119),i=n(785893);const r=(e,t)=>{const n=null==e?void 0:e.includes("images/user/default");return Boolean(n&&t)};function a({accessibilityLabel:e,name:t,outline:n,size:a,src:s,verified:l}){return(0,i.jsx)(o.qE,{accessibilityLabel:e,name:t,outline:n,size:a,src:r(s,t)?void 0:s,verified:l})}},121151:(e,t,n)=>{n.d(t,{ZP:()=>d,b7:()=>s.b7,bN:()=>l,p4:()=>c});var o=n(50286),i=n(883119),r=n(240684),a=n(785893),s=n(968121);const l=(0,r.ZP)({resolved:{},chunkName:()=>"DesktopModal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(51879).then(n.bind(n,373420)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 373420}}),c=(0,r.ZP)({resolved:{},chunkName:()=>"MobileModal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(72430).then(n.bind(n,430322)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 430322}});function d(e){const t=(0,o.ZP)(),n=void 0===e.isOpen||e.isOpen;if("desktop"===t&&n){const{isOpen:t,mobileAccessibilityCloseIconLabel:n,mobileAllowScroll:o,mobileHideCloseIcon:i,mobileIsFullscreen:r,mobileIsSlideUp:s,type:c,...d}=e;return(0,a.jsx)(l,{...d})}const{allowClickAndDrag:i,allowMediaPlay:r,allowScroll:s,role:d,size:u,..._}=e;return(0,a.jsx)(c,{..._,isOpen:n})}},968121:(e,t,n)=>{n.d(t,{JN:()=>u,Vf:()=>_,ZM:()=>s,b7:()=>a,bf:()=>d,i_:()=>l,ju:()=>p});var o=n(707853),i=n(643010),r=n(883119);const a=new r.Ry(1e3),s=new r.H3([o.Z]),l=12,c={headingOffset:{__style:{marginLeft:-10,marginRight:50}},RTLheadingOffset:{__style:{marginRight:-10,marginLeft:50}},mask:{baseStyles:{backgroundColor:"rgba(0,0,0, .5)",height:"100%",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out",width:"100%",zIndex:1}},modal:{baseStyles:{border:(0,i.Yc)()?void 0:"1px solid #efefef",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1,left:"0px",bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden"},tabletStyles:{border:void 0,borderRadius:"32px",top:"50%",left:"50%",minWidth:"350px",touchAction:"none",transform:"translate(-50%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1},nonTabletSignUpStyles:{border:void 0,borderRadius:"32px",top:"50%",touchAction:"none",transform:"translate(0%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1,left:"8px",right:"8px",background:"#FFFFFF"},baseStylesSliding:{border:(0,i.Yc)()?void 0:"1px solid #efefef",touchAction:"none",width:"100vw",height:"",zIndex:1,left:0,bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},fullscreenStyles:{touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"90vw",height:"70vh",borderRadius:"8px",zIndex:1,left:"5vw",bottom:"13vh",overflowY:"hidden"},tabletNarrowStyle:{width:425,left:"50%",transform:"translateX(-50%)"}}},d=()=>({__style:c.mask.baseStyles}),u=({isFullscreen:e,isTablet:t,modalStyle:n,type:o})=>{const i=c.modal.fullscreenStyles;let r;return r=e?i:t?c.modal.tabletStyles:"signup"===o?c.modal.nonTabletSignUpStyles:{...c.modal.baseStyles,borderRadius:"32px 32px 0 0"},{__style:n||r}},_=({isFullscreen:e,isTablet:t,isShowing:n,type:o})=>{let i=c.modal.baseStylesSliding,r=n?"translateY(0)":"translateY(100vh)";return i.height=e?"100vh":"",t&&"related_interests_modal"===o&&(i={...i,...c.modal.tabletNarrowStyle},r=n?"translate(-50%, 0)":"translate(-50%, 100vh)"),{__style:{...i,transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:r}}},p=e=>e?c.RTLheadingOffset:c.headingOffset},811859:(e,t,n)=>{async function o(e){if("undefined"==typeof TextEncoder)return"";const t=(new TextEncoder).encode(e),n=await window.crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}n.d(t,{Z:()=>o})},755742:(e,t,n)=>{n.d(t,{Z:()=>o});const o={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,F5:116,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},48714:(e,t,n)=>{n.d(t,{nS:()=>w,iw:()=>T,gV:()=>y,G3:()=>A,lI:()=>I,Gj:()=>S,Jd:()=>v,$3:()=>E});var o=n(231486),i=n(56641),r=n(768559),a=n(250059);const s=e=>"string"!=typeof e&&e?e.state:null;var l=n(643913),c=n(547239),d=n(508847),u=n(102500),_=n(43760),p=n(579164),m=n(307640),g=n(397066),f=n(623568),h=n(226198);const v=()=>{window&&window.focus(),document.activeElement&&document.activeElement.blur()},y=({isOffsiteUrl:e,event:t})=>!e&&(t.metaKey||t.ctrlKey),E=({location:e,pin:t,surface:n})=>!(0,f.jL)(t)&&(({location:e,pinId:t,surface:n})=>{const o=Boolean(n),i=m.ZF.includes(n),r=e.pathname.includes(t);return o&&!i||r})({location:e,pinId:t.id,surface:n}),w=e=>{const t=Math.round(1e3*Math.random())+"",n=Math.round(1e3*Math.random())+"";o.t8((0,h.GS)(t),n);const i=`${t}-${n}`,{queryParams:r,url:a}=e;let s={token:i,url:a};if(!r){const{pinId:t,csrId:n,clientTrackingParams:o,auxData:i}=e;s={...s,pin:null!=t?t:void 0,csr:n&&!t?n:void 0,client_tracking_params:o,aux_data:i?JSON.stringify(i):void 0}}r&&(s={...s,...r});return`/offsite/?${(0,l.Z)(s)}`},S=e=>{(0,i.Z)(w(e),!0)},T=async({isMounted:e,pin:t,location:n,spamCheckCallback:o,href:i})=>{var a,s;const l=await(0,u.Z)({check_only:!0,client_tracking_params:(0,r.Z)({boardUrl:null==t||null===(a=t.board)||void 0===a?void 0:a.url,callToCreateSourcePinId:null==t?void 0:t.call_to_create_source_pin_id,location:n,pinId:null==t?void 0:t.id,pinnerUserName:null==t||null===(s=t.pinner)||void 0===s?void 0:s.username,storyPinDataId:null==t?void 0:t.story_pin_data_id,trackingParams:null==t?void 0:t.tracking_params,trackingParamsMap:null==t?void 0:t.tracking_params_map}),pin_id:null==t?void 0:t.id,url:i}).callGet({showError:!1});if(!l.resource_response.error&&e){const e=l.resource_response.data||{},{message:t,redirect_status:n,url:i}=e;o({blocked:["blocked","suspicious","porn"].includes(n),message:t,redirectStatus:n,sanitized_url:i})}},A=({event:e,onHistoryChange:t,href:n,history:o,target:r})=>{const l=(0,a.Z)(n),u=s(n),_=(0,c.Z)(l);_===p.Z.TRUSTED_DIFFERENT_ORIGIN||"blank"===r?(0,i.Z)(l,"blank"===r):o&&_===p.Z.SAME_ORIGIN&&(o.push((0,d.Z)({url:l}),null!=u?u:{}),t&&t({event:e}))},I=({href:e,pinId:t,pin:n,location:o,auxData:i,spamCheck:a,queryParams:s},l,c)=>{"undefined"!=typeof window&&window.Windows?(0,_.Z)({url:e,pinId:t,pin:n,location:o,auxData:i}):n?(({spamCheck:e,auxData:t,location:n,pin:o,pinId:i,href:a},s,l)=>{if(null!=e&&e.blocked)null==l||l(e);else{var c,d;if((0,g.b)({href:a,pinId:i,pin:o,location:n,auxData:t},s))return;S({url:a,pinId:i,csrId:null,clientTrackingParams:(0,r.Z)({boardUrl:null===(c=o.board)||void 0===c?void 0:c.url,callToCreateSourcePinId:o.call_to_create_source_pin_id,location:n,pinId:o.id,pinnerUserName:null===(d=o.pinner)||void 0===d?void 0:d.username,storyPinDataId:o.story_pin_data_id,trackingParams:o.tracking_params,trackingParamsMap:o.tracking_params_map}),auxData:t})}})({spamCheck:a,auxData:i,location:o,pin:n,pinId:t,href:e},l,c):S({url:e,pinId:t,queryParams:s})}},102500:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(6637);function i(e){return o.Z.create("ApiResource",{url:"/v3/offsite/",data:e})}},287072:(e,t,n)=>{n.d(t,{Z:()=>d,p:()=>u});var o=n(667294),i=n(250059),r=n(149230),a=n(407043),s=n(643074),l=n(48714),c=n(276775);function d(e){var t;const{externalData:n,href:d,onHistoryChange:u,target:_}=e,{logContextEvent:p}=(0,a.v)(),[m,g]=(0,o.useState)(null),[f,h]=(0,o.useState)(!1),v=(0,c.useHistory)(),y=(0,c.useLocation)(),E=(0,r.Z)({url:(0,i.Z)(d)}),{showWarning:w}=null!==(t=(0,s.s)())&&void 0!==t?t:{};return(0,o.useEffect)((()=>(h(!0),()=>{h(!1)})),[]),(0,o.useEffect)((()=>{E&&null!=n&&n.pin&&null===m&&f&&(0,l.$3)({location:y,pin:n.pin,surface:n.surface})&&(0,l.iw)({isMounted:f,pin:n.pin,location:y,spamCheckCallback:e=>g(e),href:(0,i.Z)(d)})}),[null==n?void 0:n.pin,null==n?void 0:n.surface,d,E,f,y,m]),({event:e})=>{var t;(0,l.gV)({isOffsiteUrl:E,event:e})||(e.preventDefault(),d&&(E||null!=n&&n.dangerouslyForceOffsiteUrl?(0,l.lI)({auxData:null==n?void 0:n.auxData,href:(0,i.Z)(d),pinId:null==n||null===(t=n.pin)||void 0===t?void 0:t.id,pin:null==n?void 0:n.pin,queryParams:null==n?void 0:n.queryParams,location:y,spamCheck:m},p,w):(0,l.G3)({event:e,href:d,history:v,onHistoryChange:u,target:"blank"===_?"blank":null})))}}const u=({children:e,...t})=>e({handleClick:d(t)})},713930:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(172071);function i(e,t){return new Promise(((n,i)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if("FACEBOOK"===t)if(window.FB)n();else{const t=setInterval((()=>{window.FB||20===e?(clearInterval(t),n()):(e+=1,o.Z.increment(`mweb.loadScript.facebook.tries_${e}`,.01))}),100)}else if("GSI"===t)if(window.google)n();else{const t=setInterval((()=>{window.google||20===e?(clearInterval(t),n()):(e+=1,o.Z.increment(`mweb.loadScript.gsi.tries_${e}`,.01))}),100)}else n()}else{const t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",(()=>n())),t.addEventListener("error",i),document.getElementsByTagName("head")[0].appendChild(t)}}))}},539278:(e,t,n)=>{n.d(t,{Di:()=>_,Jl:()=>c,R:()=>d,ZP:()=>h,aU:()=>p,j2:()=>u,pN:()=>m,rL:()=>v,vW:()=>f});var o=n(116303),i=n(499128),r=n(349700),a=n(826067),s=n(883119),l=n(785893);const c=7e3,d="permanent_account_closure",u="account_deletion_email_sent",_="account_deactivated",p="unlink_successful",m="account_switch_to_settings";function g(e,t,n){return(0,l.jsx)(s.xv,{align:n||"center",children:(0,r.nk)(e,{username:(0,l.jsx)(s.xv,{inline:!0,weight:"bold",children:t})})})}function f({i18n:e,message:t,multipleAccounts:n,username:o=""}){switch(t){case d:return e._('Your account has been deleted. We\'re sad to see you go', 'unauthLoginPage.accountDeletedToast.message', 'Confirmation message after a user has successfully deleted their account');case u:return g(n?e._('An email has been sent with final steps to delete your account, {{username}} and its linked accounts', 'accountDeletedEmailToast.message.multipleAccounts', 'Confirmation message after a user has successfully requested multiple accounts deletion'):e._('An email has been sent with final steps to delete your account, {{username}}', 'accountDeletedEmailToast.message.singleAccount', 'Confirmation message after a user has successfully requested a single account deletion'),o);case _:return g(n?e._('The account, {{username}}, and its associated linked accounts have been deactivated', 'unauthLoginPage.deactivatedToast.message.multipleAccounts', 'Confirmation message after a user has successfully deactivated multiple accounts'):e._('The account, {{username}}, has been deactivated', 'unauthLoginPage.deactivatedToast.message.singleAccount', 'Confirmation message after a user has successfully deactivated a single account'),o);case p:return g(e._('Success! You\'ve unlinked this business account. You are currently in {{username}}.', 'authHomeFeedPage.unlinkAccountToast.message', 'Confirmation message after a user has successfully unlinked business account'),o,"start");case m:return g(e._('You\'ve switched into and are currently in the account {{username}}', 'accountSettings.switchAccountToAccountChanges', 'Confirmation message after a user has successfully switched accounts and got redirected to Account Changes'),o,"start");default:return""}}function h(e,t,n=""){if(!t||!t.search)return"";const o=(0,a.mB)(t.search).message,i=(0,a.mB)(t.search).username||n;return f({i18n:e,message:o,multipleAccounts:"true"===(0,a.mB)(t.search).multiple_accounts,username:i})}function v({showOneToast:e,i18n:t,location:n,history:r,username:s,fullName:d,avatarUrl:u}){if(!n||!n.search)return;const _=h(t,n,s||""),g=(0,a.mB)(n.search).message,f=g===m||g===p;_&&(e((({hideToast:e})=>(0,l.jsx)(i.ZP,{duration:c,onHide:e,text:_,iconThumbnail:f?(0,l.jsx)(o.Z,{name:d||"",src:u||"",size:"md"}):null}))),r.replace(n.hash?`${n.pathname}${n.hash}`:n.pathname))}},620707:(e,t,n)=>{function o(e,t){if("object"==typeof e&&"object"==typeof t){const n=Object.keys(e),o=Object.keys(t);return n.length===o.length&&n.every((n=>e[n]===t[n]))}return e===t}n.d(t,{Ak:()=>o,_Y:()=>i,qe:()=>s,xZ:()=>a});const i=(e,t)=>e.length===t.length&&e.every(((e,n)=>o(e,t[n]))),r=(e,t)=>e.length===t.length&&e.every(((e,n)=>e===t[n])),a=(e,t=r)=>n=>{const o=[];return function(...i){const r=this,a=o.find((e=>e.context===r&&t(e.args,i)));if(a)return a.result;const s={context:r,args:i,result:n.apply(this,i)};return o.push(s),e&&o.length>e&&o.shift(),s.result}},s=a(1);a()},623568:(e,t,n)=>{n.d(t,{Js:()=>s,NK:()=>v,Nc:()=>y,VX:()=>l,Zt:()=>f,_J:()=>u,_Q:()=>a,_S:()=>E,cL:()=>m,dZ:()=>T,hb:()=>h,hy:()=>d,iR:()=>r,jL:()=>c,o:()=>w,oN:()=>o,pU:()=>S,rM:()=>g,sV:()=>_,sY:()=>p});const o=5e3,i=["Uploaded by user"],r=e=>!!e&&!!e.video_list,a=e=>!!e.promoted_is_lead_ad,s=(e,t)=>{let n=e&&e.url?e.url.split("/")[1]:"";return t&&t.full_name&&(n=t.full_name),n},l=e=>{var t;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null===(t=e.rich_metadata)||void 0===t?void 0:t.products)&&e.rich_metadata.products.length>0||!1},c=e=>!!e.promoter&&!e.is_downstream_promotion,d=e=>!!e,u=e=>!!e.video_status&&5!==e.video_status,_=e=>["email","messages","deep_linking"].includes(e),p=e=>!!e&&"gif"===e,m=({embedSrc:e,embedSubtype:t,embedType:n})=>!!e&&!p(n)&&!(e=>"pinstory"===e)(t),g=({link:e,mobileLink:t,trackedLink:n})=>!t&&!n&&!e,f=({link:e,mobileLink:t,origImageUrl:n,trackedLink:o})=>t||o||e||n||"",h=({isStoryPin:e,isVideoPin:t})=>e?"storyPin":t?"video":"image",v=(e,t)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:t.state?t.state.trackingParams:""}}});function y(e){var t,n;return!r(e.videos)&&!d(e.story_pin_data_id)&&0!==Object.keys((null===(t=e.aggregated_pin_data)||void 0===t||null===(n=t.creator_analytics)||void 0===n?void 0:n["30d_realtime"])||{}).length}function E(e){for(const t of i)if(e===t)return!1;return!0}function w(e){var t;return 0!==Object.keys((null===(t=e.creator_analytics)||void 0===t?void 0:t["30d_realtime"])||{}).length}function S(e){var t;return 0!==Object.keys((null===(t=e.public_creator_analytics)||void 0===t?void 0:t.all_time_realtime)||{}).length}function T(e){var t,n;return!(null===(t=e.creator_analytics)||void 0===t||null===(n=t["30d_realtime"])||void 0===n||!n.is_realtime)}},524172:(e,t,n)=>{n.d(t,{M:()=>p,Z:()=>m});var o=n(667294),i=n(914772),r=n(366284),a=n(773285),s=n(50286),l=n(780280),c=n(425288),d=n(83969),u=n(785893);const{Provider:_,useMaybeHook:p}=(0,c.Z)("GoogleSignInApi");function m({children:e}){const t=(()=>{const e=(0,s.HG)(),{checkExperiment:t}=(0,a.F)();return t(e?"web_google_disabled":"mweb_google_disabled").anyEnabled})(),n=(()=>{const{userAgent:e}=(0,l.B)(),{browserName:t,platform:n}=e,o=null!=t?t:"";return(0,r.G6)(o)||"ios"===n})(),c=(0,o.useRef)(null),p=(0,o.useRef)(new Set),m=(0,o.useRef)(new Set),g=(0,o.useRef)(null),f=(0,o.useRef)(!1),h=(0,o.useCallback)((()=>{if(f.current)return;f.current=!0;let e=!1;const t=()=>{const t=(0,d.Fm)();t&&(e||(e=!0,(0,i.Z)({type:"loadScript",status:"success"}),(0,i.Z)({type:"apiClient",valid:!!t}),g.current=t,(0,d.OY)({autoSelect:!0,itpSupport:n},(e=>{if((0,i.Z)({type:"response",valid:!!e}),!e)return;if("SIGN_IN_WITH_GOOGLE_BUTTON"===(0,d.PL)(e.select_by)){const t=Array.from(p.current),n=t[t.length-1],o=c.current;n?n(e):o&&o(e)}else{var t;null===(t=c.current)||void 0===t||t.call(c,e)}})),m.current.forEach((e=>{e()})),m.current.clear()))};window.onGoogleLibraryLoad=()=>t(),(0,i.Z)({type:"loadScript",status:"start"}),(0,d.Px)().then((()=>{t()})).catch((()=>{}))}),[n]);(0,o.useEffect)((()=>{t?(p.current.clear(),m.current.clear()):h()}),[t,h]);const v=(0,o.useRef)({ensureInit:(e,t)=>(h(),"button"===e?p.current.add(t):c.current=t,new Promise((e=>{!!g.current?e():m.current.add(e)}))),removeButtonCallback:e=>{p.current.delete(e)}});return(0,u.jsx)(_,{value:v.current,children:e})}},7893:(e,t,n)=>{n.d(t,{Kw:()=>s,RD:()=>l,dD:()=>d});var o=n(6637),i=n(189734),r=n.n(i),a=n(884732);const s=async()=>{var e,t;return(null===(e=(await o.Z.create("UserSessionResource",{session_accounts:!0}).callCreate()).resource_response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.session_accounts)||{}},l=(e,t)=>{let n=Object.freeze({});try{n=(0,a.rl)()}catch(r){e(`${t}.removeAccountDataFromLocalStorage.jsonParseFailed`)}const o=Object.keys(n);if(e(`${t}.removeAccountDataFromLocalStorage.start`),0===o.length||n[o[0]].logged_in)return void e(`${t}.removeAccountDataFromLocalStorage.early_return`);const i=o.reduce(((e,t)=>({...e,[t]:{logged_in:!0}})),Object.freeze({}));(0,a.r8)(i),e(`${t}.removeAccountDataFromLocalStorage.updated`)};const c=e=>{var t,n,o,i;return{id:e.id,username:e.username,email:e.email,fullName:e.full_name,imageMediumUrl:e.image_medium_url,imageLargeUrl:e.image_large_url||"",owners:e.owners||null,partner:e.partner?{bizContactEmail:(null===(t=e.partner)||void 0===t?void 0:t.contact_email)||"",bizOwnershipEmail:(null===(n=e.partner)||void 0===n?void 0:n.biz_ownership_email)||e.email||"",businessName:null===(o=e.partner)||void 0===o?void 0:o.business_name,isLinkedBusiness:null===(i=e.partner)||void 0===i?void 0:i.is_linked_business}:null,businesses:((null==e?void 0:e.businesses)||[]).map((t=>{var n,o,i,r;return{...c(t),partner:{bizContactEmail:(null===(n=t.partner)||void 0===n?void 0:n.contact_email)||"",bizOwnershipEmail:(null===(o=t.partner)||void 0===o?void 0:o.biz_ownership_email)||e.email||"",businessName:null===(i=t.partner)||void 0===i?void 0:i.business_name,isLinkedBusiness:null===(r=t.partner)||void 0===r?void 0:r.is_linked_business}}}))}},d=async e=>{var t;const n=await s(),i=e.id;n[i]||(n[i]={logged_in:!0});const a=Object.keys(n||{}),l=o.Z.create("MultiUserResource",{ids:a,fieldSetKey:"linked_partner"}),d=null===(t=(await l.callGet()).resource_response)||void 0===t?void 0:t.data;if(d&&Object.keys(d).length>0){return function(e){const t=e.every((e=>Boolean(e.fullName)));return r()(e,[t?"fullName":"username"])}(Object.keys(d).filter((e=>"success"===d[e].status)).map((e=>c(d[e].data))))}return[]}},467570:(e,t,n)=>{n.d(t,{$:()=>c,GH:()=>l,JF:()=>h,Jb:()=>p,MI:()=>g,a7:()=>f,sl:()=>u,we:()=>_});var o=n(935879),i=n(713930),r=n(816068),a=n(6637),s=n(539497);const l="274266067164",c=["public_profile","email","user_birthday","user_friends"],d=["picture.type(large)","id","first_name","last_name","email","gender","birthday"],u=e=>{e&&(0,s.dy)({event:"load_script_success",provider:"facebook"}),"undefined"!=typeof window&&window.FB?(e&&(0,s.dy)({event:"initialize_library",provider:"facebook"}),window.FB.init({appId:l,status:!0,xfbml:!0,version:"v2.7"})):e&&(0,s.dy)({event:"global_object_not_found",provider:"facebook"})},_=(e,t)=>{t&&(0,s.dy)({event:"load_script_start",provider:"facebook"});return(0,i.Z)((0,o.Z)(e),"FACEBOOK").then((()=>u(t)))},p=()=>new Promise((e=>{"undefined"!=typeof window&&window.FB&&window.FB.getLoginStatus(e)})),m=({userID:e,accessToken:t,data:{birthday:n,email:o,first_name:i,gender:a,last_name:s,picture:l}})=>({type:"facebook",facebook_id:e,facebook_token:t,birthday:n?(0,r.Z)(n):void 0,email:o,first_name:i,gender:a,image_url:l&&!l.data.is_silhouette?l.data.url:void 0,last_name:s});async function g(e){var t;const n=(null===(t=(await a.Z.create("ApiResource",{url:"/v3/facebook/profile_data/",data:{access_token:e,pii_safe_birthday:!0,fields:d.join(",")}}).callCreate()).resource_response)||void 0===t?void 0:t.data)||{};return{access_token:e,birthday:n.birthday,email:n.email,first_name:n.first_name,gender:n.gender,id:n.id,last_name:n.last_name,picture:n.picture}}const f=(e,t)=>new Promise(((n,o)=>{if("connected"!==e.status)return void o({status:e.status||"unknown"});const{userID:i,accessToken:r}=e.authResponse,a=e=>{n({creds:{facebook_id:i,facebook_token:r,facebook_autologin:(null==t?void 0:t.autologin)||!1},signupOptions:m({userID:i,accessToken:r,data:e})})};null!=t&&t.useSDK?window.FB.api(`/me?fields=${d.join(",")}`,a):g(r).then(a,o)})),h=()=>new Promise((e=>{window.FB.login(e,{scope:c.join(",")})})).then((e=>f(e)))},935879:(e,t,n)=>{n.d(t,{Z:()=>o});const o=e=>`//connect.facebook.net/${(e=>{const t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}})(e)}/sdk.js`},83969:(e,t,n)=>{n.d(t,{Fm:()=>a,OY:()=>l,PL:()=>d,Px:()=>s,mK:()=>u,ru:()=>c});var o=n(713930),i=n(966113),r=n(539497);const a=()=>{var e,t,n;return null===(e=window)||void 0===e||null===(t=e.google)||void 0===t||null===(n=t.accounts)||void 0===n?void 0:n.id},s=e=>(0,o.Z)("https://accounts.google.com/gsi/client",null!=e&&e.unsafe?null:"GSI"),l=({autoSelect:e,itpSupport:t},n)=>{var o;null===(o=a())||void 0===o||o.initialize({auto_select:null!=e&&e,client_id:i.Z.settings.GPLUS_CLIENT_ID,callback:n,cancel_on_tap_outside:!1,context:"use",itp_support:t})},c=({buttonRef:e,isDesktop:t})=>{const n=a();if(n&&e.current){const t=e.current.offsetWidth;n.renderButton(e.current,{size:"large",shape:"pill",text:"continue_with",theme:"outline",width:t+"px"})}else(0,r.My)((t?"unauth_web":"unauth_mweb")+".gsi_button.not_initialized")},d=e=>"auto"===e?"AUTO_LOGIN":e.startsWith("btn")?"SIGN_IN_WITH_GOOGLE_BUTTON":"ONE_TAP_PROMPT",u=e=>{switch(e){case"SIGN_IN_WITH_GOOGLE_BUTTON":return"gsi_btn";case"ONE_TAP_PROMPT":return"onetap_btn";default:return"other"}}},290148:(e,t,n)=>{n.d(t,{Ny:()=>c,ZP:()=>u,eD:()=>p,lp:()=>_});var o=n(794230),i=n(704115),r=n(78714),a=n(704177),s=n(966113),l=n(539497);const c=Object.freeze({SOFT_BANNED:0,RATE_LIMITED:1,LOGIN_ASSISTANCE:2,PASSWORD_RESET_SENT:3,PREVENT_FACEBOOK_REGISTER:4,PREVENT_GOOGLE_REGISTER:5,SUSPENDED:6});class d{static defaultLoginRedirectUrl(){return window.location.pathname===s.Z.settings.PASSWORD_RESET_URL||window.location.pathname===s.Z.settings.LOGIN_URL||window.location.pathname.startsWith(s.Z.settings.ADD_SECONDARY_ACCOUNT_PAGE)?"/":window.location.pathname+window.location.search}static defaultSocialLoginRedirectUrl(){return window.location.pathname.startsWith(s.Z.settings.ADD_SECONDARY_ACCOUNT_PAGE)?"/":window.location.pathname}static isExceedRecaptchaLocalLimit(){const e=a.ZP.localStorage.getItem("urh");if(e&&e.indexOf("|")>-1){const t=e.split("|");return 3===t.length&&(new Date).getTime()/1e3-parseInt(t[0],10)<=3600}return!1}static updateRecaptchaTimeStamp(){const e=a.ZP.localStorage.getItem("urh");let t=[];e&&(t=e.split("|"),3===t.length&&t.shift());const n=((new Date).getTime()/1e3).toString();t.push(n);const o=t.join("|");a.ZP.localStorage.setItem("urh",o)}static isFullyLoggedIn(e,t){return e&&1===t}static handleRedirect(e){if(!e){e="/";const t=(0,i.Z)();if(t){const n=t.next;n&&(e=n,delete t.next),e=(0,o.Z)(e,t)}}(0,r.Z)(e)}static handleRedirectWithFallbackWindowLocation(){this.handleRedirect(this.defaultLoginRedirectUrl())}static handleSignupRedirect(e,t){a.ZP.localStorage.setItem("signupTime",Date.now()),!t&&e&&"/"!==e?d.handleRedirect(e):d.handleRedirect("/")}static storeLoginCredentialsToBrowser(e){const t=window.navigator.credentials;if(t&&e.username_or_email)try{const n=new window.PasswordCredential({id:e.username_or_email,password:e.password});t.store(n).then((()=>{(0,l.My)("navigatorCredentials.store.success")}))}catch(n){(0,l.My)("navigatorCredentials.store.error")}}static handleLoginMfa(e,t,n){(0,l.My)("multi_step_login"),d.storeLoginCredentialsToBrowser(e),n?n(e,t):(0,l.My)("unauth.login.error.CLIENT_ERROR.null_mfa_handler")}}const u=d;function _(e){return e.facebook_id?"facebook":e.google_open_id_token?"google_one_tap":e.line_id_token?"line":e.username_or_email?"email":"other"}function p(e){return e.mfa_token?"mfa_token":e.mfa_resend?"mfa_resend":_(e)}},884732:(e,t,n)=>{n.d(t,{M3:()=>c,PE:()=>a,Q:()=>d,lv:()=>s,r8:()=>r,rl:()=>i,yW:()=>l});var o=n(957161);const i=()=>{const e=(0,o.qn)("MULTIPLE_ACCOUNTS");return e?JSON.parse(e):Object.freeze({})},r=e=>(0,o.Nh)("MULTIPLE_ACCOUNTS",JSON.stringify(e)),a=()=>!!(0,o.qn)("MULTIPLE_ACCOUNTS"),s=()=>Object.keys(i()).length,l=()=>{const e=(0,o.qn)("MULTIPLE_ACCOUNTS_GROUP");return e?JSON.parse(e):null},c=e=>(0,o.Nh)("MULTIPLE_ACCOUNTS_GROUP",JSON.stringify(e)),d=()=>({multipleAccountMap:i(),multipleAccountGroupId:l()})},45169:(e,t,n)=>{n.d(t,{E_:()=>c,Eh:()=>r,NN:()=>s,du:()=>l,yV:()=>a});var o=n(966113),i=n(693099);const r=(e,t)=>"DEPRECATED_CHECK_EXISTS"===t?("facebook_id"in e?"facebook":"google_open_id_token"in e&&"google")||"line_id_token"in e&&"line"||"email":"DEPRECATED_CHECK_TRUTHY"===t?e.facebook_id?"facebook":e.google_open_id_token?"google":e.line_id_token?"line":"email":e.type,a=e=>{const t=r(e,"DEPRECATED_CHECK_TRUTHY");return"google"===t?"google_one_tap":t},s=(e="")=>e in o.Z.settings.MINIMUM_AGE_BY_EU_COUNTRY,l=e=>i.rT.includes(e)||i.ZR.has(e)||s(e),c={GOOGLE:"g",FACEBOOK:"fb",PINTEREST:"p",APPLE:"apl",LINE:"ln",UNKNOWN:"unk"}},914772:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(701563),i=n(539497);const r=e=>(0,i.dy)({event:e,provider:"google"}),a=e=>(0,o.RP)("google_autologin",e),s=e=>(0,o.M3)("google_autologin",e),l=e=>{switch(e.type){case"loadScript":"start"===e.status?(r("start"),r("load_script_start"),s("autoLoginGoogleStart")):"success"===e.status?r("load_script_success"):r("load_script_failure");break;case"apiClient":e.valid?(r("initialize_library"),s("autoLoginGoogleInitEnd")):(a("noAccountFound"),r("global_object_not_found"));break;case"response":e.valid?r("receive_credential_response_from_provider"):a("noResponse");break;case"autologin":"start"===e.status?(r("pinterest_login_start"),(0,i.NC)("press_google_one_tap_other"),(0,o.M3)("google_autologin","autoLoginGoogleEnd"),(0,o.PA)("google_autologin")):"success"===e.status?(r("pinterest_login_success"),r("end")):(r("pinterest_login_failure"),r("end"));break;case"manualLoginAttempt":(0,i.NC)(e.fromConnectButton?"press_google_one_tap_button":"press_google_one_tap"),(0,o.PA)("google_autologin")}}},773285:(e,t,n)=>{n.d(t,{F:()=>r,a:()=>i});var o=n(425288);const{Provider:i,useHook:r}=(0,o.Z)("ExperimentContext")},383690:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(667294),i=n(773285);const r=()=>{const e=(0,i.F)();return(0,o.useCallback)((()=>{e.flush()}),[e])}},330102:(e,t,n)=>{n.d(t,{Dq:()=>m,JB:()=>Z,LG:()=>k,OJ:()=>I,PN:()=>O,TF:()=>N,VL:()=>R,YJ:()=>C,dO:()=>U,ko:()=>M,qs:()=>P,xA:()=>g,zj:()=>b});var o=n(411938),i=n(172071),r=n(966113),a=n(549872),s=n(887432),l=n(743413),c=n(161164),d=n(957161),u=n(3223);const _="dpm_pixel_login_event",p="dpm_pixel_new_user_event",m="dpm_pixel_rez_user_event",g="dpm_engaged_session_event",f="dentsu_pixel_login_event",h="dentsu_pixel_new_user_event",v="web_login",y="web_new_user",E={dpm_pixel_login_event:v,dentsu_pixel_login_event:v,dpm_pixel_new_user_event:y,dentsu_pixel_new_user_event:y,dpm_pixel_rez_user_event:"web_resurrections",dpm_engaged_session_event:"engaged_session"},w={NewUsers:{Admo:{Mobile:l.J3,Desktop:l.Y7},Flashtalking:{Mobile:"flashtalking-m-reg",Desktop:"flashtalking-d-reg"},Dentsu:{Mobile:h,Desktop:h},DPM:{Mobile:p,Desktop:p}},Logins:{Admo:{Mobile:l.gC,Desktop:l.bJ},Flashtalking:{Mobile:"flashtalking-m-login",Desktop:"flashtalking-d-login"},Dentsu:{Mobile:f,Desktop:f},DPM:{Mobile:_,Desktop:_}}},S={dpm:[_,p,m],dentsu:[f,h]},T=r.Z.settings.DATA_PLUS_MATH_EVENT_PIXEL;function A(e,t,n){i.Z.increment(`${e}_tracking_pixel`,1,{event_category:t,event_name:"All"}),"All"!==n&&i.Z.increment(`${e}_tracking_pixel`,1,{event_category:t,event_name:n})}const I=()=>(1e6*Math.random()).toString();function b(e){const t=document.createElement("iframe");for(const n in e)t.setAttribute(n,e[n]);return t}const P="pbm_shopping_bespoke",N=(e,t)=>{const n=e=>e.split("").map((e=>e.charCodeAt(0)));return t.split("").map(n).map((t=>n(e).reduce(((e,t)=>e^t),t))).map((e=>("0"+Number(e).toString(16)).substr(-2))).join("")},k=(e,t)=>{const n=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),o=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.floor((o-n)/864e5)};function L(e,t,n){const o=document.createElement("img"),{dpmUserIdString:i,dentsuUserIdString:r}=n;let l="";return i?l=(0,s.C)({origin:T,pixelEvent:t,userIdString:i}):r&&(l=(0,a.vF)(r,t)),o.height=1,o.width=1,o.style.display="none",o.id=e,o.src=l,o}function R(e,t,n,o,i,r="",a,s){const l=document.getElementById(t),c=document.getElementById(n);async function u(e,t,n,o,i,r,a){const l=document.getElementById(o)?document.getElementById(o):document.createElement("div"),c=document.createElement("img");c.height=1,c.width=1,c.style.display="none",c.id=t,c.src=i,l&&(l.id=o,l.appendChild(c));for(const s of S[a]){let e=(0,d.qn)(s);if(e){const t={dentsuUserIdString:"",dpmUserIdString:""};t["dentsu"===a?"dentsuUserIdString":"dpmUserIdString"]=r,e=e.split("#");const[n,o,i]=e,c=L(s,n,t);l&&(l.appendChild(c),A(a,o,i)),(0,d.L_)(s)}}var u;l&&(null===(u=document.body)||void 0===u||u.insertBefore(l,document.body.firstChild),s())}l||(c&&c.remove(),"complete"===document.readyState&&u(0,t,0,o,i,r,a),window.addEventListener("load",function e(t,n,o,i,r,a,s){return t=>{u(0,n,0,i,r,a,s),window.removeEventListener(t,e)}}(0,t,0,o,i,r,a)))}function O(e,t,n,o,i){function r(e,t,n,o){const r=document.getElementById(n)?document.getElementById(n):document.createElement("div"),a=document.createElement("img");var s;(a.height=1,a.width=1,a.style.display="none",a.id=t,a.src=o,r)&&(r.id=n,r.appendChild(a),null===(s=document.body)||void 0===s||s.insertBefore(r,document.body.firstChild),i())}document.getElementById(t)||("complete"===document.readyState&&r(0,t,n,o),window.addEventListener("load",function e(t,n,o,i){return t=>{r(0,n,o,i),window.removeEventListener(t,e)}}(0,t,n,o)))}function C(e,t,n,o="",i,r){if(document.getElementById(e))return;const a=E[e],l=(0,s.C)({origin:T,pixelEvent:a,userIdString:o});async function c(e,t,n){const o=document.getElementById(t)?document.getElementById(t):document.createElement("div"),i=document.createElement("img");if(i.height=1,i.width=1,i.style.display="none",i.id=e,i.src=n,o&&(o.id=t,o.appendChild(i)),o){var a;if(!document.getElementById(t))null===(a=document.body)||void 0===a||a.insertBefore(o,document.body.firstChild);r()}}"complete"===document.readyState&&c(e,n,l),window.addEventListener("load",function e(t,n,o){return i=>{c(t,n,o),window.removeEventListener(i,e)}}(e,n,l))}function x(e){const{pixelId:t,divId:n,url:o,eventCategory:i,eventName:r,onSendPixelSuccess:a}=e,s=E[t];if(s)(0,d.Nh)(t,`${s}#${i}#${r}`);else if("web_billing_complete"===t&&o){const e=document.getElementById(n)?document.getElementById(n):document.createElement("div"),t=document.createElement("img");var l;if(t.height=1,t.width=1,t.style.display="none",t.id="web_billing_complete",t.src=o,!document.getElementById(n))if(e)e.id=n,e.appendChild(t),null===(l=document.body)||void 0===l||l.insertBefore(e,document.body.firstChild),a&&a()}}function D(e,t,n,o,i,r){return a=>{x({pixelId:e,divId:t,url:n,eventCategory:o,eventName:i,onSendPixelSuccess:r}),window.removeEventListener(a,D)}}function U(e){const{pixelId:t,divId:n,url:o,eventCategory:i,eventName:r,onSendPixelSuccess:a}=e;"complete"===document.readyState?x({pixelId:t,divId:n,url:o,eventCategory:i,eventName:r,onSendPixelSuccess:a}):window.addEventListener("load",D(t,n,o,i,r,a))}const M=({eventCategory:e,deviceType:t,country:n,countryFromHostName:o,countryFromIp:i,regionFromIp:r})=>{(0,u.c_)({country:n,countryFromHostName:o,countryFromIp:i})&&(0,c.yP)({id:w[e].Admo[t],eventCategory:e,eventName:t}),(0,u.$r)({country:n,countryFromHostName:o,countryFromIp:i,regionFromIp:r})&&(0,c.jw)({id:w[e].Flashtalking[t],eventCategory:e,eventName:t}),(0,u.NR)(n,r)&&(0,c.EN)({pixelId:w[e].DPM[t],eventCategory:e,eventName:t}),(0,u.Fc)({country:n,countryFromHostName:o,countryFromIp:i})&&(0,c.Be)({pixelId:w[e].Dentsu[t],eventCategory:e,eventName:t})};function Z(e,t,n,i,r,a){(0,u.c_)({country:e,countryFromHostName:t,countryFromIp:n})&&((0,o.Z)(r,null,28)&&(0,c.X)({id:l.ay,eventName:"Mobile",eventCategory:"RezLogins"}),(0,c.yP)({id:l.me,eventCategory:"Logins",eventName:"LoggedInViews"}),(0,c.X)({id:l.Un,eventName:"Mobile"})),(0,u.$r)({country:e,countryFromHostName:t,countryFromIp:n,regionFromIp:i})&&(0,c.Kv)({id:"flashtalking-m-ses",eventName:"Mobile"}),(0,u.NR)(e,i)&&a&&r&&r.id&&((0,o.Z)(r,null,28)&&(0,c.EN)({pixelId:m,eventCategory:"RezLogins",eventName:"Mobile"}),(0,c.fh)({unauthId:a,userId:r.id}),(0,c.zW)({id:g,unauthId:a,userId:r.id,eventCategory:"EngagedSessions",eventName:"Mobile"})),(0,u.Fc)({country:e,countryFromHostName:t,countryFromIp:n})&&a&&r&&r.id&&(0,c.Xn)({unauthId:a,userId:r.id})}},3223:(e,t,n)=>{function o(e){if(e){const t=e.country,n=e.countryFromHostName,o=e.countryFromIp,i=e.regionFromIp,r=e.isBot;if(!("US"!==t&&"GB"!==t&&"US"!==n&&"GB"!==n&&"US"!==o&&"GB"!==o||"CA"===i||r&&"false"!==r))return!0}return!1}function i(e,t,n){return"US"===e&&"CA"!==t&&!n||"false"===n}function r(e){if(e){const t=e.country,n=e.countryFromHostName,o=e.countryFromIp,i=e.isBot;if(!("JP"!==t&&"JP"!==n&&"JP"!==o||i&&"false"!==i))return!0}return!1}function a(e){if(e){const t=e.country,n=e.countryFromHostName,o=e.countryFromIp,i=e.isBot;if(!("GB"!==t&&"GB"!==n&&"GB"!==o||i&&"false"!==i))return!0}return!1}function s(e){return 1===e||2===e||3===e||7===e||10===e||34===e||"US"===e||"GB"===e||"CA"===e||"FR"===e||"DE"===e||"BR"===e}function l(e){return 1===e||"US"===e}n.d(t,{$r:()=>o,Fc:()=>r,HX:()=>s,NR:()=>i,c_:()=>a,ew:()=>l})},276602:(e,t,n)=>{n.d(t,{EV:()=>a,Sb:()=>r,gD:()=>i});var o=n(425288);const{Consumer:i,Provider:r,useMaybeHook:a}=(0,o.Z)("pwtSurfaceContext")},991067:(e,t,n)=>{n.d(t,{Z:()=>a});const o=()=>{var e;return!(null===(e=window.performance)||void 0===e||!e.timing)};var i=n(985271),r=n(969853);function a(e){return!("desktop"===e&&!o())&&(!!i.Z&&(0,r.v)())}},226464:(e,t,n)=>{n.d(t,{KJ:()=>d,Rp:()=>c});const o={id:14,name:"own_profile"},i={id:15,name:"other_profile"},r={initial_app_load:{unauth:{board:{id:114,name:"board_page_interactive"},pin_closeup:{id:113,name:"pin_page_interactive"},other_profile:{id:115,name:"user_page_interactive"},topic:{id:119,name:"topic_page_interactive"},sterling_signup:{id:201,name:"sterling_signup_main_pageload"},sterling_login:{id:202,name:"sterling_login_main_pageload"}},auth:{bizhub:{id:607,name:"bizhub_pinteractive"},homefeed:{id:19,name:"home_feed_pinteractive"},sterling_reporting_details:{id:218,name:"sterling_reporting_details_pageload"},sterling_reporting_overview:{id:219,name:"sterling_reporting_overview_pageload"},sterling_ads_create:{id:221,name:"sterling_adscreate_main_pageload"},sterling_ads_duplicate:{id:206,name:"sterling_adsduplication_main_pageload"},sterling_ads_edit:{id:204,name:"sterling_adsedit_main_pageload"},sterling_billing_profile:{id:203,name:"sterling_billingprofile_main_pageload"},sterling_bulk_editor:{id:205,name:"sterling_bulkeditor_main_pageload"},sterling_pin_builder:{id:222,name:"sterling_adscreate_pinbuilder_pageload"},sterling_recommendations:{id:223,name:"sterling_recommendations_pageload"},product_details:{id:120,name:"product_details_interactive"}}},client_route_push:{unauth:{},auth:{bizhub:{id:608,name:"bizhub_page_render"},homefeed:{id:2,name:"home_feed_render"},search:{id:3,name:"search_feed_render"},search_tab:{id:25,name:"search_tab_render"},pin_closeup:{id:13,name:"pin_closeup_details"},product_details:{id:37,name:"product_details_render"},your_shop:{id:36,name:"your_shop_feed_render"},own_profile:o,other_profile:i}},client_route_replace:{unauth:{},auth:{own_profile:o,other_profile:i,product_details:{id:37,name:"product_details_render"}}}},a={client_route_push:{auth:{pin_closeup:{story_pin:{id:700,name:"story_pin_closeup"}}}}},s={board_picker:16,grid_bottom_spinner:12,facebook_autologin:500,google_autologin:501,story_pin_step:701},l=e=>{var t,n;const{navigationType:o,isAuthenticated:i,segment:s,surface:l}=e,c=i?"auth":"unauth",d=null===(t=a[o])||void 0===t||null===(n=t[c])||void 0===n?void 0:n[l];return s&&d&&d[s]||r[o][c][l]},c=e=>{if("stopwatch"===e.type)return s[e.name]||null;const t=l(e);return t?t.id:null},d=e=>{if("stopwatch"===e.type)return e.name;const{navigationType:t,isAuthenticated:n,segment:o,surface:i}=e,r=n?"auth":"unauth",a=l(e);return a?a.name:`${t}_${r}_${i}${o?"_"+o:""}`}},383434:(e,t,n)=>{n.d(t,{X:()=>r,v:()=>i});var o=n(7789);const i=(e,t)=>{o.DQ&&(e.style.outline=`10px solid ${t}`,e.style.outlineOffset="-30px")},r=e=>(t,...n)=>{o.DQ&&console.log("string"==typeof t?`[PWT:${e}] ${t}`:t,...n)}},317672:(e,t,n)=>{n.d(t,{F9:()=>d,LM:()=>l,VZ:()=>r,cQ:()=>u,rZ:()=>a});var o=n(790348),i=n(91885);const r=()=>"number"==typeof window.innerHeight&&"number"==typeof window.pageYOffset&&!!document.querySelector&&!!document.querySelectorAll,a=e=>e instanceof HTMLDivElement||e instanceof HTMLVideoElement?e.getBoundingClientRect():e.parentElement instanceof HTMLElement?e.parentElement.getBoundingClientRect():null,s=e=>{if(e instanceof HTMLImageElement)return e.src;if(e instanceof HTMLVideoElement)return e.attributes.poster.value;const t=((e.style||{}).backgroundImage||"").match(/^url\(["'](.*)["']\)$/);return t&&t[1]||null},l=()=>document.querySelector?document.querySelectorAll(i.wc).length:((0,o.H)("missing_document_query_selector"),0),c=(e,t)=>{const n=a(e);if(!n)return(0,o.H)("missing_client_rect"),!1;if(n.width<100&&n.height<100){if(e instanceof HTMLImageElement)return!1;const t=s(e);if(null!=t&&t.endsWith("svg"))return!1}return(({top:e,height:t},{foldY:n,pageYOffset:o})=>{const i=e+o;if(i>=n)return!1;const r=Math.min(t,n-i);return r>.5*t||r>.2*n})(n,t)},d=()=>{const e=(()=>{if(!document.querySelector)return(0,o.H)("missing_document_query_selector"),null;const e=document.querySelectorAll(i.wc);return e[e.length-1]||null})();if(!e)return!1;const t=window.innerHeight||0,n=window.pageYOffset||0;return e.getBoundingClientRect().top+n>=t},u=(e,t,n)=>{if(!document.querySelector)return(0,o.H)("missing_document_query_selector"),[];const r={foldY:window.innerHeight||0,pageYOffset:window.pageYOffset||0},a=[i.Wf,...e?[i.fF]:[],...t?[i.$N]:[]].join(","),l=[...document.querySelectorAll(a)];if(n){const e=[...document.querySelectorAll('div[data-test-id="board-section"]')],t=e=>{const n=[...e.children];!n.length&&e.style.backgroundImage?l.push(e):n.length&&n.forEach((e=>{t(e)}))};e.forEach((e=>{t(e)}))}return l.reduce(((e,n)=>{if((n instanceof HTMLImageElement||n instanceof HTMLDivElement||n instanceof HTMLVideoElement&&t)&&c(n,r)){const t=s(n);if(t){const o=(t||"").replace(/.*\//,"");return e.concat([{element:n,fileName:o}])}}return e}),[])}},91885:(e,t,n)=>{n.d(t,{$N:()=>l,Kb:()=>o,Wf:()=>a,fF:()=>s,wc:()=>r});const o="pwt-grid-item",i=['div[data-grid-item="true"]',"div.Grid__Item",`div[data-test-id="${o}"]`],r=i.join(","),a=i.map((e=>`${e} img`)).join(","),s=i.map((e=>`${e} div[style*=background-image]`)).join(","),l=i.map((e=>`${e} video`)).join(",")},969853:(e,t,n)=>{n.d(t,{Z:()=>m,v:()=>p});var o=n(667294),i=n(543059),r=n(35954),a=n(226464),s=n(22773),l=n(790348),c=n(276602),d=n(317672),u=n(383434);const _=(0,u.X)("GridProfiler"),p=()=>!!window.addEventListener&&!!window.removeEventListener&&(0,d.VZ)();function m({isAtEndOfFeed:e,pinData:t,includeBackgroundImages:n,includeVideos:p=!1,includeSections:m}){const g=(0,c.EV)(),f=null==g?void 0:g.id,h=null==g?void 0:g.setVisuallyCompleteResult,[v,y]=(0,o.useState)({status:"DISABLED"});(0,o.useEffect)((()=>{y(h?{status:"LAYOUT",failedCount:0,numOfItemsChecked:0}:{status:"DISABLED"})}),[f,h]),(0,o.useEffect)((()=>{if("DISABLED"!==v.status&&(0,i.ZP)(`GridVisuallyCompleteProfiler_${v.status}`),_("new status",v),"LAYOUT"===v.status){const e=((e,t)=>{const n=()=>{window.removeEventListener(e,n),t()};return window.addEventListener(e,n),()=>window.removeEventListener(e,n)})("scroll",(()=>{(0,i.ZP)("scrollDuringLayout")}));return()=>{e()}}return()=>{}}),[v.status]),(0,r.Z)((()=>{if(!g||!h)return;const{abort:o,metricId:i}=g;switch(v.status){case"LAYOUT":{const t=((e,t)=>{if(!t){const t=(0,d.LM)();if(t===e)return _("No new items, so skip the viewport-fill check."),{complete:!1,numOfItemsChecked:e};if(!(0,d.F9)())return _("Viewport may not be filled yet."),{complete:!1,numOfItemsChecked:t}}return{complete:!0}})(v.numOfItemsChecked,e);t.complete?y({status:"TIMING",failedCount:0,pinElements:(0,d.cQ)(n,p,m)}):500*v.failedCount>6e4?((0,l.A9)(`images.${(0,a.KJ)(i)}.visuallyComplete.maxLayoutAttempt`),o("visuallyComplete_layoutTimeout"),y({status:"DISABLED"})):y({...v,failedCount:v.failedCount+1,numOfItemsChecked:t.numOfItemsChecked});break}case"TIMING":{const e=(0,s.Cg)(),n=v.pinElements.length,r=[];let c=0,d=0,p=0;if(v.pinElements.forEach((({element:t,fileName:n})=>{const o=e.find((e=>e.name.endsWith(n)));o?o.responseEnd?(r.push(o),(0,u.v)(t,"green")):(p+=1,(0,u.v)(t,"blue")):t instanceof HTMLImageElement&&t.complete?(d+=1,(0,u.v)(t,"red")):(c+=1,(0,u.v)(t,"greenyellow"))})),c||p)100*v.failedCount>6e4?((0,l.A9)(`images.${(0,a.KJ)(i)}.visuallyComplete.maxAttempt`,{tags:{totalImageCount:n,incompleteCount:c,noTimingCount:d,noTimingResponseEndCount:p}}),o("visuallyComplete_timingTimeout"),y({status:"DISABLED"})):y({...v,failedCount:v.failedCount+1});else{if(_(`All ${r.length} images are fetched`),t&&t.length){const e=((e,t)=>{let n=0,o=0,i=0,r=0,a=0;return e=e.filter((e=>"pin"===e.type)),t.forEach(((t,s)=>{var l,c,d,u,_,p;const m=t.fileName.split(".")[0];let g;g=e[s],m!==(null===(l=g)||void 0===l?void 0:l.image_signature)&&(g=e.find((e=>m===(null==e?void 0:e.image_signature)))),void 0===g?a+=1:g.is_promoted||"PROMOTED_PIN"===(null===(c=g.recommendation_reason)||void 0===c?void 0:c.reason)||null!==(d=g)&&void 0!==d&&null!==(u=d.promoter)&&void 0!==u&&u.length?i+=1:null!==g.story_pin_data_id&&void 0!==g.story_pin_data_id?n+=1:null!==(_=g)&&void 0!==_&&null!==(p=_.videos)&&void 0!==p&&p.video_list?o+=1:r+=1})),{storyPinCount:n,videoCount:o,adCount:i,imageCount:r,unknownCount:a}})(t,v.pinElements);Object.entries(e).forEach((([e,t])=>{g.addBinaryAnnotation(e,t,"I16")})),(0,l.A9)(`${(0,a.KJ)(i)}.pinTypes`,{tags:e})}h({imageTimings:r}),y({status:"DISABLED"}),(0,l.A9)(`images.${(0,a.KJ)(i)}.visuallyComplete.complete`,{tags:{totalImageCount:n,noTimingCount:d}})}break}}}),(e=>("LAYOUT"===e.status?500:"TIMING"===e.status&&100)||null)(v))}},790348:(e,t,n)=>{n.d(t,{A9:()=>_,DG:()=>d,H:()=>p,S$:()=>m,iF:()=>u});var o=n(172071),i=n(383434),r=n(50286),a=n(7789);const s=(0,i.X)("logPwtStats");let l=null,c=!0;function d(e){l={browserName:e.userAgent.browserName,browserVersion:e.userAgent.browserVersion,deviceType:(0,r.Mq)(e),isAuthenticated:e.isAuthenticated,isBot:e.isBot,isSocialBot:e.isSocialBot}}const u=e=>{l&&(l.historyAction=e)},_=(e,t={sampleRate:1},n=!0)=>{const i=a.DQ?1:t.sampleRate;if(!l)return s("pwt.metrics_quality.no_context"),void o.Z.increment("pwt.metrics_quality.no_context",i,{eventName:e});const{browserName:r,browserVersion:c,deviceType:d,isBot:u,isSocialBot:_}=l,p=`pwt.${(_?"socialBot":u&&"bot")||"nonbot"}.metrics_quality.${d}.${e}`,m={...t.tags||{},browserName:r,browserVersion:(null==c?void 0:c.split(".")[0])||"0"},g=t.count;n&&(s(`${p}: ${"number"==typeof g?g:1}`),t.tags&&s(Object.entries(t.tags))),a.is||o.Z.count(p,"number"==typeof g?g:1,i,m)},p=(e,t)=>_(`ERROR.${null!=t&&t.action?t.action+".":""}${e}`,{tags:t}),m=({appLoadName:e,clientNavName:t},n)=>{if(l){const o="APP_VOLUME.";c?(_(o.concat(e),{tags:{browserSupportsPwtProfiler:!!n}}),c=!1):"PUSH"===l.historyAction&&_(o.concat(t),{tags:{browserSupportsPwtProfiler:!!n}})}else o.Z.increment("pwt.metrics_quality.no_context",1,{eventName:e.concat(`.${t}`)})}},543059:(e,t,n)=>{n.d(t,{Ao:()=>l,BA:()=>c,L8:()=>u,ZP:()=>_,at:()=>i,gQ:()=>s,tl:()=>d});var o=n(985271);const i="masonryPagination";let r={};const a=e=>` ${e}`,s=()=>{const e={};return Object.keys(r).forEach((t=>{(r[t]||[]).slice(0,3).forEach(((n,o)=>{e[o?`${t}_${o+1}`:t]=n}))})),e},l=(e,t)=>(r[e]||[]).filter((e=>e<t)).length,c=(e,t)=>l(e,t)>0,d=()=>{o.Z&&Object.keys(r).forEach((e=>((e,t)=>{const n=a(t);e.clearMarks(n),e.clearMeasures(n)})(o.Z,e))),r={}},u=e=>{o.Z&&(r[e]=(r[e]||[]).concat([o.Z.now()]),((e,t,n,o)=>{const i=a(t);e.measure(i,n,o)})(o.Z,e))},_=e=>{o.Z&&(r[e]=(r[e]||[]).concat([o.Z.now()]),((e,t)=>{const n=a(t);e.mark(n)})(o.Z,e))}},528961:(e,t,n)=>{n.d(t,{cC:()=>r,jy:()=>i,qr:()=>s,sk:()=>a});const o=e=>"number"==typeof e?Math.round(e):e,i=e=>({type:"I16",value:o(e)}),r=e=>({type:"I32",value:o(e)}),a=e=>({type:"STRING",value:e}),s=e=>({type:"BOOL",value:e})},638089:(e,t,n)=>{n.d(t,{ng:()=>h,rA:()=>y});var o=n(602738),i=n(226464),r=n(22773),a=n(156381),s=n(543059),l=n(528961);const c=(e,t)=>(e||[]).reduce(((e,n)=>({...e,[`experiment.${n}`]:(0,l.sk)(t(n))})),{}),d=(e,t)=>"number"==typeof t?e(t):null,u=e=>e.reduce(((e,t)=>e+t),0),_=(e,t)=>Object.keys(t).reduce(((n,o)=>({...n,[`${e}${o}`]:t[o]})),{}),p=e=>{if(!e.length)return{};const t=e.map((({startTime:e,requestStart:t,responseStart:n,responseEnd:o})=>{const i=t||e;return{startTime:e,requestStart:i,responseStart:n||i,responseEnd:o}})),n=u(t.map((e=>e.requestStart-e.startTime))),o=u(t.map((e=>e.responseStart-e.requestStart))),i=u(t.map((e=>e.responseEnd-e.responseStart))),r=n+o+i,a=u(e.map((e=>e.decodedBodySize||0)));return{decodedBodySize:(0,l.cC)((s=a,Number(Number(s/1024).toFixed(3)))),"duration.all":(0,l.cC)(r),"duration.requestStartToResponseStart":(0,l.cC)(o),"duration.responseStartToResponseEnd":(0,l.cC)(i),"duration.startToRequestStart":(0,l.cC)(n)};var s},m=e=>{const t=e.filter((e=>!!e.responseEnd));return{...e.length?{...p(t),"count.completed":(0,l.cC)(t.length)}:{},"count.all":(0,l.cC)(e.length)}},g=e=>{const t=["timeSecond1","timeSecond2","timeSecond3"],n={timeSecond1:{start:0,end:0,count:0},timeSecond2:{start:0,end:0,count:0},timeSecond3:{start:0,end:0,count:0}},o={script_deferred:[],external:[],visually_complete:[],script:[],css:[],video:[],image:[],xmlhttprequest:[],other:[]};if(e.length){const{requestStart:i,startTime:r}=e[0].timing,a=i||r;n.timeSecond1.start=a,n.timeSecond1.end=a+1e3,n.timeSecond2.start=a+1e3,n.timeSecond2.end=a+2e3,n.timeSecond3.start=a+2e3,n.timeSecond3.end=a+3e3,e.forEach((e=>{const{timing:i}=e;o[e.category]=o[e.category].concat([i]),e.isDeferred&&(o.script_deferred=o.script_deferred.concat([i])),e.isExternal&&(o.external=o.external.concat([i])),e.isVisuallyCompleteRequired&&(o.visually_complete=o.visually_complete.concat([i]));const{requestStart:r,startTime:a,responseEnd:s}=i,l=r||a;t.forEach((e=>{const{start:t,end:o}=n[e];(l>=t&&l<o||l<t&&s>t)&&(n[e].count+=1)}))}))}const i={..._("concurrentRequests.",Object.keys(n).reduce(((e,t)=>e={...e,[t]:(0,l.cC)(n[t].count)}),{}))};return{...Object.keys(o).reduce(((e,t)=>({...e,..._(`resource.${t}.`,m(o[t]))})),i)}},f=(e,t,n)=>{var a;const{devicePixelRatio:s,navigator:c,innerWidth:u,innerHeight:_,performance:p}=window,{deviceMemory:m,hardwareConcurrency:g,platform:f,userAgent:h,connection:v}=c,{memory:y}=p,{appType:E,appVersion:w,browserName:S,browserVersion:T,deviceType:A,isAppShell:I,isAuthenticated:b,isBot:P,isSocialBot:N,locale:k,osName:L,stageName:R}=t,O="desktop"===A?E||5:E||6;let C;const{navigationType:x}=e;let D=null;if("initial_app_load"===x){var U;C=1;const e=null===(U=(0,o.Z)("navigation")[0])||void 0===U?void 0:U.transferSize;D=e?parseFloat((.001*e).toFixed(1)):null}else C=4;return{"app.type":(0,l.jy)(O),"app.version":(0,l.sk)(w),"browser.name":(0,l.sk)(S),"browser.version":(0,l.sk)(T),"cpu.speed":(0,l.jy)(g),"device.memory":(0,l.jy)(m),"device.type":(0,l.jy)(0),"device.typeName":(0,l.sk)(A),"device.version":(0,l.sk)("unknown"),"pwt.cause":(0,l.jy)(C),"net.effectiveType":(0,l.sk)((null==v?void 0:v.effectiveType)||null),"net.downlink":(0,l.cC)(d((e=>10*Math.round(e/10)),null==v?void 0:v.downlink)),"net.downlinkMax":(0,l.cC)(d((e=>10*Math.round(e/10)),null==v?void 0:v.downlinkMax)),"net.rtt":(0,l.cC)(d((e=>10*Math.round(e/10)),null==v?void 0:v.rtt)),"net.speed":(0,l.cC)((0,r.Hv)(n,!1)),"pwt.result":(0,l.jy)(1),"view.type":(0,l.cC)(0),"viewport.height":(0,l.cC)(_||0),"viewport.width":(0,l.cC)(u||0),devicePixelRatio:(0,l.cC)(s||0),isAppShell:(0,l.qr)(I),isAuthenticated:(0,l.qr)(b),isBot:(0,l.qr)(P),isSocialBot:(0,l.qr)(N),locale:(0,l.sk)(k),osName:(0,l.sk)(L),...null!==D&&{htmlResponseSize:(0,l.cC)(D)},nextHopProtocol:(0,l.sk)((null===(a=(0,o.Z)("navigation")[0])||void 0===a?void 0:a.nextHopProtocol)||null),platform:(0,l.sk)(f||null),profilerVersion:(0,l.sk)("3"),pwtActionName:(0,l.jy)((0,i.Rp)(e)),stageName:(0,l.sk)(R),userAgent:(0,l.sk)(h),usedJSHeapSize:(0,l.cC)((null==y?void 0:y.usedJSHeapSize)||0),totalJSHeapSize:(0,l.cC)((null==y?void 0:y.totalJSHeapSize)||0),jsHeapSizeLimit:(0,l.cC)((null==y?void 0:y.jsHeapSizeLimit)||0)}},h=({annotateExperiments:e,metricId:t,pwtStaticContext:n,binaryAnnotations:o={},performanceResourceTimings:i=[]})=>({...c(e,n.getExperimentGroup),...f(t,n,i),...o,stopwatchVersion:(0,l.jy)(1)}),v=(e,t)=>{var n;const{navigator:o}=window,{serviceWorker:i}=o,{surface:r,navigationType:c,isAuthenticated:d}=e,{cumulativeLayoutShiftScore:_,longTaskDurations:p}=(0,a.v2)();return{...p.length?{"longTask.count":(0,l.cC)(p.length),"longTask.maxDuration":(0,l.cC)(Math.max(...p)),"longTask.totalDuration":(0,l.cC)(u(p))}:{},cumulativeLayoutShiftScore:(0,l.cC)(100*_),"masonry.paginationMarkCount":(0,l.cC)((0,s.Ao)(s.at,t)),"metricId.isAuthenticated":(0,l.qr)(d),"metricId.navigationType":(0,l.sk)(c),"metricId.surface":(0,l.sk)(r),resourceBufferClearedCount:(0,l.jy)((0,s.Ao)("resourceBufferCleared",t)),scrollDuringLayout:(0,l.qr)((0,s.BA)("scrollDuringLayout",t)),serviceWorker:(0,l.qr)(i?!!i.controller:null),serviceWorkerState:(0,l.sk)((null==i||null===(n=i.controller)||void 0===n?void 0:n.state)||null)}},y=({annotateExperiments:e,binaryAnnotations:t={},entries:n,metricId:o,performanceResources:i,pwtEndTime:r,pwtStaticContext:a})=>({...t,...g(i),...c(e,a.getExperimentGroup),...f(o,a,n),...v(o,r)})},860273:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(985271);const i=()=>{const[e]=o.Z?o.Z.getEntriesByType("navigation"):[];return e}},453821:(e,t,n)=>{n.d(t,{i:()=>o,p:()=>a});const o=({name:e,initiatorType:t})=>{switch(t){case"xmlhttprequest":return"xmlhttprequest";case"img":return"image";case"video":return"video";default:{const t=e.split("."),n=(t.length>1&&t.pop()||"").toLowerCase();return["js","mjs"].includes(n)?"script":"css"===n?"css":["mp4","m4v","mov","ts","m3u8"].includes(n)?"video":["bmp","gif","jpg","jpeg","png","tiff","webp","svg"].includes(n)?"image":"other"}}},i=e=>{const t=e.replace(new RegExp(`^${window.location.origin||""}`),""),n=document&&document.querySelector(`head > script[src='${t}']`);return!!n&&n.hasAttribute("defer")},r=e=>["pinimg","pinterest","pinterdev"].every((t=>!e.includes(`${t}`))),a=(e,t)=>{const n=o(e),{name:a}=e;return{category:n,isDeferred:"script"===n&&i(a),isExternal:r(a),isVisuallyCompleteRequired:"image"===n&&t.includes(a),timing:e}}},558775:(e,t,n)=>{n.d(t,{Z:()=>w});let o=null;const i=(e,t)=>(o=o||{results:[],context:t},o.results.push(e),o);var r=n(176532),a=n(7789),s=n(383434),l=n(226464),c=n(790348),d=n(860273),u=n(358864),_=n(602738),p=n(528961);const m=(e,t)=>Object.keys(e).reduce(((n,o)=>{const i=e[o];return i&&(n[o]={timestamp:t+i}),n}),{}),g=({span:e,timeOrigin:t})=>{return{id:e.id,parent_id:e.parentId||null,result:1,name:e.name,timestamp:t+e.startTime,duration:e.endTime-e.startTime,annotations:m(e.annotationMap,t),binary_annotations:(n=e.binaryAnnotationMap,Object.keys(n).reduce(((e,t)=>{const o=n[t];if(!o)return e;const{value:i,type:r}=o;return null==i?e:e.concat({name:t,value:i,annotation_type:r})}),[]))};var n},f=(e,{startTime:t,endTime:n,annotationMap:o,binaryAnnotationMap:i,parentId:r,traceId:a})=>({name:`pwt/${e}`,startTime:t,endTime:n,annotationMap:o,binaryAnnotationMap:i,parentId:r,id:a}),h=({annotations:e})=>e.reduce(((e,{key:t,timestamp:n})=>({...e,[`server_${t}`]:{timestamp:n}})),{}),v=(e,t)=>({...e,annotations:{...h(t),...e.annotations},binary_annotations:[...t.binary_annotations,...e.binary_annotations]}),y=({traceId:e,actionName:t,result:n,timeOrigin:o,serverDataToJoin:i})=>{let r=g({span:f(t,n),timeOrigin:o}),a=null;return i&&(r=v(r,i),a=((e,t,n)=>{var o;const i=(0,d.Z)();return(null==i?void 0:i.responseEnd)?v(g({span:{name:"html",startTime:0,endTime:(null==i?void 0:i.responseEnd)||1,annotationMap:{},binaryAnnotationMap:{nextHopProtocol:(0,p.sk)((null===(o=(0,_.Z)("navigation")[0])||void 0===o?void 0:o.nextHopProtocol)||null)},id:e.server_span_id||(0,u.Z)(),parentId:t},timeOrigin:n}),e):null})(i,e,o)),{trace_id:e,spans:[r,...a?[a]:[],...n.spans.map((e=>g({span:e,timeOrigin:o})))]}},E=(0,s.X)("reportResult");function w({metricId:e,pwtStaticContext:t,result:n,isAuth:o}){const{serverData:s}=t,d=(0,l.KJ)(e),u=`${n.type}.${d}`,_=`${n.type}.sampled.${d}`,p=void 0!==o&&{tags:{isAuth:o}}||void 0;if((0,c.A9)(n.reason?u.concat(`.${n.reason}`):u,p),(0,c.A9)(n.reason?_.concat(`.${n.reason}`):_,{...p,sampleRate:.5}),"COMPLETE"!==n.type)return void E(`Abort metric ${d}`,n);const m=null!==(g=window.performance)&&void 0!==g&&g.now?Date.now()-window.performance.now():"unknown";var g,f;if("unknown"===m)return E(`Unable to convert to absolute times for ${d} due to missing time origin`),void(0,c.A9)(`missingTimeOrigin.${d}`,p);if(a.is&&(window.PWT_LAB_DATA=i(n,t)),n.spans.length&&(n.spans=n.spans.map((e=>(e.parentId||e.id===n.traceId||"network_resources"===e.name||(e.parentId=n.traceId),e)))),!a.is){const o=e.navigationType&&"initial_app_load"===e.navigationType,i=n.traceId,l=y({traceId:i,actionName:d,result:n,timeOrigin:m,serverDataToJoin:o&&s||null});(0,r.Z)({type:"POST",url:"/_/_/trace/trace/",data:{report_data:JSON.stringify(l),report_context:JSON.stringify((f=t,{debugTrace:a.eD,locale:f.locale,stageName:f.stageName}))}}),E(`PinTrace ${d} will be available shortly: https://pintrace.pinadmin.com/zipkin/traces/${i.toString(16)}`,{duration:n.endTime-n.startTime,result:n,pwtStaticContext:t})}}},701563:(e,t,n)=>{n.d(t,{M3:()=>g,PA:()=>f,RP:()=>m,gq:()=>_});var o=n(729524),i=n(991067),r=n(543059),a=n(358864),s=n(558775),l=n(985271),c=n(638089),d=n(790348);const u={},_=(e,t)=>{t.forEach((t=>{u[t]=(({name:e,pwtStaticContext:t})=>{if(!l.Z||!(0,i.Z)())return null;const n={type:"stopwatch",name:e},r=[];let d=!0;return{abort:e=>{d&&(d=!1,(0,s.Z)({metricId:n,pwtStaticContext:t,result:{type:"ABORT",reason:e}}))},annotate:e=>{d&&r.push({label:e,timestamp:l.Z.now()})},stop:()=>{if(!d)return;d=!1;const e={type:"COMPLETE",traceId:(0,a.Z)(),startTime:0,endTime:l.Z.now(),spans:[],annotationMap:(0,o.Z)(r),binaryAnnotationMap:(0,c.ng)({metricId:n,pwtStaticContext:t})};(0,s.Z)({metricId:n,pwtStaticContext:t,result:e})}}})({name:t,pwtStaticContext:e})}))},p=e=>u[e],m=(e,t)=>{const n=p(e);if(n)try{n.abort(t)}catch(o){(0,d.H)("app_load_stopwatch_error",{name:e,result:"abort"})}},g=(e,t)=>{const n=p(e);n&&(n.annotate(t),(0,r.ZP)(`stopwatch_${e}_${t}`))},f=e=>{const t=p(e);if(t)try{t.stop()}catch(n){(0,d.H)("app_load_stopwatch_error",{name:e,result:"complete"})}}},729524:(e,t,n)=>{n.d(t,{Z:()=>o});const o=e=>{let t={};e.forEach((({label:e,timestamp:n})=>{t={...t,[e]:(t[e]||[]).concat([n])}}));let n=Object.freeze({});return Object.keys(t).forEach((e=>{(t[e]||[]).forEach(((t,o)=>{const i=o?`${e}_${o+1}`:e;n={...n,[i]:t}}))})),n}},156381:(e,t,n)=>{n.d(t,{Af:()=>f,Bn:()=>m,Kj:()=>_,PJ:()=>l,UQ:()=>h,Ux:()=>c,on:()=>a,v2:()=>d});var o=n(581341),i=n(169213);const r={cumulativeLayoutShiftScore:0,firstInputDelay:null,longTaskDurations:[],largestContentfulPaint:null,elementTimings:[]},a=()=>{r.longTaskDurations=[]},s=(0,o.Z)((()=>r.elementTimings)),l=()=>s.get(),c=e=>{e&&s.save(),r.elementTimings=[]},d=()=>r;let u=0;const _=()=>u;let p;const m=()=>p;let g;const f=()=>g,h=()=>{(0,i.Z)({type:"element",buffered:!0},(e=>{r.elementTimings=r.elementTimings.concat(e.getEntries().reduce(((e,{identifier:t,loadTime:n,renderTime:o})=>e.concat("string"==typeof t&&"number"==typeof n&&"number"==typeof o?[{identifier:t,loadTime:n,renderTime:o}]:[])),[]))})),(0,i.Z)({entryTypes:["longtask"]},(e=>{e.getEntries().map((e=>r.longTaskDurations.push(e.duration)))}),(()=>a())),(0,i.Z)({type:"first-input",buffered:!0},((e,t)=>{const n=e.getEntries()[0];n&&n.startTime&&n.processingStart&&(r.firstInputDelay={startTime:n.startTime,endTime:n.processingStart},g=r.firstInputDelay.startTime),t.disconnect()}),(()=>{r.firstInputDelay=null})),(0,i.Z)({type:"largest-contentful-paint",buffered:!0},(e=>{const t=e.getEntries(),n=t.length,o=t[n-1];o&&(u=n,r.largestContentfulPaint=o.renderTime||o.loadTime||null,p=o.renderTime||o.loadTime||null)})),(0,i.Z)({type:"layout-shift",buffered:!0},(e=>{e.getEntries().forEach((e=>{e.hadRecentInput||(r.cumulativeLayoutShiftScore+=e.value)}))}))}},581341:(e,t,n)=>{n.d(t,{Z:()=>o});const o=e=>{let t=null;return{get:()=>t||e(),save:()=>{t=e()}}}},169213:(e,t,n)=>{n.d(t,{Z:()=>o});const o=(e,t,n)=>{if(!window.PerformanceObserver)return null;try{const o=new window.PerformanceObserver(t);return o.observe(e),window.addEventListener("beforeunload",(()=>{o.disconnect()})),n&&window.addEventListener("popstate",(()=>{n()})),o}catch(o){return null}}},358864:(e,t,n)=>{function o(){let e="";for(let t=0;t<15;t+=1){e+="0123456789"[Math.floor(10*Math.random())]}return Number(e)}n.d(t,{Z:()=>o})},22773:(e,t,n)=>{n.d(t,{Cg:()=>g,Eg:()=>h,Hv:()=>y,LH:()=>v,MM:()=>E,X_:()=>_,y0:()=>f});var o=n(581341),i=n(169213),r=n(543059),a=n(602738),s=n(7789),l=n(453821),c=n(790348);let d;function u(){window.performance&&window.performance.clearResourceTimings&&((0,r.ZP)("resourceBufferCleared"),s.DQ&&console.info("Warning: Clearing resource timings in default buffer."),(0,c.A9)("resourceBufferSize",{count:(0,a.Z)("resource").length}),window.performance.clearResourceTimings())}const _=({size:e})=>{if(window.performance){window.PerformanceObserver?(d=(0,a.Z)("resource"),(0,i.Z)({entryTypes:["resource"]},(t=>{d=(d||[]).concat(t.getEntries()),d.length>e&&(d=d.slice(-e))}))):(window.addEventListener("popstate",(()=>{(0,a.Z)("resource").length>e&&u()})),window.performance.setResourceTimingBufferSize&&window.performance.setResourceTimingBufferSize(e));try{window.performance.onresourcetimingbufferfull=()=>{d||u()}}catch(t){}}},p=()=>d||(0,a.Z)("resource"),m=(0,o.Z)(p),g=p,f=()=>m.get(),h=e=>{e&&m.save(),d&&((0,c.A9)("customBufferSize",{count:d.length}),d=[]),u()},v=()=>({customBufferSize:d?d.length:0,defaultBufferSize:(0,a.Z)("resource").length}),y=(e,t=!0)=>{let n=0,o=0;const i=(r=e.filter((e=>t?!("image"!==(0,l.i)(e)||(e.responseEnd||(n+=1),e.transferSize||(o+=1),!e.responseEnd||!e.transferSize)):!!e.responseEnd&&!!e.transferSize)).map((e=>8*(e.transferSize||0)/((e.responseEnd-e.responseStart)/1e3)/1e3))).length?r.reduce(((e,t)=>e+t),0)/r.length:null;var r;return t&&(n>0&&(0,c.A9)("images.downloadSpeed.noResponseEnd",{tags:{count:n}},!1),o>0&&(0,c.A9)("images.downloadSpeed.transferSize",{tags:{count:o}},!1)),i},E=e=>{if(!e)return"unknown";const t=Math.floor(e/1e3);return t<1?"0-1":t<5?"1-5":t<10?"5-10":t<20?"10-20":t<40?"20-40":t<80?"40-80":"80_or_above"}},602738:(e,t,n)=>{function o(e){var t,n;return(null===(t=window)||void 0===t||null===(n=t.performance)||void 0===n?void 0:n.getEntriesByType)&&window.performance.getEntriesByType(e)||[]}n.d(t,{Z:()=>o})},985271:(e,t,n)=>{n.d(t,{Z:()=>o});const o=(i=window.performance)&&i.clearMarks&&i.clearMeasures&&i.clearResourceTimings&&i.getEntries&&i.getEntriesByName&&i.getEntriesByType&&i.mark&&i.measure&&i.now&&i.setResourceTimingBufferSize?i:null;var i},780280:(e,t,n)=>{n.d(t,{B:()=>u,LC:()=>c,P2:()=>l,fH:()=>d,gf:()=>_});var o=n(667294),i=n(608832),r=n(620707),a=n(785893);const s=(0,o.createContext)();function l({children:e,value:t}){const[n,l]=(0,o.useState)(t),c=(0,o.useMemo)((()=>({requestContext:n,updateRequestContext:e=>{const t={...n,...e};(0,r.Ak)(n,e)||l(t),(0,i.J)(t)}})),[n]);return(0,a.jsx)(s.Provider,{value:c,children:e})}const c=({children:e})=>{const t=(0,o.useContext)(s);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t.requestContext)},d=({children:e})=>{const t=(0,o.useContext)(s);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t.requestContext)};function u(){const e=(0,o.useContext)(s);if(!e)throw new Error("useRequestContext must be used within a RequestContextProvider");return e.requestContext}function _(){const e=(0,o.useContext)(s);if(!e)throw new Error("useUpdateRequestContext must be used within a RequestContextProvider");return e.updateRequestContext}},608832:(e,t,n)=>{let o;function i(e){o=e}function r(){return o}n.d(t,{J:()=>i,l:()=>r})},619277:(e,t,n)=>{n.d(t,{o$:()=>i,ty:()=>r,vE:()=>a});var o=n(425288);const{Provider:i,MaybeConsumer:r,useMaybeHook:a}=(0,o.Z)("inviteContext")},223815:(e,t,n)=>{n.d(t,{U:()=>a,Z:()=>s});var o=n(755742),i=n(785893);const r=()=>{},a=e=>{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()};function s({allowClickAndDrag:e,allowEsc:t,allowMediaPlay:n,allowScroll:s,children:l}){const c=e=>function(e,t){t&&e.keyCode===o.Z.ESCAPE||a(e)}(e,t);return(0,i.jsx)("div",{onAbort:a,onAnimationEnd:a,onAnimationIteration:a,onAnimationStart:a,onBlur:r,onCanPlay:n?r:a,onCanPlayThrough:a,onChange:a,onClick:e?r:a,onCompositionEnd:a,onCompositionStart:a,onCompositionUpdate:a,onContextMenu:a,onCopy:a,onCut:a,onDoubleClick:a,onDurationChange:a,onEmptied:a,onEncrypted:a,onEnded:a,onError:a,onFocus:r,onInput:a,onInvalid:a,onKeyDown:c,onKeyPress:c,onKeyUp:c,onLoad:a,onLoadedData:a,onLoadedMetadata:a,onLoadStart:a,onMouseDown:a,onMouseEnter:a,onMouseLeave:a,onMouseMove:e?r:a,onMouseOut:a,onMouseOver:a,onMouseUp:e?r:a,onPaste:a,onPause:a,onPlay:a,onPlaying:a,onProgress:a,onRateChange:a,onScroll:s?r:a,onSeeked:a,onSeeking:a,onSelect:a,onStalled:a,onSubmit:a,onSuspend:a,onTimeUpdate:a,onTouchCancel:a,onTouchEnd:e?r:a,onTouchMove:e?r:a,onTouchStart:e?r:a,onTransitionEnd:a,onVolumeChange:a,onWaiting:a,onWheel:a,children:l})}},957161:(e,t,n)=>{n.d(t,{L_:()=>i,Nh:()=>r,qn:()=>o});const o=(e,t=null)=>{try{return"undefined"!=typeof window&&window.localStorage.getItem(e)||t}catch(n){return console.error("Cannot access localStorage."),t}},i=e=>{try{if("undefined"==typeof window)return;window.localStorage.removeItem(e)}catch(t){console.error("Cannot access localStorage.")}},r=(e,t)=>{try{if("undefined"==typeof window)return;window.localStorage.setItem(e,t)}catch(n){console.error("Cannot access localStorage.")}}},161164:(e,t,n)=>{n.d(t,{X:()=>S,fh:()=>_,Xn:()=>v,c:()=>p,Um:()=>d,Kv:()=>f,jO:()=>u,zW:()=>m,yP:()=>T,EN:()=>g,Be:()=>E,KT:()=>w,jw:()=>h,o4:()=>y});var o=n(172071),i=n(957161),r=n(549872),a=n(38),s=n(887432),l=n(743413),c=n(180630);function d(){(0,c.W)(),(0,c.Z)("PageView",(()=>{o.Z.increment("fb_tracking_pixel",1,{event_category:"PageView",event_name:"AllViews"})})),(0,c.Z)("ViewContent",(()=>{o.Z.increment("fb_tracking_pixel",1,{event_category:"ViewContent",event_name:"AuthViews"})}))}function u(){!function(){function e(){const e=document.createElement("script");e.src="https://www.googletagmanager.com/gtag/js?id=AW-819016158";const t="gtag-id-1";function n(){window.dataLayer.push(arguments)}e.id=t,e.async=!0,document.getElementById(t)||document.body.insertBefore(e,document.body.firstChild),window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","AW-819016158"),n("event","page_view",{send_to:"AW-819016158"})}"complete"===document.readyState&&e(),window.addEventListener("load",e)}()}function _(e){if(e){const t=e.unauthId,n=e.userId;t&&n&&((0,i.qn)("dpm_pixel_login_event")?(0,s.FB)(t,n,(()=>{o.Z.increment("dpm_tracking_pixel",1,{event_category:"PageView",event_name:"AllViews"}),o.Z.increment("dpm_tracking_pixel",1,{event_category:"PageView",event_name:"AuthViews"})})):(0,s.FB)(t,n,(()=>{o.Z.increment("dpm_tracking_pixel",1,{event_category:"PageView",event_name:"AllViews"}),o.Z.increment("dpm_tracking_pixel",1,{event_category:"PageView",event_name:"AuthViews"}),o.Z.increment("dpm_tracking_pixel",1,{event_category:"PageView",event_name:"UniqueViews"})})))}}function p(e){if(e){const t=e.id,n=e.unauthId,i=e.userId,r=e.eventCategory,a=e.eventName;t&&r&&a&&n&&i&&(0,s.ZY)(n,i,t,(()=>{o.Z.increment("dpm_tracking_pixel",1,{event_category:r,event_name:a}),o.Z.increment("dpm_tracking_pixel",1,{event_category:r,event_name:"All"})}))}}function m(e){if(e){const t=e.id,n=e.unauthId,i=e.userId,r=e.eventCategory,a=e.eventName;t&&r&&a&&n&&i&&setTimeout((()=>{(0,s.ZY)(n,i,t,(()=>{o.Z.increment("dpm_tracking_pixel",1,{event_category:r,event_name:a}),o.Z.increment("dpm_tracking_pixel",1,{event_category:r,event_name:"All"})}))}),6e4)}}function g(e){if(e){const t=e.pixelId,n=e.userId?e.userId:"",i=e.eventCategory,r=e.eventName;t&&i&&r&&(0,s.l8)(t,n,i,r,(()=>{o.Z.increment("dpm_tracking_pixel",1,{event_category:i,event_name:"All"}),"All"!==r&&o.Z.increment("dpm_tracking_pixel",1,{event_category:i,event_name:r})}))}}function f(e){if(e){const t=e.id,n=e.eventName;t&&n&&(0,a.VC)(t,(()=>{o.Z.increment("flashtalking_tracking_pixel",1,{event_category:"PageView",event_name:"AllViews"}),o.Z.increment("flashtalking_tracking_pixel",1,{event_category:"PageView",event_name:n})}))}}function h(e){if(e){const t=e.id,n=e.eventCategory,i=e.eventName;t&&n&&i&&(0,a.Rs)(t,n,i,(()=>{o.Z.increment("flashtalking_tracking_pixel",1,{event_category:n,event_name:"All"}),"All"!==i&&o.Z.increment("flashtalking_tracking_pixel",1,{event_category:n,event_name:i})}))}}function v(e){if(e){const t=e.unauthId,n=e.userId;t&&n&&(0,r.IV)(t,n,(()=>{o.Z.increment("dentsu_tracking_pixel",1,{event_category:"PageView",event_name:"AllViews"}),o.Z.increment("dentsu_tracking_pixel",1,{event_category:"PageView",event_name:"AuthViews"})}))}}function y(e){if(e){const t=e.unauthId;t&&(0,r.Ob)(t,(()=>{o.Z.increment("dentsu_tracking_pixel",1,{event_category:"PageView",event_name:"AllViews"}),o.Z.increment("dentsu_tracking_pixel",1,{event_category:"PageView",event_name:"UnAuthViews"})}))}}function E(e){if(e){const t=e.pixelId,n=e.eventCategory,o=e.eventName;t&&n&&o&&(0,r.sX)(t,n,o)}}function w(){(0,r.Ii)((()=>{o.Z.increment("dentsu_tracking_pixel",1,{event_category:"PageViews (Facebook)",event_name:"AllViews"})}))}function S(e){if(e){const t=e.id,n=e.eventName,i=e.eventCategory?e.eventCategory:"PageView";t&&n&&(0,l.lv)(t,(()=>{o.Z.increment("admo_tracking_pixel",1,{event_category:i,event_name:"AllViews"}),o.Z.increment("admo_tracking_pixel",1,{event_category:i,event_name:n})}))}}function T(e){if(e){const t=e.id,n=e.eventCategory,o=e.eventName;t&&n&&o&&(0,l.BG)(t,n,o)}}},700380:(e,t,n)=>{function o(e,t){let n;const o=(...o)=>{n||(e(...o),n=setTimeout((()=>n=null),t))};return o.cancel=()=>{void 0!==n&&clearTimeout(n)},o}n.d(t,{Z:()=>o})},250059:(e,t,n)=>{n.d(t,{Z:()=>o});const o=e=>e?"string"==typeof e?e:e.pathname?e.pathname:"":""},149230:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(954931);const i=({url:e})=>!(!e||!e.match(/^https{0,1}:\/\//)||(0,o.Z)(e))},508847:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(567831);const i=(e,t)=>0===e.lastIndexOf(t,0),r=({url:e})=>{const t=(0,o.Z)("/");return i(e,t)?e.substr(t.length-1):e}},50286:(e,t,n)=>{n.d(t,{HG:()=>l,Mq:()=>i,Wb:()=>s,ZP:()=>c,ml:()=>a});var o=n(780280);function i(e){const{isMobile:t,isTablet:n}=e.userAgent;return n?"tablet":t?"phone":"desktop"}const r=()=>i((0,o.B)()),a=()=>"phone"===r(),s=()=>"tablet"===r(),l=()=>"desktop"===r(),c=r},35954:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(667294);const i=(e,t)=>{const n=(0,o.useRef)((()=>{}));(0,o.useEffect)((()=>{n.current=e}),[e]),(0,o.useEffect)((()=>{if(null===t)return()=>{};const e=setInterval((()=>n.current()),t);return()=>clearInterval(e)}),[t])}},348584:(e,t,n)=>{n.d(t,{D:()=>l,Z:()=>c});var o=n(667294),i=n(826067),r=n(276775),a=n(785893);const s=(0,o.createContext)(!1);function l({children:e}){const t=(()=>{var e,t;const n=(0,r.useLocation)();return(null===(e=(0,r.useHistory)().location.state)||void 0===e?void 0:e.isAppFactoryOAuth)||(null!==(t=(0,i.mB)(n.search).next)&&void 0!==t?t:"").startsWith("/app-factory-oauth/")})(),[n,l]=(0,o.useState)(t);return(0,o.useEffect)((()=>{t&&l(!0)}),[t]),(0,a.jsx)(s.Provider,{value:n,children:e})}function c(){return(0,o.useContext)(s)}},43760:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(768559),i=n(102500),r=n(48714);function a({url:e,pinId:t,pin:n,location:a,auxData:s}){var l,c;const d={check_only:!0,client_tracking_params:n?(0,o.Z)({boardUrl:null===(l=n.board)||void 0===l?void 0:l.url,callToCreateSourcePinId:n.call_to_create_source_pin_id,location:a,pinId:n.id,pinnerUserName:null===(c=n.pinner)||void 0===c?void 0:c.username,storyPinDataId:n.story_pin_data_id,trackingParams:n.tracking_params,trackingParamsMap:n.tracking_params_map}):void 0,pin_id:n?n.id:t,url:e,aux_data:JSON.stringify(s)};(0,i.Z)(d).callGet().then((i=>{if(i&&i.resource_response&&!i.resource_response.error){const{resource_response:e}=i,{redirect_status:t,url:n}=e.data;if(!["blocked","suspicious","porn"].includes(t)){if(window.Windows.Foundation&&window.Windows.System&&window.Windows.System.Launcher&&window.Windows.System.Launcher.launchUriAsync){const e=new window.Windows.Foundation.Uri(n);window.Windows.System.Launcher.launchUriAsync(e)}return}}if(n){var l,c;const i=(0,o.Z)({boardUrl:null===(l=n.board)||void 0===l?void 0:l.url,callToCreateSourcePinId:n.call_to_create_source_pin_id,location:a,pinId:n.id,pinnerUserName:null===(c=n.pinner)||void 0===c?void 0:c.username,storyPinDataId:n.story_pin_data_id,trackingParams:n.tracking_params,trackingParamsMap:n.tracking_params_map});(0,r.Gj)({url:e,pinId:t,csrId:null,clientTrackingParams:i,auxData:s})}else(0,r.Gj)({url:e,pinId:t})}))}},307640:(e,t,n)=>{n.d(t,{UP:()=>s,Wv:()=>i,ZF:()=>o,zI:()=>r,zl:()=>a});const o=["AuthHomefeed","CloseupRelatedProducts","FollowingFeedGrid","RelatedPinGrid","RelatedProductsFeed","SearchItem"],i=["ArticleProductsStory","CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","RelatedProductsFeed","UserProfilePinGrid","ShoppingGridShippedMetadataWithVisitButton"],r=[...i,"ShoppingGridShippedMetadata","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ProductPinsFeed","ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid"],a=["ShoppingSquareGridDomain","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingGridShippedMetadataWithVisitButton"],s=["BaseBoardPinGrid"]},643074:(e,t,n)=>{n.d(t,{Z:()=>h,s:()=>f});var o=n(667294),i=n(121151),r=n(966113),a=n(608575),s=n(898781),l=n(349700),c=n(883119),d=n(785893);const u=()=>{var e;const t=(0,s.ZP)(),{dismissWarning:n}=null!==(e=f())&&void 0!==e?e:{};return(0,d.jsx)(c.xu,{paddingX:3,children:(0,d.jsx)(c.zx,{fullWidth:!0,color:"red",onClick:n,text:t._('Okay', 'Dismiss a modal stating that clicking through to a link has been blocked', 'Dismiss a modal stating that clicking through to a link has been blocked')})})},_=()=>{const e=(0,s.ZP)();return(0,d.jsx)(c.xv,{inline:!0,weight:"bold",children:(0,d.jsx)(c.rU,{target:"blank",href:r.Z.settings.POLICY_COMMUNITY_GUIDELINES_SPAM_AND_QUALITY,inline:!0,underline:"hover",children:e._('Learn more', 'Link text leading to policy website', 'Link text leading to policy website')})})},p=({message:e,sanitized_url:t})=>{var n;const o=(0,s.ZP)(),{dismissWarning:r}=null!==(n=f())&&void 0!==n?n:{};return(0,d.jsx)(i.ZP,{accessibilityModalLabel:o._('We have blocked this link', 'Modal label when clicking a spammy link', 'Modal label when clicking a spammy link'),onDismiss:r,heading:o._('Heads up!', 'Modal heading when clicking through to a link has been blocked', 'Modal heading when clicking through to a link has been blocked'),footer:(0,d.jsx)(u,{}),children:(0,d.jsxs)(c.xu,{padding:6,children:[(0,d.jsx)(c.xv,{children:(0,l.nk)("{{ message }} {{ learnMore }}",{message:e,learnMore:(0,d.jsx)(_,{},"learnMoreLink")})}),(0,d.jsxs)(c.xu,{alignItems:"center",display:"flex",marginTop:4,children:[(0,d.jsx)(c.xu,{marginEnd:3,children:(0,d.jsx)(c.JO,{accessibilityLabel:o._('Blocked link address', 'Icon label preceding a block url', 'Icon label preceding a block url'),color:"error",icon:"report",inline:!0,size:24})}),(0,d.jsx)(c.xv,{inline:!0,lineClamp:1,weight:"bold",children:a.parse(t).hostname})]})]})})};var m=n(425288);const{Provider:g,useMaybeHook:f}=(0,m.Z)("SpammyClickthrough");function h({children:e}){const[t,n]=(0,o.useState)(null),i=(0,o.useCallback)((()=>{n(null)}),[n]),r=(0,o.useCallback)((e=>{n(e)}),[n]),a=(0,o.useMemo)((()=>({dismissWarning:i,showWarning:r})),[i,r]);return(0,d.jsxs)(g,{value:a,children:[t&&(0,d.jsx)(p,{...t}),e]})}},597897:(e,t,n)=>{n.d(t,{U:()=>r,Z:()=>a});var o=n(667294);const i=(0,o.createContext)();function r(){return(0,o.useContext)(i)}const a=i}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/23239-d185e095fbc74783.mjs.map