(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[11230,51879,83975,13047,95587,24661,90984,31551,15115,26067,72826,924,98462,29825,76532,99961,85330,80773,10516,8953,68919,35972,45670,76030,69965,40307,26467,58638,2003],{361600:e=>{var t,n,i,r,o,a,s,l,c={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"inviteCode"},n={defaultValue:null,kind:"LocalArgument",name:"inviteType"},i={defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"AllShareOptionsUtilityMutation",selections:[{alias:null,args:r=[{fields:[{kind:"Variable",name:"inviteCode",variableName:"inviteCode"},{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteSentExternalMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"fromUserId",storageKey:null}],storageKey:null}],type:"V3InviteSentExternal",abstractKey:null},{kind:"InlineFragment",selections:[o,l={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"InvalidParameters",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,t,i],kind:"Operation",name:"AllShareOptionsUtilityMutation",selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"v3InviteSentExternalMutation",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[a,s,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3InviteSentExternal",abstractKey:null},{kind:"InlineFragment",selections:[l],type:"InvalidParameters",abstractKey:null}],storageKey:null}]},params:{id:"1705ed8db84c79dc12b83cafd1757686fa888571bbecd699295d011693ddd4cf",metadata:{},name:"AllShareOptionsUtilityMutation",operationKind:"mutation",text:null}};c.hash="7e73aab163ac599c2451f08566f2eb15",e.exports=c},865107:e=>{var t,n,i,r,o={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"inviteType"},{defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r={alias:null,args:null,concreteType:"InviteUserExternal",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inviteCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inviteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[r],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}]},params:{id:"6312848b4bb08588587683a04a42e4d0333e2e986fcab0cef4ed200786d3f5d9",metadata:{},name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",operationKind:"query",text:null}};o.hash="bc8b32c56a4a58de585c9a05ae69bd9c",e.exports=o},248639:e=>{var t,n,i,r,o,a={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"NuxHomefeedLoaderQuery",selections:[{alias:null,args:t=[{kind:"Literal",name:"includeFavoritedTopics",value:!0}],concreteType:null,kind:"LinkedField",name:"v3OrientationTopicsQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"data",plural:!1,selections:[{kind:"InlineFragment",selections:[n,{alias:null,args:i=[{kind:"Literal",name:"first",value:105}],concreteType:"V3OrientationTopicsDataConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"V3OrientationTopicsDataEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"node",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"isFollowed",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"connection(first:105)"}],type:"V3OrientationTopicsDataConnectionContainer",abstractKey:null}],storageKey:null}],type:"V3OrientationTopics",abstractKey:null}],storageKey:"v3OrientationTopicsQuery(includeFavoritedTopics:true)"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"NuxHomefeedLoaderQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3OrientationTopicsQuery",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"data",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:i,concreteType:"V3OrientationTopicsDataConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"V3OrientationTopicsDataEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"node",plural:!1,selections:[r,o,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"connection(first:105)"}],type:"V3OrientationTopicsDataConnectionContainer",abstractKey:null}],storageKey:null}],type:"V3OrientationTopics",abstractKey:null}],storageKey:"v3OrientationTopicsQuery(includeFavoritedTopics:true)"}]},params:{id:"a9bf783b9d875a30fe98739f3ffca410758baf5ba070ca4d8f27327fc986fbf1",metadata:{},name:"NuxHomefeedLoaderQuery",operationKind:"query",text:null}};a.hash="aef2f8a5b90b995cabe88f9752f12af1",e.exports=a},906587:e=>{var t,n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinRecipe_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"474x")'},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"diets",storageKey:null},{alias:null,args:null,concreteType:"CookTimes",kind:"LinkedField",name:"cookTimes",plural:!1,selections:[{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"cook",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"m",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"total",plural:!1,selections:t,storageKey:null}],storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},n],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"summary",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="72951c99039e6492a3eb8e9fcb5a22c3",e.exports=i},826162:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SearchDebugInfo_searchUsersConnection",selections:[{alias:null,args:null,kind:"ScalarField",name:"debugData",storageKey:null}],type:"V3SearchUsersWithStoriesDataConnection",abstractKey:null,hash:"aeb48360ee5d513adb09a327107f8558"};e.exports=t},276667:e=>{var t,n,i,r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeeMoreButton_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},i,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null}],storageKey:null},t,{args:null,kind:"FragmentSpread",name:"VaseSection_pin"}],type:"Pin",abstractKey:null};r.hash="64effb4f1e63deaf1d53b77187d996de",e.exports=r},584818:e=>{var t,n,i,r,o,a,s,l,c,d,u={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TodayArticleModule",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"contentPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"images170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o=[n={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"170x")'},{alias:"images236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"236x")'},{alias:"images736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:d=[t,a={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},c={alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[t,l,s,a,c],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pageCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"contentPinOfficialUser",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedSource",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headerPinId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageUrls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isProductPinFeed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showCreator",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"videoPin",plural:!1,selections:[t,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},i,r],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"TodayArticle",abstractKey:null};u.hash="3afdada2f3d905a39bf4a6d5bf55a160",e.exports=u},133132:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicImageWithText_topic",selections:[{alias:"background_color",args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"follower_count",args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Interest",abstractKey:null,hash:"b5b71fb4390c1d3835e468a25f687669"};e.exports=t},964820:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicRepFragment_topic",selections:[{alias:"is_followed",args:null,kind:"ScalarField",name:"isFollowed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"TopicImageWithText_topic"}],type:"Interest",abstractKey:null,hash:"e5a0b7dce2aa2313e4cf2c9871cbedf7"};e.exports=t},12617:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthDesktopContextMenu_pin",selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImagesFragment_pin"}],type:"Pin",abstractKey:null};n.hash="6cc486603fe4bb19b18741c21346a49b",e.exports=n},167074:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthMobileContextMenu_pin",selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImagesFragment_pin"}],type:"Pin",abstractKey:null};n.hash="74f28c48f3a5ddb4a53f101389981c63",e.exports=n},830574:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedFiltersContext_oneBarModules",selections:[t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"moduleType",storageKey:null},{alias:null,args:null,concreteType:"OneBarModuleAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,concreteType:"FilterOption",kind:"LinkedField",name:"filters",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isSelected",storageKey:null},t,{alias:null,args:null,concreteType:"OneBarModuleDisplay",kind:"LinkedField",name:"display",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayText",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"OneBarModuleAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"feedUrl",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"OneBarModule",abstractKey:null};n.hash="92b841173868ce353dd00b5fce287546",e.exports=n},85934:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseAnnotations_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"}],type:"Pin",abstractKey:null,hash:"594237c2ea6ccfb8bbc0e3e8c62cac9f"};e.exports=t},877821:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseSection_pin",selections:[{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"}],type:"Pin",abstractKey:null,hash:"5645b1c5850647c98e4d2fefbb484bf4"};e.exports=t},569772:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useAnnotationsWithLinksFragment_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"35075da6e1f4b526ac4314727015c44d"};e.exports=t},96795:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinImagesFragment_pin",selections:[{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"564x")'},{alias:"imageSpec_75x75",args:[{kind:"Literal",name:"spec",value:"75x75"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"75x75")'},{alias:"imageSpec_45x45",args:[{kind:"Literal",name:"spec",value:"45x45"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"45x45")'},{alias:"imageSpec_70x70",args:[{kind:"Literal",name:"spec",value:"70x70"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"70x70")'},{alias:"imageSpec_432x292",args:[{kind:"Literal",name:"spec",value:"432x292"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"432x292")'},{alias:"imageSpec_90x90",args:[{kind:"Literal",name:"spec",value:"90x90"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"90x90")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"170x")'},{alias:"imageSpec_237x",args:[{kind:"Literal",name:"spec",value:"237x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"237x")'},{alias:"imageSpec_192x",args:[{kind:"Literal",name:"spec",value:"192x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"192x")'},{alias:"imageSpec_640x",args:[{kind:"Literal",name:"spec",value:"640x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"640x")'},{alias:"imageSpec_750x",args:[{kind:"Literal",name:"spec",value:"750x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"750x")'},{alias:"imageSpec_345x",args:[{kind:"Literal",name:"spec",value:"345x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"345x")'},{alias:"imageSpec_70x",args:[{kind:"Literal",name:"spec",value:"70x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"70x")'},{alias:"imageSpec_400x",args:[{kind:"Literal",name:"spec",value:"400x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"400x")'},{alias:"imageSpec_200x",args:[{kind:"Literal",name:"spec",value:"200x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"200x")'},{alias:"imageSpec_216x146",args:[{kind:"Literal",name:"spec",value:"216x146"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"216x146")'},{alias:"imageSpec_150x150",args:[{kind:"Literal",name:"spec",value:"150x150"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"150x150")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"236x")'},{alias:"imageSpec_200x150",args:[{kind:"Literal",name:"spec",value:"200x150"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"200x150")'},{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"60x60")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"736x")'},{alias:"imageSpec_290x",args:[{kind:"Literal",name:"spec",value:"290x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"290x")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_600x",args:[{kind:"Literal",name:"spec",value:"600x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"600x")'},{alias:"imageSpec_550x",args:[{kind:"Literal",name:"spec",value:"550x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"550x")'},{alias:"imageSpec_30x30",args:[{kind:"Literal",name:"spec",value:"30x30"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"30x30")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"474x")'},{alias:"imageSpec_1200x",args:[{kind:"Literal",name:"spec",value:"1200x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"1200x")'},{alias:"imageSpec_222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"222x")'},{alias:"imageSpec_400x300",args:[{kind:"Literal",name:"spec",value:"400x300"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"400x300")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"orig")'}],type:"Pin",abstractKey:null};n.hash="3ac137df51d06ed79fb6f1d38372ff01",e.exports=n},110767:e=>{var t,n,i,r,o,a,s,l={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"useUnauthContextMenuQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"UnauthDesktopContextMenu_pin"},{args:null,kind:"FragmentSpread",name:"UnauthMobileContextMenu_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"useUnauthContextMenuQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:o=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:o,storageKey:null},r],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s=[{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},i,a,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"564x")'},{alias:"imageSpec_75x75",args:[{kind:"Literal",name:"spec",value:"75x75"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"75x75")'},{alias:"imageSpec_45x45",args:[{kind:"Literal",name:"spec",value:"45x45"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"45x45")'},{alias:"imageSpec_70x70",args:[{kind:"Literal",name:"spec",value:"70x70"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"70x70")'},{alias:"imageSpec_432x292",args:[{kind:"Literal",name:"spec",value:"432x292"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"432x292")'},{alias:"imageSpec_90x90",args:[{kind:"Literal",name:"spec",value:"90x90"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"90x90")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"170x")'},{alias:"imageSpec_237x",args:[{kind:"Literal",name:"spec",value:"237x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"237x")'},{alias:"imageSpec_192x",args:[{kind:"Literal",name:"spec",value:"192x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"192x")'},{alias:"imageSpec_640x",args:[{kind:"Literal",name:"spec",value:"640x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"640x")'},{alias:"imageSpec_750x",args:[{kind:"Literal",name:"spec",value:"750x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"750x")'},{alias:"imageSpec_345x",args:[{kind:"Literal",name:"spec",value:"345x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"345x")'},{alias:"imageSpec_70x",args:[{kind:"Literal",name:"spec",value:"70x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"70x")'},{alias:"imageSpec_400x",args:[{kind:"Literal",name:"spec",value:"400x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"400x")'},{alias:"imageSpec_200x",args:[{kind:"Literal",name:"spec",value:"200x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"200x")'},{alias:"imageSpec_216x146",args:[{kind:"Literal",name:"spec",value:"216x146"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"216x146")'},{alias:"imageSpec_150x150",args:[{kind:"Literal",name:"spec",value:"150x150"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"150x150")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"236x")'},{alias:"imageSpec_200x150",args:[{kind:"Literal",name:"spec",value:"200x150"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"200x150")'},{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"60x60")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"736x")'},{alias:"imageSpec_290x",args:[{kind:"Literal",name:"spec",value:"290x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"290x")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_600x",args:[{kind:"Literal",name:"spec",value:"600x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"600x")'},{alias:"imageSpec_550x",args:[{kind:"Literal",name:"spec",value:"550x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"550x")'},{alias:"imageSpec_30x30",args:[{kind:"Literal",name:"spec",value:"30x30"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"30x30")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"474x")'},{alias:"imageSpec_1200x",args:[{kind:"Literal",name:"spec",value:"1200x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"1200x")'},{alias:"imageSpec_222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"222x")'},{alias:"imageSpec_400x300",args:[{kind:"Literal",name:"spec",value:"400x300"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"400x300")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},r],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"236bc29d74203904002ca87779f724ae45a48ae2d99c0ac06182144cc4c26a03",metadata:{},name:"useUnauthContextMenuQuery",operationKind:"query",text:null}};l.hash="28d48aeed76d97d5b2fc59af2e75669f",e.exports=l},376030:(e,t,n)=>{n.d(t,{Z:()=>se});var i={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},r={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},o=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],a={CSS:{},springs:{}};function s(e,t,n){return Math.min(Math.max(e,t),n)}function l(e,t){return e.indexOf(t)>-1}function c(e,t){return e.apply(null,t)}var d={arr:function(e){return Array.isArray(e)},obj:function(e){return l(Object.prototype.toString.call(e),"Object")},pth:function(e){return d.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||d.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},nil:function(e){return d.und(e)||null===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return d.hex(e)||d.rgb(e)||d.hsl(e)},key:function(e){return!i.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function u(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map((function(e){return parseFloat(e)})):[]}function p(e,t){var n=u(e),i=s(d.und(n[0])?1:n[0],.1,100),r=s(d.und(n[1])?100:n[1],.1,100),o=s(d.und(n[2])?10:n[2],.1,100),l=s(d.und(n[3])?0:n[3],.1,100),c=Math.sqrt(r/i),p=o/(2*Math.sqrt(r*i)),h=p<1?c*Math.sqrt(1-p*p):0,m=p<1?(p*c-l)/h:-l+c;function _(e){var n=t?t*e/1e3:e;return n=p<1?Math.exp(-n*p*c)*(1*Math.cos(h*n)+m*Math.sin(h*n)):(1+m*n)*Math.exp(-n*c),0===e||1===e?e:1-n}return t?_:function(){var t=a.springs[e];if(t)return t;for(var n=1/6,i=0,r=0;;)if(1===_(i+=n)){if(++r>=16)break}else r=0;var o=i*n*1e3;return a.springs[e]=o,o}}function h(e){return void 0===e&&(e=10),function(t){return Math.ceil(s(t,1e-6,1)*e)*(1/e)}}var m,_,g=function(){var e=.1;function t(e,t){return 1-3*t+3*e}function n(e,t){return 3*t-6*e}function i(e){return 3*e}function r(e,r,o){return((t(r,o)*e+n(r,o))*e+i(r))*e}function o(e,r,o){return 3*t(r,o)*e*e+2*n(r,o)*e+i(r)}return function(t,n,i,a){if(0<=t&&t<=1&&0<=i&&i<=1){var s=new Float32Array(11);if(t!==n||i!==a)for(var l=0;l<11;++l)s[l]=r(l*e,t,i);return function(e){return t===n&&i===a||0===e||1===e?e:r(c(e),n,a)}}function c(n){for(var a=0,l=1;10!==l&&s[l]<=n;++l)a+=e;--l;var c=a+(n-s[l])/(s[l+1]-s[l])*e,d=o(c,t,i);return d>=.001?function(e,t,n,i){for(var a=0;a<4;++a){var s=o(t,n,i);if(0===s)return t;t-=(r(t,n,i)-e)/s}return t}(n,c,t,i):0===d?c:function(e,t,n,i,o){var a,s,l=0;do{(a=r(s=t+(n-t)/2,i,o)-e)>0?n=s:t=s}while(Math.abs(a)>1e-7&&++l<10);return s}(n,a,a+e,t,i)}}}(),v=(m={linear:function(){return function(e){return e}}},_={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var n=s(e,1,10),i=s(t,.1,2);return function(e){return 0===e||1===e?e:-n*Math.pow(2,10*(e-1))*Math.sin((e-1-i/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/i)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach((function(e,t){_[e]=function(){return function(e){return Math.pow(e,t+2)}}})),Object.keys(_).forEach((function(e){var t=_[e];m["easeIn"+e]=t,m["easeOut"+e]=function(e,n){return function(i){return 1-t(e,n)(1-i)}},m["easeInOut"+e]=function(e,n){return function(i){return i<.5?t(e,n)(2*i)/2:1-t(e,n)(-2*i+2)/2}},m["easeOutIn"+e]=function(e,n){return function(i){return i<.5?(1-t(e,n)(1-2*i))/2:(t(e,n)(2*i-1)+1)/2}}})),m);function f(e,t){if(d.fnc(e))return e;var n=e.split("(")[0],i=v[n],r=u(e);switch(n){case"spring":return p(e,t);case"cubicBezier":return c(g,r);case"steps":return c(h,r);default:return c(i,r)}}function y(e){try{return document.querySelectorAll(e)}catch(t){return}}function b(e,t){for(var n=e.length,i=arguments.length>=2?arguments[1]:void 0,r=[],o=0;o<n;o++)if(o in e){var a=e[o];t.call(i,a,o,e)&&r.push(a)}return r}function x(e){return e.reduce((function(e,t){return e.concat(d.arr(t)?x(t):t)}),[])}function w(e){return d.arr(e)?e:(d.str(e)&&(e=y(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function S(e,t){return e.some((function(e){return e===t}))}function P(e){var t={};for(var n in e)t[n]=e[n];return t}function T(e,t){var n=P(e);for(var i in e)n[i]=t.hasOwnProperty(i)?t[i]:e[i];return n}function E(e,t){var n=P(e);for(var i in t)n[i]=d.und(e[i])?t[i]:e[i];return n}function I(e){return d.rgb(e)?(n=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t=e))?"rgba("+n[1]+",1)":t:d.hex(e)?function(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,i){return t+t+n+n+i+i})),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgba("+parseInt(n[1],16)+","+parseInt(n[2],16)+","+parseInt(n[3],16)+",1)"}(e):d.hsl(e)?function(e){var t,n,i,r=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),o=parseInt(r[1],10)/360,a=parseInt(r[2],10)/100,s=parseInt(r[3],10)/100,l=r[4]||1;function c(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(0==a)t=n=i=s;else{var d=s<.5?s*(1+a):s+a-s*a,u=2*s-d;t=c(u,d,o+1/3),n=c(u,d,o),i=c(u,d,o-1/3)}return"rgba("+255*t+","+255*n+","+255*i+","+l+")"}(e):void 0;var t,n}function A(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function k(e,t){return d.fnc(e)?e(t.target,t.id,t.total):e}function C(e,t){return e.getAttribute(t)}function R(e,t,n){if(S([n,"deg","rad","turn"],A(t)))return t;var i=a.CSS[t+n];if(!d.und(i))return i;var r=document.createElement(e.tagName),o=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;o.appendChild(r),r.style.position="absolute",r.style.width=100+n;var s=100/r.offsetWidth;o.removeChild(r);var l=s*parseFloat(t);return a.CSS[t+n]=l,l}function L(e,t,n){if(t in e.style){var i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=e.style[t]||getComputedStyle(e).getPropertyValue(i)||"0";return n?R(e,r,n):r}}function j(e,t){return d.dom(e)&&!d.inp(e)&&(!d.nil(C(e,t))||d.svg(e)&&e[t])?"attribute":d.dom(e)&&S(o,t)?"transform":d.dom(e)&&"transform"!==t&&L(e,t)?"css":null!=e[t]?"object":void 0}function D(e){if(d.dom(e)){for(var t,n=e.style.transform||"",i=/(\w+)\(([^)]*)\)/g,r=new Map;t=i.exec(n);)r.set(t[1],t[2]);return r}}function O(e,t,n,i){var r=l(t,"scale")?1:0+function(e){return l(e,"translate")||"perspective"===e?"px":l(e,"rotate")||l(e,"skew")?"deg":void 0}(t),o=D(e).get(t)||r;return n&&(n.transforms.list.set(t,o),n.transforms.last=t),i?R(e,o,i):o}function N(e,t,n,i){switch(j(e,t)){case"transform":return O(e,t,i,n);case"css":return L(e,t,n);case"attribute":return C(e,t);default:return e[t]||0}}function M(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var i=A(e)||0,r=parseFloat(t),o=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return r+o+i;case"-":return r-o+i;case"*":return r*o+i}}function U(e,t){if(d.col(e))return I(e);if(/\s/g.test(e))return e;var n=A(e),i=n?e.substr(0,e.length-n.length):e;return t?i+t:i}function F(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function z(e){for(var t,n=e.points,i=0,r=0;r<n.numberOfItems;r++){var o=n.getItem(r);r>0&&(i+=F(t,o)),t=o}return i}function Z(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return function(e){return 2*Math.PI*C(e,"r")}(e);case"rect":return function(e){return 2*C(e,"width")+2*C(e,"height")}(e);case"line":return function(e){return F({x:C(e,"x1"),y:C(e,"y1")},{x:C(e,"x2"),y:C(e,"y2")})}(e);case"polyline":return z(e);case"polygon":return function(e){var t=e.points;return z(e)+F(t.getItem(t.numberOfItems-1),t.getItem(0))}(e)}}function B(e,t){var n=t||{},i=n.el||function(e){for(var t=e.parentNode;d.svg(t)&&d.svg(t.parentNode);)t=t.parentNode;return t}(e),r=i.getBoundingClientRect(),o=C(i,"viewBox"),a=r.width,s=r.height,l=n.viewBox||(o?o.split(" "):[0,0,a,s]);return{el:i,viewBox:l,x:l[0]/1,y:l[1]/1,w:a,h:s,vW:l[2],vH:l[3]}}function H(e,t,n){function i(n){void 0===n&&(n=0);var i=t+n>=1?t+n:0;return e.el.getPointAtLength(i)}var r=B(e.el,e.svg),o=i(),a=i(-1),s=i(1),l=n?1:r.w/r.vW,c=n?1:r.h/r.vH;switch(e.property){case"x":return(o.x-r.x)*l;case"y":return(o.y-r.y)*c;case"angle":return 180*Math.atan2(s.y-a.y,s.x-a.x)/Math.PI}}function V(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,i=U(d.pth(e)?e.totalLength:e,t)+"";return{original:i,numbers:i.match(n)?i.match(n).map(Number):[0],strings:d.str(e)||t?i.split(n):[]}}function W(e){return b(e?x(d.arr(e)?e.map(w):w(e)):[],(function(e,t,n){return n.indexOf(e)===t}))}function G(e){var t=W(e);return t.map((function(e,n){return{target:e,id:n,total:t.length,transforms:{list:D(e)}}}))}function $(e,t){var n=P(t);if(/^spring/.test(n.easing)&&(n.duration=p(n.easing)),d.arr(e)){var i=e.length;2===i&&!d.obj(e[0])?e={value:e}:d.fnc(t.duration)||(n.duration=t.duration/i)}var r=d.arr(e)?e:[e];return r.map((function(e,n){var i=d.obj(e)&&!d.pth(e)?e:{value:e};return d.und(i.delay)&&(i.delay=n?0:t.delay),d.und(i.endDelay)&&(i.endDelay=n===r.length-1?t.endDelay:0),i})).map((function(e){return E(e,n)}))}function K(e,t){var n=[],i=t.keyframes;for(var r in i&&(t=E(function(e){for(var t=b(x(e.map((function(e){return Object.keys(e)}))),(function(e){return d.key(e)})).reduce((function(e,t){return e.indexOf(t)<0&&e.push(t),e}),[]),n={},i=function(i){var r=t[i];n[r]=e.map((function(e){var t={};for(var n in e)d.key(n)?n==r&&(t.value=e[n]):t[n]=e[n];return t}))},r=0;r<t.length;r++)i(r);return n}(i),t)),t)d.key(r)&&n.push({name:r,tweens:$(t[r],e)});return n}function q(e,t){var n;return e.tweens.map((function(i){var r=function(e,t){var n={};for(var i in e){var r=k(e[i],t);d.arr(r)&&1===(r=r.map((function(e){return k(e,t)}))).length&&(r=r[0]),n[i]=r}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(i,t),o=r.value,a=d.arr(o)?o[1]:o,s=A(a),l=N(t.target,e.name,s,t),c=n?n.to.original:l,u=d.arr(o)?o[0]:c,p=A(u)||A(l),h=s||p;return d.und(a)&&(a=c),r.from=V(u,h),r.to=V(M(a,u),h),r.start=n?n.end:0,r.end=r.start+r.delay+r.duration+r.endDelay,r.easing=f(r.easing,r.duration),r.isPath=d.pth(o),r.isPathTargetInsideSVG=r.isPath&&d.svg(t.target),r.isColor=d.col(r.from.original),r.isColor&&(r.round=1),n=r,r}))}var Y={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,i,r){if(i.list.set(t,n),t===i.last||r){var o="";i.list.forEach((function(e,t){o+=t+"("+e+") "})),e.style.transform=o}}};function X(e,t){G(e).forEach((function(e){for(var n in t){var i=k(t[n],e),r=e.target,o=A(i),a=N(r,n,o,e),s=M(U(i,o||A(a)),a),l=j(r,n);Y[l](r,n,s,e.transforms,!0)}}))}function J(e,t){return b(x(e.map((function(e){return t.map((function(t){return function(e,t){var n=j(e.target,t.name);if(n){var i=q(t,e),r=i[i.length-1];return{type:n,property:t.name,animatable:e,tweens:i,duration:r.end,delay:i[0].delay,endDelay:r.endDelay}}}(e,t)}))}))),(function(e){return!d.und(e)}))}function Q(e,t){var n=e.length,i=function(e){return e.timelineOffset?e.timelineOffset:0},r={};return r.duration=n?Math.max.apply(Math,e.map((function(e){return i(e)+e.duration}))):t.duration,r.delay=n?Math.min.apply(Math,e.map((function(e){return i(e)+e.delay}))):t.delay,r.endDelay=n?r.duration-Math.max.apply(Math,e.map((function(e){return i(e)+e.duration-e.endDelay}))):t.endDelay,r}var ee=0;var te=[],ne=function(){var e;function t(n){for(var i=te.length,r=0;r<i;){var o=te[r];o.paused?(te.splice(r,1),i--):(o.tick(n),r++)}e=r>0?requestAnimationFrame(t):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",(function(){re.suspendWhenDocumentHidden&&(ie()?e=cancelAnimationFrame(e):(te.forEach((function(e){return e._onDocumentVisibility()})),ne()))})),function(){e||ie()&&re.suspendWhenDocumentHidden||!(te.length>0)||(e=requestAnimationFrame(t))}}();function ie(){return!!document&&document.hidden}function re(e){void 0===e&&(e={});var t,n=0,o=0,a=0,l=0,c=null;function d(e){var t=window.Promise&&new Promise((function(e){return c=e}));return e.finished=t,t}var u=function(e){var t=T(i,e),n=T(r,e),o=K(n,e),a=G(e.targets),s=J(a,o),l=Q(s,n),c=ee;return ee++,E(t,{id:c,children:[],animatables:a,animations:s,duration:l.duration,delay:l.delay,endDelay:l.endDelay})}(e);d(u);function p(){var e=u.direction;"alternate"!==e&&(u.direction="normal"!==e?"normal":"reverse"),u.reversed=!u.reversed,t.forEach((function(e){return e.reversed=u.reversed}))}function h(e){return u.reversed?u.duration-e:e}function m(){n=0,o=h(u.currentTime)*(1/re.speed)}function _(e,t){t&&t.seek(e-t.timelineOffset)}function g(e){for(var t=0,n=u.animations,i=n.length;t<i;){var r=n[t],o=r.animatable,a=r.tweens,l=a.length-1,c=a[l];l&&(c=b(a,(function(t){return e<t.end}))[0]||c);for(var d=s(e-c.start-c.delay,0,c.duration)/c.duration,p=isNaN(d)?1:c.easing(d),h=c.to.strings,m=c.round,_=[],g=c.to.numbers.length,v=void 0,f=0;f<g;f++){var y=void 0,x=c.to.numbers[f],w=c.from.numbers[f]||0;y=c.isPath?H(c.value,p*x,c.isPathTargetInsideSVG):w+p*(x-w),m&&(c.isColor&&f>2||(y=Math.round(y*m)/m)),_.push(y)}var S=h.length;if(S){v=h[0];for(var P=0;P<S;P++){h[P];var T=h[P+1],E=_[P];isNaN(E)||(v+=T?E+T:E+" ")}}else v=_[0];Y[r.type](o.target,r.property,v,o.transforms),r.currentValue=v,t++}}function v(e){u[e]&&!u.passThrough&&u[e](u)}function f(e){var i=u.duration,r=u.delay,m=i-u.endDelay,f=h(e);u.progress=s(f/i*100,0,100),u.reversePlayback=f<u.currentTime,t&&function(e){if(u.reversePlayback)for(var n=l;n--;)_(e,t[n]);else for(var i=0;i<l;i++)_(e,t[i])}(f),!u.began&&u.currentTime>0&&(u.began=!0,v("begin")),!u.loopBegan&&u.currentTime>0&&(u.loopBegan=!0,v("loopBegin")),f<=r&&0!==u.currentTime&&g(0),(f>=m&&u.currentTime!==i||!i)&&g(i),f>r&&f<m?(u.changeBegan||(u.changeBegan=!0,u.changeCompleted=!1,v("changeBegin")),v("change"),g(f)):u.changeBegan&&(u.changeCompleted=!0,u.changeBegan=!1,v("changeComplete")),u.currentTime=s(f,0,i),u.began&&v("update"),e>=i&&(o=0,u.remaining&&!0!==u.remaining&&u.remaining--,u.remaining?(n=a,v("loopComplete"),u.loopBegan=!1,"alternate"===u.direction&&p()):(u.paused=!0,u.completed||(u.completed=!0,v("loopComplete"),v("complete"),!u.passThrough&&"Promise"in window&&(c(),d(u)))))}return u.reset=function(){var e=u.direction;u.passThrough=!1,u.currentTime=0,u.progress=0,u.paused=!0,u.began=!1,u.loopBegan=!1,u.changeBegan=!1,u.completed=!1,u.changeCompleted=!1,u.reversePlayback=!1,u.reversed="reverse"===e,u.remaining=u.loop,t=u.children;for(var n=l=t.length;n--;)u.children[n].reset();(u.reversed&&!0!==u.loop||"alternate"===e&&1===u.loop)&&u.remaining++,g(u.reversed?u.duration:0)},u._onDocumentVisibility=m,u.set=function(e,t){return X(e,t),u},u.tick=function(e){a=e,n||(n=a),f((a+(o-n))*re.speed)},u.seek=function(e){f(h(e))},u.pause=function(){u.paused=!0,m()},u.play=function(){u.paused&&(u.completed&&u.reset(),u.paused=!1,te.push(u),m(),ne())},u.reverse=function(){p(),u.completed=!u.reversed,m()},u.restart=function(){u.reset(),u.play()},u.remove=function(e){ae(W(e),u)},u.reset(),u.autoplay&&u.play(),u}function oe(e,t){for(var n=t.length;n--;)S(e,t[n].animatable.target)&&t.splice(n,1)}function ae(e,t){var n=t.animations,i=t.children;oe(e,n);for(var r=i.length;r--;){var o=i[r],a=o.animations;oe(e,a),a.length||o.children.length||i.splice(r,1)}n.length||i.length||t.pause()}re.version="3.2.1",re.speed=1,re.suspendWhenDocumentHidden=!0,re.running=te,re.remove=function(e){for(var t=W(e),n=te.length;n--;){ae(t,te[n])}},re.get=N,re.set=X,re.convertPx=R,re.path=function(e,t){var n=d.str(e)?y(e)[0]:e,i=t||100;return function(e){return{property:e,el:n,svg:B(n),totalLength:Z(n)*(i/100)}}},re.setDashoffset=function(e){var t=Z(e);return e.setAttribute("stroke-dasharray",t),t},re.stagger=function(e,t){void 0===t&&(t={});var n=t.direction||"normal",i=t.easing?f(t.easing):null,r=t.grid,o=t.axis,a=t.from||0,s="first"===a,l="center"===a,c="last"===a,u=d.arr(e),p=u?parseFloat(e[0]):parseFloat(e),h=u?parseFloat(e[1]):0,m=A(u?e[1]:e)||0,_=t.start||0+(u?p:0),g=[],v=0;return function(e,t,d){if(s&&(a=0),l&&(a=(d-1)/2),c&&(a=d-1),!g.length){for(var f=0;f<d;f++){if(r){var y=l?(r[0]-1)/2:a%r[0],b=l?(r[1]-1)/2:Math.floor(a/r[0]),x=y-f%r[0],w=b-Math.floor(f/r[0]),S=Math.sqrt(x*x+w*w);"x"===o&&(S=-x),"y"===o&&(S=-w),g.push(S)}else g.push(Math.abs(a-f));v=Math.max.apply(Math,g)}i&&(g=g.map((function(e){return i(e/v)*v}))),"reverse"===n&&(g=g.map((function(e){return o?e<0?-1*e:-e:Math.abs(v-e)})))}return _+(u?(h-p)/v:p)*(Math.round(100*g[t])/100)+m}},re.timeline=function(e){void 0===e&&(e={});var t=re(e);return t.duration=0,t.add=function(n,i){var o=te.indexOf(t),a=t.children;function s(e){e.passThrough=!0}o>-1&&te.splice(o,1);for(var l=0;l<a.length;l++)s(a[l]);var c=E(n,T(r,e));c.targets=c.targets||e.targets;var u=t.duration;c.autoplay=!1,c.direction=t.direction,c.timelineOffset=d.und(i)?u:M(i,u),s(t),t.seek(c.timelineOffset);var p=re(c);s(p),a.push(p);var h=Q(a,e);return t.delay=h.delay,t.endDelay=h.endDelay,t.duration=h.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},re.easing=f,re.penner=v,re.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};const se=re},294184:(e,t)=>{var n;!function(){var i={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)&&n.length){var a=r.apply(null,n);a&&e.push(a)}else if("object"===o)for(var s in n)i.call(n,s)&&n[s]&&e.push(s)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},924262:(e,t,n)=>{n.d(t,{Z:()=>o});var i=6e4;function r(e){return e.getTime()%i}function o(e){var t=new Date(e.getTime()),n=Math.ceil(t.getTimezoneOffset());t.setSeconds(0,0);var o=n>0?(i+r(t))%i:r(t);return n*i+o}},13882:(e,t,n)=>{function i(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,{Z:()=>i})},159025:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(983946),r=n(619013),o=n(13882);function a(e,t){(0,o.Z)(1,arguments);var n=t||{},a=n.locale,s=a&&a.options&&a.options.weekStartsOn,l=null==s?0:(0,i.Z)(s),c=null==n.weekStartsOn?l:(0,i.Z)(n.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=(0,r.Z)(e),u=d.getUTCDay(),p=(u<c?7:0)+u-c;return d.setUTCDate(d.getUTCDate()-p),d.setUTCHours(0,0,0,0),d}},983946:(e,t,n)=>{function i(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,{Z:()=>i})},51820:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(983946),r=n(619013),o=n(13882);function a(e,t){(0,o.Z)(2,arguments);var n=(0,r.Z)(e).getTime(),a=(0,i.Z)(t);return new Date(n+a)}},926467:(e,t,n)=>{n.d(t,{Z:()=>W});var i=n(112274),r=n(983975),o=n(983946),a=n(51820),s=n(13882);function l(e,t){(0,s.Z)(2,arguments);var n=(0,o.Z)(t);return(0,a.Z)(e,-n)}var c=n(619013);function d(e,t){for(var n=e<0?"-":"",i=Math.abs(e).toString();i.length<t;)i="0"+i;return n+i}const u={y:function(e,t){var n=e.getUTCFullYear(),i=n>0?n:1-n;return d("yy"===t?i%100:i,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):d(n+1,2)},d:function(e,t){return d(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":case"aaa":return n.toUpperCase();case"aaaaa":return n[0];case"aaaa":default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return d(e.getUTCHours()%12||12,t.length)},H:function(e,t){return d(e.getUTCHours(),t.length)},m:function(e,t){return d(e.getUTCMinutes(),t.length)},s:function(e,t){return d(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,i=e.getUTCMilliseconds();return d(Math.floor(i*Math.pow(10,n-3)),t.length)}};var p=864e5;function h(e){(0,s.Z)(1,arguments);var t=1,n=(0,c.Z)(e),i=n.getUTCDay(),r=(i<t?7:0)+i-t;return n.setUTCDate(n.getUTCDate()-r),n.setUTCHours(0,0,0,0),n}function m(e){(0,s.Z)(1,arguments);var t=(0,c.Z)(e),n=t.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(n+1,0,4),i.setUTCHours(0,0,0,0);var r=h(i),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var a=h(o);return t.getTime()>=r.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function _(e){(0,s.Z)(1,arguments);var t=m(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var i=h(n);return i}var g=6048e5;var v=n(159025);function f(e,t){(0,s.Z)(1,arguments);var n=(0,c.Z)(e,t),i=n.getUTCFullYear(),r=t||{},a=r.locale,l=a&&a.options&&a.options.firstWeekContainsDate,d=null==l?1:(0,o.Z)(l),u=null==r.firstWeekContainsDate?d:(0,o.Z)(r.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(i+1,0,u),p.setUTCHours(0,0,0,0);var h=(0,v.Z)(p,t),m=new Date(0);m.setUTCFullYear(i,0,u),m.setUTCHours(0,0,0,0);var _=(0,v.Z)(m,t);return n.getTime()>=h.getTime()?i+1:n.getTime()>=_.getTime()?i:i-1}function y(e,t){(0,s.Z)(1,arguments);var n=t||{},i=n.locale,r=i&&i.options&&i.options.firstWeekContainsDate,a=null==r?1:(0,o.Z)(r),l=null==n.firstWeekContainsDate?a:(0,o.Z)(n.firstWeekContainsDate),c=f(e,t),d=new Date(0);d.setUTCFullYear(c,0,l),d.setUTCHours(0,0,0,0);var u=(0,v.Z)(d,t);return u}var b=6048e5;var x="midnight",w="noon",S="morning",P="afternoon",T="evening",E="night";function I(e,t){var n=e>0?"-":"+",i=Math.abs(e),r=Math.floor(i/60),o=i%60;if(0===o)return n+String(r);var a=t||"";return n+String(r)+a+d(o,2)}function A(e,t){return e%60==0?(e>0?"-":"+")+d(Math.abs(e)/60,2):k(e,t)}function k(e,t){var n=t||"",i=e>0?"-":"+",r=Math.abs(e);return i+d(Math.floor(r/60),2)+n+d(r%60,2)}const C={G:function(e,t,n){var i=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var i=e.getUTCFullYear(),r=i>0?i:1-i;return n.ordinalNumber(r,{unit:"year"})}return u.y(e,t)},Y:function(e,t,n,i){var r=f(e,i),o=r>0?r:1-r;return"YY"===t?d(o%100,2):"Yo"===t?n.ordinalNumber(o,{unit:"year"}):d(o,t.length)},R:function(e,t){return d(m(e),t.length)},u:function(e,t){return d(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return d(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return d(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){var i=e.getUTCMonth();switch(t){case"M":case"MM":return u.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){var i=e.getUTCMonth();switch(t){case"L":return String(i+1);case"LL":return d(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){var r=function(e,t){(0,s.Z)(1,arguments);var n=(0,c.Z)(e),i=(0,v.Z)(n,t).getTime()-y(n,t).getTime();return Math.round(i/b)+1}(e,i);return"wo"===t?n.ordinalNumber(r,{unit:"week"}):d(r,t.length)},I:function(e,t,n){var i=function(e){(0,s.Z)(1,arguments);var t=(0,c.Z)(e),n=h(t).getTime()-_(t).getTime();return Math.round(n/g)+1}(e);return"Io"===t?n.ordinalNumber(i,{unit:"week"}):d(i,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):u.d(e,t)},D:function(e,t,n){var i=function(e){(0,s.Z)(1,arguments);var t=(0,c.Z)(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var i=t.getTime(),r=n-i;return Math.floor(r/p)+1}(e);return"Do"===t?n.ordinalNumber(i,{unit:"dayOfYear"}):d(i,t.length)},E:function(e,t,n){var i=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){var r=e.getUTCDay(),o=(r-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return d(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){var r=e.getUTCDay(),o=(r-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return d(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,n){var i=e.getUTCDay(),r=0===i?7:i;switch(t){case"i":return String(r);case"ii":return d(r,t.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){var i=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){var i,r=e.getUTCHours();switch(i=12===r?w:0===r?x:r/12>=1?"pm":"am",t){case"b":case"bb":case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){var i,r=e.getUTCHours();switch(i=r>=17?T:r>=12?P:r>=4?S:E,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var i=e.getUTCHours()%12;return 0===i&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return u.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):u.H(e,t)},K:function(e,t,n){var i=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(i,{unit:"hour"}):d(i,t.length)},k:function(e,t,n){var i=e.getUTCHours();return 0===i&&(i=24),"ko"===t?n.ordinalNumber(i,{unit:"hour"}):d(i,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):u.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):u.s(e,t)},S:function(e,t){return u.S(e,t)},X:function(e,t,n,i){var r=(i._originalDate||e).getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return A(r);case"XXXX":case"XX":return k(r);case"XXXXX":case"XXX":default:return k(r,":")}},x:function(e,t,n,i){var r=(i._originalDate||e).getTimezoneOffset();switch(t){case"x":return A(r);case"xxxx":case"xx":return k(r);case"xxxxx":case"xxx":default:return k(r,":")}},O:function(e,t,n,i){var r=(i._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+I(r,":");case"OOOO":default:return"GMT"+k(r,":")}},z:function(e,t,n,i){var r=(i._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+I(r,":");case"zzzz":default:return"GMT"+k(r,":")}},t:function(e,t,n,i){var r=i._originalDate||e;return d(Math.floor(r.getTime()/1e3),t.length)},T:function(e,t,n,i){return d((i._originalDate||e).getTime(),t.length)}};function R(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function L(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}const j={p:L,P:function(e,t){var n,i=e.match(/(P+)(p+)?/),r=i[1],o=i[2];if(!o)return R(e,t);switch(r){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;case"PPPP":default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",R(r,t)).replace("{{time}}",L(o,t))}};var D=n(924262),O=["D","DD"],N=["YY","YYYY"];function M(e){return-1!==O.indexOf(e)}function U(e){return-1!==N.indexOf(e)}function F(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"))}var z=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Z=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,B=/^'([^]*?)'?$/,H=/''/g,V=/[a-zA-Z]/;function W(e,t,n){(0,s.Z)(2,arguments);var a=String(t),d=n||{},u=d.locale||r.default,p=u.options&&u.options.firstWeekContainsDate,h=null==p?1:(0,o.Z)(p),m=null==d.firstWeekContainsDate?h:(0,o.Z)(d.firstWeekContainsDate);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var _=u.options&&u.options.weekStartsOn,g=null==_?0:(0,o.Z)(_),v=null==d.weekStartsOn?g:(0,o.Z)(d.weekStartsOn);if(!(v>=0&&v<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!u.localize)throw new RangeError("locale must contain localize property");if(!u.formatLong)throw new RangeError("locale must contain formatLong property");var f=(0,c.Z)(e);if(!(0,i.Z)(f))throw new RangeError("Invalid time value");var y=(0,D.Z)(f),b=l(f,y),x={firstWeekContainsDate:m,weekStartsOn:v,locale:u,_originalDate:f},w=a.match(Z).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,j[t])(e,u.formatLong,x):e})).join("").match(z).map((function(n){if("''"===n)return"'";var i=n[0];if("'"===i)return G(n);var r=C[i];if(r)return!d.useAdditionalWeekYearTokens&&U(n)&&F(n,t,e),!d.useAdditionalDayOfYearTokens&&M(n)&&F(n,t,e),r(b,n,u.localize,x);if(i.match(V))throw new RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");return n})).join("");return w}function G(e){return e.match(B)[1].replace(H,"'")}},112274:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(619013),r=n(13882);function o(e){(0,r.Z)(1,arguments);var t=(0,i.Z)(e);return!isNaN(t)}},849526:(e,t,n)=>{function i(e){return function(t){var n=t||{},i=n.width?String(n.width):e.defaultWidth;return e.formats[i]||e.formats[e.defaultWidth]}}n.d(t,{Z:()=>i})},688486:(e,t,n)=>{function i(e){return function(t,n){var i,r=n||{};if("formatting"===(r.context?String(r.context):"standalone")&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,a=r.width?String(r.width):o;i=e.formattingValues[a]||e.formattingValues[o]}else{var s=e.defaultWidth,l=r.width?String(r.width):e.defaultWidth;i=e.values[l]||e.values[s]}return i[e.argumentCallback?e.argumentCallback(t):t]}}n.d(t,{Z:()=>i})},276723:(e,t,n)=>{function i(e){return function(t,n){var i=String(t),r=n||{},o=r.width,a=o&&e.matchPatterns[o]||e.matchPatterns[e.defaultMatchWidth],s=i.match(a);if(!s)return null;var l,c=s[0],d=o&&e.parsePatterns[o]||e.parsePatterns[e.defaultParseWidth];return l="[object Array]"===Object.prototype.toString.call(d)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}(d,(function(e){return e.test(c)})):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}(d,(function(e){return e.test(c)})),l=e.valueCallback?e.valueCallback(l):l,{value:l=r.valueCallback?r.valueCallback(l):l,rest:i.slice(c.length)}}}n.d(t,{Z:()=>i})},360974:(e,t,n)=>{function i(e){return function(t,n){var i=String(t),r=n||{},o=i.match(e.matchPattern);if(!o)return null;var a=o[0],s=i.match(e.parsePattern);if(!s)return null;var l=e.valueCallback?e.valueCallback(s[0]):s[0];return{value:l=r.valueCallback?r.valueCallback(l):l,rest:i.slice(a.length)}}}n.d(t,{Z:()=>i})},181991:(e,t,n)=>{n.d(t,{Z:()=>r});var i={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function r(e,t,n){var r;return n=n||{},r="string"==typeof i[e]?i[e]:1===t?i[e].one:i[e].other.replace("{{count}}",t),n.addSuffix?n.comparison>0?"in "+r:r+" ago":r}},721865:(e,t,n)=>{n.d(t,{Z:()=>r});var i={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function r(e,t,n,r){return i[e]}},611950:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(688486);const r={ordinalNumber:function(e,t){var n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:(0,i.Z)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,i.Z)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:(0,i.Z)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,i.Z)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,i.Z)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})}},507219:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(360974),r=n(276723);const o={ordinalNumber:(0,i.Z)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:(0,r.Z)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,r.Z)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:(0,r.Z)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,r.Z)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,r.Z)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})}},983975:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var i=n(181991),r=n(849526);const o={date:(0,r.Z)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,r.Z)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,r.Z)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var a=n(721865),s=n(611950),l=n(507219);const c={code:"en-US",formatDistance:i.Z,formatLong:o,formatRelative:a.Z,localize:s.Z,match:l.Z,options:{weekStartsOn:0,firstWeekContainsDate:1}}},619013:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(13882);function r(e){(0,i.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}},746686:e=>{e.exports="https://s.pinimg.com/webapp/baldShaved-4ad60e86.svg"},476848:e=>{e.exports="https://s.pinimg.com/webapp/coily-13037c56.svg"},209756:e=>{e.exports="https://s.pinimg.com/webapp/curly-a8610709.svg"},557713:e=>{e.exports="https://s.pinimg.com/webapp/protective-cb7c2847.svg"},706229:e=>{e.exports="https://s.pinimg.com/webapp/straight-24f68b43.svg"},635157:e=>{e.exports="https://s.pinimg.com/webapp/wavy-94b85d5c.svg"},416131:e=>{e.exports="https://s.pinimg.com/webapp/CS@2x-ecc1d35a.png"},483010:e=>{e.exports="https://s.pinimg.com/webapp/DA@2x-0a8213db.png"},808310:e=>{e.exports="https://s.pinimg.com/webapp/DE@2x-e398675a.png"},963421:e=>{e.exports="https://s.pinimg.com/webapp/EL@2x-5895bc67.png"},549658:e=>{e.exports="https://s.pinimg.com/webapp/EN@2x-c3eda626.png"},275441:e=>{e.exports="https://s.pinimg.com/webapp/ES@2x-d867d9a4.png"},916611:e=>{e.exports="https://s.pinimg.com/webapp/FI@2x-47fa27f7.png"},344191:e=>{e.exports="https://s.pinimg.com/webapp/FR@2x-bf910b39.png"},614860:e=>{e.exports="https://s.pinimg.com/webapp/HI@2x-58486090.png"},317343:e=>{e.exports="https://s.pinimg.com/webapp/HU@2x-1705acdc.png"},443140:e=>{e.exports="https://s.pinimg.com/webapp/ID@2x-1dc864b9.png"},522940:e=>{e.exports="https://s.pinimg.com/webapp/IT@2x-60e3683e.png"},325634:e=>{e.exports="https://s.pinimg.com/webapp/JA@2x-15535147.png"},204554:e=>{e.exports="https://s.pinimg.com/webapp/KO@2x-1099f44a.png"},294700:e=>{e.exports="https://s.pinimg.com/webapp/ML@2x-e7a6773b.png"},594701:e=>{e.exports="https://s.pinimg.com/webapp/MS@2x-58f3c917.png"},253833:e=>{e.exports="https://s.pinimg.com/webapp/NL@2x-5f1515db.png"},495297:e=>{e.exports="https://s.pinimg.com/webapp/NN@2x-f061e9b4.png"},296875:e=>{e.exports="https://s.pinimg.com/webapp/NO@2x-d7864990.png"},231596:e=>{e.exports="https://s.pinimg.com/webapp/PL@2x-7b44a0ea.png"},846653:e=>{e.exports="https://s.pinimg.com/webapp/PT@2x-1cf70049.png"},47786:e=>{e.exports="https://s.pinimg.com/webapp/RO@2x-112e3f0c.png"},830866:e=>{e.exports="https://s.pinimg.com/webapp/RU@2x-7e4486d9.png"},375664:e=>{e.exports="https://s.pinimg.com/webapp/SK@2x-2a81803e.png"},214298:e=>{e.exports="https://s.pinimg.com/webapp/SV@2x-61ea661d.png"},647887:e=>{e.exports="https://s.pinimg.com/webapp/TH@2x-0a53c197.png"},114200:e=>{e.exports="https://s.pinimg.com/webapp/TL@2x-3af02ef3.png"},813150:e=>{e.exports="https://s.pinimg.com/webapp/TR@2x-ec2d7ab5.png"},246184:e=>{e.exports="https://s.pinimg.com/webapp/UK@2x-5787bbf9.png"},935563:e=>{e.exports="https://s.pinimg.com/webapp/VI@2x-09999946.png"},460628:e=>{e.exports="https://s.pinimg.com/webapp/arSA@2x-024c511e.png"},199081:e=>{e.exports="https://s.pinimg.com/webapp/zhCN@2x-d3d7eda9.png"},671157:e=>{e.exports="https://s.pinimg.com/webapp/zhTW@2x-af9e1419.png"},747147:e=>{e.exports="https://s.pinimg.com/webapp/CS@2x-488e8cc6.png"},25078:e=>{e.exports="https://s.pinimg.com/webapp/DA@2x-e5d12354.png"},622314:e=>{e.exports="https://s.pinimg.com/webapp/DE@2x-22831293.png"},765409:e=>{e.exports="https://s.pinimg.com/webapp/EL@2x-e764ccf8.png"},690435:e=>{e.exports="https://s.pinimg.com/webapp/EN@2x-ca0773fb.png"},712627:e=>{e.exports="https://s.pinimg.com/webapp/ES@2x-55483593.png"},387629:e=>{e.exports="https://s.pinimg.com/webapp/FI@2x-695433d6.png"},465843:e=>{e.exports="https://s.pinimg.com/webapp/FR@2x-62177ec4.png"},951237:e=>{e.exports="https://s.pinimg.com/webapp/HI@2x-e55c64e4.png"},13820:e=>{e.exports="https://s.pinimg.com/webapp/HU@2x-2916bbea.png"},990148:e=>{e.exports="https://s.pinimg.com/webapp/ID@2x-34da9a4a.png"},879191:e=>{e.exports="https://s.pinimg.com/webapp/IT@2x-5749beff.png"},59192:e=>{e.exports="https://s.pinimg.com/webapp/JA@2x-a57c5839.png"},237258:e=>{e.exports="https://s.pinimg.com/webapp/KO@2x-c909bac5.png"},424961:e=>{e.exports="https://s.pinimg.com/webapp/ML@2x-8998d852.png"},436044:e=>{e.exports="https://s.pinimg.com/webapp/MS@2x-fa38b8b6.png"},206581:e=>{e.exports="https://s.pinimg.com/webapp/NL@2x-d31d4a18.png"},300633:e=>{e.exports="https://s.pinimg.com/webapp/NN@2x-c4b8da55.png"},690532:e=>{e.exports="https://s.pinimg.com/webapp/NO@2x-fd9bd702.png"},749406:e=>{e.exports="https://s.pinimg.com/webapp/PL@2x-5685a97f.png"},370960:e=>{e.exports="https://s.pinimg.com/webapp/PT@2x-2939b38c.png"},535389:e=>{e.exports="https://s.pinimg.com/webapp/RO@2x-188b728d.png"},590716:e=>{e.exports="https://s.pinimg.com/webapp/RU@2x-888d9aa1.png"},482925:e=>{e.exports="https://s.pinimg.com/webapp/SK@2x-bfa2f8d5.png"},370216:e=>{e.exports="https://s.pinimg.com/webapp/SV@2x-0e099997.png"},926410:e=>{e.exports="https://s.pinimg.com/webapp/TH@2x-988a46e6.png"},777172:e=>{e.exports="https://s.pinimg.com/webapp/TL@2x-1e888ea6.png"},305067:e=>{e.exports="https://s.pinimg.com/webapp/TR@2x-c216b517.png"},621216:e=>{e.exports="https://s.pinimg.com/webapp/UK@2x-fb5c6e06.png"},826132:e=>{e.exports="https://s.pinimg.com/webapp/VI@2x-abdc2e13.png"},681384:e=>{e.exports="https://s.pinimg.com/webapp/arSA@2x-1bf8e802.png"},729566:e=>{e.exports="https://s.pinimg.com/webapp/zhCN@2x-0b2349f4.png"},972841:e=>{e.exports="https://s.pinimg.com/webapp/zhTW@2x-0ef5b95c.png"},942358:(e,t,n)=>{n.r(t),n.d(t,{createBrowserHistory:()=>P,createHashHistory:()=>C,createLocation:()=>g,createMemoryHistory:()=>L,createPath:()=>_,locationsAreEqual:()=>v,parsePath:()=>m});var i=n(487462);function r(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,i=n+1,r=e.length;i<r;n+=1,i+=1)e[n]=e[i];e.pop()}const a=function(e,t){void 0===t&&(t="");var n,i=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&r(e),l=t&&r(t),c=s||l;if(e&&r(e)?a=i:i.length&&(a.pop(),a=a.concat(i)),!a.length)return"/";if(a.length){var d=a[a.length-1];n="."===d||".."===d||""===d}else n=!1;for(var u=0,p=a.length;p>=0;p--){var h=a[p];"."===h?o(a,p):".."===h?(o(a,p),u++):u&&(o(a,p),u--)}if(!c)for(;u--;u)a.unshift("..");!c||""===a[0]||a[0]&&r(a[0])||a.unshift("");var m=a.join("/");return n&&"/"!==m.substr(-1)&&(m+="/"),m};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}const l=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,i){return e(t,n[i])}));if("object"==typeof t||"object"==typeof n){var i=s(t),r=s(n);return i!==t||r!==n?e(i,r):Object.keys(Object.assign({},t,n)).every((function(i){return e(t[i],n[i])}))}return!1};var c=n(702177);function d(e){return"/"===e.charAt(0)?e:"/"+e}function u(e){return"/"===e.charAt(0)?e.substr(1):e}function p(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function h(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function m(e){var t=e||"/",n="",i="",r=t.indexOf("#");-1!==r&&(i=t.substr(r),t=t.substr(0,r));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===i?"":i}}function _(e){var t=e.pathname,n=e.search,i=e.hash,r=t||"/";return n&&"?"!==n&&(r+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(r+="#"===i.charAt(0)?i:"#"+i),r}function g(e,t,n,r){var o;"string"==typeof e?(o=m(e)).state=t:(void 0===(o=(0,i.Z)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),r?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,r.pathname)):o.pathname=r.pathname:o.pathname||(o.pathname="/"),o}function v(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&l(e.state,t.state)}function f(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,i,r){if(null!=e){var o="function"==typeof e?e(t,n):e;"string"==typeof o?"function"==typeof i?i(o,r):r(!0):r(!1!==o)}else r(!0)},appendListener:function(e){var n=!0;function i(){n&&e.apply(void 0,arguments)}return t.push(i),function(){n=!1,t=t.filter((function(e){return e!==i}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.forEach((function(e){return e.apply(void 0,n)}))}}}var y=!("undefined"==typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}var x="popstate",w="hashchange";function S(){try{return window.history.state||{}}catch(e){return{}}}function P(e){void 0===e&&(e={}),y||(0,c.default)(!1);var t,n=window.history,r=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,o=!(-1===window.navigator.userAgent.indexOf("Trident")),a=e,s=a.forceRefresh,l=void 0!==s&&s,u=a.getUserConfirmation,m=void 0===u?b:u,v=a.keyLength,P=void 0===v?6:v,T=e.basename?h(d(e.basename)):"";function E(e){var t=e||{},n=t.key,i=t.state,r=window.location,o=r.pathname+r.search+r.hash;return T&&(o=p(o,T)),g(o,i,n)}function I(){return Math.random().toString(36).substr(2,P)}var A=f();function k(e){(0,i.Z)(Z,e),Z.length=n.length,A.notifyListeners(Z.location,Z.action)}function C(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||j(E(e.state))}function R(){j(E(S()))}var L=!1;function j(e){if(L)L=!1,k();else{A.confirmTransitionTo(e,"POP",m,(function(t){t?k({action:"POP",location:e}):function(e){var t=Z.location,n=O.indexOf(t.key);-1===n&&(n=0);var i=O.indexOf(e.key);-1===i&&(i=0);var r=n-i;r&&(L=!0,M(r))}(e)}))}}var D=E(S()),O=[D.key];function N(e){return T+_(e)}function M(e){n.go(e)}var U=0;function F(e){1===(U+=e)&&1===e?(window.addEventListener(x,C),o&&window.addEventListener(w,R)):0===U&&(window.removeEventListener(x,C),o&&window.removeEventListener(w,R))}var z=!1;var Z={length:n.length,action:"POP",location:D,createHref:N,push:function(e,t){var i="PUSH",o=g(e,t,I(),Z.location);A.confirmTransitionTo(o,i,m,(function(e){if(e){var t=N(o),a=o.key,s=o.state;if(r)if(n.pushState({key:a,state:s},null,t),l)window.location.href=t;else{var c=O.indexOf(Z.location.key),d=O.slice(0,c+1);d.push(o.key),O=d,k({action:i,location:o})}else window.location.href=t}}))},replace:function(e,t){var i="REPLACE",o=g(e,t,I(),Z.location);A.confirmTransitionTo(o,i,m,(function(e){if(e){var t=N(o),a=o.key,s=o.state;if(r)if(n.replaceState({key:a,state:s},null,t),l)window.location.replace(t);else{var c=O.indexOf(Z.location.key);-1!==c&&(O[c]=o.key),k({action:i,location:o})}else window.location.replace(t)}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=A.setPrompt(e);return z||(F(1),z=!0),function(){return z&&(z=!1,F(-1)),t()}},listen:function(e){var t=A.appendListener(e);return F(1),function(){F(-1),t()}}};return Z}var T="hashchange",E={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+u(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:u,decodePath:d},slash:{encodePath:d,decodePath:d}};function I(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function A(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function k(e){window.location.replace(I(window.location.href)+"#"+e)}function C(e){void 0===e&&(e={}),y||(0,c.default)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,o=void 0===r?b:r,a=n.hashType,s=void 0===a?"slash":a,l=e.basename?h(d(e.basename)):"",u=E[s],m=u.encodePath,v=u.decodePath;function x(){var e=v(A());return l&&(e=p(e,l)),g(e)}var w=f();function S(e){(0,i.Z)(z,e),z.length=t.length,w.notifyListeners(z.location,z.action)}var P=!1,C=null;function R(){var e,t,n=A(),i=m(n);if(n!==i)k(i);else{var r=x(),a=z.location;if(!P&&(t=r,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(C===_(r))return;C=null,function(e){if(P)P=!1,S();else{var t="POP";w.confirmTransitionTo(e,t,o,(function(n){n?S({action:t,location:e}):function(e){var t=z.location,n=O.lastIndexOf(_(t));-1===n&&(n=0);var i=O.lastIndexOf(_(e));-1===i&&(i=0);var r=n-i;r&&(P=!0,N(r))}(e)}))}}(r)}}var L=A(),j=m(L);L!==j&&k(j);var D=x(),O=[_(D)];function N(e){t.go(e)}var M=0;function U(e){1===(M+=e)&&1===e?window.addEventListener(T,R):0===M&&window.removeEventListener(T,R)}var F=!1;var z={length:t.length,action:"POP",location:D,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=I(window.location.href)),n+"#"+m(l+_(e))},push:function(e,t){var n="PUSH",i=g(e,void 0,void 0,z.location);w.confirmTransitionTo(i,n,o,(function(e){if(e){var t=_(i),r=m(l+t);if(A()!==r){C=t,function(e){window.location.hash=e}(r);var o=O.lastIndexOf(_(z.location)),a=O.slice(0,o+1);a.push(t),O=a,S({action:n,location:i})}else S()}}))},replace:function(e,t){var n="REPLACE",i=g(e,void 0,void 0,z.location);w.confirmTransitionTo(i,n,o,(function(e){if(e){var t=_(i),r=m(l+t);A()!==r&&(C=t,k(r));var o=O.indexOf(_(z.location));-1!==o&&(O[o]=t),S({action:n,location:i})}}))},go:N,goBack:function(){N(-1)},goForward:function(){N(1)},block:function(e){void 0===e&&(e=!1);var t=w.setPrompt(e);return F||(U(1),F=!0),function(){return F&&(F=!1,U(-1)),t()}},listen:function(e){var t=w.appendListener(e);return U(1),function(){U(-1),t()}}};return z}function R(e,t,n){return Math.min(Math.max(e,t),n)}function L(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,r=t.initialEntries,o=void 0===r?["/"]:r,a=t.initialIndex,s=void 0===a?0:a,l=t.keyLength,c=void 0===l?6:l,d=f();function u(e){(0,i.Z)(b,e),b.length=b.entries.length,d.notifyListeners(b.location,b.action)}function p(){return Math.random().toString(36).substr(2,c)}var h=R(s,0,o.length-1),m=o.map((function(e){return g(e,void 0,"string"==typeof e?p():e.key||p())})),v=_;function y(e){var t=R(b.index+e,0,b.entries.length-1),i=b.entries[t];d.confirmTransitionTo(i,"POP",n,(function(e){e?u({action:"POP",location:i,index:t}):u()}))}var b={length:m.length,action:"POP",location:m[h],index:h,entries:m,createHref:v,push:function(e,t){var i="PUSH",r=g(e,t,p(),b.location);d.confirmTransitionTo(r,i,n,(function(e){if(e){var t=b.index+1,n=b.entries.slice(0);n.length>t?n.splice(t,n.length-t,r):n.push(r),u({action:i,location:r,index:t,entries:n})}}))},replace:function(e,t){var i="REPLACE",r=g(e,t,p(),b.location);d.confirmTransitionTo(r,i,n,(function(e){e&&(b.entries[b.index]=r,u({action:i,location:r}))}))},go:y,goBack:function(){y(-1)},goForward:function(){y(1)},canGo:function(e){var t=b.index+e;return t>=0&&t<b.entries.length},block:function(e){return void 0===e&&(e=!1),d.setPrompt(e)},listen:function(e){return d.appendListener(e)}};return b}},441143:e=>{e.exports=function(e,t,n,i,r,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,r,o,a,s],d=0;(l=new Error(t.replace(/%s/g,(function(){return c[d++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},618552:(e,t,n)=>{var i=n(610852)(n(555639),"DataView");e.exports=i},357071:(e,t,n)=>{var i=n(610852)(n(555639),"Map");e.exports=i},853818:(e,t,n)=>{var i=n(610852)(n(555639),"Promise");e.exports=i},458525:(e,t,n)=>{var i=n(610852)(n(555639),"Set");e.exports=i},562705:(e,t,n)=>{var i=n(555639).Symbol;e.exports=i},70577:(e,t,n)=>{var i=n(610852)(n(555639),"WeakMap");e.exports=i},644239:(e,t,n)=>{var i=n(562705),r=n(789607),o=n(902333),a=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?r(e):o(e)}},909454:(e,t,n)=>{var i=n(644239),r=n(637005);e.exports=function(e){return r(e)&&"[object Arguments]"==i(e)}},28458:(e,t,n)=>{var i=n(623560),r=n(215346),o=n(513218),a=n(680346),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,d=l.toString,u=c.hasOwnProperty,p=RegExp("^"+d.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||r(e))&&(i(e)?p:s).test(a(e))}},238749:(e,t,n)=>{var i=n(644239),r=n(541780),o=n(637005),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&r(e.length)&&!!a[i(e)]}},400280:(e,t,n)=>{var i=n(225726),r=n(86916),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return r(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},307518:e=>{e.exports=function(e){return function(t){return e(t)}}},554290:(e,t,n)=>{var i=n(406557);e.exports=function(e){return"function"==typeof e?e:i}},614429:(e,t,n)=>{var i=n(555639)["__core-js_shared__"];e.exports=i},431957:(e,t,n)=>{var i="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=i},610852:(e,t,n)=>{var i=n(28458),r=n(647801);e.exports=function(e,t){var n=r(e,t);return i(n)?n:void 0}},789607:(e,t,n)=>{var i=n(562705),r=Object.prototype,o=r.hasOwnProperty,a=r.toString,s=i?i.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var i=!0}catch(l){}var r=a.call(e);return i&&(t?e[s]=n:delete e[s]),r}},664160:(e,t,n)=>{var i=n(618552),r=n(357071),o=n(853818),a=n(458525),s=n(70577),l=n(644239),c=n(680346),d="[object Map]",u="[object Promise]",p="[object Set]",h="[object WeakMap]",m="[object DataView]",_=c(i),g=c(r),v=c(o),f=c(a),y=c(s),b=l;(i&&b(new i(new ArrayBuffer(1)))!=m||r&&b(new r)!=d||o&&b(o.resolve())!=u||a&&b(new a)!=p||s&&b(new s)!=h)&&(b=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,i=n?c(n):"";if(i)switch(i){case _:return m;case g:return d;case v:return u;case f:return p;case y:return h}return t}),e.exports=b},647801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},215346:(e,t,n)=>{var i,r=n(614429),o=(i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";e.exports=function(e){return!!o&&o in e}},225726:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},86916:(e,t,n)=>{var i=n(205569)(Object.keys,Object);e.exports=i},531167:(e,t,n)=>{e=n.nmd(e);var i=n(431957),r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,a=o&&o.exports===r&&i.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},902333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},205569:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},555639:(e,t,n)=>{var i=n(431957),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();e.exports=o},680346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},135694:(e,t,n)=>{var i=n(909454),r=n(637005),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=i(function(){return arguments}())?i:function(e){return r(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},701469:e=>{var t=Array.isArray;e.exports=t},498612:(e,t,n)=>{var i=n(623560),r=n(541780);e.exports=function(e){return null!=e&&r(e.length)&&!i(e)}},644144:(e,t,n)=>{e=n.nmd(e);var i=n(555639),r=n(595062),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?i.Buffer:void 0,l=(s?s.isBuffer:void 0)||r;e.exports=l},441609:(e,t,n)=>{var i=n(400280),r=n(664160),o=n(135694),a=n(701469),s=n(498612),l=n(644144),c=n(225726),d=n(936719),u=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||d(e)||o(e)))return!e.length;var t=r(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!i(e).length;for(var n in e)if(u.call(e,n))return!1;return!0}},623560:(e,t,n)=>{var i=n(644239),r=n(513218);e.exports=function(e){if(!r(e))return!1;var t=i(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},541780:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},513218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},637005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},936719:(e,t,n)=>{var i=n(238749),r=n(307518),o=n(531167),a=o&&o.isTypedArray,s=a?r(a):i;e.exports=s},595062:e=>{e.exports=function(){return!1}},498913:(e,t,n)=>{var i=n(422545),r=n(554290),o=n(640554),a=4294967295,s=Math.min;e.exports=function(e,t){if((e=o(e))<1||e>9007199254740991)return[];var n=a,l=s(e,a);t=r(t),e-=a;for(var c=i(l,t);++n<e;)t(n);return c}},418601:(e,t,n)=>{var i=n(14841),r=1/0;e.exports=function(e){return e?(e=i(e))===r||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},640554:(e,t,n)=>{var i=n(418601);e.exports=function(e){var t=i(e),n=t%1;return t==t?n?t-n:t:0}},892703:(e,t,n)=>{var i=n(150414);function r(){}e.exports=function(){function e(e,t,n,r,o,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},45697:(e,t,n)=>{e.exports=n(892703)()},150414:e=>{e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},276775:(e,t,n)=>{n.r(t),n.d(t,{MemoryRouter:()=>S,Prompt:()=>T,Redirect:()=>k,Route:()=>j,Router:()=>w,StaticRouter:()=>F,Switch:()=>z,__HistoryContext:()=>b,__RouterContext:()=>x,generatePath:()=>A,matchPath:()=>L,useHistory:()=>H,useLocation:()=>V,useParams:()=>W,useRouteMatch:()=>G,withRouter:()=>Z});var i=n(875068),r=n(667294),o=n(45697),a=n.n(o),s=n(942358),l=1073741823,c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:{};function d(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,i){e=n,t.forEach((function(t){return t(e,i)}))}}}const u=r.createContext||function(e,t){var n,o,s="__create-react-context-"+function(){var e="__global_unique_id__";return c[e]=(c[e]||0)+1}()+"__",u=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=d(t.props.value),t}(0,i.Z)(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[s]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,i=this.props.value,r=e.value;((o=i)===(a=r)?0!==o||1/o==1/a:o!=o&&a!=a)?n=0:(n="function"==typeof t?t(i,r):l,0!==(n|=0)&&this.emitter.set(e.value,n))}var o,a},r.render=function(){return this.props.children},n}(r.Component);u.childContextTypes=((n={})[s]=a().object.isRequired,n);var p=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!=((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}(0,i.Z)(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?l:t},r.componentDidMount=function(){this.context[s]&&this.context[s].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?l:e},r.componentWillUnmount=function(){this.context[s]&&this.context[s].off(this.onUpdate)},r.getValue=function(){return this.context[s]?this.context[s].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return p.contextTypes=((o={})[s]=a().object,o),{Provider:u,Consumer:p}};var p=n(702177),h=n(487462),m=n(539658),_=n.n(m),g=(n(659864),n(263366)),v=n(108679),f=n.n(v),y=function(e){var t=u();return t.displayName=e,t},b=y("Router-History"),x=y("Router"),w=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}(0,i.Z)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return r.createElement(x.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},r.createElement(b.Provider,{children:this.props.children||null,value:this.props.history}))},t}(r.Component);var S=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).history=(0,s.createMemoryHistory)(t.props),t}return(0,i.Z)(t,e),t.prototype.render=function(){return r.createElement(w,{history:this.history,children:this.props.children})},t}(r.Component);var P=function(e){function t(){return e.apply(this,arguments)||this}(0,i.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(r.Component);function T(e){var t=e.message,n=e.when,i=void 0===n||n;return r.createElement(x.Consumer,null,(function(e){if(e||(0,p.default)(!1),!i||e.staticContext)return null;var n=e.history.block;return r.createElement(P,{onMount:function(e){e.release=n(t)},onUpdate:function(e,i){i.message!==t&&(e.release(),e.release=n(t))},onUnmount:function(e){e.release()},message:t})}))}var E={},I=0;function A(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(E[e])return E[e];var t=_().compile(e);return I<1e4&&(E[e]=t,I++),t}(e)(t,{pretty:!0})}function k(e){var t=e.computedMatch,n=e.to,i=e.push,o=void 0!==i&&i;return r.createElement(x.Consumer,null,(function(e){e||(0,p.default)(!1);var i=e.history,a=e.staticContext,l=o?i.push:i.replace,c=(0,s.createLocation)(t?"string"==typeof n?A(n,t.params):(0,h.Z)({},n,{pathname:A(n.pathname,t.params)}):n);return a?(l(c),null):r.createElement(P,{onMount:function(){l(c)},onUpdate:function(e,t){var n=(0,s.createLocation)(t.to);(0,s.locationsAreEqual)(n,(0,h.Z)({},c,{key:n.key}))||l(c)},to:n})}))}var C={},R=0;function L(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,i=n.path,r=n.exact,o=void 0!==r&&r,a=n.strict,s=void 0!==a&&a,l=n.sensitive,c=void 0!==l&&l;return[].concat(i).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var i=function(e,t){var n=""+t.end+t.strict+t.sensitive,i=C[n]||(C[n]={});if(i[e])return i[e];var r=[],o={regexp:_()(e,r,t),keys:r};return R<1e4&&(i[e]=o,R++),o}(n,{end:o,strict:s,sensitive:c}),r=i.regexp,a=i.keys,l=r.exec(e);if(!l)return null;var d=l[0],u=l.slice(1),p=e===d;return o&&!p?null:{path:n,url:"/"===n&&""===d?"/":d,isExact:p,params:a.reduce((function(e,t,n){return e[t.name]=u[n],e}),{})}}),null)}var j=function(e){function t(){return e.apply(this,arguments)||this}return(0,i.Z)(t,e),t.prototype.render=function(){var e=this;return r.createElement(x.Consumer,null,(function(t){t||(0,p.default)(!1);var n=e.props.location||t.location,i=e.props.computedMatch?e.props.computedMatch:e.props.path?L(n.pathname,e.props):t.match,o=(0,h.Z)({},t,{location:n,match:i}),a=e.props,s=a.children,l=a.component,c=a.render;return Array.isArray(s)&&function(e){return 0===r.Children.count(e)}(s)&&(s=null),r.createElement(x.Provider,{value:o},o.match?s?"function"==typeof s?s(o):s:l?r.createElement(l,o):c?c(o):null:"function"==typeof s?s(o):null)}))},t}(r.Component);function D(e){return"/"===e.charAt(0)?e:"/"+e}function O(e,t){if(!e)return t;var n=D(e);return 0!==t.pathname.indexOf(n)?t:(0,h.Z)({},t,{pathname:t.pathname.substr(n.length)})}function N(e){return"string"==typeof e?e:(0,s.createPath)(e)}function M(e){return function(){(0,p.default)(!1)}}function U(){}var F=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).handlePush=function(e){return t.navigateTo(e,"PUSH")},t.handleReplace=function(e){return t.navigateTo(e,"REPLACE")},t.handleListen=function(){return U},t.handleBlock=function(){return U},t}(0,i.Z)(t,e);var n=t.prototype;return n.navigateTo=function(e,t){var n=this.props,i=n.basename,r=void 0===i?"":i,o=n.context,a=void 0===o?{}:o;a.action=t,a.location=function(e,t){return e?(0,h.Z)({},t,{pathname:D(e)+t.pathname}):t}(r,(0,s.createLocation)(e)),a.url=N(a.location)},n.render=function(){var e=this.props,t=e.basename,n=void 0===t?"":t,i=e.context,o=void 0===i?{}:i,a=e.location,l=void 0===a?"/":a,c=(0,g.Z)(e,["basename","context","location"]),d={createHref:function(e){return D(n+N(e))},action:"POP",location:O(n,(0,s.createLocation)(l)),push:this.handlePush,replace:this.handleReplace,go:M(),goBack:M(),goForward:M(),listen:this.handleListen,block:this.handleBlock};return r.createElement(w,(0,h.Z)({},c,{history:d,staticContext:o}))},t}(r.Component);var z=function(e){function t(){return e.apply(this,arguments)||this}return(0,i.Z)(t,e),t.prototype.render=function(){var e=this;return r.createElement(x.Consumer,null,(function(t){t||(0,p.default)(!1);var n,i,o=e.props.location||t.location;return r.Children.forEach(e.props.children,(function(e){if(null==i&&r.isValidElement(e)){n=e;var a=e.props.path||e.props.from;i=a?L(o.pathname,(0,h.Z)({},e.props,{path:a})):t.match}})),i?r.cloneElement(n,{location:o,computedMatch:i}):null}))},t}(r.Component);function Z(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(t){var n=t.wrappedComponentRef,i=(0,g.Z)(t,["wrappedComponentRef"]);return r.createElement(x.Consumer,null,(function(t){return t||(0,p.default)(!1),r.createElement(e,(0,h.Z)({},i,t,{ref:n}))}))};return n.displayName=t,n.WrappedComponent=e,f()(n,e)}var B=r.useContext;function H(){return B(b)}function V(){return B(x).location}function W(){var e=B(x).match;return e?e.params:{}}function G(e){var t=V(),n=B(x).match;return e?L(t.pathname,e):n}},776585:e=>{e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},539658:(e,t,n)=>{var i=n(776585);e.exports=h,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=p;var r=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,i=[],o=0,a=0,s="",d=t&&t.delimiter||"/";null!=(n=r.exec(e));){var u=n[0],p=n[1],h=n.index;if(s+=e.slice(a,h),a=h+u.length,p)s+=p[1];else{var m=e[a],_=n[2],g=n[3],v=n[4],f=n[5],y=n[6],b=n[7];s&&(i.push(s),s="");var x=null!=_&&null!=m&&m!==_,w="+"===y||"*"===y,S="?"===y||"*"===y,P=n[2]||d,T=v||f;i.push({name:g||o++,prefix:_||"",delimiter:P,optional:S,repeat:w,partial:x,asterisk:!!b,pattern:T?c(T):b?".*":"[^"+l(P)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&i.push(s),i}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)"object"==typeof e[r]&&(n[r]=new RegExp("^(?:"+e[r].pattern+")$",u(t)));return function(t,r){for(var o="",s=t||{},l=(r||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var d=e[c];if("string"!=typeof d){var u,p=s[d.name];if(null==p){if(d.optional){d.partial&&(o+=d.prefix);continue}throw new TypeError('Expected "'+d.name+'" to be defined')}if(i(p)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var h=0;h<p.length;h++){if(u=l(p[h]),!n[c].test(u))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(u)+"`");o+=(0===h?d.prefix:d.delimiter)+u}}else{if(u=d.asterisk?encodeURI(p).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):l(p),!n[c].test(u))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+u+'"');o+=d.prefix+u}}else o+=d}return o}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function d(e,t){return e.keys=t,e}function u(e){return e&&e.sensitive?"":"i"}function p(e,t,n){i(t)||(n=t||n,t=[]);for(var r=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"==typeof c)a+=l(c);else{var p=l(c.prefix),h="(?:"+c.pattern+")";t.push(c),c.repeat&&(h+="(?:"+p+h+")*"),a+=h=c.optional?c.partial?p+"("+h+")?":"(?:"+p+"("+h+"))?":p+"("+h+")"}}var m=l(n.delimiter||"/"),_=a.slice(-m.length)===m;return r||(a=(_?a.slice(0,-m.length):a)+"(?:"+m+"(?=$))?"),a+=o?"$":r&&_?"":"(?="+m+"|$)",d(new RegExp("^"+a,u(n)),t)}function h(e,t,n){return i(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)t.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return d(e,t)}(e,t):i(e)?function(e,t,n){for(var i=[],r=0;r<e.length;r++)i.push(h(e[r],t,n).source);return d(new RegExp("(?:"+i.join("|")+")",u(n)),t)}(e,t,n):function(e,t,n){return p(o(e,n),t,n)}(e,t,n)}},560053:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<o(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,a=r>>>1;i<a;){var s=2*(i+1)-1,l=e[s],c=s+1,d=e[c];if(0>o(l,n))c<r&&0>o(d,l)?(e[i]=d,e[c]=n,i=c):(e[i]=l,e[s]=n,i=s);else{if(!(c<r&&0>o(d,n)))break e;e[i]=d,e[c]=n,i=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],d=[],u=1,p=null,h=3,m=!1,_=!1,g=!1,v="function"==typeof setTimeout?setTimeout:null,f="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var t=i(d);null!==t;){if(null===t.callback)r(d);else{if(!(t.startTime<=e))break;r(d),t.sortIndex=t.expirationTime,n(c,t)}t=i(d)}}function x(e){if(g=!1,b(e),!_)if(null!==i(c))_=!0,j(w);else{var t=i(d);null!==t&&D(x,t.startTime-e)}}function w(e,n){_=!1,g&&(g=!1,f(E),E=-1),m=!0;var o=h;try{for(b(n),p=i(c);null!==p&&(!(p.expirationTime>n)||e&&!k());){var a=p.callback;if("function"==typeof a){p.callback=null,h=p.priorityLevel;var s=a(p.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?p.callback=s:p===i(c)&&r(c),b(n)}else r(c);p=i(c)}if(null!==p)var l=!0;else{var u=i(d);null!==u&&D(x,u.startTime-n),l=!1}return l}finally{p=null,h=o,m=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,P=!1,T=null,E=-1,I=5,A=-1;function k(){return!(t.unstable_now()-A<I)}function C(){if(null!==T){var e=t.unstable_now();A=e;var n=!0;try{n=T(!0,e)}finally{n?S():(P=!1,T=null)}}else P=!1}if("function"==typeof y)S=function(){y(C)};else if("undefined"!=typeof MessageChannel){var R=new MessageChannel,L=R.port2;R.port1.onmessage=C,S=function(){L.postMessage(null)}}else S=function(){v(C,0)};function j(e){T=e,P||(P=!0,S())}function D(e,n){E=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){_||m||(_=!0,j(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,r,o){var a=t.unstable_now();switch("object"==typeof o&&null!==o?o="number"==typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(d,e),null===i(c)&&e===i(d)&&(g?(f(E),E=-1):g=!0,D(x,o-a))):(e.sortIndex=s,n(c,e),_||m||(_=!0,j(w))),e},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},363840:(e,t,n)=>{e.exports=n(560053)},702177:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var i="Invariant failed";function r(e,t){if(!e)throw new Error(i)}},42238:function(e,t,n){var i;!function(r,o){var a="function",s="undefined",l="object",c="string",d="model",u="name",p="type",h="vendor",m="version",_="architecture",g="console",v="mobile",f="tablet",y="smarttv",b="wearable",x="embedded",w={extend:function(e,t){var n={};for(var i in e)t[i]&&t[i].length%2==0?n[i]=t[i].concat(e[i]):n[i]=e[i];return n},has:function(e,t){return typeof e===c&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e===c?e.replace(/[^\d\.]/g,"").split(".")[0]:o},trim:function(e,t){return e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),typeof t===s?e:e.substring(0,255)}},S={rgx:function(e,t){for(var n,i,r,s,c,d,u=0;u<t.length&&!c;){var p=t[u],h=t[u+1];for(n=i=0;n<p.length&&!c;)if(c=p[n++].exec(e))for(r=0;r<h.length;r++)d=c[++i],typeof(s=h[r])===l&&s.length>0?2==s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,d):this[s[0]]=s[1]:3==s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=d?d.replace(s[1],s[2]):o:this[s[0]]=d?s[1].call(this,d,s[2]):o:4==s.length&&(this[s[0]]=d?s[3].call(this,d.replace(s[1],s[2])):o):this[s]=d||o;u+=2}},str:function(e,t){for(var n in t)if(typeof t[n]===l&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(w.has(t[n][i],e))return"?"===n?o:n}else if(w.has(t[n],e))return"?"===n?o:n;return e}},P={browser:{oldSafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}},oldEdge:{version:{.1:"12.",21:"13.",31:"14.",39:"15.",41:"16.",42:"17.",44:"18."}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},T={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[m,[u,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[m,[u,"Edge"]],[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6})\b.+version\/([\w\.-]+)/i,/(opera)(?:.+version\/|[\/\s]+)([\w\.]+)/i],[u,m],[/opios[\/\s]+([\w\.]+)/i],[m,[u,"Opera Mini"]],[/\sopr\/([\w\.]+)/i],[m,[u,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(ba?idubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i,/(rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([\w\.]+)/i,/(weibo)__([\d\.]+)/i],[u,m],[/(?:[\s\/]uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[m,[u,"UCBrowser"]],[/(?:windowswechat)?\sqbcore\/([\w\.]+)\b.*(?:windowswechat)?/i],[m,[u,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[m,[u,"WeChat"]],[/konqueror\/([\w\.]+)/i],[m,[u,"Konqueror"]],[/trident.+rv[:\s]([\w\.]{1,9})\b.+like\sgecko/i],[m,[u,"IE"]],[/yabrowser\/([\w\.]+)/i],[m,[u,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[u,/(.+)/,"$1 Secure Browser"],m],[/focus\/([\w\.]+)/i],[m,[u,"Firefox Focus"]],[/opt\/([\w\.]+)/i],[m,[u,"Opera Touch"]],[/coc_coc_browser\/([\w\.]+)/i],[m,[u,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[m,[u,"Dolphin"]],[/coast\/([\w\.]+)/i],[m,[u,"Opera Coast"]],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[m,[u,"MIUI Browser"]],[/fxios\/([\w\.-]+)/i],[m,[u,"Firefox"]],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[u,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[u,/(.+)/,"$1 Browser"],m],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],m],[/\s(electron)\/([\w\.]+)\ssafari/i,/(tesla)(?:\sqtcarbrowser|\/(20[12]\d\.[\w\.-]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/\s]?([\w\.]+)/i],[u,m],[/(MetaSr)[\/\s]?([\w\.]+)/i,/(LBBROWSER)/i],[u],[/;fbav\/([\w\.]+);/i],[m,[u,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[u,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/\s]([\w\.-]+)/i],[u,m],[/\bgsa\/([\w\.]+)\s.*safari\//i],[m,[u,"GSA"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[m,[u,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[u,"Chrome WebView"],m],[/droid.+\sversion\/([\w\.]+)\b.+(?:mobile\ssafari|safari)/i],[m,[u,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[u,m],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[m,[u,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[m,u],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[u,[m,S.str,P.browser.oldSafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[u,m],[/(navigator|netscape)\/([\w\.-]+)/i],[[u,"Netscape"],m],[/ile\svr;\srv:([\w\.]+)\).+firefox/i],[m,[u,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[u,m]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[_,"amd64"]],[/(ia32(?=;))/i],[[_,w.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[_,"ia32"]],[/\b(aarch64|armv?8e?l?)\b/i],[[_,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[_,"armhf"]],[/windows\s(ce|mobile);\sppc;/i],[[_,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[_,/ower/,"",w.lowerize]],[/(sun4\w)[;\)]/i],[[_,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?:64|(?=v(?:[1-7]|[5-7]1)l?|;|eabi))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[_,w.lowerize]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus\s10)/i],[d,[h,"Samsung"],[p,f]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy\snexus)/i,/\ssamsung[\s-]([\w-]+)/i,/sec-(sgh\w+)/i],[d,[h,"Samsung"],[p,v]],[/\((ip(?:hone|od)[\s\w]*);/i],[d,[h,"Apple"],[p,v]],[/\((ipad);[\w\s\),;-]+apple/i,/applecoremedia\/[\w\.]+\s\((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[h,"Apple"],[p,f]],[/\b((?:agr|ags[23]|bah2?|sht?)-a?[lw]\d{2})/i],[d,[h,"Huawei"],[p,f]],[/d\/huawei([\w\s-]+)[;\)]/i,/\b(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?|ele-l\d\d)/i,/\b(\w{2,4}-[atu][ln][01259][019])[;\)\s]/i],[d,[h,"Huawei"],[p,v]],[/\b(poco[\s\w]+)(?:\sbuild|\))/i,/\b;\s(\w+)\sbuild\/hm\1/i,/\b(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/\b(redmi[\s\-_]?(?:note|k)?[\w\s_]+)(?:\sbuild|\))/i,/\b(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[d,/_/g," "],[h,"Xiaomi"],[p,v]],[/\b(mi[\s\-_]?(?:pad)(?:[\w\s_]+))(?:\sbuild|\))/i],[[d,/_/g," "],[h,"Xiaomi"],[p,f]],[/;\s(\w+)\sbuild.+\soppo/i,/\s(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007)\b/i],[d,[h,"OPPO"],[p,v]],[/\svivo\s(\w+)(?:\sbuild|\))/i,/\s(v[12]\d{3}\w?[at])(?:\sbuild|;)/i],[d,[h,"Vivo"],[p,v]],[/\s(rmx[12]\d{3})(?:\sbuild|;)/i],[d,[h,"Realme"],[p,v]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)\b[\w\s]+build\//i,/\smot(?:orola)?[\s-](\w*)/i,/((?:moto[\s\w\(\)]+|xt\d{3,4}|nexus\s6)(?=\sbuild|\)))/i],[d,[h,"Motorola"],[p,v]],[/\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[d,[h,"Motorola"],[p,f]],[/((?=lg)?[vl]k\-?\d{3})\sbuild|\s3\.[\s\w;-]{10}lg?-([06cv9]{3,4})/i],[d,[h,"LG"],[p,f]],[/(lm-?f100[nv]?|nexus\s[45])/i,/lg[e;\s\/-]+((?!browser|netcast)\w+)/i,/\blg(\-?[\d\w]+)\sbuild/i],[d,[h,"LG"],[p,v]],[/(ideatab[\w\-\s]+)/i,/lenovo\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+)|yt[\d\w-]{6}|tb[\d\w-]{6})/i],[d,[h,"Lenovo"],[p,f]],[/(?:maemo|nokia).*(n900|lumia\s\d+)/i,/nokia[\s_-]?([\w\.-]*)/i],[[d,/_/g," "],[h,"Nokia"],[p,v]],[/droid.+;\s(pixel\sc)[\s)]/i],[d,[h,"Google"],[p,f]],[/droid.+;\s(pixel[\s\daxl]{0,6})(?:\sbuild|\))/i],[d,[h,"Google"],[p,v]],[/droid.+\s([c-g]\d{4}|so[-l]\w+|xq-a\w[4-7][12])(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[h,"Sony"],[p,v]],[/sony\stablet\s[ps]\sbuild\//i,/(?:sony)?sgp\w+(?:\sbuild\/|\))/i],[[d,"Xperia Tablet"],[h,"Sony"],[p,f]],[/\s(kb2005|in20[12]5|be20[12][59])\b/i,/\ba000(1)\sbuild/i,/\boneplus\s(a\d{4})[\s)]/i],[d,[h,"OnePlus"],[p,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi)(\sbuild\/|\))/i,/(kf[a-z]+)(\sbuild\/|\)).+silk\//i],[d,[h,"Amazon"],[p,f]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[d,"Fire Phone"],[h,"Amazon"],[p,v]],[/\((playbook);[\w\s\),;-]+(rim)/i],[d,h,[p,f]],[/((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10;\s(\w+)/i],[d,[h,"BlackBerry"],[p,v]],[/(?:\b|asus_)(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus\s7|padfone|p00[cj])/i],[d,[h,"ASUS"],[p,f]],[/\s(z[es]6[027][01][km][ls]|zenfone\s\d\w?)\b/i],[d,[h,"ASUS"],[p,v]],[/(nexus\s9)/i],[d,[h,"HTC"],[p,f]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[h,[d,/_/g," "],[p,v]],[/droid[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[d,[h,"Acer"],[p,f]],[/droid.+;\s(m[1-5]\snote)\sbuild/i,/\bmz-([\w-]{2,})/i],[d,[h,"Meizu"],[p,v]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i,/(microsoft);\s(lumia[\s\w]+)/i,/(lenovo)[_\s-]?([\w-]+)/i,/linux;.+(jolla);/i,/droid.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[h,d,[p,v]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i,/[;\/]\s?(le[\s\-]+pan)[\s\-]+(\w{1,9})\sbuild/i,/[;\/]\s?(trinity)[\-\s]*(t\d{3})\sbuild/i,/\b(gigaset)[\s\-]+(q\w{1,9})\sbuild/i,/\b(vodafone)\s([\w\s]+)(?:\)|\sbuild)/i],[h,d,[p,f]],[/\s(surface\sduo)\s/i],[d,[h,"Microsoft"],[p,f]],[/droid\s[\d\.]+;\s(fp\du?)\sbuild/i],[d,[h,"Fairphone"],[p,v]],[/\s(u304aa)\sbuild/i],[d,[h,"AT&T"],[p,v]],[/sie-(\w*)/i],[d,[h,"Siemens"],[p,v]],[/[;\/]\s?(rct\w+)\sbuild/i],[d,[h,"RCA"],[p,f]],[/[;\/\s](venue[\d\s]{2,7})\sbuild/i],[d,[h,"Dell"],[p,f]],[/[;\/]\s?(q(?:mv|ta)\w+)\sbuild/i],[d,[h,"Verizon"],[p,f]],[/[;\/]\s(?:barnes[&\s]+noble\s|bn[rt])([\w\s\+]*)\sbuild/i],[d,[h,"Barnes & Noble"],[p,f]],[/[;\/]\s(tm\d{3}\w+)\sbuild/i],[d,[h,"NuVision"],[p,f]],[/;\s(k88)\sbuild/i],[d,[h,"ZTE"],[p,f]],[/;\s(nx\d{3}j)\sbuild/i],[d,[h,"ZTE"],[p,v]],[/[;\/]\s?(gen\d{3})\sbuild.*49h/i],[d,[h,"Swiss"],[p,v]],[/[;\/]\s?(zur\d{3})\sbuild/i],[d,[h,"Swiss"],[p,f]],[/[;\/]\s?((zeki)?tb.*\b)\sbuild/i],[d,[h,"Zeki"],[p,f]],[/[;\/]\s([yr]\d{2})\sbuild/i,/[;\/]\s(dragon[\-\s]+touch\s|dt)(\w{5})\sbuild/i],[[h,"Dragon Touch"],d,[p,f]],[/[;\/]\s?(ns-?\w{0,9})\sbuild/i],[d,[h,"Insignia"],[p,f]],[/[;\/]\s?((nxa|Next)-?\w{0,9})\sbuild/i],[d,[h,"NextBook"],[p,f]],[/[;\/]\s?(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05]))\sbuild/i],[[h,"Voice"],d,[p,v]],[/[;\/]\s?(lvtel\-)?(v1[12])\sbuild/i],[[h,"LvTel"],d,[p,v]],[/;\s(ph-1)\s/i],[d,[h,"Essential"],[p,v]],[/[;\/]\s?(v(100md|700na|7011|917g).*\b)\sbuild/i],[d,[h,"Envizen"],[p,f]],[/[;\/]\s?(trio[\s\w\-\.]+)\sbuild/i],[d,[h,"MachSpeed"],[p,f]],[/[;\/]\s?tu_(1491)\sbuild/i],[d,[h,"Rotor"],[p,f]],[/(shield[\w\s]+)\sbuild/i],[d,[h,"Nvidia"],[p,f]],[/(sprint)\s(\w+)/i],[h,d,[p,v]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[h,"Microsoft"],[p,v]],[/droid\s[\d\.]+;\s(cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[h,"Zebra"],[p,f]],[/droid\s[\d\.]+;\s(ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[h,"Zebra"],[p,v]],[/\s(ouya)\s/i,/(nintendo)\s([wids3utch]+)/i],[h,d,[p,g]],[/droid.+;\s(shield)\sbuild/i],[d,[h,"Nvidia"],[p,g]],[/(playstation\s[345portablevi]+)/i],[d,[h,"Sony"],[p,g]],[/[\s\(;](xbox(?:\sone)?(?!;\sxbox))[\s\);]/i],[d,[h,"Microsoft"],[p,g]],[/smart-tv.+(samsung)/i],[h,[p,y]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[h,"Samsung"],[p,y]],[/(?:linux;\snetcast.+smarttv|lg\snetcast\.tv-201\d)/i],[[h,"LG"],[p,y]],[/(apple)\s?tv/i],[h,[d,"Apple TV"],[p,y]],[/crkey/i],[[d,"Chromecast"],[h,"Google"],[p,y]],[/droid.+aft([\w])(\sbuild\/|\))/i],[d,[h,"Amazon"],[p,y]],[/\(dtv[\);].+(aquos)/i],[d,[h,"Sharp"],[p,y]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[h,w.trim],[d,w.trim],[p,y]],[/[\s\/\(](android\s|smart[-\s]?|opera\s)tv[;\)\s]/i],[[p,y]],[/((pebble))app\/[\d\.]+\s/i],[h,d,[p,b]],[/droid.+;\s(glass)\s\d/i],[d,[h,"Google"],[p,b]],[/droid\s[\d\.]+;\s(wt63?0{2,3})\)/i],[d,[h,"Zebra"],[p,b]],[/(tesla)(?:\sqtcarbrowser|\/20[12]\d\.[\w\.-]+)/i],[h,[p,x]],[/droid .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[d,[p,v]],[/droid .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[d,[p,f]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[p,w.lowerize]],[/(android[\w\.\s\-]{0,9});.+build/i],[d,[h,"Generic"]],[/(phone)/i],[[p,v]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[m,[u,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[u,m],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[m,u]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[u,m],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)(?!.+xbox)/i],[u,[m,S.str,P.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[u,"Windows"],[m,S.str,P.os.windows.version]],[/ip[honead]{2,4}\b(?:.*os\s([\w]+)\slike\smac|;\sopera)/i,/cfnetwork\/.+darwin/i],[[m,/_/g,"."],[u,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)(?!.+haiku)/i],[[u,"Mac OS"],[m,/_/g,"."]],[/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/\((series40);/i],[u,m],[/\(bb(10);/i],[m,[u,"BlackBerry"]],[/(?:symbian\s?os|symbos|s60(?=;)|series60)[\/\s-]?([\w\.]*)/i],[m,[u,"Symbian"]],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[u,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[m,[u,"webOS"]],[/crkey\/([\d\.]+)/i],[m,[u,"Chromecast"]],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[u,"Chromium OS"],m],[/(nintendo|playstation)\s([wids345portablevuch]+)/i,/(xbox);\s+xbox\s([^\);]+)/i,/(mint)[\/\s\(\)]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?=\slinux)|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus|raspbian)(?:\sgnu\/linux)?(?:\slinux)?[\/\s-]?(?!chrom|package)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i,/\s([frentopc-]{0,4}bsd|dragonfly)\s?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku)\s(\w+)/i],[u,m],[/(sunos)\s?([\w\.\d]*)/i],[[u,"Solaris"],m],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[u,m]]},E=function(e,t){if("object"==typeof e&&(t=e,e=o),!(this instanceof E))return new E(e,t).getResult();var n=e||(void 0!==r&&r.navigator&&r.navigator.userAgent?r.navigator.userAgent:""),i=t?w.extend(T,t):T;return this.getBrowser=function(){var e={name:o,version:o};return S.rgx.call(e,n,i.browser),e.major=w.major(e.version),e},this.getCPU=function(){var e={architecture:o};return S.rgx.call(e,n,i.cpu),e},this.getDevice=function(){var e={vendor:o,model:o,type:o};return S.rgx.call(e,n,i.device),e},this.getEngine=function(){var e={name:o,version:o};return S.rgx.call(e,n,i.engine),e},this.getOS=function(){var e={name:o,version:o};return S.rgx.call(e,n,i.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===c&&e.length>255?w.trim(e,255):e,this},this.setUA(n),this};E.VERSION="0.7.28",E.BROWSER={NAME:u,MAJOR:"major",VERSION:m},E.CPU={ARCHITECTURE:_},E.DEVICE={MODEL:d,VENDOR:h,TYPE:p,CONSOLE:g,MOBILE:v,SMARTTV:y,TABLET:f,WEARABLE:b,EMBEDDED:x},E.ENGINE={NAME:u,VERSION:m},E.OS={NAME:u,VERSION:m},typeof t!==s?(e.exports&&(t=e.exports=E),t.UAParser=E):(i=function(){return E}.call(t,n,t,e))===o||(e.exports=i);var I=void 0!==r&&(r.jQuery||r.Zepto);if(I&&!I.ua){var A=new E;I.ua=A.getResult(),I.ua.get=function(){return A.getUA()},I.ua.set=function(e){A.setUA(e);var t=A.getResult();for(var n in t)I.ua[n]=t[n]}}}("object"==typeof window?window:this)},653250:(e,t,n)=>{var i=n(667294);var r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=i.useState,a=i.useEffect,s=i.useLayoutEffect,l=i.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r(e,n)}catch(i){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),i=o({inst:{value:n,getSnapshot:t}}),r=i[0].inst,d=i[1];return s((function(){r.value=n,r.getSnapshot=t,c(r)&&d({inst:r})}),[e,n,t]),a((function(){return c(r)&&d({inst:r}),e((function(){c(r)&&d({inst:r})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:d},950139:(e,t,n)=>{var i=n(667294),r=n(61688);var o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=r.useSyncExternalStore,s=i.useRef,l=i.useEffect,c=i.useMemo,d=i.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,i,r){var u=s(null);if(null===u.current){var p={hasValue:!1,value:null};u.current=p}else p=u.current;u=c((function(){function e(e){if(!l){if(l=!0,a=e,e=i(e),void 0!==r&&p.hasValue){var t=p.value;if(r(t,e))return s=t}return s=e}if(t=s,o(a,e))return t;var n=i(e);return void 0!==r&&r(t,n)?t:(a=e,s=n)}var a,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,i,r]);var h=a(e,u[0],u[1]);return l((function(){p.hasValue=!0,p.value=h}),[h]),d(h),h}},61688:(e,t,n)=>{e.exports=n(653250)},552798:(e,t,n)=>{e.exports=n(950139)},813653:(e,t,n)=>{var i;n.d(t,{Z:()=>o});var r=new Uint8Array(16);function o(){if(!i&&!(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(r)}},861470:(e,t,n)=>{n.d(t,{Z:()=>s});const i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const r=function(e){return"string"==typeof e&&i.test(e)};for(var o=[],a=0;a<256;++a)o.push((a+256).toString(16).substr(1));const s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase();if(!r(n))throw TypeError("Stringified UUID is invalid");return n}},172045:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(813653),r=n(861470);const o=function(e,t,n){var o=(e=e||{}).random||(e.rng||i.Z)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=o[a];return t}return(0,r.Z)(o)}},542473:e=>{var t=function(){};e.exports=t},482131:(e,t,n)=>{n.d(t,{CA:()=>k,Tb:()=>A,Tx:()=>E,Y:()=>g,kz:()=>y});var i,r,o,a,s=function(e,t){return{name:e,value:void 0===t?-1:t,delta:0,entries:[],id:"v2-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},l=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if("first-input"===e&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver((function(e){return e.getEntries().map(t)}));return n.observe({type:e,buffered:!0}),n}}catch(e){}},c=function(e,t){var n=function n(i){"pagehide"!==i.type&&"hidden"!==document.visibilityState||(e(i),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},d=function(e){addEventListener("pageshow",(function(t){t.persisted&&e(t)}),!0)},u=function(e,t,n){var i;return function(r){t.value>=0&&(r||n)&&(t.delta=t.value-(i||0),(t.delta||void 0===i)&&(i=t.value,e(t)))}},p=-1,h=function(){return"hidden"===document.visibilityState?0:1/0},m=function(){c((function(e){var t=e.timeStamp;p=t}),!0)},_=function(){return p<0&&(p=h(),m(),d((function(){setTimeout((function(){p=h(),m()}),0)}))),{get firstHiddenTime(){return p}}},g=function(e,t){var n,i=_(),r=s("FCP"),o=function(e){"first-contentful-paint"===e.name&&(c&&c.disconnect(),e.startTime<i.firstHiddenTime&&(r.value=e.startTime,r.entries.push(e),n(!0)))},a=performance.getEntriesByName&&performance.getEntriesByName("first-contentful-paint")[0],c=a?null:l("paint",o);(a||c)&&(n=u(e,r,t),a&&o(a),d((function(i){r=s("FCP"),n=u(e,r,t),requestAnimationFrame((function(){requestAnimationFrame((function(){r.value=performance.now()-i.timeStamp,n(!0)}))}))})))},v=!1,f=-1,y=function(e,t){v||(g((function(e){f=e.value})),v=!0);var n,i=function(t){f>-1&&e(t)},r=s("CLS",0),o=0,a=[],p=function(e){if(!e.hadRecentInput){var t=a[0],i=a[a.length-1];o&&e.startTime-i.startTime<1e3&&e.startTime-t.startTime<5e3?(o+=e.value,a.push(e)):(o=e.value,a=[e]),o>r.value&&(r.value=o,r.entries=a,n())}},h=l("layout-shift",p);h&&(n=u(i,r,t),c((function(){h.takeRecords().map(p),n(!0)})),d((function(){o=0,f=-1,r=s("CLS",0),n=u(i,r,t)})))},b={passive:!0,capture:!0},x=new Date,w=function(e,t){i||(i=t,r=e,o=new Date,T(removeEventListener),S())},S=function(){if(r>=0&&r<o-x){var e={entryType:"first-input",name:i.type,target:i.target,cancelable:i.cancelable,startTime:i.timeStamp,processingStart:i.timeStamp+r};a.forEach((function(t){t(e)})),a=[]}},P=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){w(e,t),r()},i=function(){r()},r=function(){removeEventListener("pointerup",n,b),removeEventListener("pointercancel",i,b)};addEventListener("pointerup",n,b),addEventListener("pointercancel",i,b)}(t,e):w(t,e)}},T=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,P,b)}))},E=function(e,t){var n,o=_(),p=s("FID"),h=function(e){e.startTime<o.firstHiddenTime&&(p.value=e.processingStart-e.startTime,p.entries.push(e),n(!0))},m=l("first-input",h);n=u(e,p,t),m&&c((function(){m.takeRecords().map(h),m.disconnect()}),!0),m&&d((function(){var o;p=s("FID"),n=u(e,p,t),a=[],r=-1,i=null,T(addEventListener),o=h,a.push(o),S()}))},I=new Set,A=function(e,t){var n,i=_(),r=s("LCP"),o=function(e){var t=e.startTime;t<i.firstHiddenTime&&(r.value=t,r.entries.push(e)),n()},a=l("largest-contentful-paint",o);if(a){n=u(e,r,t);var p=function(){I.has(r.id)||(a.takeRecords().map(o),a.disconnect(),I.add(r.id),n(!0))};["keydown","click"].forEach((function(e){addEventListener(e,p,{once:!0,capture:!0})})),c(p,!0),d((function(i){r=s("LCP"),n=u(e,r,t),requestAnimationFrame((function(){requestAnimationFrame((function(){r.value=performance.now()-i.timeStamp,I.add(r.id),n(!0)}))}))}))}},k=function(e){var t,n=s("TTFB");t=function(){try{var t=performance.getEntriesByType("navigation")[0]||function(){var e=performance.timing,t={entryType:"navigation",startTime:0};for(var n in e)"navigationStart"!==n&&"toJSON"!==n&&(t[n]=Math.max(e[n]-e.navigationStart,0));return t}();if(n.value=n.delta=t.responseStart,n.value<0)return;n.entries=[t],e(n)}catch(e){}},"complete"===document.readyState?setTimeout(t,0):addEventListener("pageshow",t)}},6637:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(328531),r=n(643913),o=n(204088),a=n(172071),s=n(170815),l=n(584595),c=n(826067),d=n(7789);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let p=null;class h{constructor(e,t){u(this,"abortCallback",null),u(this,"isBackgroundSyncEnabled",!1),this.name=e,this.options=t?{...t}:{}}static setDefaultConstructorFn(e){p=e}static create(e,t){if(p){return new p(e,t||{})}throw new Error("Couldn't find constructor function for "+e)}_isUrlShortEnoughForHttpGet(e,t){return(e+"?"+(0,r.Z)(t)).length<=2e3}abort(){this.abortCallback&&(this.abortCallback(),this.abortCallback=null)}isCalling(){return!!this.abortCallback}callGet(e,t={}){d.DQ&&(t["X-B3-Flags"]="1");const{logNetworkTimer:n,loggerComponentName:i}=this.options,r=n?new s.Z:null;return r&&r.start(),this.call("get",e,t).then((e=>{var t;r&&(r.end(),null===(t=h.logTimerComplete)||void 0===t||t.call(h,{timing:r.getCompletedTime(),component:i||this.name}));return e}))}callCreate(e,t){return this.call("create",e,t)}callUpdate(e,t){return this.call("update",e,t)}callDelete(e,t){return this.call("delete",e,t)}async call(e,t,n){navigator.onLine||this.isBackgroundSyncEnabled||a.Z.increment("resource_factory_not_online",1,{resourceName:this.name});const i=!t||void 0===t.async||t.async,r=t&&t.timeout||null,o=this._call(e,i,r,n);try{const e=await o;this.onResponseSuccess(e)}catch(s){h.customCallErrorHandlers&&h.customCallErrorHandlers({error:s,name:this.name,showError:!(!t||!t.showError)})}return o}getAjaxParams({async:e,headers:t,method:n,timeoutSeconds:i}){const r={options:this.options,context:{}},s=`/resource/${this.name}/${n}/`,l={source_url:(0,c.JJ)(),data:JSON.stringify(r)},d="get"===n&&this._isUrlShortEnoughForHttpGet(s,l);!d&&this.isBackgroundSyncEnabled&&a.Z.increment("background_sync_request_header",1,{resourceName:this.name});return[{cache:!1,url:s,async:e,data:l,headers:{...(0,o.Z)({experimentHash:h.getExperimentHash(),windowIsInFocus:h.getWindowInFocus()}),...t},timeout:i||0,type:d?"GET":"POST"},r]}_call(e,t,n,i){throw new Error(`Resource _call must be implemented by child class - ${this.name} ${e}`)}onResponseSuccess(e){if(h.customResponseSuccessHandlers&&h.customResponseSuccessHandlers(e,this.options),h.contextLogger&&e.client_context&&!this.options.disable_event_log_info){const{event_log_info:t}=e.client_context;t&&"event_type"in t&&h.contextLogger.logContextEvent({...t,..."aux_data"in t?{aux_data:{...t.aux_data}}:null})}i.Z.onResourceResponse()}getLoginState(){throw new Error(`Resource getUser must be implemented by child class - ${this.name}`)}redirectToLoginPage(){throw new Error(`Resource redirectToLoginPage must be implemented by child class - ${this.name}`)}logoutUser(e){throw new Error(`Resource logoutUser must be implemented by child class - ${this.name}`)}showLimitedLoginPrompt(e,t){throw new Error(`Resource showLimitedLoginPrompt must be implemented by child class - ${this.name}`)}shouldRedirectToLoginPage(e,t,n,i,r){return!(0,c.JJ)().startsWith("/login")&&((403!==e||2831!==i)&&(403===e&&1!==r||(401===e&&1001===i&&!t||(401!==e||i!==l.hE||"/resource/SentExternalInviteCallbackResource/create/"!==n)&&(401===e&&i===l.hE&&"/resource/UserSessionResource/delete/"!==n&&(this.logoutUser(n),!0)))))}}u(h,"i18n",null),u(h,"customCallErrorHandlers",null),u(h,"customResponseSuccessHandlers",null),u(h,"logTimerComplete",null),u(h,"getExperimentHash",(()=>"")),u(h,"getWindowInFocus",(()=>!1)),u(h,"normalizeResponse",null),u(h,"customDataManipulations",null)},479218:(e,t,n)=>{n.d(t,{H:()=>d,Z:()=>c});var i=n(983722),r=n(310267),o=n(204088),a=n(6637);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l{constructor(e,t=5e3){s(this,"_flushTimer",null),s(this,"_listeningForWindowClose",!1),s(this,"_queue",[]),s(this,"flush",(()=>{if(this._flushTimer&&(clearTimeout(this._flushTimer),this._flushTimer=null),0!==this._queue.length)try{this._send(),this._queue=[]}catch(e){}})),this._queueMapper=e,this._flushTimeoutDelay=t}_send(){}enqueue(e){if(this._queue=[...this._queue,e],!this._flushTimer)try{this._flushTimer=setTimeout(this.flush,this._flushTimeoutDelay)}catch(t){this.flush()}this._listeningForWindowClose||(window.addEventListener("beforeunload",this.flush),this._listeningForWindowClose=!0)}}class c extends l{constructor(e,t,n=5e3){super(t,n),this._resourceName=e}_send(){a.Z.create(this._resourceName,this._queueMapper(this._queue)).callCreate()}}class d extends l{constructor(e,t,n,i=5e3){super(n,i),s(this,"_failedKeepAlive",!1),s(this,"_stickyFallback",!0),this._url=e,this._resourceName=t}_shouldFallback(){return this._failedKeepAlive&&this._stickyFallback}fetch(e){var t;const{getCsrfToken:s}=n(628551),l=null===(t=(0,i.Z)())||void 0===t?void 0:t.experimentsClient,c=(0,o.Z)({experimentHash:(null==l?void 0:l.latestExperimentHashFromServer)||"",windowIsInFocus:r.Z.windowIsInFocus});window.fetch(this._url,{method:"POST",mode:"same-origin",keepalive:!0,headers:{...c,"Content-Type":"application/json",Accept:"application/json","X-CSRFToken":s(),"X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({data:{options:e}})}).catch((()=>{this._failedKeepAlive=!0,e.keepAlive="failed";a.Z.create(this._resourceName,e).callCreate()}))}_send(){if(this._shouldFallback()){const e=this._queueMapper(this._queue);e.keepAlive="fallback";a.Z.create(this._resourceName,e).callCreate()}else{const e=this._queueMapper(this._queue);e.keepAlive=!0,this.fetch(e)}}}},983722:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(608832);function r(){return(0,i.l)()}},310267:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(594881);const r={windowIsInFocus:!0,initFocus:function(){const e=function(){r.windowIsInFocus=!1},t=function(){r.windowIsInFocus=!0,(0,i.Z)()};"undefined"!=typeof window&&(window.addEventListener("focus",t),window.addEventListener("blur",e))}},o=r},172071:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(441143),r=n.n(i),o=n(479218);let a=null;const s=[];let l=null;function c(){s.length&&s.forEach((e=>e.flush()))}function d(e,t,n,i,l){r()(i>=0&&i<=1,`sampleRate must be between 0 and 1. Found ${String(i)}`);const c=[e,t,n,i,l];a||(a=new o.H("/resource/StatsLogResource/create/","StatsLogResource",(e=>({source:"browser",stats:e})),5e3),s.push(a)),a.enqueue(c)}const u={increment(e,t=.1,n={}){d(e,1,"c",t,n)},count(e,t,n=.1,i={}){d(e,t,"c",n,i)},timing(e,t,n=.1,i={}){d(e,t,"ms",n,i)},gauge(e,t,n=.1,i={}){d(e,t,"g",n,i)},incrementNow(e,t=.1,n={}){d(e,1,"c",t,n),c()},countNow(e,t,n=.1,i={}){d(e,t,"c",n,i),c()},timingNow(e,t,n=.1,i={}){d(e,t,"ms",n,i),c()},initServer(e){l=e},__test_only_get_queue:()=>a?a._queue:[],__test_only_clear(){a=null}}},397066:(e,t,n)=>{n.d(t,{b:()=>d,h:()=>u});var i=n(983722),r=n(768559),o=n(43760),a=n(966113),s=n(619937),l=n(48714),c=n(366284);const d=({href:e,pinId:t,pin:n,location:o,auxData:d},u)=>{if(n&&n.is_promoted){var p,h,m,_;const w=(0,r.Z)({boardUrl:null===(p=n.board)||void 0===p?void 0:p.url,callToCreateSourcePinId:n.call_to_create_source_pin_id,location:o,pinId:n.id,pinnerUserName:null===(h=n.pinner)||void 0===h?void 0:h.username,storyPinDataId:n.story_pin_data_id,trackingParams:n.tracking_params,trackingParamsMap:n.tracking_params_map}),S=(0,l.nS)({url:e,pinId:t,csrId:null,clientTrackingParams:w,auxData:d}),P=(0,i.Z)();if((0,c.G6)(null!==(m=null==P?void 0:P.userAgent.browserName)&&void 0!==m?m:"")){var g,v;const{group:i}=null!==(g=null==P?void 0:P.experimentsClient.checkExperiment("m10n_event_conversion_measurement"))&&void 0!==g?g:{};let r=null!=P&&null!==(v=P.userAgent)&&void 0!==v&&v.browserVersion?P.userAgent.browserVersion:"0.0";if(r=parseFloat(r.split(".")[0]+"."+r.split(".")[1]),void 0!==n.campaign_id&&r>=14.1&&["enabled_safari"].includes(i)){var f;const i=n.attribution_source_id?((e,t,n)=>{const i=document.createElement("a");return i.setAttribute("href",t),i.setAttribute("target","_blank"),i.setAttribute("rel","noopener nofollow noreferrer"),i.style.cursor="pointer",i.style.display="block",i.setAttribute(s.$N.ATTRIBUTION_SOURCE_ID,e),i.setAttribute(s.$N.ATTRIBUTE_DESTINATION,n),i.setAttribute(s.$N.ATTRIBUTE_ON,n),i.click(),e})(n.attribution_source_id,S,e):((e,t,n)=>{const i=document.createElement("a");i.setAttribute("href",t),i.setAttribute("target","_blank"),i.setAttribute("rel","noopener nofollow noreferrer"),i.style.cursor="pointer",i.style.display="block";const r=""+(e%32*8+Math.floor(((new Date).getTime()-16409952e5)/864e5)%8);return i.setAttribute(s.$N.ATTRIBUTION_SOURCE_ID,r),i.setAttribute(s.$N.ATTRIBUTE_DESTINATION,n),i.setAttribute(s.$N.ATTRIBUTE_ON,n),i.click(),r})(null!==(f=n.pin_promotion_id)&&void 0!==f?f:0,S,e);return u({event_type:101,clientTrackingParams:w,object_id_str:t||"",aux_data:{pin_id:t||"",click_measurement_ppid:n.pin_promotion_id||"",click_measurement_campaign_id:n.campaign_id||"",is_pcm:!0,attribution_source_id:i,page_url:e}}),!0}}else if((0,c.i7)(null!==(_=null==P?void 0:P.userAgent.browserName)&&void 0!==_?_:"")){var y,b;const{group:i}=null!==(y=null==P?void 0:P.experimentsClient.checkExperiment("m10n_event_conversion_measurement_chrome"))&&void 0!==y?y:{},r=null!=P&&null!==(b=P.userAgent)&&void 0!==b&&b.browserVersion?parseInt(P.userAgent.browserVersion.split(".")[0],10):0;if(void 0!==n.attribution_source_id&&r>=101&&["enabled"].includes(i)){var x;const i=((e,t,n)=>{const i=new URL(`${a.Z.settings.CANONICAL_MAIN_URL}/attribution_source/`);i.searchParams.set(s.NR.ATTRIBUTION_SOURCE_EVENT_ID,e),i.searchParams.set(s.NR.ATTRIBUTION_DESTINATION,n),i.searchParams.set(s.NR.ATTRIBUTION_EXPIRY,""+s.uV);const r=document.createElement("a");return r.setAttribute("href",t),r.setAttribute("target","_blank"),r.setAttribute("rel","noopener nofollow noreferrer"),r.style.cursor="pointer",r.style.display="block",r.setAttribute(s.NR.ATTRIBUTION_SOURCE,i.toString()),r.click(),e})(null!==(x=n.attribution_source_id)&&void 0!==x?x:"0",S,e);return u({event_type:101,clientTrackingParams:w,object_id_str:t||"",aux_data:{pin_id:t||"",click_measurement_ppid:n.pin_promotion_id||"",click_measurement_campaign_id:n.campaign_id||"",is_arapi:!0,attribution_source_id:i,page_url:e}}),!0}}}return!1},u=({href:e,pinId:t,pin:n,location:i,auxData:a},s)=>{if("undefined"!=typeof window&&window.Windows)(0,o.Z)({url:e,pinId:t,pin:n,location:i,auxData:a});else{var c,u;if(d({href:e,pinId:t,pin:n,location:i,auxData:a},s))return;(0,l.Gj)({url:e,pinId:t,csrId:null,clientTrackingParams:(0,r.Z)({boardUrl:null==n||null===(c=n.board)||void 0===c?void 0:c.url,callToCreateSourcePinId:null==n?void 0:n.call_to_create_source_pin_id,location:i,pinId:null==n?void 0:n.id,pinnerUserName:null==n||null===(u=n.pinner)||void 0===u?void 0:u.username,storyPinDataId:null==n?void 0:n.story_pin_data_id,trackingParams:null==n?void 0:n.tracking_params,trackingParamsMap:null==n?void 0:n.tracking_params_map}),auxData:a})}}},807592:(e,t,n)=>{function i(e){const{max_price:t,min_price:n,price:i}=e;return t&&n?`${n}-${t}`:i}n.d(t,{Z:()=>i})},733756:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(30700),r=n(883119),o=n(785893);const a={__style:{borderRadius:"4px",padding:"10px 14px"}},s={borderWidth:"1px",borderStyle:"solid",borderColor:"white"},l={__style:{borderRadius:"4px",padding:"10px 14px 9px 8px",whiteSpace:"nowrap"}},c=({accessibilityLabel:e,color:t,customStyles:n,forwardedRef:c,icon:d,inline:u=!1,minHeight:p=40,minWidth:h=70,onTouch:m,pressState:_,shape:g,text:v})=>{const f=(e=>"primary"===e||"transparent"===e||"dark"===e?"inverse":"default")(t),y=(({color:e,icon:t})=>t?l:"transparent"===e?{__style:{...a.__style,...s}}:a)({color:t,icon:d}),b=(0,o.jsx)(r.xu,{position:"relative",children:(0,o.jsx)(r.xu,{color:t,display:u?"inlineBlock":"flex",justifyContent:"center",minHeight:p,minWidth:h,dangerouslySetInlineStyle:"pill"===g?(x=n,{__style:{borderRadius:"24px",paddingTop:"10px",paddingBottom:"10px",paddingLeft:"14px",paddingRight:"14px",...x}}):y,children:(0,o.jsxs)(r.kC,{alignItems:"center",justifyContent:"center",children:[d&&(0,o.jsx)(r.xu,{paddingX:"check"===d?2:0,children:(0,o.jsx)(r.JO,{accessibilityLabel:e,color:f,icon:d,inline:!0,size:"check"===d?16:20})}),(0,o.jsx)(r.xv,{color:f,inline:!0,size:"300",lineClamp:1,weight:"bold",children:v})]})})});var x;return m?(0,o.jsx)(i.Z,{onTouch:m,rounding:"pill"===g?"pill":2,pressState:_||"none",children:(0,o.jsx)(r.xu,{ref:c,children:b})}):b}},791804:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(112690),r=n(772181),o=n(883119),a=n(785893);function s({action:e,alignCenter:t}){const n=(0,i.Z)(),{title:s,description:l,button:c}=e,d=s&&s.text,u=l&&l.text,p=c&&c.text||"",h=c&&c.link||"";return(0,a.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[!!d&&(0,a.jsx)(o.xv,{align:t?"center":"start",weight:"bold",children:d}),!!u&&(0,a.jsx)(o.xv,{align:t?"center":"start",children:u}),!!(c&&p&&h)&&(0,a.jsx)(o.xu,{paddingY:3,children:(0,a.jsx)(o.zx,{fullWidth:!0,onClick:()=>{(0,r.Fb)(n,h),window.location.replace(h)},text:p,color:"white"})})]})}var l=n(829407),c=n(643010);const d={boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},u={backgroundColor:"#DDF3F2",...d},p={backgroundColor:"#21374B",...d};function h({alignCenter:e,notice:t,viewType:n,viewParameter:d,query:h,sensitivity:m}){const _=(0,i.Z)(),{title:g,description:v,actions:f=[]}=t,y=v&&v.text||"",b=function(e,t,n){const i=[];let s=0;for(let l=0;l<t.length;l+=1){const c=t[l];if(5===c.tag_type&&c.link){const t=e.substring(c.offset,c.offset+c.length),l=(0,a.jsx)(o.rU,{inline:!0,target:"blank",href:c.link,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),(0,r.Fb)(n,c.link)},underline:"hover",children:(0,a.jsx)(o.xv,{inline:!0,weight:"bold",children:t})},t);i.push((0,a.jsx)(o.xv,{inline:!0,children:e.substring(s,c.offset)})),i.push(l),s=c.offset+c.length}}return s>0&&i.push((0,a.jsx)(o.xv,{inline:!0,children:e.substring(s)})),0===i.length?[(0,a.jsx)("span",{children:e})]:i}(y,v&&v.text_tags||[],_);return(0,l.Z)((()=>{n&&_({event_type:120,view_type:n,component:13367,view_parameter:d,aux_data:{entered_query:h,advisory_details:null==m?void 0:m.advisory_details,advisory_level:null==m?void 0:m.advisory,severity_level:null==m?void 0:m.severity}})})),(0,a.jsxs)(o.xu,{rounding:2,padding:6,dangerouslySetInlineStyle:{__style:(0,c.Yc)()?p:u},children:[!!g&&(0,a.jsx)(o.xu,{marginBottom:3,display:"flex",justifyContent:e?"center":void 0,children:(0,a.jsx)(o.X6,{size:"500",children:g})}),!!y&&(0,a.jsx)(o.xu,{marginBottom:4,children:(0,a.jsx)(o.xv,{size:"100",children:b})}),f.map((t=>(0,a.jsx)(o.xu,{paddingY:f.length>1?2:0,children:(0,a.jsx)(s,{action:t,alignCenter:e})},t.id)))]})}},772181:(e,t,n)=>{n.d(t,{Fb:()=>a,Fx:()=>r,IR:()=>i,Uz:()=>o});const i={ABUSIVE:0,SENSITIVE:1,BRAND_UNSAFE:2};function r(e){return null!=e&&(!!e.notice||!!e.notices&&e.notices.length>0)}function o(e){return!!e&&e.severity===i.ABUSIVE}function a(e,t){e({aux_data:{url:t},component:13367,element:11180,event_type:102,view_parameter:43,view_type:2})}},856919:(e,t,n)=>{n.d(t,{MZ:()=>k,di:()=>R,Ai:()=>C});var i=n(667294),r=n(474635),o=n(205443),a=n(733756),s=n(735079),l=n(954571),c=n(250059),d=n(149230),u=n(407043),p=n(48714),h=n(276775);const m=({children:e,external:t,externalQueryParams:n,target:i,href:r})=>{const{logContextEvent:o}=(0,u.v)(),a=(0,h.useHistory)(),s=(0,h.useLocation)();if(!r)return null;const l=(0,c.Z)(r);return e({navigate:e=>{e.preventDefault(),(0,d.Z)({url:l})||t?(0,p.lI)({href:l,queryParams:n,location:s},o,null):(0,p.G3)({event:e,href:r,history:a,target:"blank"===i?"blank":null})}})};var _=n(883119),g=n(785893);const v=({accessibilityLabel:e,children:t,external:n,externalQueryParams:i,inline:r=!1,newTab:o,nofollow:a,onTouch:s,onBlur:l,onFocus:d,pressState:u,rounding:p,to:h})=>(0,g.jsx)(m,{external:n,target:o?"blank":null,externalQueryParams:i,href:h,children:({navigate:n})=>(0,g.jsx)(_.rU,{accessibilityLabel:e,onBlur:l?({event:e})=>l(e):void 0,onFocus:d?({event:e})=>d(e):void 0,underline:"none",href:(0,c.Z)(h),inline:r,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),null==s||s(e),e.defaultPrevented||n(e)},rel:a?"nofollow":"none",rounding:p,tapStyle:(Array.isArray(u)?u:[u]).includes("compress")?"compress":"none",children:t})}),f=({external:e,externalQueryParams:t,newTab:n,onTouch:i,to:r,...o})=>(0,g.jsx)(m,{external:e,target:n?"blank":null,externalQueryParams:t,href:r,children:({navigate:e})=>(0,g.jsx)(a.Z,{onTouch:t=>{null==i||i(t),t.defaultPrevented||e(t)},...o})});var y=n(949372),b=n(112690),x=n(19121),w=n(30287),S=n(968228),P=n(780280),T=n(281180),E=n(957161),I=n(622096);const A=(e,t=!1)=>function({isAppUpsellDisabled:n,...a}){const{children:c,clientTrackingParams:d,deeplinkUri:u,external:p,onTouch:h,refresh:m,to:v,viewParameter:f,viewType:A}=a,k=(0,y.Z)(),[C,R]=(0,i.useState)(!1),{isAuth:L}=(0,x.Z)(),{userAgent:{platform:j},locale:D}=(0,P.B)(),O=(0,T.Tt)(),N=(0,b.Z)(),M=()=>{N({event_type:1701,view_type:A,view_parameter:f}),C&&R(!1)};return(0,g.jsxs)(_.xu,{"data-test-id":"deeplink-wrapper",children:[C&&(0,g.jsx)(r.Z,{componentType:14157,within:"deep-link-app-upsell-modal",children:({handleOpenApp:e})=>(0,g.jsx)(o.Z,{clientTrackingParams:d,isOpen:!0,onDismiss:()=>{N({component:14157,element:10308,event_type:10220,view_type:A||32,view_parameter:f})},onOpenInApp:()=>{(0,E.Nh)("deeplinkBehavior","branchfallback"),e({deepLinkUri:u}),M()},shouldTrackDismiss:!0,to:v,viewParameter:f,viewType:A})}),(0,g.jsx)(s.Z,{children:i=>(0,g.jsx)(e,{...a,onTouch:e=>{const r=k&&!n&&L&&!p&&!m&&!(0,w.FP)(window)&&!("ios"===j&&(D||"").startsWith("ar"))&&(0,S.kp)((0,l.Z)(null==O?void 0:O.created_at));var o;r?(e.stopPropagation(),e.preventDefault(),R(!0)):"branchfallback"!==(0,E.qn)("deeplinkBehavior")||(0,I.qn)("fallbackAttempt")||(e.stopPropagation(),e.preventDefault(),(0,I.Nh)("fallbackAttempt",1),i(u,`${window.location.origin}${o=v,"string"==typeof o?o:`${o.pathname||""}${o.search?`?${o.search}`:""}`}`),M()),t&&r||!h||h(e)},children:c})})]})},k=A(v),C=A(f),R=A(a.Z,!0)},735079:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(702664),r=n(172071),o=n(826067);const a="http://play.google.com/store/apps/details?id=com.pinterest",s=["access_token","new_password","new_password_confirm","password","next"],l=(e,t)=>t?(0,o.ru)(e,{invite_code:t}):e,c=(e,t,n)=>{if("ios"===t&&"string"==typeof e&&e.startsWith("discover/article/")){const t=e.split("/")[2];e=`discover_article/${t}/?is_deeplink=1`}return"string"==typeof e&&e.startsWith("tv/")&&(e=e.replace(/^tv\//,"live-session/")),"string"==typeof e?l(e,n):"ios"===t||"ipad"===t?l(e.iOS,n):"android"===t?l(e.android,n):null},d=({deeplinkUri:e,fallbackUrl:t,invite_code:n,platform:i,redirectToLite:l,unauthId:d,userAgent:u})=>{if(e){const p=(({deeplinkUri:e,invite_code:t,platform:n,fallbackUrl:i,unauthId:r})=>({deeplink_path:c(e,n,t),current_page_url:(0,o.Gw)("undefined"!=typeof window?window.location.href:"",s),install_id:r,utm_source:140,utm_medium:2152,...i?{af_r:i}:null}))({deeplinkUri:e,fallbackUrl:t,invite_code:n,platform:i,unauthId:d,userAgent:u});if(r.Z.increment("mweb.deeplink",1,{platform:i}),n&&r.Z.increment("mweb.deeplink.invite_code",1),r.Z.increment("mweb.deeplink.unauthId",1,{withUnauthId:Boolean(d)}),l){r.Z.increment("mweb.deeplink.lite_link",1);const e=(({unauthId:e})=>{const t=(0,o.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e});return{referrer:encodeURI(t)}})({unauthId:d});window.location.href=(0,o.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===i){const t=(({deeplinkUri:e,invite_code:t,platform:n,unauthId:i})=>{const r=JSON.stringify({deeplink_path:c(e,n,t),current_page_url:(0,o.Gw)("undefined"!=typeof window?window.location.href:"",s),install_id:i});return{referrer:(0,o.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:r})}})({deeplinkUri:e,invite_code:n,platform:i,unauthId:d});"getInstalledRelatedApps"in navigator?navigator.getInstalledRelatedApps().then((e=>{if(e.length>0){const e=(0,o.ru)(window.location.href,p);window.open(e)}else window.location.href=(0,o.ru)(a,t)})).catch(r.Z.increment("mweb_android.deeplink.playStore.error",1)):window.location.href=(0,o.ru)(a,t)}else{if(r.Z.increment("mweb.deeplink.appsflyer_link",1),"ios"===i&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal"))return void(window.location.href=(0,o.ru)("https://pinterest.com/pinterest-predicts",p));window.location.href=(0,o.ru)("https://pinterest.onelink.me/TVSr/21e04bfd",p)}}};var u=n(619277),p=n(968228),h=n(785893);function m({children:e,invite_code:t}){const{userAgentPlatform:n,unauthId:r,userAgent:o}=(0,i.useSelector)((({session:e})=>e));return e((async(e,i)=>{d({deeplinkUri:e,fallbackUrl:i,invite_code:t,platform:n,redirectToLite:(0,p.Rp)({platform:n,userAgent:o}),unauthId:r,userAgent:o})}))}const _=e=>(0,h.jsx)(u.ty,{children:t=>(0,h.jsx)(m,{...e,invite_code:t})});_.displayName="DeepLinkNavigator";const g=_},141280:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(667294),r=n(124580),o=n(740990),a=n(223815),s=n(643010),l=n(968121),c=n(494349),d=n(883119),u=n(785893);const p={border:(0,s.Yc)()?void 0:"1px solid #efefef",width:"100vw",maxHeight:"100%",height:"100%",overflow:"auto",top:"0",left:"0",position:"fixed",backgroundColor:(0,s.Yc)()?"#000":"#fff",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"},h={modalOpen:{__style:{...p}},modalClose:{__style:{...p,transform:"translate3d(0px, 100%, 0px)"}}};function m({accessibilityModalLabel:e,allowClickAndDrag:t,children:n,isOpen:s}){const{setAppFocusState:p}=(0,c.I)(),m=(0,i.useRef)(null);return(0,i.useEffect)((()=>(s&&(r.Z.pause(),p(!1),document.body&&(document.body.style.overflow="hidden")),()=>{s&&(r.Z.resume(),p(!0),document.body&&(document.body.style.overflow=""))})),[s,p]),(0,u.jsx)(a.Z,{allowClickAndDrag:t,children:(0,u.jsx)(d.mh,{zIndex:l.b7,children:(0,u.jsx)(d.xu,{display:"inlineBlock",role:"dialog","aria-label":e,children:(0,u.jsx)(d.xu,{ref:m,dangerouslySetInlineStyle:{__style:s?h.modalOpen.__style:h.modalClose.__style},children:(0,u.jsx)(o.Z.Provider,{value:m.current,children:n})})})})})}},155247:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),r=n(172071),o=n(883119),a=n(813401),s=n(112690),l=n(785893);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d=(e,t)=>{const n=e&&e.replace(".","_");return t?n&&n.substring(0,50):n};class u extends i.Component{constructor(...e){super(...e),c(this,"state",{href:void 0}),c(this,"onEvent",(()=>new Promise(((e,t)=>{"undefined"==typeof window&&t();const{filename:n,imgSrc:i,isAndroidTwa:o,isChromeOnIOS:a,isUnauth:s,logContextEvent:l,category:c,viewParameter:u,viewType:p,pinId:h,imageSignature:m}=this.props,{href:_}=this.state;window.AndroidTwa&&window.AndroidTwa.downloadImage?(window.AndroidTwa.downloadImage(i,d(n,o)),e()):a?(this.imageDownload&&this.imageDownload.click(),e()):null==_&&fetch(i,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then((e=>e.blob())).then((t=>{this.setState({href:window.URL.createObjectURL(t)},(()=>{this.imageDownload&&(this.imageDownload.click(),e())}))})).catch((()=>this.setState({href:this.DOWNLOAD_ERROR}))),r.Z.increment(`mweb.${s?"unauth":"auth"}.download.click.${c||"no_category"}`),l({event_type:82,object_id_str:h,view_type:p||3,view_parameter:u||139,aux_data:{image_signature:m}})})))),c(this,"DOWNLOAD_ERROR","error")}render(){const{children:e,filename:t,imgSrc:n,isAndroidTwa:r,isChromeOnIOS:a}=this.props,{href:s}=this.state,c=null!=s&&s!==this.DOWNLOAD_ERROR;return(0,l.jsxs)(i.Fragment,{children:[e(this.onEvent),a&&n?(0,l.jsx)(o.xu,{display:"none",children:(0,l.jsx)("a",{ref:e=>this.imageDownload=e,rel:"noopener noreferrer",tabIndex:-1,target:"_blank",href:n})}):c&&(0,l.jsx)(o.xu,{display:"none",children:(0,l.jsx)("a",{ref:e=>this.imageDownload=e,tabIndex:-1,download:d(t,r),href:s})})]})}}function p(e){const t=(0,a.xC)(),n=(0,s.Z)();return(0,l.jsx)(u,{...e,isAndroidTwa:t,logContextEvent:n})}},968919:(e,t,n)=>{n.d(t,{iK:()=>Re,G9:()=>Te,ZP:()=>Le,kk:()=>Pe,cV:()=>Ie});var i=n(667294),r=n(702664),o=n(157796),a=n(391254),s=n(283698),l=n(313047),c=n(100183),d=n(185894),u=n(81636),p=n(898781),h=n(883119),m=n(785893);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g="BizNuxHomefeedLoader",v=[140,220,265],f=["#E2780D","#0074e8","#0FA573","#FAB904","#133A5E","#FF8A8A"],y=e=>({position:"absolute",width:"100%",height:"100%",top:"0px",left:"0px",zIndex:"1",pointerEvents:"none",...e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:"1.15s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${g}_FadeOut`,animationDuration:".5s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:`${g}_FadeOut`}:{}}),b=e=>e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:".5s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${g}_FadeOut`,animationDuration:".4s",animationDelay:".5s",animationFillMode:"forwards",animationName:`${g}_FadeOut`}:{},x=[`${g}_FadeOut {\n    from { opacity: 1 }\n    to { opacity: 0 }\n  }`,`${g}_SlideUp {\n    from {\n      -webkit-transform: translateY(100vh);\n      transform: translateY(100vh);\n    }\n    to {\n      -webkit-transform: translateY(0);\n      transform: translateY(0);\n    }\n  }`];class w extends i.PureComponent{constructor(...e){super(...e),_(this,"state",{enterAnimationFinished:!1,startExitAnimation:!1}),_(this,"enterAnimationDidFinished",(()=>{this.setState({enterAnimationFinished:!0})})),_(this,"startExitAnimation",(()=>{const{dismissLoader:e}=this.props;this.setState({startExitAnimation:!0},(()=>{this.exitAnimationTimeout=setTimeout((()=>{e()}),1700)}))}))}componentDidMount(){window.scrollTo(0,0),this.enterAnimationTimeout=setTimeout((()=>{this.enterAnimationDidFinished()}),2e3)}componentDidUpdate(e){const{homefeedLoading:t}=this.props,{enterAnimationFinished:n,startExitAnimation:i}=this.state;!n||t||i||(0,s.Z)(this.startExitAnimation)}componentWillUnmount(){clearTimeout(this.enterAnimationTimeout),clearTimeout(this.exitAnimationTimeout)}get gridCellDimensionsByColumn(){const{gridContainerRef:e}=this.props;if(!e.current)return null;const t=e.current.querySelectorAll(".PinCard__imageWrapper"),n=Array.from({length:this.numberOfColumns},(e=>[]));for(let i=0;i<t.length;i+=1){const e=t[i].getBoundingClientRect();n[Math.round(e.left/(window.innerWidth/this.numberOfColumns))].push(e)}return n}get numberOfColumns(){return Math.max(Math.floor(window.innerWidth/200),2)}computeGridCellLayout(e,t,n){const i=this.numberOfColumns+1,r=(window&&window.innerWidth-16*i)/this.numberOfColumns;return{left:e*r+16*(e+1),top:n,width:r,height:v[(e+t)%v.length]}}renderGrid(){const{selectedTopics:e}=this.props,{startExitAnimation:t}=this.state,n=Array(this.numberOfColumns).fill(l.DEFAULT_HEIGHT),i=this.gridCellDimensionsByColumn,r=e.map(((e,r)=>{const o=r%this.numberOfColumns,a=Math.floor(r/this.numberOfColumns),s=f[r%f.length],l=n[o],c=this.computeGridCellLayout(o,a,l),d=(({color:e,startAnimation:t,originDimension:n,destinationDimension:i={}})=>{const r=i&&i.height>0?{top:i.top,left:i.left,width:i.width,height:i.height}:{opacity:0};return{position:"absolute",WebkitTransitionDuration:".5s",WebkitTransitionDelay:".6s",WebkitTransitionProperty:"all",WebkitTransitionTimingFunction:"ease-in-out",transitionDuration:".5s",transitionDelay:".6s",transitionProperty:"all",transitionTimingFunction:"ease-in-out",height:n.height,width:n.width,left:n.left,top:n.top,backgroundColor:e,borderRadius:"8px",...t?r:{}}})({color:s,startAnimation:t,originDimension:c,destinationDimension:i&&i[o][a]});return n[o]+=16+c.height,(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:d},children:(0,m.jsx)(h.xu,{margin:5,display:"flex",justifyContent:"start",alignItems:"start",dangerouslySetInlineStyle:{__style:b(t)},children:(0,m.jsx)(h.X6,{color:"light",size:"500",children:e.name})})},r)}));return(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{position:"absolute",height:"100%",width:"100%",left:0,top:0,WebkitTransform:"translateY(100vh)",WebkitAnimationDuration:".8s",WebkitAnimationDelay:"1.2s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${g}_SlideUp`,transform:"translateY(100vh)",animationDuration:".8s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:`${g}_SlideUp`}},children:r})}render(){const{startExitAnimation:e}=this.state;return(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(a.Z,{unsafeCSS:(0,c.Ll)(x)}),(0,m.jsx)(h.xu,{color:"default",dangerouslySetInlineStyle:{__style:y(e)},children:(0,m.jsxs)(h.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(o.Z,{duration:3700,finalProgress:100}),(0,m.jsx)(h.xu,{margin:10,dangerouslySetInlineStyle:{__style:{WebkitAnimationDuration:".5s",WebkitAnimationDelay:"1.4s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${g}_FadeOut`,animationDuration:".5s",animationDelay:"1.25s",animationFillMode:"forwards",animationName:`${g}_FadeOut`}},children:(0,m.jsx)(h.X6,{children:this.props.i18n._('Personalizing your feed with...', 'Loading homefeed details', 'Loading homefeed details')})})]}),this.renderGrid()]})})]})}}function S(e){const t=(0,p.ZP)(),n=(0,r.useSelector)((({topics:e})=>e)),i=(0,r.useDispatch)();return(0,u.Q)({view_type:24,view_parameter:261}),(0,m.jsx)(w,{...e,dismissLoader:()=>i((0,d.MI)(!1)),i18n:t,selectedTopics:Object.keys(n).filter((e=>n[e].is_followed)).map((e=>n[e]))})}var P=n(794987),T=n(200310),E=n(447635),I=n(609700),A=n(30700),k=n(172071),C=n(317254),R=n(920231),L=n(459523),j=n(481277);function D({text:e,isSelected:t,icon:n,animationType:i,position:r,hasStartPulling:o,isExecuted:a}){return(0,m.jsxs)(h.xu,{display:"flex",direction:"column",alignItems:"center",marginBottom:6,children:[(0,m.jsx)(h.xu,{color:t?"dark":"secondary","data-test-id":"action-animated-icon",rounding:"circle",padding:o?4:0,dangerouslySetInlineStyle:t&&a?{__style:{transform:"rotate(360deg)",transition:"all .9s ease-out"}}:{__style:{transition:"all .3s ease-out",marginTop:t&&"move"===i?40:0}},children:(0,m.jsx)(h.JO,{size:100*r<24?100*r:24,icon:n,accessibilityLabel:e,color:t?"light":"dark"})}),(0,m.jsx)(h.xu,{padding:1,"data-test-id":"action-animated-text",dangerouslySetInlineStyle:{__style:{opacity:t?1:0,transition:"all .3s ease-out"}},children:(0,m.jsx)(h.xv,{align:"center",size:"100",children:e})})]})}var O=n(966113);function N({enabled:e,onSelect:t,refreshing:n}){const r=(0,i.useRef)(null),[o,a]=(0,i.useState)(0),[s,l]=(0,i.useState)(!1),c=n?0:o/300,d=c>0,u=()=>{l(!1),a(0)};(0,i.useEffect)((()=>{if(e){const e=e=>{window.scrollY<=0&&!n&&(r.current=e.touches[0].clientY)},i=e=>{if(r.current){const t=.5*(e.touches[0].clientY-r.current);t>0&&(a(t),e.preventDefault())}},s=e=>{r.current&&(l(!0),t({pullDistance:o,position:c,resetState:u}),r.current=null)};return window.addEventListener("touchstart",e),window.addEventListener("touchmove",i,{passive:!1}),window.addEventListener("touchend",s),()=>{window.removeEventListener("touchstart",e),window.removeEventListener("touchmove",i,{passive:!1}),window.removeEventListener("touchend",s)}}}),[e,t,o,n,c]);const p=r.current;return{pullDistance:o,hasStartPulling:d,position:c,startYRefCurrent:p,PULL_MENU_DISTANCE:300,isExecuted:s}}var M=n(407043),U=n(276775);const{ACCOUNT_EDIT_TUNER:F}=O.Z.settings;function z({enabled:e,onPull:t,refreshing:n}){const i=(0,p.ZP)(),r=(0,U.useHistory)(),{logContextEvent:o}=(0,M.v)(),a=e=>e>=.6,s=e=>e>.4&&e<.6,{position:l,hasStartPulling:c,PULL_MENU_DISTANCE:d,isExecuted:u}=N({enabled:e,onSelect:e=>{const{position:n,resetState:i}=e;s(n)?setTimeout((()=>{o({view_type:1,event_type:158,view_parameter:92}),t(),i()}),500):a(n)?setTimeout((()=>{o({view_type:1,event_type:10144,view_parameter:92}),r.push(F),i()}),500):i()},refreshing:n}),_=i._('Refresh', 'pullMenu.refresh', 'Pull down on grid to refresh items'),g=i._('Edit Feed', 'pullMenu.goTuner', 'Pull down on grid to edit your feed');return(0,m.jsx)(h.xu,{children:e&&(0,m.jsxs)(h.xu,{display:"flex",alignItems:"center",direction:"column",height:l*d,justifyContent:"center",marginBottom:c?4:0,children:[(0,m.jsx)(D,{text:g,isSelected:a(l),icon:"edit",animationType:"move",position:l,hasStartPulling:c,isExecuted:u}),(0,m.jsx)(D,{text:_,isSelected:s(l),icon:"refresh",position:l,hasStartPulling:c,isExecuted:u})]})})}function Z({enabled:e,onPull:t,refreshing:n}){const i=(0,p.ZP)(),{logContextEvent:r}=(0,M.v)(),{position:o,startYRefCurrent:a,pullDistance:s}=N({enabled:e,onSelect:e=>{const{pullDistance:n,resetState:i}=e;n>=120&&(r({view_type:1,event_type:158,view_parameter:92}),t()),i()},refreshing:n}),l=Math.min(o,1),c=i._('Pull to refresh', 'Pull down on grid to refresh items', 'Pull down on grid to refresh items');return(0,m.jsx)(h.xu,{children:e&&(0,m.jsx)(h.xu,{display:"flex",alignItems:"center",justifyContent:"center",height:120*o,dangerouslySetInlineStyle:{__style:{opacity:l,transition:null===a?"all .3s ease-out":void 0}},children:(0,m.jsx)(h.JO,{size:40,icon:a&&s<120?"arrow-circle-down":"arrow-circle-up",accessibilityLabel:c})})})}var B=n(773285);function H({enabled:e,onPull:t,refreshing:n}){const{checkExperiment:r}=(0,B.F)(),{anyEnabled:o}=r("mweb_pull_menu");return(0,m.jsx)(i.Fragment,{children:o?(0,m.jsx)(z,{enabled:e,onPull:t,refreshing:n}):(0,m.jsx)(Z,{enabled:e,onPull:t,refreshing:n})})}var V,W=n(995228),G=n(740990),$=n(5724),K=n(585112),q=n(829407),Y=n(784590),X=n(544826),J=n(693099),Q=n(273712),ee=n(957161),te=n(550407),ne=n(722647),ie=n(706512),re=n(167912);const oe=["#E2780D","#0074e8","#0FA573","#FAB904","#133A5E","#FF8A8A"],ae=[140,220,265],se=e=>({position:"absolute",width:"100%",height:"100vh",top:"0px",left:"0px",zIndex:"1",pointerEvents:"none",...e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:"1.15s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:"NuxHomefeedLoader_FadeOut",animationDuration:".5s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:"NuxHomefeedLoader_FadeOut"}:{}}),le=e=>e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:".5s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:"NuxHomefeedLoader_FadeOut",animationDuration:".4s",animationDelay:".5s",animationFillMode:"forwards",animationName:"NuxHomefeedLoader_FadeOut"}:{},ce=["NuxHomefeedLoader_FadeOut {\n    from { opacity: 1 }\n    to { opacity: 0 }\n  }","NuxHomefeedLoader_SlideUp {\n    from {\n      -webkit-transform: translateY(100vh);\n      transform: translateY(100vh);\n    }\n    to {\n      -webkit-transform: translateY(0);\n      transform: translateY(0);\n    }\n  }"],de=e=>e._('Personalizing your feed with...', 'Loading homefeed details', 'Loading homefeed details');function ue({gridContainerRef:e,homefeedLoading:t,selectedTopics:n}){const _=(0,p.ZP)(),[g,v]=(0,i.useState)(!1),[f,y]=(0,i.useState)(!1),b=(0,r.useDispatch)(),x=(0,ie.Z)();let w,S;(0,i.useEffect)((()=>(window.scrollTo(0,0),w=setTimeout((()=>{v(!0)}),3e3),()=>{clearTimeout(w),clearTimeout(S)})),[]),(0,i.useEffect)((()=>{t||!g||f||(0,s.Z)((()=>{y(!0),S=setTimeout((()=>{x({event_type:8900,view_type:24,view_parameter:261}),b((0,d.gH)(!1))}),2550)}))}),[t,g,f]);const P=()=>Math.max(Math.floor(window.innerWidth/200),2);return(0,m.jsx)(u.Z,{log:{view_type:24,view_parameter:261},children:(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(a.Z,{unsafeCSS:(0,c.Ll)(ce)}),(0,m.jsx)(h.xu,{color:"default",dangerouslySetInlineStyle:{__style:se(f)},children:(0,m.jsxs)(h.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,m.jsx)(o.Z,{color:"dark",duration:5550,finalProgress:100}),(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{WebkitAnimationDuration:".5s",WebkitAnimationDelay:"2.8s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:"NuxHomefeedLoader_FadeOut",animationDuration:".5s",animationDelay:"2.5s",animationFillMode:"forwards",animationName:"NuxHomefeedLoader_FadeOut"}},paddingX:4,paddingY:6,children:(0,m.jsx)(h.X6,{size:"500",children:de(_)})}),(()=>{const t=P(),i=Array(t).fill(l.DEFAULT_HEIGHT),r=(()=>{const t=P();if(!e.current)return null;const n=e.current.querySelectorAll(".PinCard__imageWrapper"),i=Array.from({length:t},(e=>[]));for(let e=0;e<n.length;e+=1){const r=n[e].getBoundingClientRect();i[Math.round(r.left/(window.innerWidth/t))].push(r)}return i})(),o=n.map(((e,n)=>{const o=n%t,a=Math.floor(n/t),s=oe[n%oe.length],l=((e,t,n)=>{const i=P(),r=i+1,o=(window&&window.innerWidth-8*r)/i;return{left:e*o+8*(e+1),top:n,width:o,height:ae[(e+t)%ae.length]}})(o,a,i[o]),c=(({color:e,startAnimation:t,originDimension:n,destinationDimension:i={}})=>{const r=i&&i.height>0?{top:i.top,left:i.left,width:i.width,height:i.height}:{opacity:0};return{position:"absolute",WebkitTransitionDuration:".5s",WebkitTransitionDelay:".6s",WebkitTransitionProperty:"all",WebkitTransitionTimingFunction:"ease-in-out",transitionDuration:".5s",transitionDelay:".6s",transitionProperty:"all",transitionTimingFunction:"ease-in-out",height:n.height,width:n.width,left:n.left,top:n.top,backgroundColor:e,borderRadius:"8px",...t?r:{}}})({color:s,startAnimation:f,originDimension:l,destinationDimension:r&&r[o][a]});return i[o]+=8+l.height,(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:c},children:(0,m.jsx)(h.xu,{margin:4,dangerouslySetInlineStyle:{__style:le(f)},children:(0,m.jsx)(h.X6,{color:"light",size:"400",children:e.name})})},n)}));return(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{position:"absolute",height:"100vh",width:"100%",left:0,top:0,WebkitTransform:"translateY(100vh)",WebkitAnimationDuration:".8s",WebkitAnimationDelay:"2.4s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:"NuxHomefeedLoader_SlideUp",transform:"translateY(100vh)",animationDuration:".8s",animationDelay:"2.4s",animationFillMode:"forwards",animationName:"NuxHomefeedLoader_SlideUp"}},children:o})})()]})})]})})}const pe=void 0!==V?V:V=n(248639);function he(){const e=(0,p.ZP)();return(0,m.jsx)(h.xu,{height:"100vh",width:"100vw",children:(0,m.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{WebkitAnimationDuration:".5s",WebkitAnimationDelay:"2.8s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:"NuxHomefeedLoader_FadeOut",animationDuration:".5s",animationDelay:"2.5s",animationFillMode:"forwards",animationName:"NuxHomefeedLoader_FadeOut"}},paddingX:4,paddingY:6,children:(0,m.jsx)(h.X6,{size:"500",children:de(e)})})})}function me({gridContainerRef:e,homefeedLoading:t}){var n,i,r;const{v3OrientationTopicsQuery:o}=(0,re.useLazyLoadQuery)(pe,{}),a=(null!==(n=null==o||null===(i=o.data)||void 0===i||null===(r=i.connection)||void 0===r?void 0:r.edges)&&void 0!==n?n:[]).filter(Boolean).reduce(((e,t)=>{var n;return t.node&&t.node.isFollowed?[...e,{name:null!==(n=t.node.name)&&void 0!==n?n:""}]:e}),[]);return(0,m.jsx)(ue,{gridContainerRef:e,homefeedLoading:t,selectedTopics:a})}var _e=n(984766),ge=n(50286),ve=n(112690),fe=n(444445);const ye=e=>`BREAK_IN_${e}`,be=new Map,xe=e=>{const t=be.get(e);if(t)return t;const n=Object.freeze({type:"FEED_BREAK_IN",id:ye(e)});return be.set(e,n),n};var we=n(591042);function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Pe=({isDesktop:e})=>{const t=(0,_e.pinRepPaddingInBoint)({isDesktop:e});return t?-t:0},Te=-2,Ee={},Ie=e=>{Ee[e]&&Ee[e].handlePullToRefresh()},Ae=(e,t)=>e.slice(0,t).map((e=>e.id)),ke=()=>{const e="desktop"===(0,ge.ZP)(),t=(0,_e.pinRepPaddingInBoint)({isDesktop:e}),n=t?-t:0;return(0,m.jsx)(h.xu,{marginTop:n,marginBottom:n,paddingY:t})};class Ce extends i.PureComponent{constructor(...e){super(...e),Se(this,"state",{refreshing:!1,plpIds:(0,X.HW)().extraPlpIds,plpFeed:[]}),Se(this,"backonlineAutoFetchResource",(()=>{this.props.feedResource.fetchMore()})),Se(this,"onPinTouch",(e=>{if(e.target instanceof HTMLElement&&"IMG"===e.target.tagName){const t=e.target.getBoundingClientRect().top+window.scrollY-70;window.scrollTo(window.scrollX,t)}})),Se(this,"handlePullToRefresh",(()=>{this.props.feedResource.refresh(),this.setState({refreshing:!0})})),Se(this,"gridContainerRef",(0,i.createRef)()),Se(this,"renderPinterestTVPin",(e=>{const{creator_class:t,creator_class_instance:n,id:r}=e,{creator:o}=t,{title:a,starts_at:s}=n,l=n.live_status===Q.Ct.POST_LIVE,c=n.live_status===Q.Ct.PRE_LIVE;return(0,m.jsx)(h.xu,{width:"100%",padding:1,children:c?(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(K.Z,{creatorClass:t,creatorClassInstance:n,pinId:r,variant:"grid"}),(0,m.jsx)(T.Z,{isEpisodeReplay:l,isEpisodeUpcoming:c,pinId:r,startsAt:s,title:a,user:o})]}):(0,m.jsx)(E.Z,{feedItem:e},t.id)},r)})),Se(this,"renderFeedPin",((e,t)=>{const{feedItemProps:n,hidePinMetadata:i=!1,lazyLoadBelowFoldIndex:r,location:o,pins:a,renderSquarePins:s,showSeoMetadata:l,squarePins:c,topLevelTrafficSource:d,topLevelTrafficSourceDepth:u,trafficSource:p,duploUnauthRelatedPinsAutoplayExpGroup:h}=this.props,{auxData:_,componentType:g,feedback:v,imageOnly:f,impressionData:y,objectIdStr:b,oneTapSave:x,onFeedItemClick:w,onPinLinkClick:S,shouldAllowProductPriceIndicator:P,showSeoMetadata:T,viewData:E,viewParameter:I,viewType:A}=n||{},k=(o.search||"").includes("force_seo"),C=a[e.id];let R=!1;return r&&(R=t>r),C.creator_class&&C.creator_class_instance?this.renderPinterestTVPin(C):(0,m.jsx)(_e.default,{auxData:_,componentType:g||0,duploFeedItemProps:{hidePinMetadata:i,onPinClick:w,onPinLinkClick:S,showSeoMetadata:l||k||T},duploIsSquarePin:s||c,duploLazyLoadImage:R,duploOneTapSave:x,duploShouldAllowProductPriceIndicator:P,feedback:v,imageOnlyOption:f?"image-only":"default",impressionData:y,objectIdStr:b,pinId:e.id,slotIndex:t,topLevelTrafficSource:d,topLevelTrafficSourceDepth:u,trackingParams:e.trackingParams,trafficSource:p,viewData:E,viewParameter:I,duploUnauthRelatedPinsAutoplayExpGroup:h,viewType:A||1})})),Se(this,"renderFeedItem",(({data:e,itemIdx:t})=>{const{breakIns:n,feedItemProps:i,renderFeedItem:r,trafficSource:o}=this.props;if(r)return r(e,t);const{viewParameter:a,viewType:s}=i||{};switch(e.type){case"pin":return(0,m.jsx)(A.Z,{onTouch:this.onPinTouch,pressState:"none",children:this.renderFeedPin(e,t)});case"user":return(0,m.jsx)(I.Z,{truncateName:!0,userId:e.id,userSearchRepStyle:"user_search"===o,viewParameter:a,viewType:s});case"board":return(0,m.jsx)(P.Z,{boardId:e.id,type:"grid",viewParameter:a,viewType:s});case"topic":return(0,m.jsx)($.Z,{id:e.id,shouldClickthrough:!0,showFollowButton:!0,showFollowerCount:!0,viewParameter:a,viewType:s});case"story":return"number"==typeof a?(0,m.jsx)(j.Z,{slotIndex:t,storyId:e.id,viewParameter:a,viewType:s||1}):null;case"FEED_BREAK_IN":return n?(({breakIns:e,id:t})=>{var n,i;return null!==(n=null===(i=e.find((({index:e})=>ye(e)===t)))||void 0===i?void 0:i.content)&&void 0!==n?n:null})({breakIns:n,id:e.id}):null;default:return null}}))}componentDidMount(){window.addEventListener("online",this.backonlineAutoFetchResource);const{logFeed:e,feedKey:t,feedItemProps:n}=this.props;if(e){const{viewParameter:e,viewType:t,auxData:i,componentType:r}=n||{},o={event_type:13};e&&(o.view_parameter=e),t&&(o.view_type=t),i&&(o.aux_data=i),r&&(o.component=r),this.props.logContextEvent(o)}((e,t)=>{Ee[e]=t})(t,this)}setPlpFeedData(e){const{feedItems:t,pins:n}=this.props,{plpIds:i}=this.state;if(e)return(0,ee.L_)(J.zR),void this.setState({plpIds:[],plpFeed:[]});if(i.length>0&&t&&t.length>0){const e=i[0],r=n[e],o=t.slice(0,5).map((e=>e.id)).includes(e);r&&!o&&this.setState({plpFeed:[{id:i[0],type:"pin",trackingParams:t[0].trackingParams}].concat(t)})}}logHomefeedRefreshStats(e,t,n,i){const{locale:r}=this.props,{refreshing:o}=this.state;if(o&&t.isFetching&&!e.isFetching&&n&&n.length>0&&i&&i.length>0){const e=Ae(i,5),t=Ae(n,5),o={appType:"mweb",language:(r?r.slice(0,2):void 0)||"unknown",locale:r||"unknown"};k.Z.increment("home_product.homefeed.refresh",1,o),a=e,s=t,JSON.stringify(a)===JSON.stringify(s)&&k.Z.increment("home_product.homefeed.refresh.no_change",1,o)}var a,s}componentDidUpdate(e){const{feedItems:t}=e,{feedKey:n,feedItems:i}=this.props,{plpFeed:r,plpIds:o,refreshing:a}=this.state,s="homefeed"===n;a&&e.feedResource.isFetching&&!this.props.feedResource.isFetching&&this.setState({refreshing:!1}),s&&this.logHomefeedRefreshStats(this.props.feedResource,e.feedResource,i,t);const l=o.length>0;if(s&&l){const e=!!t&&t.length>0,n=!!i&&i.length>0,o=!e&&n,a=!!i&&i.length>0&&!!t&&t.length>0&&t[0]!==i[0],s=!!i&&i.length>0&&!!t&&t.length>0&&t[0]===i[0]&&t.length!==i.length,l=n&&!a&&0===r.length;(o||a||s||l)&&this.setPlpFeedData(a)}}componentWillUnmount(){var e;window.removeEventListener("online",this.backonlineAutoFetchResource),e=this.props.feedKey,delete Ee[e]}renderFeedItems(e){const{hidePinMetadata:t,fullWidthBreakIn:n,deviceType:r,emptyState:o,feedKey:a,feedResource:s,gridConfig:l,pullToRefresh:c,serverRender:d,showBizNuxHomefeedLoader:u,showNuxHomefeedLoader:p,trafficSource:_,feedItemProps:g}=this.props,{viewParameter:v,viewType:f}=g||{},{key:y}=l||{},b=a+(y?`|${y}`:""),x="user_search"===_,w=x?window.innerWidth-16:200,P={columnWidth:"desktop"===r?fe.yF:w,Item:this.renderFeedItem,gutterWidth:"desktop"===r?4*fe.jC:void 0,loadItems:s.fetchMore,minCols:x?1:2,...l},T=!p&&!u&&s.isFetching&&0===e.length&&!this.state.refreshing,E=n?e.slice(0,n.index):e,I=n?e.slice(n.index):[];let A,k,j;(a.includes("homefeed")||a.includes("search"))&&(A=!0,k=!0,j=Object.values(this.props.pins).length?Object.values(this.props.pins):void 0);const D="desktop"===r&&"flashlight"===_,O=D?0:fe.qG;return(0,m.jsxs)(h.xu,{"data-test-id":"MobileFeed",children:[(0,m.jsx)(H,{enabled:!!c,onPull:this.handlePullToRefresh,refreshing:this.state.refreshing}),(0,m.jsxs)(h.xu,{marginStart:O,marginEnd:O,"data-test-id":"grid",ref:this.gridContainerRef,opacity:this.state.refreshing?.5:1,children:[(0,m.jsx)(C.Z,{isAtEndOfFeed:s.isAtEnd,pinData:j,includeVideos:k,includeBackgroundImages:A,itemCount:e.length,children:e.length?(0,m.jsx)(h.xu,{"data-test-id":"feed",marginTop:Pe({isDesktop:"desktop"===r}),children:(0,m.jsx)(G.Z.Consumer,{children:e=>(0,m.jsx)(i.Fragment,{children:(0,m.jsxs)(te.g,{feedRef:this.gridContainerRef,viewParameter:v,viewType:f||1,children:[(0,m.jsx)(R.Z,{cacheKey:b,id:d?a:void 0,items:E,scrollContainerRef:e,serverRender:d,resetPositions:t,...P}),null==n?void 0:n.content,I.length>0&&(0,m.jsx)(R.Z,{cacheKey:`${b}_afterBreak`,items:I,scrollContainerRef:e,...P})]})})})}):s.isFetching?(0,m.jsx)(ke,{}):null!=o?o:null}),T&&(0,m.jsx)(h.xu,{column:12,paddingY:2,children:(0,m.jsx)(L.Z,{partialViewportWidth:D})}),p&&(0,m.jsx)(W.Z,{fallback:(0,m.jsx)(he,{}),children:(0,m.jsx)(me,{homefeedLoading:s.isFetching,gridContainerRef:this.gridContainerRef})}),u&&(0,m.jsx)(S,{homefeedLoading:s.isFetching,gridContainerRef:this.gridContainerRef})]})]})}render(){const{feedItems:e,feedKey:t,isAuthenticated:n}=this.props,{plpFeed:i}=this.state,r=e||[];return"homefeed"!==t?this.renderFeedItems(r):n&&i.length>0?this.renderFeedItems(i):this.renderFeedItems(r)}}function Re({feedOffset:e,itemShouldBeExcluded:t,resource:{error:n,...o},...a}){const{breakIns:s,feedKey:l}=a,c=(0,U.useLocation)(),u=(0,ge.ZP)(),p=(0,r.useDispatch)(),h=(0,ve.Z)(),{isAuthenticated:_,isBizNuxHomefeedLoadShown:g,isNuxHomefeedLoadShown:v,isSeoBot:f,locale:y}=(0,r.useSelector)((({session:e})=>e)),b=(0,r.useSelector)((({feeds:e})=>e[l])),x=(0,r.useSelector)((({pins:e})=>e)),w=(0,r.useSelector)((({session:e})=>e.firstHomeFeedRequestAfterNux));(0,i.useEffect)((()=>{"homefeed"===l&&b&&b.length>0&&w&&p((0,d.H5)(!1))}),[p,b,l,w]);const S=Object.values(null!=x?x:{}),P=S.some((e=>!!e.creator_class&&!!e.creator_class_instance)),{getSubscription:T,setSubscription:E}=(0,we.xs)({});(0,q.Z)((()=>{P&&S.filter((e=>!!e.creator_class&&!!e.creator_class_instance&&e.creator_class_instance.live_status===Q.Ct.PRE_LIVE)).forEach((e=>{var t,n;return E(e.id,null!==(t=null===(n=e.creator_class)||void 0===n?void 0:n.is_viewing_user_subscribed)&&void 0!==t&&t)}))}));const I=(0,i.useMemo)((()=>({getSubscription:T,referrer:41,setSubscription:E})),[T,E]);let A=b;A&&(s&&(A=(({breakIns:e,items:t})=>e.map((e=>e.index)).sort().reduce(((e,t)=>e.length<t?e:[...e.slice(0,t),xe(t),...e.slice(t)]),t))({items:A,breakIns:s})),t&&(A=A.filter((e=>!t(e)))),e&&(A=A.slice(e)));const k=(0,ne.T)();if(k){const{setFirstRelatedPinId:e}=k;A&&A.length>0&&e(A[0].id)}return P?(0,m.jsx)(we.J1,{value:I,children:(0,m.jsx)(Ce,{...a,deviceType:u,feedItems:A,feedResource:o,isAuthenticated:_,locale:y,location:c,logContextEvent:h,pins:x,showBizNuxHomefeedLoader:!!g,showNuxHomefeedLoader:!!v,showSeoMetadata:f||!_})}):(0,m.jsx)(Ce,{...a,deviceType:u,feedItems:A,feedResource:o,isAuthenticated:_,locale:y,location:c,logContextEvent:h,pins:x,showBizNuxHomefeedLoader:!!g,showNuxHomefeedLoader:!!v,showSeoMetadata:f||!_})}function Le({resourceConfig:e,...t}){const n=(0,Y.Z)(e);return(0,m.jsx)(Re,{...t,resource:n})}},118725:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(702664),r=n(70598),o=n(281180),a=n(5226),s=n(785893);function l({user:e,invertColors:t,isSecondaryButton:n,onTap:l,size:c,viewParameter:d,viewType:u}){const p=(0,i.useDispatch)(),{id:h}=e,m=(0,o.kW)(),_=m[h]?m[h].explicitly_followed_by_me:e.explicitly_followed_by_me;return(0,s.jsx)(r.Z,{id:h,onFollow:()=>{p((0,a.ZN)(h)),l&&l()},onUnfollow:()=>{p((0,a.fv)(h)),l&&l()},size:c,invertColors:t,isSecondaryButton:n,isFollowed:_,isUserFollowButton:!0,followEventType:45,unfollowEventType:46,viewParameter:d,viewType:u})}},825077:(e,t,n)=>{n.d(t,{fv:()=>v,GR:()=>h,Hs:()=>y,Mv:()=>_,uc:()=>g,dL:()=>m,qS:()=>f,Y4:()=>w,HE:()=>x,Cy:()=>b});var i=n(667294),r=n(973935),o=n(124580),a=n(407043),s=n(785893);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.Component{constructor(...e){super(...e),l(this,"observe",(()=>{try{if(this.node=(0,r.findDOMNode)(this),this.node instanceof HTMLElement){const{pinIdStr:e,newsIdStr:t}=this.props.eventData;o.Z.start(this.node).onExitViewport(this.logImpression).setDebugId(e||t||"unknown")}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),l(this,"logImpression",(e=>{this.props.logImpression({viewData:this.props.viewData||{},viewType:this.props.viewType,viewParameter:this.props.viewParameter,eventType:this.props.eventType,impressionType:this.props.impressionType,auxData:this.props.auxData,component:this.props.component,objectIdStr:this.props.objectIdStr,eventData:{endTime:e.endTime,time:e.startTime,...this.props.eventData}}),this.props.onTracked&&this.props.onTracked(this.props.eventData)}))}componentDidMount(){this.props.isPaused||this.observe()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.observe()}componentWillUnmount(){this.node instanceof HTMLElement&&o.Z.stop(this.node)}render(){return i.Children.only(this.props.children)}}function d(e){const{logImpression:t}=(0,a.v)();return(0,s.jsx)(c,{...e,logImpression:t})}var u=n(773285);function p({auxData:e,component:t,eventData:n,eventType:r,impressionType:s,isPaused:l,objectIdStr:c,onTracked:d,viewData:u,viewType:p,viewParameter:h}){const m=(0,i.useRef)(null),{logImpression:_}=(0,a.v)(),g=(0,i.useCallback)((()=>{const i=i=>{_({viewData:u||{},viewType:p,viewParameter:h,eventType:r,impressionType:s,auxData:e,component:t,objectIdStr:c,eventData:{endTime:i.endTime,time:i.startTime,...n}}),d&&d(n)};try{if(m.current instanceof HTMLElement){const{pinIdStr:e,newsIdStr:t}=n;o.Z.start(m.current).onExitViewport(i).setDebugId(e||t||"unknown")}}catch(a){window.console.error('Can only track impressions for type "HTMLElement"')}}),[m.current]);return(0,i.useEffect)((()=>{l||g();const e=m.current;return()=>{e instanceof HTMLElement&&o.Z.stop(e)}}),[l,g]),m}const h=e=>(0,s.jsx)(d,{eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),m=e=>{const t=p({eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},_=e=>{const t=p({eventData:{newsIdStr:e.notificationId,newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},auxData:e.auxData||{},eventType:4111,impressionType:"notificationDetailImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},g=e=>{const t=p({eventData:{newsIdStr:e.notificationId,newsType:e.newsType},auxData:e.auxData||{},eventType:4110,impressionType:"notificationFeedImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3081});return e.children({impressionTrackerRef:t})},v=e=>(0,s.jsx)(d,{eventData:{...e.impressionData||{},articleIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:3829,impressionType:"articleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),f=e=>{const{checkExperiment:t}=(0,u.F)(),n=t("web_mweb_story_impression_fix").anyEnabled,i=p({eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:n?"storyImpression":"storyImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},y=e=>{const{checkExperiment:t}=(0,u.F)(),n=t("web_mweb_story_impression_fix").anyEnabled;return(0,s.jsx)(d,{eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:n?"storyImpression":"storyImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children})},b=e=>{const t=p({eventData:{...e.impressionData||{},userIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3704,impressionType:"userImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},x=e=>{const t=p({eventData:{...e.impressionData||{},topicIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3703,impressionType:"topicImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},w=e=>{const t=p({eventData:{...e.impressionData||{},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:8569,impressionType:"todayArticleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})}},795587:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});var i=n(667294),r=n(319915),o=n(947599),a=n(898781),s=n(674806),l=n(746686),c=n.n(l),d=n(476848),u=n.n(d),p=n(209756),h=n.n(p),m=n(557713),_=n.n(m),g=n(706229),v=n.n(g),f=n(635157),y=n.n(f),b=n(112690),x=n(883119),w=n(785893);function S({filterId:e,isLastBubble:t,onClickApplyFilter:n,query:i,selectedHairPatternTerm:r}){const o=(0,a.ZP)(),s=(0,b.Z)(),l=`/search/pins/?rs=rs&q=${i}`,{displayLabel:d,image:p,term:m}=function(e,t){let n="",i="",r="";switch(e){case 5:n=t._('Protective', 'HairPatternFilters.label.protectiveStyles', 'Hair pattern filter display label for protective styles'),i=_(),r="hair_pattern_id:5";break;case 4:n=t._('Coily', 'HairPatternFilters.label.coily', 'Hair pattern filter display label for coily hair'),i=u(),r="hair_pattern_id:4";break;case 3:n=t._('Curly', 'HairPatternFilters.label.curly', 'Hair pattern filter display label for curly hair'),i=h(),r="hair_pattern_id:3";break;case 2:n=t._('Wavy', 'HairPatternFilters.label.wavy', 'Hair pattern filter display label for wavy hair'),i=y(),r="hair_pattern_id:2";break;case 1:n=t._('Straight', 'HairPatternFilters.label.straight', 'Hair pattern filter display label for straight hair'),i=v(),r="hair_pattern_id:1";break;case 6:n=t._('Bald/Shaved', 'HairPatternFilters.label.bald', 'Hair pattern filter display label for bald/shaved styles'),i=c(),r="hair_pattern_id:6"}return{displayLabel:n,image:i,term:r}}(e,o),g=r===m;return(0,w.jsxs)(x.xu,{marginStart:2,marginEnd:t?2:void 0,children:[(0,w.jsx)(x.iP,{role:"link",rounding:"pill",onTap:()=>{!function(e,t){const{filterId:n,query:i,onClickApplyFilter:r}=e;t({aux_data:{entered_query:i,filter_type:"hair_pattern",filter_value:n},component:13864,element:1341,event_type:102,view_parameter:43,view_type:2}),null==r||r()}({filterId:e,query:i,onClickApplyFilter:n},s)},tapStyle:"none",href:`${l}${g?"":`&filters=${encodeURIComponent(m)}`}`,children:(0,w.jsx)(x.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:g?"#F7BE72":"#EFEFEF"}},display:"flex",height:44,justifyContent:"center",marginBottom:2,rounding:"pill",width:72,children:(0,w.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${p})`,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"contain"}},height:40,width:68})})}),(0,w.jsx)(x.xv,{align:"center",size:"100",weight:"bold",children:d})]},m)}const P=(0,i.lazy)((()=>n.e(22130).then(n.bind(n,22130))));function T({eligibleFilters:e,isUpsell:t,onClickApplyFilter:n,query:l,selectedHairPatternTerm:c}){var d;const u=(0,a.ZP)(),p=(0,i.useRef)(),[h,m]=(0,i.useState)(!1),_=c?u._('Some ideas for this hair pattern', 'HairPatternFilters.copy.termSelected', 'Hair pattern filters text when a filter is selected'):u._('Search by hair pattern', 'HairPatternFilters.copy.noTermSelected', 'Hair pattern filters text when no filter is selected'),g=null===(d=window)||void 0===d?void 0:d.innerWidth,v=g?Math.floor((g-16)/80):0,f=e.length<v;return(0,i.useEffect)((()=>{if(c){const i=Number(c.split(":")[1]);var t,n;if(e.findIndex((e=>e===i))>=v)null===(t=p.current)||void 0===t||t.scrollTo(g,0);else null===(n=p.current)||void 0===n||n.scrollTo(0,0)}}),[p,e,v,c,g]),(0,w.jsxs)(i.Fragment,{children:[(0,w.jsx)(s.Z,{component:13864,viewParameter:1341,viewType:2,children:(0,w.jsxs)(x.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:4,children:[!t&&(0,w.jsxs)(x.xu,{alignItems:"center",direction:"row",display:"flex",marginStart:8,children:[(0,w.jsx)(x.xv,{color:"default",overflow:"normal",weight:"bold",children:_}),(0,w.jsx)(x.xu,{marginStart:1,children:(0,w.jsx)(x.hU,{accessibilityLabel:u._('Learn more', 'HairPatternFilters.infoIconButton', 'Icon button to expand the educational component about hair pattern filters'),icon:"info-circle",iconColor:"darkGray",onClick:()=>{m(!0)},padding:1,size:"lg"})})]}),(0,w.jsx)(x.kC,{alignItems:"stretch",justifyContent:"start",overflow:"hidden",width:"100vw",children:(0,w.jsxs)(x.xu,{display:"flex",justifyContent:f?"center":"start",marginBottom:-2,overflow:"scrollX",paddingY:2,position:"relative",ref:p,width:"100vw",children:[(0,w.jsx)(x.xu,{marginStart:t?2:4}),e.map(((t,i)=>(0,w.jsx)(S,{filterId:t,isLastBubble:!f&&i===e.length-1,onClickApplyFilter:n,query:l,selectedHairPatternTerm:c},t)))]})})]})}),h&&(0,w.jsx)(r.Z,{name:"SafeSuspense_HairPatternFilters_HairPatternFiltersEducationModal",children:(0,w.jsx)(o.Z,{children:(0,w.jsx)(P,{onDismiss:()=>{m(!1)}})})})]})}},749771:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(883119),r=n(785893);function o({skinToneOvalHeight:e,skinToneOvalWidth:t,swatchColors:n}){return(0,r.jsx)(i.xu,{alignItems:"center","data-test-id":"skinToneFilterSwatch",display:"flex",overflow:"hidden",rounding:"pill",width:t,wrap:!0,children:n.map(((n,o)=>(0,r.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:n}},height:e/2,width:t/2},`${n}-${o}`)))})}var a=n(898781),s=n(112690);const l={filter_name:"Skin tone range",filter_term:"skin_face_color_l",multi_select:!1,options:[{display:"Range 1",swatch_hex_colors:["#F0E3DC","#F8D7D8","#F2D7BE","#F7C3AF"],term:"skin_color_bucket_id:1"},{display:"Range 2",swatch_hex_colors:["#DEBAB0","#E0999A","#DDA67C","#D98A64"],term:"skin_color_bucket_id:2"},{display:"Range 3",swatch_hex_colors:["#9A6B52","#A25847","#B37143","#BF6951"],term:"skin_color_bucket_id:3"},{display:"Range 4",swatch_hex_colors:["#683929","#34261F","#64281B","#4F2221"],term:"skin_color_bucket_id:4"}],vertical:"skin_tone"};function c({onClickApplyFilter:e,query:t,selectedSkinToneTerm:n,showHeaderText:c=!0,skinToneFilters:d=l}){const u=(0,a.ZP)(),p=(0,s.Z)(),h=d.options,m=`/search/pins/?rs=rs&q=${t}`,_=n?u._('Some ideas in this skin tone range', 'SkinToneFilters.copy.termSelected', 'Skin tone filters text'):u._('Pick a skin tone range', 'SkinToneFilters.copy.noTermSelected', 'Skin tone filters text'),{filtersContainerHeight:g,filtersContainerWidth:v,skinToneOvalHeight:f,skinToneOvalWidth:y}=function(){const e="undefined"!=typeof window?Math.min((window.innerWidth-40)/4-4,96):0;return{filtersContainerHeight:52,filtersContainerWidth:e,skinToneOvalHeight:44,skinToneOvalWidth:e-8}}();return(0,r.jsxs)(i.kC,{alignItems:"center",direction:"column",height:c?88:52,children:[c&&(0,r.jsx)(i.xu,{marginBottom:2,children:(0,r.jsx)(i.xv,{color:"default",overflow:"normal",weight:"bold",children:_})}),(0,r.jsx)(i.kC,{alignItems:"stretch",flex:"none",justifyContent:"around",children:h.map((({swatch_hex_colors:a,term:s},l)=>(0,r.jsx)(i.iP,{role:"link",onTap:()=>{!function(e,t){const{index:n,query:i,onClickApplyFilter:r}=e;t({aux_data:{entered_query:i,filter_type:"skin_tone",filter_value:n},element:1341,event_type:102,view_parameter:43,view_type:2}),null==r||r()}({index:l,query:t,onClickApplyFilter:e},p)},tapStyle:"none",href:`${m}${n!==s?`&filters=${encodeURIComponent(s)}`:""}`,children:(0,r.jsx)(i.xu,{alignItems:"center",color:n===s?"selected":"default",display:"flex",height:g,justifyContent:"around",rounding:"pill",width:v,children:(0,r.jsx)(i.xu,{alignItems:"center",color:"default",display:"flex",height:g-4,justifyContent:"around",rounding:"pill",width:v-4,children:(0,r.jsx)(o,{skinToneOvalHeight:f,skinToneOvalWidth:y,swatchColors:a})})})},s)))})]})}},30700:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),r=n(785893);function o({children:e,onMouseEnter:t,onMouseLeave:n,onTouch:o,rounding:a,fullWidth:s=!1,pressState:l="none",accessibilityLabel:c,role:d}){const u=(Array.isArray(l)?l:[l]).includes("compress");return(0,r.jsx)(i.iP,{fullWidth:s,onMouseEnter:t&&(({event:e})=>t(e)),onMouseLeave:n&&(({event:e})=>n(e)),onTap:o&&(({event:e})=>o(e)),rounding:a,tapStyle:u?"compress":"none",accessibilityLabel:c,role:d,children:e})}},707853:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(907620);const r=new(n(883119).H3)([i.N])},984766:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Ee,pinRepPaddingInBoint:()=>ve});var i=n(667294),r=n(702664),o=n(319915),a=n(680046),s=n(558150),l=n(248975),c=n(609943),d=n(958007),u=n(954571),p=n(30700),h=n(81226),m=n(116303),_=n(561195),g=n(883119),v=n(785893);function f({maxRating:e,rating:t,text:n}){return(0,v.jsxs)(g.xu,{alignItems:"center",display:"flex",marginBottom:0,children:[(0,v.jsx)(_.Z,{max_rating:e||"",rating:t||"",width:10}),n&&(0,v.jsx)(i.Fragment,{children:(0,v.jsx)(g.xu,{marginStart:1,overflow:"hidden",children:(0,v.jsx)(g.xv,{size:"100",lineClamp:1,children:n})})})]})}var y=n(898781),b=n(643010),x=n(755506);const w=({pinId:e})=>{var t;const n=(0,y.ZP)(),o=(0,r.useSelector)((({pins:e})=>e))[e],a=(0,b.Yc)();if(!o)return null;const{pinProduct:s}=(0,x.Fi)({i18n:n,pin:o});if(!s||!s.price)return null;const l=s.standard_price||s.price,c=s.min_price||"",d=s.max_price||"",u=s.in_stock||!1,p=null===(t=o.rich_summary)||void 0===t?void 0:t.site_name,{textColor:h,inStockColor:m}=(({isDarkMode:e,inStock:t})=>e?{textColor:"light",inStockColor:"light"}:{textColor:"dark",inStockColor:t?"dark":"subtle"})({isDarkMode:a,inStock:u});return(0,v.jsxs)(i.Fragment,{children:[p&&(0,v.jsx)(g.xv,{color:h,size:"100",children:p}),(0,v.jsxs)(g.xu,{display:"flex",alignItems:"center","data-test-id":"priceLego_price",children:[c&&d?(0,v.jsxs)(g.xv,{size:"100",color:m,weight:"bold",children:[c," - ",d]}):(0,v.jsx)(g.xv,{size:"100",color:m,weight:"bold",children:l}),!u&&(0,v.jsxs)(i.Fragment,{children:[(0,v.jsx)(g.xu,{paddingX:1,children:(0,v.jsx)(g.xv,{size:"100",color:m,weight:"bold",children:""})}),(0,v.jsx)(g.xv,{size:"100",color:m,weight:"bold",children:n._('Out of stock', 'pinCard.priceLego.outOfStock', 'display if a product is out of stock')})]})]})]})};var S=n(947599),P=n(23084),T=n(941646),E=n(50286),I=n(803035),A=n(997440),k=n(923297),C=n(904411),R=n(276775),L=n(53987),j=n(539497);const D=(0,i.lazy)((()=>n.e(42368).then(n.bind(n,342368)))),O=({title:e})=>{const t=(0,E.ZP)(),n=(0,R.useLocation)();return(0,v.jsx)(T.Z,{id:"related-pins-title",children:(0,v.jsx)(g.iP,{onTap:()=>{(0,j.LW)({action:"click",pageLocation:n,item:"related-pins-title"})},children:(0,v.jsx)(g.xv,{size:"desktop"===t?"300":"100",weight:"bold",children:e})})})},N=({allowPriceIndicator:e,contextMenu:t,credits:n,hidePinMetadata:a,hasAffiliatedProducts:s,isPromotedPin:l,isSponsoredPin:c,isSquarePin:d,marginTop:u,marginStart:h,marginEnd:_,onCreditsClick:b,pinDescription:x,pinId:N,pinnedToBoardId:M,pinReactionCounts:U,recipeCookTime:F,recipeMaxRating:z,recipeRating:Z,recipeReviewCount:B,shouldShowReactions:H,style:V="default",title:W,type:G})=>{var $,K,q,Y,X,J,Q,ee;const te=(0,y.ZP)(),ne=(0,R.useLocation)(),ie=(0,r.useSelector)((({session:e})=>e.isAuthenticated)),re=(0,E.ZP)(),oe=W||x||"oneTap"===G,ae=(0,r.useSelector)((({pins:e})=>e[N])),se=(0,C.gC)()(M||ae&&ae.board),le=ae.pinner,ce=l&&(null===($=ae.promoter)||void 0===$?void 0:$.id)===(null===(K=ae.native_creator)||void 0===K?void 0:K.id),de=ae.sponsorship?(0,v.jsx)(g.xv,{inline:!0,size:"100",weight:"bold",children:null==n?void 0:n.subtitle}):void 0,ue="overlay"===V,pe=H&&U&&Object.keys(U).length>0&&(0,v.jsx)(g.xu,{height:18,display:ue?"flex":void 0,justifyContent:"center",children:(0,v.jsx)(o.Z,{name:"SafeSuspense_PinCardDetails_GridAggregation",children:(0,v.jsx)(S.Z,{children:(0,v.jsx)(D,{pinReactionCounts:U})})})}),he=a?0:u||1;return(0,v.jsx)(i.Fragment,{children:(0,v.jsxs)(g.xu,{display:"flex",height:d?e?104:72:void 0,marginEnd:_||1,marginStart:h||1,position:"relative",children:[(0,v.jsxs)(g.xu,{flex:"grow",children:[(0,v.jsx)(g.xu,{display:"flex",marginTop:he,children:(0,v.jsx)(g.xu,{flex:"grow",children:(0,v.jsxs)(i.Fragment,{children:[(0,v.jsxs)(i.Fragment,{children:[(c||s)&&!ce&&(0,v.jsx)(g.xu,{marginBottom:1,children:(0,v.jsx)(g.xu,{flex:"grow",overflow:"hidden",children:(0,v.jsx)(P.Z,{hasAffiliatedProducts:s,isPromoted:l,sponsorName:de,sponsorshipStatus:null===(q=ae.sponsorship)||void 0===q?void 0:q.status})})}),W&&(0,v.jsx)(g.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},children:ie&&!a&&(0,v.jsx)(O,{title:W})}),"desktop"===re&&!ie&&x&&!(0,L.$Y)(ne)&&!(0,L.E0)(ne)&&(0,v.jsx)(g.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},"data-test-id":"desc",children:(0,v.jsx)(g.iP,{onTap:()=>{(0,j.LW)({action:"click",pageLocation:ne,item:"related-pins-description"})},children:(0,v.jsx)(g.xv,{size:"100",inline:!0,children:x})})})]}),e&&(0,v.jsx)(w,{credits:n,pinId:N}),"recipe"===G&&!!B&&(0,v.jsx)(i.Fragment,{children:(0,v.jsxs)(g.xu,{alignItems:"center",display:"flex",marginTop:1,children:[!!B&&(0,v.jsx)(f,{maxRating:z||"",rating:Z||"",text:""}),!!F&&(0,v.jsxs)(i.Fragment,{children:[(0,v.jsx)(g.xu,{paddingX:1,children:(0,v.jsx)(g.xv,{size:"100",children:""})}),(0,v.jsx)(g.xv,{size:"100",children:(0,A.IS)({...(0,k.u)(F),i18n:te})})]})]})})]})})}),!ue&&pe,n&&(0,v.jsx)(p.Z,{onTouch:e=>b&&b(e),pressState:"none",children:(0,v.jsx)(g.xu,{children:(!a||c||ce)&&(0,v.jsxs)(g.xu,{display:"flex",marginTop:ue?-9:u||(oe&&!a?1:0),marginBottom:a?2:0,position:"relative",direction:ue?"column":"row",children:[(0,v.jsx)(g.xu,{flex:"none",display:ue?"flex":void 0,justifyContent:"center","data-test-id":"related-pins-avatar-image",children:(0,v.jsx)(g.iP,{onTap:()=>{(0,j.LW)({action:"click",pageLocation:ne,item:"related-pins-avatar-image"})},children:(0,v.jsx)(m.Z,{accessibilityLabel:n.title||"string"==typeof n.subtitle&&n.subtitle||te._('Creator\'s avatar', 'pinCardDetails.tapArea.avatar', 'The avatar of the creator of this pin.'),name:n.title||"",outline:ue,size:ue?"lg":"sm",src:ue&&n.largeAvatar||n.mediumAvatar||n.avatar||void 0})})}),(0,v.jsx)(g.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",alignItems:ue?"center":void 0,marginStart:1,"data-test-id":"related-pins-name",children:(0,v.jsxs)(g.iP,{onTap:()=>{(0,j.LW)({action:"click",pageLocation:ne,item:"related-pins-name"})},children:[n.title&&(0,v.jsx)(g.xv,{lineClamp:1,size:"100",weight:c&&!ce||s?"normal":"bold",children:n.title===(null==le?void 0:le.full_name)&&(null!=le&&le.is_verified_merchant||null!=le&&null!==(Y=le.verified_identity)&&void 0!==Y&&Y.verified)?(0,v.jsx)(I.Z,{badgeSize:"sm",badgeSpacing:2,fullName:n.title,verifiedType:le.is_verified_merchant?"verifiedMerchant":"verifiedIdentity"}):n.title}),n.subtitle?(!c&&!a||ce)&&(0,v.jsx)(g.xv,{lineClamp:c||s?void 0:1,size:"desktop"===re?"200":"100",weight:"desktop"===re?"bold":"normal",children:n.subtitle}):!ie&&se&&"protected"!==se.privacy?(0,v.jsx)(T.Z,{id:"related-pin-text-below-name",children:(0,v.jsx)(g.rU,{underline:"hover",href:null!==(X=se.url)&&void 0!==X?X:"",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.stopPropagation(),(0,j.NC)("click_board_pin_attribution_profile"),(0,j.LW)({action:"click",pageLocation:ne,item:"related-pin-text-below-name"})},children:(0,v.jsx)(g.xv,{size:"200",children:se.name})})}):null]})})]})})}),!n&&"desktop"===re&&!!le&&((0,L.L6)(ne)||(0,L.cD)(ne)||(0,L.$Y)(ne))&&(0,v.jsxs)(g.xu,{display:"flex",marginTop:oe?2:0,children:[(0,v.jsx)(g.xu,{flex:"none","data-test-id":"related-pins-avatar-image",children:(0,v.jsx)(g.iP,{onTap:()=>{(0,j.LW)({action:"click",pageLocation:ne,item:"related-pins-avatar-image"})},children:(0,v.jsx)(m.Z,{name:le.username||"",size:"sm",src:null!==(J=le.image_small_url)&&void 0!==J?J:void 0})})}),(0,v.jsxs)(g.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,"data-test-id":"related-pins-name",children:[(0,v.jsx)(g.rU,{underline:"hover",href:`/${le.username}/`,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.stopPropagation(),(0,j.NC)("click_board_pin_attribution_board"),(0,j.LW)({action:"click",pageLocation:ne,item:"related-pins-name"})},children:(0,v.jsx)(g.xv,{size:"200",weight:"bold",children:le.full_name||le.username})}),se&&"protected"!==se.privacy?(0,v.jsx)(T.Z,{id:"related-pin-text-below-name",children:(0,v.jsx)(g.rU,{underline:"hover",href:null!==(Q=se.url)&&void 0!==Q?Q:"",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.stopPropagation(),(0,j.NC)("click_board_pin_attribution_profile"),(0,j.LW)({action:"click",pageLocation:ne,item:"related-pin-text-below-name"})},children:(0,v.jsx)(g.xv,{size:"200",children:null!==(ee=se.name)&&void 0!==ee?ee:""})})}):null]})]}),ue&&pe]}),(0,v.jsx)(g.xu,{position:ue?"absolute":void 0,right:!0,children:t})]})})};var M=n(857079),U=n(349700);const F=(0,i.lazy)((()=>n.e(96011).then(n.bind(n,296011)))),z=({inviteCode:e})=>{const t=(0,y.ZP)();return(0,v.jsx)(g.xu,{minHeight:82,children:(0,v.jsx)(o.Z,{name:"SafeSuspense_PinCardSharedHeader_LoadingSpinner",children:(0,v.jsx)(S.Z,{fallback:(0,v.jsx)(M.Z,{accessibilityLabel:t._('Loading Invitation component', 'Loading InviteFetch component', 'loading InviteFetch component')}),children:(0,v.jsx)(F,{invite_code:e,children:e=>{const n=e?e.sender:null,i=n&&n.first_name?n.first_name.substring(0,30):"";if(!i)return null;const r=n&&!n.is_default_image?n.image_medium_url:"",o=(0,U.nk)(t._('{{ name }} shared this idea with you', 'homefeed.pinSenderAvatar.heading', 'header notifying users that a sender ({{ name }}) shared a Pin to them'),{name:i});return(0,v.jsxs)(g.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,v.jsx)(g.zd,{height:32,width:32,children:(0,v.jsx)(m.Z,{name:i,src:r})}),(0,v.jsx)(g.xu,{width:"80%",paddingY:2,children:(0,v.jsx)(g.xv,{align:"center",size:"200",weight:"bold",children:o})})]})}})})})})};var Z=n(545798),B=n(55275);const H={initial:{opacity:0,transition:"opacity 0.25s ease-in"},fadeIn:{opacity:.8,transition:"opacity 1s ease"}},V=(e,t,n)=>(0,v.jsx)(g.xv,{color:"inverse",inline:!0,size:"200",weight:"bold",children:(0,v.jsx)(g.rU,{inline:!0,href:t,tapStyle:"none",underline:"hover",children:n})},e);function W({color:e,getFeedbackText:t,onUnfollow:n,showing:r,unfollowed:o}){const a=(0,y.ZP)(),[s,l]=(0,i.useState)(r?"fadeIn":"initial"),c=(0,i.useRef)(null);(0,i.useEffect)((()=>("initial"===s&&r&&(c.current=window.requestAnimationFrame((()=>l("fadeIn")))),()=>{c.current&&window.cancelAnimationFrame(c.current)})),[s,l,r]);const{subTitle:d,title:u,unfollow:p}=t(V);let h=u,m=d;p&&o&&(h=p.title,m=p.subTitle);const _=()=>p?(0,B.t)(p.action,p.actionOptions,n):void 0;return r&&(0,v.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e,...H[s]}},margin:1,rounding:4,position:"absolute",top:!0,bottom:!0,left:!0,right:!0,children:(0,v.jsxs)(g.xu,{width:"100%",height:"100%",color:"dark",rounding:4,overflow:"auto",children:[(0,v.jsxs)(g.xu,{padding:3,rounding:2,display:"flex",direction:"column",height:"100%",justifyContent:"between",children:[(0,v.jsxs)(g.xu,{children:[(0,v.jsx)(g.X6,{size:"400",color:"light",children:h}),m&&(0,v.jsxs)(g.xu,{marginTop:1,children:[(0,v.jsx)(g.xv,{color:"light",size:"200",inline:!0,children:m}),(0,v.jsx)(g.xv,{color:"light",inline:!0,size:"200",weight:"bold",children:(0,v.jsx)(g.rU,{href:"/edit",inline:!0,rounding:2,tapStyle:"none",underline:"hover",children:a._('Tune your home feed', 'Text on the button to navigate to homefeed control', 'Text on the button to navigate to homefeed control')})})]})]}),!o&&p&&(0,v.jsx)(g.xu,{paddingY:1,children:(0,v.jsx)(g.zx,{fullWidth:!0,color:"white",text:a._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user'),onClick:_})})]}),!o&&p&&(0,v.jsx)(g.xu,{paddingY:1,children:(0,v.jsx)(g.zx,{fullWidth:!0,color:"white",text:a._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user'),onClick:_})})]})})}var G=n(184298),$=n(992750);function K({pin:e}){var t,n,i,r;return(0,v.jsxs)(g.xu,{paddingX:2,marginBottom:-1,display:"flex",children:[(0,v.jsx)(g.xu,{flex:"grow",maxHeight:32,minHeight:12,overflow:"hidden",width:142,children:(0,v.jsx)(g.xv,{lineClamp:2,size:"100",weight:"bold",children:(0,$.fs)({pinTitle:e.title,gridTitle:e.grid_title,richSummaryDisplayName:null===(t=e.rich_summary)||void 0===t?void 0:t.display_name,richMetadataTitle:null===(n=e.rich_metadata)||void 0===n?void 0:n.title,storyPinDataId:e.story_pin_data_id,storyPinDataMetadataPinTitle:null===(i=e.story_pin_data)||void 0===i||null===(r=i.metadata)||void 0===r?void 0:r.pin_title,placeSummaryName:e.place_summary})||e.description})}),(0,v.jsx)(g.xu,{children:(0,v.jsx)(G.Z,{pinId:e.id,size:"sm",graphqlRef:null})})]})}var q=n(807592),Y=n(856919);const X=({attribute:e,deviceType:t,location:n})=>{const i=(0,j.SB)(n);(0,j.My)("unuath.product_attribution.click",{item:e,page:i,device:t})};function J({pin:e}){var t,n,i,r,o;const a=(0,y.ZP)(),s=(0,E.ZP)(),l=(0,R.useLocation)();if(!e)return null;const{pinProduct:c}=(0,x.Fi)({i18n:a,pin:e}),d=c&&(c.price||c.standard_price||(0,q.Z)(c)),u=null===(t=e.rich_summary)||void 0===t?void 0:t.site_name,p=(0,$.fs)({pinTitle:e.title,gridTitle:e.grid_title,richSummaryDisplayName:null===(n=e.rich_summary)||void 0===n?void 0:n.display_name,richMetadataTitle:null===(i=e.rich_metadata)||void 0===i?void 0:i.title,storyPinDataId:e.story_pin_data_id,storyPinDataMetadataPinTitle:null===(r=e.story_pin_data)||void 0===r||null===(o=r.metadata)||void 0===o?void 0:o.pin_title,placeSummaryName:e.place_summary})||e.description,h=`/pin/${e.id}/`;return(0,v.jsx)(g.xu,{paddingX:2,marginBottom:-1,marginTop:1,display:"flex",direction:"column",children:(0,v.jsxs)(g.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[(0,v.jsx)(g.xu,{flex:"grow",minHeight:12,overflow:"hidden",width:142,children:(0,v.jsxs)(Y.MZ,{to:h,accessibilityLabel:p,deeplinkUri:h,children:[d&&(0,v.jsx)(g.iP,{onTap:()=>X({deviceType:s,attribute:"price",location:l}),children:(0,v.jsx)(g.xv,{size:"100",weight:"bold",children:d})}),(0,v.jsx)(g.xu,{marginTop:1,children:(0,v.jsx)(g.iP,{onTap:()=>X({deviceType:s,attribute:"title",location:l}),children:(0,v.jsx)(g.xv,{size:"100",weight:"bold",lineClamp:d?3:2,children:p})})}),u&&d&&(0,v.jsx)(g.xu,{marginTop:1,children:(0,v.jsx)(g.iP,{onTap:()=>X({deviceType:s,attribute:"merchant",location:l}),children:(0,v.jsx)(g.xv,{size:"100",lineClamp:1,children:u})})})]})}),(0,v.jsx)(g.xu,{children:(0,v.jsx)(G.Z,{pinId:e.id,size:"sm",graphqlRef:null})})]})})}var Q=n(285230),ee=n(364245),te=n(81759),ne=n(358589),ie=n(477802),re=n(236458),oe=n(884979),ae=n(825077),se=n(185894),le=n(663023),ce=n(811403),de=n(378518),ue=n(773285),pe=n(813401),he=n(112690),me=n(550407),_e=n(780679);function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ve=({isDesktop:e})=>e?0:1,fe=e=>Boolean(e.is_eligible_for_web_closeup),ye=e=>Boolean(e.promoter&&!e.is_downstream_promotion),be={width:1,height:1,url:""},xe=e=>{const{attribution:t,embed:n,is_eligible_for_web_closeup:i,rich_summary:r,videos:o,story_pin_data_id:a}=e,s=n||t&&t.embed;return i?"oneTap":o||s&&"video"===s.type?"video":s&&"gif"===s.type?"gif":r&&"product"===r.type_name?"product":r&&"recipe"===r.type_name?"recipe":a?"storyPin":"image"},we=e=>{if(("video"===xe(e)||ye)&&e.videos&&e.videos.video_list){const{duration:t=0}=e.videos.video_list[Object.keys(e.videos.video_list)[0]]||{};return(0,h.Z)(t)}return""},Se=e=>{var t;if("product"!==xe(e))return null;const[n]=(null===(t=e.rich_summary)||void 0===t?void 0:t.products)||[];if(!n)return null;const i=n.offer_summary;return i&&(i.price||i.max_price)},Pe=(0,i.lazy)((()=>n.e(13777).then(n.bind(n,813777))));class Te extends i.Component{constructor(...e){super(...e),ge(this,"state",{startImpressionTimer:!1,openContextMenuByLongPress:!1,isShowingCustomContextMenu:!1}),ge(this,"getPinImage",(()=>{const{pin:e,duploIsSquarePin:t}=this.props;if(!e||!e.images)return be;var n;if(t)return{height:136,url:null===(n=e.images["236x"])||void 0===n?void 0:n.url,width:136};const i=["236x","170x","136x136","736x","474x","orig"];for(const r of i)if(e.images[r]&&e.images[r].url)return e.images[r];return be})),ge(this,"getImpressionData",(()=>{var e,t;const{pin:n}=this.props,i=null===(e=n.videos)||void 0===e||null===(t=e.video_list)||void 0===t?void 0:t.V_720P,r=i?{isNativeVideoAndWatchable:!!(i&&i.url&&i.height&&i.width)||void 0,videoIdStr:i&&n.videos?n.videos.id:void 0}:{},o=this.getPinImage();return{richTypes:n.shopping_flags||[],imageURL:o.url||"",...r,...this.props.impressionData}})),ge(this,"getAuxData",(()=>{const{auxData:e={},pin:t,pwaType:n}=this.props;return{commerce_data:(0,s.Z)({isEligibleForPdp:t.is_eligible_for_pdp,isOosProduct:t.is_oos_product,isStaleProduct:t.is_stale_product,pinShoppingFlags:t.shopping_flags}),pwa_type:n,...e}})),ge(this,"getFeedbackType",(()=>{const{board:e,feedback:t,viewParameter:n,pin:i}=this.props;return this.feedbackHelpers.getFeedbackType({board:e,feedback:t,viewParameter:n,pin:i,pinner:i.pinner})})),ge(this,"getRecommendationDescription",(e=>{const{board:t,pin:n}=this.props;return this.feedbackHelpers.getRecommendationDescription({ad_match_reason:n.ad_match_reason,board:t,feedbackType:this.getFeedbackType(),makeNavigateLink:e,pinner:n.pinner,promoter:n.promoter,recommendationReason:n.recommendation_reason,sourceInterest:n.source_interest})})),ge(this,"getPinHiddenFeedbackText",(e=>{const{board:t,pin:n}=this.props,i=n.promoter,r=this.feedbackHelpers.getUnfollowAction({board:t,feedbackType:this.getFeedbackType(),makeNavigateLink:e,pinner:n.pinner,sourceInterest:n.source_interest});return ye(n)&&null!=i&&i.full_name?{title:"",subTitle:(0,U.nk)(this.props.i18n._('{{ promoter }} has paid to have this pin show up where you\'d be more likely to notice it.', 'pinRep.promotedPinfeedbackText.subtitle', 'message displayed after hiding a promoted pin'),{promoter:i.full_name})}:r?{title:this.props.i18n._('Pin hidden', 'message displayed after hiding a pin', 'message displayed after hiding a pin'),subTitle:this.getRecommendationDescription(e),unfollow:r}:{title:this.props.i18n._('Pin hidden', 'message displayed after hiding a pin', 'message displayed after hiding a pin'),subTitle:this.props.i18n._('Got it! We\'ll try to show you more relevant Pins in the future.', 'message displayed after hiding a pin', 'message displayed after hiding a pin')}})),ge(this,"feedbackHelpers",(0,a.ZP)({i18n:this.props.i18n,interpolateNamedTemplate:U.nk})),ge(this,"logOneTap",(()=>{const{logContextEvent:e,pin:t,trackingParams:n,viewType:i,viewParameter:r,auxData:o}=this.props,a=(0,c.Z)(n,t.tracking_params),l={view_type:this.props.viewType,view_parameter:this.props.viewParameter,element:t.story_pin_data_id?12372:35,component:this.props.componentType,object_id_str:t.id,aux_data:{commerce_data:(0,s.Z)({isEligibleForPdp:t.is_eligible_for_pdp,isOosProduct:t.is_oos_product,isStaleProduct:t.is_stale_product,pinShoppingFlags:t.shopping_flags}),grid_index:this.props.slotIndex,image_signature:t.image_signature,...this.props.auxData},clientTrackingParams:a};e({event_type:8948,view_type:i,view_parameter:r,object_id_str:t.id,clientTrackingParams:a,aux_data:{image_signature:t.image_signature,closeup_navigation_type:"click",click_type:"clickthrough",cosmic_ray_count:"2",...o}}),(0,le.jC)(l),e({component:this.props.componentType,event_type:13,view_type:3,clientTrackingParams:a,aux_data:{closeup_navigation_type:"web_closeup",image_signature:t.image_signature},object_id_str:t.id})})),ge(this,"markPinAsSeen",(()=>this.props.markPinAsSeen(this.props.pinId))),ge(this,"handleLoad",(()=>{this.setState({startImpressionTimer:!0})})),ge(this,"handleError",(()=>{this.setState({startImpressionTimer:!1})})),ge(this,"handleClick",(e=>{const{auxData:t,componentType:n,deviceType:i,logContextEvent:r,pin:o,slotIndex:a,trackingParams:l,viewParameter:d,viewType:u,duploFeedItemProps:p,isAuth:h,unauthDesktopSignupModalPageContext:m}=this.props,{onPinClick:_}=null!=p?p:{},g=e=>(0,j.My)(`unauth_pin_rep.${e}.${String(d)}`);if(g("click"),r({view_type:u,view_parameter:d,element:o.story_pin_data_id?12372:35,event_type:101,component:n,object_id_str:o.id,clientTrackingParams:(0,c.Z)(l,o.tracking_params),aux_data:{commerce_data:(0,s.Z)({isEligibleForPdp:o.is_eligible_for_pdp,isOosProduct:o.is_oos_product,isStaleProduct:o.is_stale_product,pinShoppingFlags:o.shopping_flags}),grid_index:a,image_signature:o.image_signature,...t}}),fe(o)||r({event_type:8948,view_type:u,view_parameter:d,object_id_str:o.id,clientTrackingParams:(0,c.Z)(l,o.tracking_params),aux_data:{image_signature:o.image_signature,commerce_data:(0,s.Z)({isEligibleForPdp:o.is_eligible_for_pdp,isOosProduct:o.is_oos_product,isStaleProduct:o.is_stale_product,pinShoppingFlags:o.shopping_flags}),closeup_navigation_type:"click",grid_index:a,cosmic_ray_count:"3",...t}}),!h)switch((0,j.LW)({action:"click",item:"pin",pageLocation:this.props.location}),u){case 3:(0,j.NC)("click_pin_related_image");break;case 5:(0,j.NC)("click_board_pin_image");break;case 210:(0,j.NC)("click_topic_pin_image")}if(fe(o)&&this.logOneTap(),_&&_(),"desktop"===i){if(e.metaKey){g("click.cmd_button_pressed"),e.preventDefault();window.open(`/pin/${o.id}/`,"_blank").focus()}else if(!h&&m){const{pinImageClickHandler:t}=m;t({event:e,pin:o,linkTarget:"duploClientNav"})}}})),ge(this,"handleCreditsClick",(e=>{var t;const{history:n,logContextEvent:i,pin:r}=this.props,{id:o,sponsorship:a,story_pin_data_id:s}=r,{creator:l,sponsor:c}=a||{},{id:d}=l||{},{id:u}=c||{},p=!!s;e.stopPropagation(),e.preventDefault();const h=null===(t=this.getCredits())||void 0===t?void 0:t.link;h&&n.push(h),i({view_type:3,element:27,event_type:102,object_id_str:o,component:p?230:void 0,aux_data:{pin_id:o,...d&&u?{creator_id:d,sponsor_id:u}:{}}})})),ge(this,"handleUnfollowPin",(()=>this.props.markPinUnfollowed(this.props.pin.id))),ge(this,"handlePinSend",(e=>{e&&e.stopPropagation&&e.stopPropagation();const{pin:t,board:n,setSharingOnBoardPage:i}=this.props;n&&t&&i&&n.isSocialSeasonalBoard&&i(!0,"pin",t.id)})),ge(this,"isOverrideImageOnly",(()=>{const{pin:{rich_summary:e},viewer:t,viewParameter:n}=this.props,i=3375===n;return e&&43===n&&!(0,u.Z)(t.created_at)||i})),ge(this,"convertToGif",(e=>{const t=Math.max(e.embed&&e.embed.width||0,236),n=Math.max(e.embed&&e.embed.height||0,236);return{url:e.embed?e.embed.src:"",width:t,height:n}}))}componentDidMount(){const{isAuth:e,slotIndex:t,pin:n,viewParameter:i,location:r}=this.props;if(!e&&0===t&&3070===i){const e=r.pathname;(0,te.H$)(e,n)}}getIsClaimedContent(){var e,t;const{pin:n,viewParameter:i}=this.props;return 3375===i&&!(null===(e=n.link_domain)||void 0===e||null===(t=e.official_user)||void 0===t||!t.is_primary_website_verified)}getCredits(){const{board:e,pin:t,viewParameter:n}=this.props,i=t.story_pin_data,r=t.pinner,o=t.promoter,a=null==i?void 0:i.has_product_pins,s=0===n,l=3173===n,c=3375===n,d=this.getIsClaimedContent(),u=t.native_creator,p=!!t.native_creator,h=ye(t),{sponsorship:m}=t,{creator:_,sponsor:g}=m||{},v=h&&!!m&&(null==o?void 0:o.id)!==(null==u?void 0:u.id),f=!!m&&_;if(!(h||f||s||l||p||d))return;switch(v?"PROMOTED_SPONSORED":h?"PROMOTED":f?"SPONSORED":p?"AFFILIATED_PRODUCTS":a?"NATIVE_CONTENT":d?"CLAIMED_CONTENT":e&&"protected"===e.privacy?"SAVED_BY":"DEFAULT"){case"PROMOTED_SPONSORED":return{title:null==u?void 0:u.full_name,subtitle:null==o?void 0:o.full_name,avatar:this.getPinnerImage(null==u?void 0:u.image_small_url),mediumAvatar:this.getPinnerImage(null==u?void 0:u.image_medium_url),largeAvatar:this.getPinnerImage(null==u?void 0:u.image_large_url),link:null!=u&&u.username?`/${u.username}/`:""};case"PROMOTED":return{title:this.props.i18n._('Promoted by', 'Grid pin annotation', 'Grid pin annotation'),subtitle:null==o?void 0:o.full_name,avatar:this.getPinnerImage(null==o?void 0:o.image_small_url),mediumAvatar:this.getPinnerImage(null==o?void 0:o.image_medium_url),largeAvatar:this.getPinnerImage(null==o?void 0:o.image_large_url),link:null!=o&&o.username?`/${o.username}/`:""};case"SPONSORED":if(!m)throw new Error("sponsorship doesn't exist when expected");return{title:null==u?void 0:u.full_name,subtitle:null==g?void 0:g.full_name,avatar:this.getPinnerImage(null==u?void 0:u.image_small_url),mediumAvatar:this.getPinnerImage(null==u?void 0:u.image_medium_url),largeAvatar:this.getPinnerImage(null==u?void 0:u.image_large_url),link:null!=u&&u.username?`/${u.username}/`:""};case"AFFILIATED_PRODUCTS":return{title:null==u?void 0:u.full_name,subtitle:"",avatar:this.getPinnerImage(null==u?void 0:u.image_small_url),mediumAvatar:this.getPinnerImage(null==u?void 0:u.image_medium_url),largeAvatar:this.getPinnerImage(null==u?void 0:u.image_large_url),link:null!=u&&u.username?`/${u.username}/`:""};case"NATIVE_CONTENT":let n=(null==e?void 0:e.url)||`/pin/${t.id}/`;return c&&(n=null!=u&&u.username?`/${u.username}/`:""),{title:"",subtitle:null==u?void 0:u.full_name,avatar:this.getPinnerImage(null==u?void 0:u.image_small_url),mediumAvatar:this.getPinnerImage(null==u?void 0:u.image_medium_url),largeAvatar:this.getPinnerImage(null==u?void 0:u.image_large_url),link:n};case"CLAIMED_CONTENT":const{link_domain:i}=t,{official_user:a}=i||{};return a?{subtitle:a.full_name,avatar:this.getPinnerImage(a.image_small_url),mediumAvatar:this.getPinnerImage(a.image_medium_url),largeAvatar:this.getPinnerImage(a.image_large_url),link:a.username?`/${a.username}/`:""}:void 0;case"SAVED_BY":return{title:this.props.i18n._('Saved by', 'Grid pin annotation', 'Grid pin annotation'),subtitle:"",avatar:this.getPinnerImage(null==r?void 0:r.image_small_url),mediumAvatar:this.getPinnerImage(null==r?void 0:r.image_medium_url),largeAvatar:this.getPinnerImage(null==r?void 0:r.image_large_url),link:(null==e?void 0:e.url)||`/pin/${t.id}/`};default:return{title:(null==r?void 0:r.full_name)||"",subtitle:"",avatar:this.getPinnerImage(null==r?void 0:r.image_small_url),mediumAvatar:this.getPinnerImage(null==r?void 0:r.image_medium_url),largeAvatar:this.getPinnerImage(null==r?void 0:r.image_large_url),link:(null==e?void 0:e.url)||`/pin/${t.id}/`}}}getSharedHeaderInviteCode(){var e;const{viewParameter:t,viewedSharedPins:n,pinId:i}=this.props;return 92===t?null===(e=n&&n[i])||void 0===e?void 0:e.inviteCode:void 0}getPinnerImage(e){return e&&e.includes("/user/default")?void 0:e}getPinText(){const{grid_title:e,rich_summary:t,description:n}=this.props.pin;return"string"==typeof e?{title:e,description:""}:{title:null==t?void 0:t.display_name,description:n}}renderPinCard(){var e,t,n,i,r,a,s,u,h,m,_,f,y,b,x,w,P,E,I,A,k,C,R,L,D;const{board:O,checkExperiment:M,country:U,disableAppUpsell:F,duploDisablePinCardPadding:B,disableRounding:H,disableReaction:V,deviceType:G,experience:q,feedback:X,imageOnlyOption:te,i18n:ne,isAuth:ae,duploIsSquarePin:se,isImageOnlyExp:le,location:ce,duploFeedItemProps:de,duploLazyLoadImage:ue,duploOneTapSave:pe,duploPinCardDetailsMargin:he,pin:me,slotIndex:_e,viewParameter:ge,viewType:be,duploShouldAllowProductPriceIndicator:Te,topLevelTrafficSource:Ee,topLevelTrafficSourceDepth:Ie,trafficSource:Ae,duploUnauthRelatedPinsAutoplayExpGroup:ke,trackingParams:Ce,vaseDisplayMode:Re,createUnauthContextMenuHandler:Le}=this.props,{hidePinMetadata:je=!1,onPinLinkClick:De,showSeoMetadata:Oe}=null!=de?de:{},{aggregated_pin_data:Ne,category:Me,image_signature:Ue,promoter:Fe,rich_summary:ze,title:Ze,sponsorship:Be,story_pin_data:He}=me,{description:Ve,title:We}=this.getPinText(),Ge="desktop"===G,$e=xe(me),Ke=0===ge,qe=3475===ge,Ye=ye(me),Xe=!!Be,Je=null==He?void 0:He.has_product_pins,Qe=null==He?void 0:He.is_deleted,et=(0,c.Z)((ce&&ce.state||{}).trackingParams||Ce,me.tracking_params),tt="product"===xe(me)&&!ae,nt=le&&!this.isOverrideImageOnly(),it=O&&O.isSocialSeasonalBoard,rt=this.getPinImage(),ot=it&&"gif"===$e?this.convertToGif(me):rt,at=null===(e=me.videos)||void 0===e||null===(t=e.video_list)||void 0===t?void 0:t.V_720P,st=(null==at?void 0:at.url)||(null===(n=me.videos)||void 0===n||null===(i=n.video_list)||void 0===i||null===(r=i.V_HLSV4)||void 0===r?void 0:r.url),lt=(0,$.hP)(null!==(a=me.description)&&void 0!==a?a:"",me.description_html||"",null===(s=me.pin_join)||void 0===s?void 0:s.visual_annotation,me.alt_text||""),ct=ae?Ve:(0,d.Z)({storyPinDataId:me.story_pin_data_id,pinDescription:me.description,richMetadataDescription:null!==(u=null===(h=me.rich_metadata)||void 0===h?void 0:h.description)&&void 0!==u?u:"",richSummaryDisplayName:null!==(m=null===(_=me.rich_summary)||void 0===_?void 0:_.display_name)&&void 0!==m?m:"",placeSummaryName:null!==(f=me.place_summary)&&void 0!==f?f:"",closeupDescription:null!==(y=me.closeup_description)&&void 0!==y?y:"",closeupUnifiedDescription:null!==(b=me.closeup_unified_description)&&void 0!==b?b:""}),dt=q&&q.display_data.hideReactions||!1,ut=q&&q.display_data.hideDesc||!1,pt=!V&&(0,re.J6)({boardIsCollaborative:null==O?void 0:O.is_collaborative,isDownstreamPromotion:me.is_downstream_promotion,isPromoted:me.is_promoted,storyPinDataId:me.story_pin_data_id,videosId:null===(x=me.videos)||void 0===x?void 0:x.id})&&!qe&&!dt,ht=!ae;let mt;mt=fe(me)?me.tracked_link||me.link:ht?(0,$.bN)({pinId:me.id,seoUrl:me.seo_url}):(0,$.BY)(me.id);const _t=!Ve||nt&&!Ke?void 0:Ve.trim(),gt=this.getSharedHeaderInviteCode(),vt={accessibilityLabel:lt||We||Ve||"",country:U,deeplinkUri:mt,external:fe(me),externalQueryParams:{pin:me.id,client_tracking_params:Ce},isAppUpsellDisabled:F,onTouch:this.handleClick,pinCategory:me.category,pressState:"none",rounding:4,title:this.props.i18n._('See this Pin', 'App Upsell Text after clicking on Pin in feed', 'App Upsell Text after clicking on Pin in feed'),to:{pathname:mt,state:{trackingParams:Ce,trafficSource:Ae,topLevelTrafficSource:Ee,topLevelTrafficSourceDepth:Ie}},upsellType:"direct",viewParameter:ge,viewType:be,clientTrackingParams:et},ft=ve({isDesktop:Ge}),yt=me.native_creator||me.pinner,bt="search"===Ae&&"storyPin"===$e&&M("mweb_search_ideapin_module").anyEnabled;return(0,v.jsxs)(g.xu,{"data-test-id":"pin","data-test-pin-id":me.id,marginBottom:Ge||je?0:2,children:[(0,v.jsxs)(g.xu,{"data-test-id":lt||We||Ve?"pin-with-alt-text":"pin-missing-alt-text",paddingY:je||B?0:ft,paddingX:B?0:ft,marginBottom:0,onContextMenu:yt?Le({pinId:me.id,deviceOptions:{isDesktop:!0}}):void 0,dangerouslySetInlineStyle:{__style:this.state.isShowingCustomContextMenu?oe.Yw:{}},children:[(0,v.jsxs)(Y.MZ,{...vt,children:[!!gt&&(0,v.jsx)(z,{inviteCode:gt}),Qe?(0,v.jsx)(Q.Z,{isPinRep:!0}):(0,v.jsx)(Z.Z,{clientTrackingParams:et,color:null!==(w=me.dominant_color)&&void 0!==w?w:"",description:_t,domainLinkData:me.domain&&me.link?{clickLoggingOptions:{auxData:{objectId:me.id,grid_index:_e,sanitized_url:me.link}},domain:me.domain,link:me.link,onClick:De}:void 0,disableRounding:H,hideBottomCardText:it,image:ot,imageAltText:lt,imageCrop:me.image_crop,isMessenger:it,isPromoted:Ye,isSquarePin:se,lazyLoadImage:ue,onError:this.handleError,oneTapSave:pe,onLoad:this.handleLoad,openCustomContextMenu:()=>this.setState({openContextMenuByLongPress:!0}),disableDefaultContextMenu:()=>this.setState({isShowingCustomContextMenu:!0}),createUnauthContextMenuHandler:Le,pinId:me.id,pinnedToBoardId:(null===(P=me.pinned_to_board)||void 0===P?void 0:P.id)||"",pinVideo:(it||Ye)&&at||void 0,videoUrl:st,productPrice:Te&&!tt?Se(me):null,slotIndex:_e,storyData:He,title:!nt||Ke?We:void 0,type:$e,videoDuration:we(me),unauthRelatedPinsAutoplayExpGroup:ke,viewType:be,viewParameter:ge})]}),(!("image-only"===te)&&(ae||"desktop"===G)||"shop_feed_auth_and_unauth_mweb_override"===Ae)&&(0,v.jsxs)(g.xu,{children:[!qe&&"desktopParity"===Re&&(0,v.jsx)(ee.Z,{pinId:me.id,mode:"inlineWithScrollArrows",graphqlRef:null}),!tt&&(0,v.jsx)(Y.MZ,{...vt,children:(0,v.jsx)(N,{allowPriceIndicator:!Te&&!tt&&["shop_feed","shop_feed_auth_and_unauth_mweb_override"].includes(Ae),marginTop:he,hidePinMetadata:je||ut,contextMenu:ae&&!Qe?(0,v.jsx)(g.xu,{marginStart:1,marginTop:he,children:(0,v.jsx)(g.xu,{height:26,width:24,children:(0,v.jsx)(o.Z,{name:"SafeSuspense_Pin_ContextualMenu",children:(0,v.jsx)(S.Z,{children:(0,v.jsx)(Pe,{adMatchReason:me.ad_match_reason,bestPinImgSrc:(0,l.Z)({images:me.images,embedSrc:null===(E=me.embed)||void 0===E?void 0:E.src,embedType:null===(I=me.embed)||void 0===I?void 0:I.type}),feedback:X,feedbackType:this.getFeedbackType(),getRecommendationDescription:this.getRecommendationDescription,graphqlRef:null,imageSignature:Ue,pinCategory:Me,pinDescription:ct,pinId:me.id,pinTitle:Ze,sourceType:Ye?"ad":Ke?"following":void 0,viewParameter:ge,viewType:be,openByLongPress:this.state.openContextMenuByLongPress,trackingParams:Ce,toggleLongPress:()=>{this.setState({openContextMenuByLongPress:!1})}})})})})}):null,credits:this.getCredits(),hasAffiliatedProducts:Je,isPromotedPin:Ye,isSponsoredPin:Xe,isSquarePin:se,marginStart:he,marginEnd:he,onCreditsClick:this.handleCreditsClick,pinDescription:ct,pinId:me.id,pinnedToBoardId:(null===(A=me.pinned_to_board)||void 0===A?void 0:A.id)||"",pinReactionCounts:me.reaction_counts,pinTagsChips:(Ne||{}).pin_tags_chips,promoterName:null==Fe?void 0:Fe.full_name,recipeCookTime:nt?void 0:me.rich_summary&&me.rich_summary.display_cook_time,recipeMaxRating:nt||null==ze||null===(k=ze.aggregate_rating)||void 0===k?void 0:k.best_rating,recipeRating:nt||null==ze||null===(C=ze.aggregate_rating)||void 0===C?void 0:C.rating_value,recipeReviewCount:nt||null==ze||null===(R=ze.aggregate_rating)||void 0===R?void 0:R.review_count,shouldShowReactions:pt,style:bt?"overlay":"default",title:bt?void 0:We,type:$e})})]}),!ae&&tt&&(0,v.jsx)(J,{pin:me})]}),(null==O?void 0:O.isSocialSeasonalBoard)&&ae&&(0,v.jsx)(g.xu,{color:"secondary",marginBottom:6,marginEnd:"auto",marginStart:"auto",marginTop:-2,position:"relative",rounding:2,width:"90%",children:(0,v.jsx)(p.Z,{onTouch:this.handlePinSend,pressState:"none",rounding:2,children:(0,v.jsx)(g.xu,{padding:3,children:(0,v.jsx)(g.xv,{align:"center",weight:"bold",children:ne._('Send', ' - ', ' -- ')})})})}),"reported"===me.feedback_status?(0,v.jsx)(W,{color:null!==(L=me.dominant_color)&&void 0!==L?L:"",getFeedbackText:()=>({title:this.props.i18n._('Reported', 'message displayed after reporting a pin', 'message displayed after reporting a pin'),subTitle:this.props.i18n._('Thanks! Your feedback helps us keep the Pinterest community safe.', 'message displayed after reporting a pin', 'message displayed after reporting a pin')}),pinId:me.id,showing:!!me.feedback_status}):(0,v.jsx)(W,{color:null!==(D=me.dominant_color)&&void 0!==D?D:"",getFeedbackText:this.getPinHiddenFeedbackText,onUnfollow:this.handleUnfollowPin,pinId:me.id,showing:!!me.feedback_status,unfollowed:"unfollowed"===me.feedback_status,viewParameter:ge,viewType:be}),Oe&&"inlineHidden"===Re&&!tt&&(0,v.jsx)(T.Z,{id:"related-pins-title",children:(0,v.jsx)(g.iP,{onTap:()=>{(0,j.LW)({action:"click",pageLocation:ce,item:"related-pins-title"})},fullWidth:!1,children:(0,v.jsx)(K,{pin:me})})}),me.debug&&(0,v.jsx)(ie.W,{data:me.debug})]})}render(){const{componentType:e,pin:t,trackingParams:n,viewParameter:i,viewType:r,slotIndex:o,objectIdStr:a,viewData:s}=this.props,{startImpressionTimer:l}=this.state;return t?(0,v.jsx)(ae.dL,{auxData:this.getAuxData(),component:e,impressionData:this.getImpressionData(),isPaused:!l,loggingId:t.id,objectIdStr:a,onTracked:this.markPinAsSeen,slotIndex:o,trackingParams:n,viewData:s,viewParameter:i,viewType:r,children:({impressionTrackerRef:e})=>(0,v.jsx)(g.xu,{ref:e,children:this.renderPinCard()})}):null}}const Ee=(0,r.connect)((({boards:e,experiences:t,pins:n,session:i,users:r},o)=>{const a=n[o.pinId]||null,s=t[1000107];return{board:a&&e[a.board],country:i.country,hasPoorConnection:i.hasPoorConnection,isAuth:i.isAuthenticated,isImageOnlyExp:s&&500678===s.experience_id,pin:a,viewer:r[i.userId],viewedSharedPins:i.viewedSharedPins}}),((e,{viewParameter:t,viewType:n})=>({markPinAsSeen:i=>e((0,ne.DX)({pinId:i,viewParameter:t,viewType:n})),markPinUnfollowed:t=>e((0,ce.fH)(t,"unfollowed")),setSharingOnBoardPage:(t,n,i)=>e((0,se.Mj)(t,n,i))})))((function(e){const t=(0,y.ZP)(),n=(0,_e.g)(),{checkExperiment:i}=(0,ue.F)(),r=(0,R.useHistory)(),o=(0,R.useLocation)(),a=(0,E.ZP)(),s=(0,me.M)(),l=(0,pe.yz)(),c=(0,de._)({id:1000107}),d=(0,he.Z)();return(0,v.jsx)(Te,{...e,createUnauthContextMenuHandler:s,deviceType:a,experience:c,pwaType:l,unauthDesktopSignupModalPageContext:n,vaseDisplayMode:"desktop"===a?"desktopParity":"inlineHidden",i18n:t,checkExperiment:i,history:r,location:o,logContextEvent:d})}))},545798:(e,t,n)=>{n.d(t,{Z:()=>oe});var i=n(667294),r=n(702664),o=n(81226),a=n(733756),s=n(499128),l=n(898781),c=n(112690),d=n(728214),u=n(523504),p=n(332611),h=n(185894),m=n(856919),_=n(479739),g=n(500594),v=n(358589),f=n(539497),y=n(883119),b=n(276775),x=n(785893);const w=new y.Ry(1);function S({buttonText:e,clientTrackingParams:t,color:n="primary",deeplinkUri:o,experience:S,inline:P=!0,minWidth:T,onTouch:E,onUnsave:I,pinId:A,pinnedToBoardId:k,shape:C,shouldShowSavedButton:R,viewType:L,viewParameter:j,showSaveHandoffExperience:D}){var O;const N=(0,l.ZP)(),M=(0,r.useDispatch)(),U=(0,b.useHistory)(),F=(0,b.useLocation)(),z=F.pathname.startsWith("/pin"),Z=(0,r.useSelector)((({session:e})=>e.hasSavedUnauthPin)),B=(0,r.useSelector)((({session:e})=>e.unauthSavePinId)),H=null===(O=(0,r.useSelector)((e=>(0,_.ts)(e))))||void 0===O?void 0:O.pin_count,V=(0,c.Z)(),{showToast:W,showRepinConfirmation:G}=(0,u.Z)(),$=()=>{M((0,v.Bp)({history:U,i18n:N,logContextEvent:V,onSuccess:()=>{S&&M((0,p.CK)(S.placement_id,S.experience_id))},originalPinId:A,pinId:A,trackingParams:{clientTrackingParams:t,pinnedToBoardId:k},showRepinConfirmation:D&&!z?()=>{}:G,disableRepinAnimation:B===A,pinCount:H})).catch((e=>W((({hideToast:t})=>(0,x.jsx)(s.ZP,{variant:"error",text:e.message||N._('Sorry! Something went wrong on our end.', 'quickSave.toast.error.message', 'error during repin'),onHide:t})))))},K=(0,i.useRef)(null),q=D&&!Z,Y=(0,d.Z)()({fn:e=>{e.stopPropagation(),e.preventDefault(),E&&E(e),R?R&&I&&I():$()},modalHeader:(0,g.Bx)(N)});(0,i.useEffect)((()=>{q&&!K.current&&((0,f.LW)({action:"trigger",pageLocation:F,item:"unauth-save-button-quicksave"}),$(),M((0,h.e2)())),K.current=q}));const X=()=>N._('Pin', 'quickSave.quickSaveButton.icon.accessibilityLabel', 'Pin accessibility label'),J=()=>e||N._('Save', 'quickSave.quickSaveButton.buttonText', 'Auth mobile web save button for pin closeup');return Z&&!z?null:(0,x.jsx)(y.xu,{"data-test-id":"save-button-mobile",zIndex:w,children:o?(0,x.jsx)(m.di,{accessibilityLabel:X(),color:n,customStyles:{padding:"14px 16px"},deeplinkUri:o,inline:P,minHeight:48,minWidth:T,onTouch:Y,pressState:["compress","background"],shape:C,size:"lg",text:J(),to:U.location.pathname,upsellType:"save",viewType:L,viewParameter:j}):(0,x.jsx)(a.Z,{accessibilityLabel:X(),color:n,customStyles:{padding:"14px 16px"},inline:P,minHeight:48,minWidth:T,onTouch:Y,pressState:"compress",shape:C,size:"300",text:J()})})}var P=n(634291),T=n(716235),E=n(343341);function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class A extends i.PureComponent{constructor(...e){var t;super(...e),t=this,I(this,"state",{saveState:void 0}),I(this,"legoFixedZIndex",new y.Ry(2)),I(this,"onAddPin",(async function(){const{clientTrackingParams:e,dispatch:n,i18n:i,oneTapSave:r,pinId:o,pinnedToBoardId:a,showToast:l,viewType:c}=t.props;try{const i=await n((0,v.wh)({i18n:t.props.i18n,logContextEvent:t.props.logContextEvent,originalPinId:o,pinId:o,boardId:null==r?void 0:r.boardId,isOneTapSave:!0,onUndo:()=>{t.onDeletePin()},section:null==r?void 0:r.section,showToast:l,trackingParams:{clientTrackingParams:e,pinnedToBoardId:a},viewType:c}));t.setState({saveState:"saved"}),n((0,T.a)({boardId:null==r?void 0:r.boardId,localPinId:i.id,pinId:o}))}catch(d){l((({hideToast:e})=>(0,x.jsx)(s.ZP,{variant:"error",text:d.message||i._('Sorry! Something went wrong on our end.', 'error during repin', 'error during repin'),onHide:e}))),t.setState({saveState:void 0})}})),I(this,"onDeletePin",(async function(){const{dispatch:e,clientTrackingParams:n,i18n:i,pinId:r,savedInfo:o,showToast:a}=t.props;if(o){e((0,T.k)({boardId:o.boardId,localPinId:o.localPinId,pinId:r}));try{await e((0,v.q$)({pinId:o.localPinId,boardId:o.boardId,clientTrackingParams:n})),a((({hideToast:e})=>(0,x.jsx)(s.ZP,{text:i._('Pin deleted!', 'User deleted their pin', 'User deleted their pin'),onHide:e}))),t.setState({saveState:void 0})}catch(l){a((({hideToast:e})=>(0,x.jsx)(s.ZP,{variant:"error",text:i._('Sorry! There was an error deleting your Pin.', 'Error when user tried to delete pin', 'Error when user tried to delete pin'),onHide:e}))),t.setState({saveState:"saved"})}}})),I(this,"handlePinAction",this.props.requireAuthForLimitedLogin({fn:({event:e})=>{e.stopPropagation(),e.preventDefault();const{saveState:t}=this.state,{history:n,pinId:i,isOneTapExploreLocalTab:r,pinnedToBoard:o}=this.props;["saving","deleting"].includes(t)||r&&o||(t||this.props.savedInfo?this.props.isOneTapExploreLocalTab||(this.setState({saveState:"deleting"}),this.onDeletePin()):(this.setState({saveState:"saving"}),r?n.push({pathname:`/pin/${i}/repin`,state:{isOneTapSave:!0}}):this.onAddPin()))},modalHeader:(0,g.Bx)(this.props.i18n)})),I(this,"shouldDisplayAsSaved",(({isOneTapExploreLocalTab:e,pinnedToBoard:t,savedInfo:n})=>e?!!t:!!n))}render(){const{children:e,clientTrackingParams:t,homepageExperience:n,i18n:r,isOneTapExploreLocalTab:o,isRTL:a,oneTapSave:s,pinId:l,pinnedToBoard:c,pinnedToBoardId:d,savedInfo:u,shouldShowSaveHandoffExp:p}=this.props;if(!s&&!o&&!p)return e;const h=this.shouldDisplayAsSaved({isOneTapExploreLocalTab:o,pinnedToBoard:c,savedInfo:u}),m="#000",_="rgba(255, 255, 255, 0.8)",g="light",v="dark";return(0,x.jsxs)(i.Fragment,{children:[e,(0,x.jsx)(y.xu,{bottom:!0,left:a,padding:2,position:"absolute",right:!a,zIndex:this.legoFixedZIndex,children:p?(0,x.jsx)(S,{buttonText:c?r._('Saved', 'OneTapSave.QuickSaveButton.Saved', 'Message on saved pin'):"",clientTrackingParams:t,color:c?"default":"primary",deeplinkUri:"deeplinkUri",experience:n,inline:!0,pinnedToBoardId:d,minWidth:54,pinId:l,shape:"pill",shouldShowSavedButton:!!c,showSaveHandoffExperience:p}):(0,x.jsx)(y.iP,{onTap:this.handlePinAction,rounding:"circle",children:(0,x.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:h?m:_}},padding:2,rounding:"circle",children:(0,x.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{opacity:100}},children:(0,x.jsx)(y.JO,{accessibilityLabel:h?r._('saved', 'checkmark icon to show pin has been saved', 'checkmark icon to show pin has been saved'):r._('save', 'button for saving quickly with one click', 'button for saving quickly with one click'),icon:h?"check":"add",color:h?g:v,size:"24"})})})})})]})}}const k=(0,r.connect)(((e,{pinId:t})=>({savedInfo:e.pins[t]&&e.pins[t].savedInfo,pinnedToBoard:e.pins[t]&&e.pins[t].pinned_to_board,homepageExperience:e.experiences[40001]})))((function(e){const{showToast:t}=(0,E.F9)(),n=(0,l.ZP)(),o=(0,c.Z)(),a=(0,d.Z)(),s=(0,r.useDispatch)(),u=(0,b.useHistory)(),{isRTL:p}=(0,r.useSelector)((({session:e})=>e)),h=(0,r.useSelector)((({session:e})=>e.unauthSavePinId)),m=(0,r.useSelector)((({session:e})=>e.isAuthenticated)),g=(0,r.useSelector)((e=>{var t;return null===(t=(0,_.ts)(e))||void 0===t?void 0:t.pin_count})),y=m&&!!h&&h===e.pinId,{pins:w,clear:S}=(0,P.Z)(),T=(0,i.useRef)(!1);return(0,i.useEffect)((()=>{m&&!T.current&&w.length>0&&(T.current=!0,w.forEach((({id:e})=>{s((0,v.Bp)({history:u,i18n:n,logContextEvent:o,onSuccess:()=>{},originalPinId:e,pinId:e,trackingParams:{clientTrackingParams:"",pinnedToBoardId:""},showRepinConfirmation:()=>{},disableRepinAnimation:!0,pinCount:g})).catch((e=>{(0,f.My)(`error.unauth_profile_pin_merge.${e}`)}))})),S())})),(0,x.jsx)(A,{...e,i18n:n,requireAuthForLimitedLogin:a,history:u,logContextEvent:o,showToast:t,shouldShowSaveHandoffExp:y,isRTL:p})}));k.displayName="OneTapSave";const C=k;var R=n(883561),L=n(349700);function j({boardUrl:e,boardName:t,isQuicksave:n,sectionName:i,sectionSlug:r}){const o=(0,l.ZP)(),a=(0,b.useHistory)(),s=new y.Ry(1),c=!!r&&`${e}${r}/`;return(0,x.jsx)(y.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:s,dangerouslySetInlineStyle:{__style:{background:"rgb(0 0 0 / .4)"}},children:(0,x.jsx)(y.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:4,children:(0,x.jsx)(y.iP,{onTap:t=>{t.event.preventDefault(),a.push(n?"/me/":c||e)},children:(0,x.jsx)(y.xv,{color:"light",children:i?(0,L.nk)(o._('Saved to {{sectionName}}', 'PinCard.SavedToSection.Overlay', 'Saved to section overlay'),{sectionName:(0,x.jsx)(y.xv,{color:"light",weight:"bold",inline:!0,children:(0,R.ZP)(i,22)},`pincard-${i}`)}):(0,L.nk)(o._('Saved to {{boardName}}', 'PinCard.SavedToBoard.Overlay', 'Saved to board overlay'),{boardName:(0,x.jsx)(y.xv,{color:"light",weight:"bold",inline:!0,children:n?o._('Profile', 'PinCard.SavedToProfile.Overlay', 'Part of string saying "Saved to Profile" after saving a Pin'):(0,R.ZP)(t,22)},`pincard-${t}`)})})})})})}var D=n(252745),O=n(964082),N=n(36971),M=n(463045);function U({isSquarePin:e,color:t,description:n,imageUrl:i,imageHeight:r,imageWidth:o,onError:a,onLoad:s}){const l=(0,x.jsx)(y.Ee,{alt:n||"",color:t,naturalHeight:null!=r?r:1,naturalWidth:null!=o?o:1,onError:a,onLoad:s,src:null!=i?i:"",fit:e?"cover":void 0});return e?(0,x.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},children:(0,x.jsx)(y.xu,{top:!0,right:!0,bottom:!0,left:!0,position:"absolute",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:l})}):l}var F=n(639758),z=n(67223),Z=n(572260),B=n(623568),H=n(494349),V=n(50286);function W({inAdsVideoExperiment:e,unauthRelatedPinsAutoplayExpGroup:t,isAutoplay:n,cropHeight:r,currentTime:o,onLoad:a,onError:s,onTimeChange:c,pin:d,playing:u,rootMargin:p,viewType:h,viewParameter:m,onVisibilityChanged:_,trackFullVisible:g,videoDuration:v,imageHeightModifier:f,image:b,isSquarePin:w}){var S,P,T,E;const I=(0,l.ZP)(),[A,k]=(0,i.useState)(!1),[C,R]=(0,i.useState)(!0),L=(0,B.jL)(d),j=L&&!d.is_eligible_for_web_closeup,O=3372===m||42===h,N=L&&d.is_eligible_for_web_closeup&&!O,{setCurrentVideo:M,pauseAutoplay:W}=(0,H.I)(),G=j||!L,$=(0,z.Z)({onVisibilityChanged:_,inAdsDesktopVideoExperiment:e,trackFullVisible:g,rootMargin:p});let K=!u;(e||null!=t&&t.startsWith("enabled"))&&(K=C,n&&u&&C&&R(!1));const{url:q}=(null===(S=d.images)||void 0===S?void 0:S["236x"])||{},{id:Y}=d,X=(0,V.HG)()&&d.videos?null===(P=d.videos.video_list)||void 0===P?void 0:P.V_HLSV4:null===(T=d.videos)||void 0===T||null===(E=T.video_list)||void 0===E?void 0:E.V_720P,J=(0,V.HG)()&&d.videos?"video/m3u8":"video/mp4",Q=(0,i.useCallback)((({event:e})=>{e.preventDefault(),e.stopPropagation(),M({pinId:Y,isPromoted:Boolean(L),currentTime:0}),k(!1)}),[L,Y,M]),ee=(0,i.useCallback)((()=>{L&&k(N),W({pinId:Y,isPromoted:Boolean(L),currentTime:0})}),[N,L,Y,W]);if(!d.videos||!X)return null;const{height:te,thumbnail:ne,width:ie,url:re}=X||{},oe=d.videos.id,ae=[{type:J,src:re}];let se,le=(null!=ie?ie:1)/(null!=te?te:1);return e&&w&&(le=1,se="transparent",f&&(le-=f-1)),A&&L?(0,x.jsx)(y.xu,{"data-test-id":"pin-video-mobile-end-card",ref:$,children:(0,x.jsx)(F.Z,{backgroundImage:null!=q?q:"",naturalHeight:null!=te?te:1,naturalWidth:null!=ie?ie:1,pin:d,onRestartVideo:Q})}):K?(0,x.jsxs)(y.xu,{"data-test-id":"pin-video-mobile-image",ref:$,children:[v&&(0,x.jsx)(D.Z,{text:v}),(0,x.jsx)(U,{imageHeight:null!==(ce=null==b?void 0:b.height)&&void 0!==ce?ce:1,imageWidth:null!==(de=null==b?void 0:b.width)&&void 0!==de?de:1,onError:s,onLoad:a,imageUrl:null!==(ue=null==b?void 0:b.url)&&void 0!==ue?ue:"",isSquarePin:w})]}):(0,x.jsx)(y.xu,{"data-test-id":"pin-video-mobile-video",ref:$,children:(0,x.jsx)(Z.ZP,{isAutoPlay:!!n,cropHeight:r,rootMargin:p,inAdsDesktopVideoExperiment:e,contextLogData:{viewParameter:m,component:0,objectId:d.id,video_id:oe,view:h},accessibilityMaximizeLabel:I._('Maximize', 'pinLayouts.PinVideo.accessibilityMaxVideoBtn', 'Maximize button on video'),accessibilityMinimizeLabel:I._('Minimize', 'pinLayouts.PinVideo.accessibilityMinVideoBtn', 'Minimize button on video'),accessibilityMuteLabel:I._('Mute', 'pinLayouts.PinVideo.accessibilityMuteVideoBtn', 'Mute button on video'),accessibilityPauseLabel:I._('Pause', 'pinLayouts.PinVideo.accessibilityPauseVideoBtn', 'Pause button on video'),accessibilityPlayLabel:I._('Play', 'pinLayouts.PinVideo.accessibilityPlayVideoBtn', 'Play button on video'),accessibilityProgressBarLabel:I._('Progress bar', 'pinLayouts.PinVideo.accessibilityProgressBarLabel', 'Video progress bar accessibility label'),accessibilityUnmuteLabel:I._('Unmute', 'pinLayouts.PinVideo.accessibilityUnmuteVideoBtn', 'Unmute button on video'),aspectRatio:le,backgroundColor:se,captions:"",hlsConfig:{capLevelToPlayerSize:!0,startPosition:o||-1},loop:G,onTimeChange:c,playing:u,onPlay:()=>{},onPlayError:()=>{},poster:q||ne,src:null!=ae?ae:[],videoStartTime:o,volume:0,onEnded:ee})});var ce,de,ue}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class $ extends i.Component{constructor(...e){super(...e),G(this,"calculateCurrentVideoTime",(()=>{const{currentTimeFromPinRep:e,pin:t,videosAutoplaying:n}=this.props,{id:i}=t,r=(0,N.Z)(i,n);return this.currentVideoCurrentTime||r||e})),G(this,"handleVisibilityChanged",(e=>{const{currentTimeFromPinRep:t,pin:n,setCurrentVideo:i,pauseAutoplay:r,videosAutoplaying:o}=this.props,{id:a}=n,s=(0,B.jL)(n),l=(0,M.Z)(a,o),c=(0,O.Z)(a,o);e?s?i({pinId:a,isPromoted:s,currentTime:this.calculateCurrentVideoTime()}):c&&i({pinId:a,isPromoted:Boolean(s),currentTime:this.calculateCurrentVideoTime()}):!e&&l&&r({pinId:a,isPromoted:Boolean(s),currentTime:t||this.currentVideoCurrentTime})})),G(this,"handleVideoTimeChange",(e=>{const{pin:t,onTimeChange:n,videosAutoplaying:i}=this.props,{id:r}=t;(0,M.Z)(r,i)&&(this.currentVideoCurrentTime=e.time),n&&n(e)}))}componentDidUpdate(e){const{appInFocus:t}=e,{appInFocus:n,currentTimeFromPinRep:i,pauseAutoplay:r,pin:o,setCurrentVideo:a,videosAutoplaying:s}=this.props,{id:l}=o,c=(0,B.jL)(o),d=(0,M.Z)(l,s);n!==t&&!n&&d?(this.pausedDueToBrowserOutOfFocus=!0,r({pinId:l,isPromoted:Boolean(c),currentTime:i||this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&n&&(this.pausedDueToBrowserOutOfFocus=!1,a({pinId:l,isPromoted:Boolean(c),currentTime:this.calculateCurrentVideoTime()}))}componentWillUnmount(){const{currentTimeFromPinRep:e,pauseAutoplay:t,pin:n,videosAutoplaying:i}=this.props,{id:r}=n,o=(0,B.jL)(n);(0,M.Z)(r,i)&&t({pinId:r,isPromoted:Boolean(o),currentTime:e||this.currentVideoCurrentTime})}render(){const{cropHeight:e,isAutoplay:t,pin:n,videosAutoplaying:i,videoDuration:r,viewParameter:o,viewType:a,onError:s,onLoad:l,inAdsVideoExperiment:c,unauthRelatedPinsAutoplayExpGroup:d,isSquarePin:u,rootMargin:p,imageHeightModifier:h,image:m,isHovering:_}=this.props,{id:g}=n,v=(0,N.Z)(g,i),f="enabled_hover"===d,y=(0,M.Z)(g,i),b=_&&f||y&&t;return(0,x.jsx)(W,{cropHeight:e,rootMargin:p,currentTime:v,inAdsVideoExperiment:c,unauthRelatedPinsAutoplayExpGroup:d,isAutoplay:t,isSquarePin:u,image:m,viewParameter:o,viewType:a,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pin:n,playing:b,trackFullVisible:!1,onError:s,onLoad:l,imageHeightModifier:h,videoDuration:r})}}function K(e){const{appUI:{appInFocus:t,isAutoplay:n,videosAutoplaying:i},pauseAutoplay:r,setCurrentVideo:o}=(0,H.I)();return(0,x.jsx)($,{...e,appInFocus:t,isAutoplay:n,pauseAutoplay:r,setCurrentVideo:o,videosAutoplaying:i})}var q=n(690035),Y=n(310227),X=n(773285),J=n(904411),Q=n(780679),ee=n(627995);const te=({domainLinkData:e})=>{const t=(0,l.ZP)(),n=(0,Q.g)();return(0,x.jsxs)(y.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(51, 51, 51, 0.8)"}},children:[(0,x.jsx)(y.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"center",paddingX:2,children:(0,x.jsx)(y.X6,{size:"400",align:"center",color:"light",children:t._('Open', 'Text on hover of a pin leading to opening this pin in the same tab. This is for users who don\'t have an account on Pinterest.', 'Text on hover of a pin leading to opening this pin in the same tab. This is for users who don\'t have an account on Pinterest.')})}),!!e&&(0,x.jsx)(y.xu,{position:"absolute",bottom:!0,left:!0,width:"100%",minWidth:"100%",children:(0,x.jsx)(ee.Z,{clickLoggingOptions:e.clickLoggingOptions,domain:e.domain,link:e.link,onClick:e.onClick||(null==n?void 0:n.pinLinkClickHandler)||(()=>{})})})]})};var ne=n(53987);const ie=({width:e,height:t,minY:n,maxY:i})=>{const r=t=>e<=0||!t?"0%":Math.round(t/e*100)+"%";return{top:n<=0?"0%":r(-1*n*t),bottom:i>=1?"0%":r(-1*(1-i)*t)}},re=({children:e,margin:t,disableRounding:n})=>(0,x.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:t?{marginTop:t.top,marginBottom:t.bottom}:{}},position:"relative","data-test-id":"pin-visual-wrapper",children:(0,x.jsx)(y.zd,{wash:!0,rounding:n?0:Y.mv,children:e})}),oe=({clientTrackingParams:e,color:t,description:n,domainLinkData:a,hideBottomCardText:s,image:c,imageAltText:d,imageCrop:u,isPromoted:p,isMessenger:h,isOneTapExploreLocalTab:m,isSquarePin:_,lazyLoadImage:g,onError:v,oneTapSave:w,onLoad:S,openCustomContextMenu:P,pinId:T,disableDefaultContextMenu:E,pinnedToBoardId:I,pinVideo:A,videoUrl:k,productPrice:R,disableRounding:L,storyData:O,title:N,type:M,videoDuration:U,viewType:F,viewParameter:z,unauthRelatedPinsAutoplayExpGroup:Z})=>{var H,W,G,$,Y,Q,ee,oe,ae,se;const le=(0,l.ZP)(),ce=(0,q.Z)(),{checkExperiment:de}=(0,X.F)(),[ue,pe]=(0,i.useState)(!1),he=(0,r.useSelector)((({session:e})=>e.isAuthenticated)),me=(0,V.ZP)(),_e=(0,r.useSelector)((({pins:e})=>e[T])),ge=(0,J.gC)()(I||_e&&_e.board),ve=I&&_e.savedThisSession,fe=a&&a.link?"with-link":"without-link",ye=!he&&"desktop"!==me,be=(0,i.useRef)(Date.now()),xe=(0,i.useRef)(null),we=de("mweb_video_ads_autoplay").anyEnabled,Se=Z&&"enabled_hover"===Z,Pe=(0,x.jsx)(y.Ee,{alt:d||N||n||"",color:t,naturalHeight:null!==(H=c.height)&&void 0!==H?H:1,naturalWidth:null!==(W=c.width)&&void 0!==W?W:1,onError:v,onLoad:S,src:null!==(G=c.url)&&void 0!==G?G:"",fit:_?"cover":void 0,loading:g?"lazy":"auto"}),Te=_?(0,x.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},children:(0,x.jsx)(y.xu,{top:!0,right:!0,bottom:!0,left:!0,position:"absolute",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:Pe})}):Pe,Ee=(0,b.useLocation)(),Ie=()=>(0,ne.C$)(Ee)?"homefeed":(0,ne.L6)(Ee)?"related_pins":(0,ne.En)(Ee)?"search":"unknown";return(0,x.jsx)("div",{className:"PinCard__imageWrapper",style:{position:"relative"},children:(0,x.jsxs)(y.xu,{onContextMenu:e=>{if("desktop"!==me){const t=Ie();(0,f.My)((he?"auth":"unauth")+".mweb_pin_feed.pin_image.long_press",{page:t}),he&&"unknown"!==t&&(de("mweb_custom_context_menu_on_longpress").anyEnabled||de("mweb_pin_card_custom_context_menu_on_longpress").anyEnabled)?(e.preventDefault(),e.stopPropagation(),P()):"related_pins"!==t||he||!de("mweb_unauth_rp_context_menu_on_longpress").anyEnabled&&!de("pcons_menu_action_sheet").anyEnabled||(e.preventDefault(),e.stopPropagation())}},onTouchStart:e=>{if("desktop"!==me){const t=Ie();if((0,f.My)("unauth.mweb.related_pin.image.touch.start"),"related_pins"===t&&!he&&(null==E||E(),be.current=Date.now(),e.changedTouches&&e.changedTouches.length>0)){const t=e.changedTouches.item(0);t&&(xe.current={x:t.pageX,y:t.pageY})}}},onTouchEnd:e=>{if("desktop"!==me){const t=Ie();if((0,f.My)("unauth.mweb.related_pin.image.touch.end"),Date.now()-be.current>500&&!he&&"related_pins"===t){const t=xe.current;if(e.changedTouches&&e.changedTouches.length>0&&t){const n=e.changedTouches.item(0);if(n&&Math.pow(n.pageX-t.x,2)+Math.pow(n.pageY-t.y,2)>100)return;de("pcons_menu_action_sheet").anyEnabled&&(null==E||E(),ce({pinId:T,location:"related-pins-long-press"}),e.stopPropagation())}}}},"data-test-id":`pincard-${M}-${fe}`,dangerouslySetInlineStyle:{__style:{willChange:"transform",textDecoration:"none"}},overflow:"hidden",onMouseOver:ye?void 0:()=>pe(!0),onMouseLeave:ye?void 0:()=>pe(!1),position:"relative",rounding:L?0:4,children:[(0,x.jsxs)(C,{clientTrackingParams:e||"",oneTapSave:w,isOneTapExploreLocalTab:m,pinId:T,pinnedToBoardId:I,viewType:F,children:[(()=>{if("gif"===M&&!s&&!ve)return(0,x.jsx)(D.Z,{text:le._('GIF', 'pin.pinCard.gifIconIdentifier', 'pin type identifier for gifs')});if("video"===M&&U&&!s&&!ve)return(0,x.jsx)(D.Z,{text:U});if("storyPin"===M&&O&&!ve){const{page_count:e=0,static_page_count:t=0,total_video_duration:n=0}=_e.story_pin_data||{},{anyEnabled:i}=de("hfp_idea_pin_identifier_v2_mweb");let r=e.toString();const a=i?n+t*B.oN:n;if(a>0)return r=(0,o.Z)(a),(0,x.jsx)(D.Z,{text:r});if("number"==typeof e&&e>0)return(0,x.jsx)(D.Z,{icon:"idea-pin",text:r})}return"product"===M&&R?(0,x.jsx)(D.Z,{text:R}):null})(),(0,x.jsx)(re,{disableRounding:L,margin:u?ie({width:null!==($=c.width)&&void 0!==$?$:1,height:null!==(Y=c.height)&&void 0!==Y?Y:1,minY:u.min_y,maxY:u.max_y}):void 0,children:"video"===M&&h&&A?(0,x.jsx)(y.nk,{autoplay:!0,accessibilityMaximizeLabel:"",accessibilityMinimizeLabel:"",accessibilityMuteLabel:"",accessibilityPauseLabel:"",accessibilityPlayLabel:"",accessibilityProgressBarLabel:le._('Progress bar', 'PinCardVisual.accessibilityProgressBarLabel', 'Video progress bar accessibility label'),accessibilityUnmuteLabel:"",aspectRatio:A.width/A.height,captions:"",loop:!0,onPlay:()=>{},onPlayError:()=>{},playsInline:!0,poster:null!==(Q=c.url)&&void 0!==Q?Q:"",src:A.url,volume:0}):A&&p&&we||null!=Z&&Z.startsWith("enabled")&&k?(0,x.jsx)(K,{image:c,inAdsVideoExperiment:we,unauthRelatedPinsAutoplayExpGroup:Z,isHovering:ue,isSquarePin:_,onError:v,onLoad:S,pin:_e,videoDuration:U,viewParameter:z,viewType:F}):Te})]}),!Se&&ue&&!he&&(0,x.jsx)(te,{domainLinkData:a}),he&&ve&&(0,x.jsx)(j,{boardName:null!==(ee=null==ge?void 0:ge.name)&&void 0!==ee?ee:"",boardUrl:null!==(oe=null==ge?void 0:ge.url)&&void 0!==oe?oe:"",sectionName:null==w||null===(ae=w.section)||void 0===ae?void 0:ae.title,sectionSlug:null==w||null===(se=w.section)||void 0===se?void 0:se.slug,isQuicksave:"quick_saves"===(null==ge?void 0:ge.layout)})]})})}},252745:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(898781),r=n(643010),o=n(883119),a=n(785893);function s({text:e,icon:t,largeIdentifier:n,largeMargin:s}){const l=(0,i.ZP)();return(0,a.jsxs)(o.xu,{zIndex:new o.Ry(1),alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:(0,r.Yc)()?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.8)"}},display:"flex",margin:s?4:2,overflow:"hidden",position:"absolute",rounding:"pill",padding:2,paddingX:n?4:void 0,height:n?36:24,top:!0,children:[t&&(0,a.jsx)(o.xu,{marginEnd:n?2:1,children:(0,a.jsx)(o.JO,{accessibilityLabel:l._('identifier that shows the pin type', 'pin.pincard.iconAccessibilityLabel', 'shows an icon with the pin type'),color:"default",icon:t,inline:!0,size:n?18:12})}),(0,a.jsx)(o.xv,{inline:!0,size:n?"200":"100",weight:"bold",children:e})]})}},236458:(e,t,n)=>{function i(e){const t=Object.keys(e);if(t.length>0){return t.sort(((t,n)=>e[n]-e[t])).slice(0,3)}return null}function r(e){const t=Object.values(e);if(t.length>0){return t.reduce(((e,t)=>e+t),0)}return 0}function o({boardIsCollaborative:e,isDownstreamPromotion:t,isPromoted:n,storyPinDataId:i,videosId:r}){return!(n||t||!r&&!i||null!=e&&e)}n.d(t,{At:()=>i,J6:()=>o,Ud:()=>r})},184298:(e,t,n)=>{n.d(t,{Z:()=>R});var i=n(667294),r=n(702664),o=n(373420),a=n(430322),s=n(121151),l=n(898781),c=n(643010),d=n(773285),u=n(883119),p=n(50286),h=n(785893);function m({showFullScreenInfo:e,isOpen:t,interstitialUpsellDismissed:n,children:i}){const r=(0,l.ZP)(),{checkExperiment:o}=(0,d.F)(),m=(0,p.HG)(),_=(0,p.Wb)();return _||m||!o("pcons_more_info_sheet").anyEnabled?(0,h.jsx)(s.ZP,{accessibilityModalLabel:"",mobileHideCloseIcon:!0,mobileIsFullscreen:!0,isOpen:e&&!_,closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,h.jsx)(u.xu,{color:(0,c.Yc)()?"dark":"default",dangerouslySetInlineStyle:{__style:{border:(0,c.Yc)()?void 0:"1px solid #efefef",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"}},height:"100%",left:!0,maxHeight:"100%",overflow:"auto",position:"fixed",top:!0,width:m?"100vw":"100%",zIndex:new u.Ry(1),children:(0,h.jsx)(u.xu,{bottom:!0,left:!0,right:!0,top:!0,position:"fixed",padding:5,overflow:"scroll",marginTop:n?0:12,children:i})})}):(0,h.jsx)(a.default,{accessibilityModalLabel:r._('Close', 'Close modal window', 'Close modal window'),isOpen:t,onDismiss:()=>{},mobileAccessibilityCloseIconLabel:r._('Close', 'Close modal window', 'Close modal window'),children:i})}var _,g=n(784590),v=n(690035),f=n(683350),y=n(623568),b=n(904411),x=n(802201),w=n(276775),S=n(992750),P=n(539497),T=n(167912);const E=void 0!==_?_:_=n(276667);function I({iconColor:e,size:t,isMainPin:n,isAuth:a,pinCreditPrefix:s,onClickTitleOrDomain:c,richMetadataDescription:_,richMetadataTitle:g,richSummaryDisplayName:b,placeSummaryName:x,closeupUnifiedDescription:T,gridTitle:E,storyPinDataId:I,storyPinDataMetadataPinTitle:A,pinDescription:k,pinDomain:C,pinTitle:R,boardId:L,boardUrl:j,boardName:D,boardPrivacy:O,pinnerFullName:N,pinnerImageSmallUrl:M,pinnerImageLargeUrl:U,pinId:F,graphqlRef:z}){const Z=(0,l.ZP)(),{unauthInterstitialDismissed:B,isSeoBot:H}=(0,r.useSelector)((({session:e})=>e)),[V,W]=(0,i.useState)(!1),G=(0,p.HG)(),$=(0,p.Wb)(),{checkExperiment:K}=(0,d.F)(),q=(0,v.Z)(),Y=(0,y._S)(C)?C:"",X=!(!$&&!a)&&(K("pcons_more_info_sheet").anyEnabled||K("pcons_merge_context_menus").anyEnabled),{description:J}=(0,S.eK)({richMetadataDescription:_,richSummaryDisplayName:b,placeSummaryName:x,closeupUnifiedDescription:T}),Q=(0,S.fs)({pinTitle:R,gridTitle:E,richSummaryDisplayName:b,richMetadataTitle:g,storyPinDataId:I,storyPinDataMetadataPinTitle:A,placeSummaryName:x})||k,ee=!G,te=(0,w.useLocation)(),ne=(0,h.jsxs)(u.xu,{padding:5,dangerouslySetInlineStyle:X?{__style:{paddingTop:0,paddingBottom:30}}:void 0,children:[(0,h.jsx)(u.xu,{left:!0,position:"absolute",top:!0,color:"default",padding:4,"data-test-id":"close-seo-vase-see-more-button",children:(0,h.jsx)(u.hU,{accessibilityLabel:Z._('Cancel', 'close modal icon', 'close modal icon'),icon:"cancel",size:"sm",onClick:()=>{(0,P.My)("mweb.unauth.see_more.dismissed"),(0,P.LW)({action:"click",pageLocation:te,item:"close-seo-vase-see-more-button"}),W(!1),n&&(0,P.My)("mweb.unauth.see_more.main_pin.dismissed")},iconColor:"gray"})}),(0,h.jsx)(u.xu,{marginBottom:X?0:8,children:(0,h.jsx)(u.xv,{align:X?"start":"center",weight:X?void 0:"bold",children:(0,h.jsx)("span",{className:"deprecatedTextSizeXL",children:X?null:Z._('More information', 'more information label', 'more information label')})})}),(0,h.jsx)(f.Z,{description:J,title:Q,pinCreditPrefix:s,onClickTitleOrDomain:c,pinDomain:Y,boardId:L,boardUrl:j,boardName:D,boardPrivacy:O,pinnerFullName:N,pinnerImageSmallUrl:M,pinnerImageLargeUrl:U,pinId:F,graphqlRef:z})]});return(0,h.jsxs)(u.xu,{right:!0,"data-test-id":"SeoVaseSeeMoreButton",dangerouslySetInlineStyle:{__style:{float:"right"}},children:[(0,h.jsx)(u.hU,{accessibilityLabel:Z._('See more', 'more information icon', 'more information icon'),icon:"ellipsis",iconColor:null!=e?e:"gray",size:t||"md",onClick:({event:e})=>{e.stopPropagation(),(0,P.My)("mweb.unauth.see_more.shown"),(0,P.LW)({action:"click",pageLocation:te,item:"seo-vase-see-more-button"}),$||a||!K("pcons_merge_context_menus").anyEnabled?(W(!0),n&&(0,P.My)("mweb.unauth.see_more.main_pin.shown")):q({pinId:F||"",location:n?"main-pin-more-information":"non-main-pin-more-information",seoPlacementConfig:{description:J,titleText:Q,pinCreditPrefix:s,onClickTitleOrDomain:c,cleanPinDomain:Y,boardId:L,boardUrl:j,boardName:D,boardPrivacy:O,pinnerFullName:N,pinnerImageSmallUrl:M,pinnerImageLargeUrl:U,pinId:F,graphqlRef:z}})}}),H&&ee?(0,h.jsx)(u.xu,{display:V?"flex":"none",children:ne}):(0,h.jsx)(m,{showFullScreenInfo:V,isOpen:V&&!$,interstitialUpsellDismissed:!!B,children:ne}),$&&V&&(0,h.jsx)(o.default,{accessibilityModalLabel:"test",onDismiss:()=>{},children:ne})]})}function A(e){var t,n,i,r,o,a,s,l,c,d,u,p,m,_,g,v;const f=(0,T.useFragment)(E,e.graphqlRef);return(0,h.jsx)(I,{iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,richMetadataDescription:null!==(t=null==f||null===(n=f.richMetadata)||void 0===n?void 0:n.description)&&void 0!==t?t:"",richMetadataTitle:null!==(i=null==f||null===(r=f.richMetadata)||void 0===r?void 0:r.title)&&void 0!==i?i:"",richSummaryDisplayName:null!==(o=null==f||null===(a=f.richSummary)||void 0===a?void 0:a.displayName)&&void 0!==o?o:"",closeupUnifiedDescription:null!==(s=null==f?void 0:f.closeupUnifiedDescription)&&void 0!==s?s:"",gridTitle:null==f?void 0:f.gridTitle,storyPinDataId:null==f?void 0:f.storyPinDataId,storyPinDataMetadataPinTitle:null==f||null===(l=f.storyPinData)||void 0===l||null===(c=l.metadata)||void 0===c?void 0:c.pinTitle,pinDescription:null==f?void 0:f.description,pinDomain:(null==f?void 0:f.domain)||void 0,pinTitle:null==f?void 0:f.title,boardId:null==f||null===(d=f.board)||void 0===d?void 0:d.entityId,boardUrl:(null==f||null===(u=f.board)||void 0===u?void 0:u.url)||void 0,boardName:(null==f||null===(p=f.board)||void 0===p?void 0:p.name)||void 0,boardPrivacy:(null==f||null===(m=f.board)||void 0===m?void 0:m.privacy)||void 0,pinnerFullName:(null==f||null===(_=f.pinner)||void 0===_?void 0:_.fullName)||void 0,pinnerImageSmallUrl:null==f||null===(g=f.pinner)||void 0===g?void 0:g.imageSmallUrl,pinnerImageLargeUrl:null==f||null===(v=f.pinner)||void 0===v?void 0:v.imageLargeUrl,pinId:null==f?void 0:f.entityId,graphqlRef:f})}function k(e){var t,n,i,r,o,a,s,l,c,d,u,p;const m=(0,x.S6)()(null!==(t=e.pinId)&&void 0!==t?t:""),_=(0,b.gC)()(null!==(n=null==m?void 0:m.board)&&void 0!==n?n:""),g=null==m?void 0:m.pinner;return(0,h.jsx)(I,{iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,richMetadataDescription:null!==(i=null==m||null===(r=m.rich_metadata)||void 0===r?void 0:r.description)&&void 0!==i?i:"",richMetadataTitle:null!==(o=null==m||null===(a=m.rich_metadata)||void 0===a?void 0:a.title)&&void 0!==o?o:"",richSummaryDisplayName:null!==(s=null==m||null===(l=m.rich_summary)||void 0===l?void 0:l.display_name)&&void 0!==s?s:"",placeSummaryName:null!==(c=null==m?void 0:m.place_summary)&&void 0!==c?c:"",closeupUnifiedDescription:null!==(d=null==m?void 0:m.closeup_unified_description)&&void 0!==d?d:"",gridTitle:null==m?void 0:m.grid_title,storyPinDataId:null==m?void 0:m.story_pin_data_id,storyPinDataMetadataPinTitle:null==m||null===(u=m.story_pin_data)||void 0===u||null===(p=u.metadata)||void 0===p?void 0:p.pin_title,pinDescription:null==m?void 0:m.description,pinDomain:null==m?void 0:m.domain,pinTitle:null==m?void 0:m.title,boardId:null==_?void 0:_.id,boardUrl:null==_?void 0:_.url,boardName:null==_?void 0:_.name,boardPrivacy:null==_?void 0:_.privacy,pinnerFullName:null==g?void 0:g.full_name,pinnerImageSmallUrl:null==g?void 0:g.image_small_url,pinnerImageLargeUrl:null==g?void 0:g.image_large_url,pinId:null==m?void 0:m.id})}function C(e){var t,n,i,r,o,a,s,l,c,d,u,p;const m=(0,x.S6)()(null!==(t=e.pinId)&&void 0!==t?t:""),_=(0,b.gC)()(null!==(n=null==m?void 0:m.board)&&void 0!==n?n:""),v=null==m?void 0:m.pinner;return(0,g.Z)({name:"PinResource",options:{id:e.pinId,field_set_key:"unauth_ssr_lazy_load"}}),(0,h.jsx)(I,{iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,richMetadataDescription:null!==(i=null==m||null===(r=m.rich_metadata)||void 0===r?void 0:r.description)&&void 0!==i?i:"",richMetadataTitle:null!==(o=null==m||null===(a=m.rich_metadata)||void 0===a?void 0:a.title)&&void 0!==o?o:"",richSummaryDisplayName:null!==(s=null==m||null===(l=m.rich_summary)||void 0===l?void 0:l.display_name)&&void 0!==s?s:"",placeSummaryName:null!==(c=null==m?void 0:m.place_summary)&&void 0!==c?c:"",closeupUnifiedDescription:null!==(d=null==m?void 0:m.closeup_unified_description)&&void 0!==d?d:"",gridTitle:null==m?void 0:m.grid_title,storyPinDataId:null==m?void 0:m.story_pin_data_id,storyPinDataMetadataPinTitle:null==m||null===(u=m.story_pin_data)||void 0===u||null===(p=u.metadata)||void 0===p?void 0:p.pin_title,pinDescription:null==m?void 0:m.description,pinDomain:null==m?void 0:m.domain,pinTitle:null==m?void 0:m.title,boardId:null==_?void 0:_.id,boardUrl:null==_?void 0:_.url,boardName:null==_?void 0:_.name,boardPrivacy:null==_?void 0:_.privacy,pinnerFullName:null==v?void 0:v.full_name,pinnerImageSmallUrl:null==v?void 0:v.image_small_url,pinnerImageLargeUrl:null==v?void 0:v.image_large_url,pinId:null==m?void 0:m.id})}function R(e){return e.graphqlRef?(0,h.jsx)(A,{...e}):e.lazyLoadAnnotations?(0,h.jsx)(C,{...e}):(0,h.jsx)(k,{...e})}},23084:(e,t,n)=>{n.d(t,{Z:()=>c,j:()=>l});var i=n(898781),r=n(883119),o=n(773285),a=n(349700),s=n(785893);const l=[0,2,3];function c({hasAffiliatedProducts:e,isPromoted:t,sponsorName:n,sponsorshipStatus:c,textColor:d}){const u=(0,i.ZP)(),p=(0,o.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled;let h;t?h=(0,a.nk)(u._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:n}):c||0===c?n&&!l.includes(c)?h=(0,a.nk)(u._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:n}):2!==c&&(h=u._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):e&&(h=u._('Includes sponsored products', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products'));const m=p&&!t?"Ad  ":"";return(0,s.jsxs)(r.xv,{color:d,size:"100",children:[m,h]})}},536454:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),r=n(700380),o=n(883119),a=n(313047),s=n(785893);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.PureComponent{constructor(...e){super(...e),l(this,"onScroll",(0,r.Z)((e=>{if(this.anchorElement){const e=this.anchorElement.offsetTop+this.anchorElement.offsetHeight;window.scrollY>e&&!this.hasExited?(this.hasExited=!0,this.props.onExit()):window.scrollY<=e&&this.hasExited&&(this.hasExited=!1,this.props.onEnter());const{isOnView:i}=this;var t,n;if(i())null===(t=(n=this.props).onView)||void 0===t||t.call(n)}}),this.props.throttleTime||100)),l(this,"wasViewed",(()=>{var e;const t=null===(e=this.anchorElement)||void 0===e?void 0:e.getBoundingClientRect();return!!t&&t.top<=a.DEFAULT_HEIGHT})),l(this,"isOnView",(()=>{var e;const t=null===(e=this.anchorElement)||void 0===e?void 0:e.getBoundingClientRect();return!!t&&(t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||window.height)-150&&t.right<=(window.innerWidth||window.width))})),l(this,"hasExited",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){window.removeEventListener("scroll",this.onScroll)}render(){const{children:e}=this.props;return(0,s.jsx)(o.xu,{ref:e=>{var t,n;(this.anchorElement=e,this.anchorElement&&this.wasViewed())&&(null===(t=(n=this.props).onView)||void 0===t||t.call(n))},children:e})}}const d=c},364245:(e,t,n)=>{n.d(t,{Z:()=>S});var i,r=n(667294),o=n(391254),a=n(941646),s=n(111168),l=n(898781),c=n(992750),d=n(539497),u=n(773285),p=n(802201),h=n(276775),m=n(883119),_=n(167912),g=n(785893);const v=void 0!==i?i:i=n(85934);function f({direction:e,handleClick:t,testId:n}){const i=(0,l.ZP)(),r=(0,h.useLocation)();return(0,g.jsx)("div",{style:{alignItems:"center",background:`linear-gradient(to ${"left"===e?"right":"left"}, rgba(255,255,255,1) 25%,rgba(255,255,255,0) 100%)`,border:"none",cursor:"pointer",display:"flex",height:30,lineHeight:25,outline:"none",paddingBottom:4,paddingTop:4,position:"absolute",top:0,width:45,..."right"===e?{right:0,justifyContent:"flex-end",textAlign:"right"}:{left:0}},onClick:e=>{(0,d.LW)({action:"click",pageLocation:r,item:"board-pills-arrow"}),t(e)},role:"button","aria-label":"arrow",tabIndex:-1,"aria-hidden":"true","data-test-id":n,children:(0,g.jsx)(a.Z,{id:"board-pills-arrow",children:(0,g.jsx)(m.JO,{accessibilityLabel:i._('Scroll', 'annotations.scrollArrow', 'Accessibility label for scroll arrow button'),icon:"right"===e?"arrow-forward":"arrow-back",size:8,color:"subtle"})})})}function y({name:e,url:t}){const[n,i]=(0,r.useState)(!1),o=(0,h.useLocation)();return(0,g.jsx)(m.xu,{"data-test-id":"vase-tag",display:"inlineBlock",marginTop:1,marginEnd:1,paddingX:2,paddingY:1,height:26,color:"secondary",rounding:8,dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:(0,g.jsx)(m.xv,{color:n?"subtle":"default",inline:!0,overflow:"breakWord",size:"100",weight:"bold",children:t?(0,g.jsx)(m.rU,{inline:!0,tapStyle:"compress",href:t,rounding:8,onClick:()=>{(0,d.LW)({action:"click",pageLocation:o,item:"vase-tag"})},underline:"hover",children:e}):e})})}function b({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:t,mode:n}){const[i,s]=(0,r.useState)(!1),[l,p]=(0,r.useState)(!1),_=(0,h.useLocation)(),{checkExperiment:v}=(0,u.F)(),b=(0,r.useRef)(null);(0,r.useEffect)((()=>{const e=b.current,t=()=>{if("inlineWithScrollArrows"===n&&b.current){const e=b.current,t=Math.max(0,e.scrollLeft),n=t+e.clientWidth;s(0!==t),p(n<e.scrollWidth)}else s(!1),p(!1)};return t(),null==e||e.addEventListener("scroll",t),()=>{null==e||e.removeEventListener("scroll",t)}}),[n]);const x=e=>t=>{t.preventDefault(),t.stopPropagation(),"right"===e&&(0,d.LW)({action:"click",pageLocation:_,item:"board-pills-arrow-button-right"});const n=b.current;if(!n)return;const i=("left"===e?-1:1)*n.clientWidth*.5;n.scrollLeft=Math.min(Math.max(n.scrollLeft+i,0),n.scrollWidth)},{annotationsWithLinks:w}=(0,c.eK)({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:t});return(0,g.jsx)(m.kC,{alignItems:"center",justifyContent:"end",children:(0,g.jsxs)(m.xu,{display:"flex",overflow:"auto",width:"100%",position:"relative","data-test-id":"vase-carousel",children:[(0,g.jsx)(o.Z,{unsafeCSS:"\n::-webkit-scrollbar {\n  display: none;\n}\n"}),i&&(0,g.jsx)(f,{direction:"left",handleClick:x("left"),testId:"left-scroll-arrow"}),(0,g.jsx)(m.xu,{overflow:"auto",dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",scrollbarWidth:"none",padding:v("pcons_more_info_sheet").anyEnabled?0:"4px 0",whiteSpace:"nowrap"}},ref:b,display:"expanded"!==n||v("pcons_more_info_sheet").anyEnabled?void 0:"flex",wrap:"expanded"===n,children:w.map((({name:e,url:t})=>(0,g.jsx)(y,{name:e,url:t},t||e)))}),l&&(0,g.jsx)(a.Z,{id:"board-pills-arrow-button-right",children:(0,g.jsx)(f,{direction:"right",handleClick:x("right"),testId:"right-scroll-arrow"})})]})})}function x(e){var t;const n=(0,_.useFragment)(v,e.graphqlRef),i=(0,s.Z)(n),r=(null==n||null===(t=n.pinJoin)||void 0===t?void 0:t.visualAnnotation)||[];return r.length<1?null:(0,g.jsx)(b,{mode:e.mode,pinJoinVisualAnnotation:r,pinJoinAnnotationsWithLinks:i||void 0})}function w(e){var t,n,i;const r=(0,p.S6)()(e.pinId||"");return((null==r||null===(t=r.pin_join)||void 0===t?void 0:t.visual_annotation)||[]).length<1?null:(0,g.jsx)(b,{mode:e.mode,pinJoinVisualAnnotation:null==r||null===(n=r.pin_join)||void 0===n?void 0:n.visual_annotation,pinJoinAnnotationsWithLinks:null==r||null===(i=r.pin_join)||void 0===i?void 0:i.annotations_with_links})}function S(e){return e.graphqlRef?(0,g.jsx)(x,{...e}):(0,g.jsx)(w,{...e})}},683350:(e,t,n)=>{n.d(t,{Z:()=>w});var i=n(667294),r=n(702664),o=n(927104),a=n(941646),s=n(773285),l=n(50286),c=n(276775),d=n(539497),u=n(883119),p=n(785893);function h({boardUrl:e,boardName:t,boardPrivacy:n,pinnerFullName:i,pinnerImageSmallUrl:r,pinnerImageLargeUrl:o}){const h=(0,c.useLocation)(),m=(0,l.HG)(),{checkExperiment:_}=(0,s.F)();if(!e||!t)return null;const g=e.split("/")[1],v=i||g,f=r||o;return(0,p.jsxs)(u.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[f?(0,p.jsx)(u.iP,{role:"link",href:`/${g}/`,fullWidth:!1,tapStyle:"compress",onTap:()=>{(0,d.My)(`pcons.${m?"desktop":"mobile"}.see-more-button-creator`),(0,d.LW)({action:"click",pageLocation:h,item:"see-more-button-creator"})},children:(0,p.jsx)(u.xu,{rounding:"circle",width:32,height:32,overflow:"hidden",marginEnd:2,"data-test-id":"see-more-button-creator",children:(0,p.jsx)(u.Ee,{naturalHeight:32,naturalWidth:32,alt:v,fit:"cover",color:"rgb(231, 186, 176)",src:f})})},"profile-link"):null,(0,p.jsxs)(u.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,p.jsx)(a.Z,{id:"see-more-button-creator-full-name",children:(0,p.jsx)(u.iP,{onTap:()=>{(0,d.My)(`pcons.${m?"desktop":"mobile"}.see-more-button-creator-full-name`),(0,d.LW)({action:"click",pageLocation:h,item:"see-more-button-creator-full-name"})},children:(0,p.jsx)(u.xv,{color:"default",inline:!0,size:_("pcons_more_info_sheet").anyEnabled?"100":"200",weight:"bold",children:(0,p.jsx)(u.rU,{href:`/${g}/`,inline:!0,tapStyle:"compress",underline:"hover",children:v},"profile-link")},"profileLink")})}),"protected"===n?null:(0,p.jsx)(u.xv,{color:"default",inline:!0,size:_("pcons_more_info_sheet").anyEnabled?"100":"200",children:(0,p.jsx)(u.rU,{href:null!=e?e:"",inline:!0,tapStyle:"compress",underline:"hover",children:null!=t?t:""},"board-link")},"boardLink")]})]})}var m,_=n(898781),g=n(364245),v=n(349700),f=n(780280),y=n(389920),b=n(167912);const x=void 0!==m?m:m=n(877821);function w({onClickTitleOrDomain:e,title:t,description:n,pinId:a,graphqlRef:m,pinCreditPrefix:w,pinDomain:S,boardId:P,boardUrl:T,boardName:E,boardPrivacy:I,pinnerFullName:A,pinnerImageSmallUrl:k,pinnerImageLargeUrl:C}){const R=(0,_.ZP)(),L=(0,c.useLocation)(),{isSeoBot:j}=(0,r.useSelector)((({session:e})=>e)),D=(0,l.ml)(),O=(0,l.Wb)(),{checkExperiment:N}=(0,s.F)(),{isAuthenticated:M}=(0,f.B)(),U=(0,b.useFragment)(x,m),F=!M&&!j&&D,z=e||null,[Z,B]=(0,i.useState)(!N("pcons_more_info_sheet").anyEnabled),H=(0,y.si)(),V=(0,y.Re)(),W=(t||"").length>V,G=n.length>H,[$,K]=(0,i.useState)(!G&&!W||!N("pcons_more_info_sheet").anyEnabled);return(0,p.jsxs)(u.xu,{children:[!N("pcons_more_info_sheet").anyEnabled&&(0,p.jsx)(u.xu,{marginBottom:2,children:(0,p.jsx)(g.Z,{pinId:a,mode:"expanded",graphqlRef:U})}),(0,p.jsxs)(u.xu,{marginBottom:N("pcons_more_info_sheet").anyEnabled?void 0:3,children:[(0,p.jsxs)(u.xu,{as:"figcaption",paddingX:O&&N("pcons_more_info_sheet").anyEnabled?11:0,children:[(0,p.jsx)(u.X6,{color:"default",size:N("pcons_more_info_sheet").anyEnabled?"300":"400",accessibilityLevel:3,children:Z||j?t:(0,o.Z)(t||"",V)}),(0,p.jsx)(u.xu,{height:N("pcons_more_info_sheet")?n?8:0:4}),G||W?(0,p.jsxs)(u.iP,{onTap:()=>{Z||M||((0,d.NC)("click_open_description_in_sheet"),(0,d.LW)({action:"click",pageLocation:L,item:"more-description-in-sheet"})),K(!$),B(!Z)},fullWidth:!1,children:[(0,p.jsx)(u.xv,{color:"default",size:N("pcons_more_info_sheet")?"200":void 0,inline:!0,children:Z||j?n:(0,o.Z)(n,H)}),(0,p.jsx)(u.xu,{display:"inlineBlock",paddingX:1,children:(0,p.jsx)(u.xv,{weight:"bold",size:"200",inline:!0,children:Z||j?R._('Less', 'Toggle less description button', 'Toggle less description button'):R._('More', 'Toggle more description button', 'Toggle more description button')})})]}):(0,p.jsx)(u.xv,{color:"default",size:N("pcons_more_info_sheet")?"200":void 0,inline:!0,children:n})]}),F&&($||j)&&(0,p.jsx)(u.xu,{marginTop:2,children:(0,p.jsx)(u.kC,{alignItems:"center",direction:"row",width:"100%",children:(0,v.nk)(R._('{{ pinCreditPrefix }} {{ pinCredit }}', 'tells the user where the pin is from in the form of Saved from website', 'tells the user where the pin is from in the form of Saved from website'),{pinCreditPrefix:(0,p.jsx)(u.xu,{display:"inlineBlock",children:(0,p.jsx)(u.xv,{inline:!0,size:"200",children:w})},"pinCreditsPrefix"),pinCredit:(0,p.jsx)(u.xu,{display:"inlineBlock",marginStart:1,maxWidth:"60vw","data-test-id":"pin-domain-link",children:(0,p.jsx)(u.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),(0,d.LW)({action:"click",pageLocation:L,item:"pin-domain-link"}),(0,d.My)("mweb_pin_page.pin_link.clickthrouh"),M||(0,d.NC)("click_pin_closeup_link_clickthrough"),z&&z()},tapStyle:"compress",children:(0,p.jsx)(u.xv,{size:"200",lineClamp:1,children:(0,p.jsx)("span",{style:{textDecoration:"underline"},children:S})},"pinLinkDomain")})},"pinCredits")})})})]}),!!P&&($||j)&&(0,p.jsx)(u.xu,{marginTop:N("pcons_more_info_sheet")?4:void 0,children:(0,p.jsx)(h,{boardUrl:T,boardName:E,boardPrivacy:I,pinnerFullName:A,pinnerImageSmallUrl:k,pinnerImageLargeUrl:C})}),N("pcons_more_info_sheet").anyEnabled&&(0,p.jsx)(u.xu,{marginTop:4,children:(0,p.jsx)(g.Z,{pinId:a,mode:"expanded",graphqlRef:U})})]})}},474635:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),r=n(735079),o=n(949372),a=n(53987),s=n(407043),l=n(385740),c=n(539497),d=n(276775),u=n(785893);function p({children:e,componentType:t,within:n}){const p=(0,d.useLocation)(),{flushContextEvents:h,logContextEvent:m}=(0,s.v)(),{viewType:_,viewParameter:g}=(0,l.SU)();(0,i.useEffect)((()=>{(0,c.LW)({action:"view",item:"download-button",pageLocation:p,within:n})}),[p,n]);const v=(0,i.useRef)(!1);(0,i.useEffect)((()=>{m({component:t||13106,element:10308,event_type:9976,view_type:_||32,view_parameter:g,aux_data:{app_upsell_type:n,app_upsell_is_dupe:v.current}}),v.current=!0}),[t,m,g,_,n]);const f=(0,o.Z)();return(0,i.useEffect)((()=>{f||(0,c.My)(`mweb.app_upsell.forbidden_upsell.${n}`)}),[f,n]),(0,u.jsx)(r.Z,{children:i=>e({handleOpenApp:e=>{var r;((0,c.LW)({action:"click",item:"download-button",pageLocation:p,within:n}),(0,c.NC)("press_open_app",!0),m({component:t||13106,element:10308,event_type:102,view_type:_||32,view_parameter:g,aux_data:{app_upsell_type:n}}),m({component:t||13106,element:10308,event_type:9977,view_type:_||32,view_parameter:g,aux_data:{app_upsell_type:n}}),h(!0),i)&&(m({component:t||13106,element:10308,event_type:1701,view_type:_||32,view_parameter:g,aux_data:{app_upsell_type:n}}),i(null!==(r=null==e?void 0:e.deepLinkUri)&&void 0!==r?r:(e=>"/"===e.pathname?"/":(0,a.am)(e)?`board/${e.pathname.substr(1)}`:e.pathname.substr(1))(p)))}})})}},205443:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(702664),r=n(104788),o=n(430322),a=n(898781),s=n(287072),l=n(19121),c=n(968228),d=n(773285),u=n(194095),p=n(883119),h=n(785893);const m=({isOpen:e,onDismiss:t,onOpenInApp:n,to:u})=>{const m=(0,a.ZP)(),{isTablet:_,userAgent:g,userAgentPlatform:v}=(0,i.useSelector)((({session:e})=>e)),{checkExperiment:f}=(0,d.F)(),{isAuth:y}=(0,l.Z)(),b=(0,c.Rp)({platform:v,userAgent:g}),x=(0,s.Z)({href:null!=u?u:""}),w=_?60:40,S=y?f("mweb_auth_app_upsell_modal_copy_change_v2").group:"";let P=m._('The best experience is on the app', 'mweb.auth.app_upsell.app_value_prop', 'Mobile Web App Upsell title on Pin click informing the value of downloading an pp');"enabled_1"===S&&(P=m._('There\'s more to see in the app', 'mweb.auth.app_upsell.app_value_prop1', 'Mobile Web App Upsell title on Pin click informing the value of downloading an pp')),"enabled_2"===S&&(P=m._('It\'s better in the app (we promise!)', 'mweb.auth.app_upsell.app_value_prop2', 'Mobile Web App Upsell title on Pin click informing the value of downloading an pp')),"enabled_3"===S&&(P=m._('So much more in the app', 'mweb.auth.app_upsell.app_value_prop3', 'Mobile Web App Upsell title on Pin click informing the value of downloading an pp'));let T=m._('Free, unlimited access to ideas', 'mweb.auth.app_upsell.description', 'Mobile Web App Upsell subheading informing the user the value of downloading the app');"enabled_1"===S&&(T=m._('Try the latest features and see what you like', 'mweb.auth.app_upsell.description1', 'Mobile Web App Upsell subheading informing the user the value of downloading the app')),"enabled_2"===S&&(T=m._('Newer features, faster searching, and more', 'mweb.auth.app_upsell.description2', 'Mobile Web App Upsell subheading informing the user the value of downloading the app')),"enabled_3"===S&&(T=m._('Videos, AR try-on and the fastest browsing experience', 'mweb.auth.app_upsell.description3', 'Mobile Web App Upsell subheading informing the user the value of downloading the app'));let E=m._('Get the app', 'mweb.auth.app_upsell.app_upsell_button_text', 'Button to get the Pinterest app');return"enabled_1"===S&&(E=m._('Get the app', 'mweb.auth.app_upsell.app_upsell_button_text1', 'Button to get the Pinterest app')),"enabled_2"===S&&(E=m._('Try the app', 'mweb.auth.app_upsell.app_upsell_button_text2', 'Button to get the Pinterest app')),"enabled_3"===S&&(E=m._('Try it out', 'mweb.auth.app_upsell.app_upsell_button_text3', 'Button to get the Pinterest app')),(0,h.jsx)(o.default,{accessibilityModalLabel:"",isOpen:e,mobileHideCloseIcon:!0,type:"app_upsell_v1",overrideZDepth:101,closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,h.jsxs)(p.xu,{padding:3,"data-test-id":"appUpsell-iframe",children:[(0,h.jsx)(p.xu,{display:"inlineBlock",position:"absolute",children:(0,h.jsx)(p.xu,{"data-test-id":"appUpsell-continue",children:(0,h.jsx)(p.hU,{accessibilityLabel:m._('close icon background', 'accesibility label for close icon on a overlay', 'accesibility label for close icon on a overlay'),icon:"cancel",onClick:({event:e,dangerouslyDisableOnNavigation:n})=>{t({event:e}),x&&!e.defaultPrevented&&(n(),x({event:e}))},size:"lg",iconColor:"gray"})})}),(0,h.jsxs)(p.xu,{paddingX:2,paddingY:6,children:[(0,h.jsx)(p.xu,{paddingY:2,justifyContent:"center",display:"flex",children:b?(0,h.jsx)(r.Z,{size:w}):(0,h.jsx)(p.JO,{color:"brandPrimary",icon:"pinterest",accessibilityLabel:"Pinterest App",size:w})}),(0,h.jsxs)(p.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,h.jsx)(p.xu,{paddingY:2,children:(0,h.jsx)(p.X6,{align:"center",size:"400",children:b?m._('Try Pinterest Lite', 'mweb.app_upsell.lite_app_upsell_title', 'Mobile Web App Upsell title informing the value of downloading the lite app'):P})}),(0,h.jsx)(p.xv,{align:"center",size:"300",children:b?m._('A space-saving way to discover new ideas', 'mweb.app_upsell.lite_app_value_prop', 'Mobile Web App Upsell subheading informing the user the value of downloading the lite app'):T}),(0,h.jsx)(p.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{display:"grid"}},justifyContent:"center",marginTop:8,children:(0,h.jsx)(p.zx,{fullWidth:!0,size:"lg",color:"red",onClick:n,text:E})})]})]})]})})};function _({clientTrackingParams:e,isOpen:t,onDismiss:n,onOpenInApp:i,shouldTrackDismiss:r,to:o,viewParameter:a,viewType:s}){return(0,h.jsx)(u.Z,{clientTrackingParams:e,viewType:s,viewParameter:a,children:(0,h.jsx)(m,{isOpen:t,onDismiss:e=>{r&&(0,u.y)(),n(e)},onOpenInApp:()=>{(0,u.y)(),i()},to:o})})}},194095:(e,t,n)=>{n.d(t,{Z:()=>u,y:()=>d});var i=n(667294),r=n(807609),o=n(674806),a=n(30287),s=n(622096),l=n(957161),c=n(785893);const d=()=>{(0,l.Nh)("appUpsell",Date.now()),(0,l.qn)("firstUpsellTime")||(0,l.Nh)("firstUpsellTime",Date.now()),(0,s.Nh)("showedAppUpsellCurrentSession",!0)};function u({children:e,clientTrackingParams:t,viewParameter:n,viewType:s}){return(0,r.Z)()||(0,a.FP)(window)?null:(0,c.jsx)(o.Z,{viewType:s,viewParameter:n,component:13106,clientTrackingParams:t,children:(0,c.jsx)(i.Fragment,{children:e})})}},949372:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(702664);const r=()=>(0,i.useSelector)((({session:{canUseNativeApp:e}})=>e))},217508:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(898781),r=n(883119),o=n(785893);function a({backgroundColor:e="darkGray",iconColor:t="inverse",iconSize:n,size:a=20}){const s=(0,i.ZP)();return(0,o.jsx)(r.xu,{display:"flex",direction:"column",alignItems:"center",color:e,width:a,height:a,rounding:"circle",justifyContent:"center",children:(0,o.jsx)(r.JO,{accessibilityLabel:s._('Secret board icon', 'Icon indicating that a board is secret', 'Icon indicating that a board is secret'),color:t,icon:"lock",size:null!=n?n:a/2})})}},32509:(e,t,n)=>{n.d(t,{Z:()=>s,e:()=>a});var i=n(702664),r=n(883119),o=n(785893);const a=new r.Ry(1);function s({children:e,isImagePinForUnauthOnTablet:t}){const n=(0,i.useSelector)((({session:e})=>e.isAuthenticated));return(0,o.jsxs)(r.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:"pointer",width:t?"40vw":void 0}},zIndex:n?void 0:a,display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!t||void 0,top:!0,children:[(0,o.jsx)(r.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",borderRadius:"6px 6px 0 0",WebkitTransition:"opacity .04s linear",transition:"opacity .04s linear"}},left:!0,opacity:.4,position:"absolute",right:!0,top:!0}),e]})}},217013:(e,t,n)=>{n.d(t,{R:()=>o,q:()=>r});var i=n(425288);const{Provider:r,useHook:o}=(0,i.Z)("CloseupPageContext")},319670:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(749771),r=n(883119),o=n(785893);function a({title:{format:e,args:{query:t}}}){return(0,o.jsxs)(r.xu,{alignItems:"center",direction:"column",display:"flex",marginTop:12,children:[(0,o.jsx)(r.xu,{marginBottom:2,paddingX:4,children:(0,o.jsx)(r.xv,{align:"center",color:"default",overflow:"normal",weight:"bold",children:e})}),(0,o.jsx)(i.Z,{query:t,showHeaderText:!1})]})}},907620:(e,t,n)=>{n.d(t,{N:()=>b,Z:()=>x});var i=n(667294),r=n(223815),o=n(529285),a=n(898781),s=n(276775),l=n(539497),c=n(883119),d=n(785893);function u({icon:e}){const{hide:t}=(0,o.Z)(),n=(0,a.ZP)(),i=(0,s.useLocation)();return(0,d.jsx)(r.Z,{children:(0,d.jsx)(c.xu,{"data-test-id":"expandButton",children:(0,d.jsx)(c.hU,{icon:e||"maximize",size:e?"md":"lg",iconColor:"darkGray",bgColor:"white",padding:3,accessibilityLabel:n._('Expand Image', 'mweb.closeup.image.expand.a11y', 'Accessibility label for the expand icon'),onClick:({event:e})=>{e.stopPropagation(),(0,l.My)("mweb_pin_page.pin_image.enlarge_image"),(0,l.NC)("click_expand_image"),(0,l.LW)({action:"click",pageLocation:i,item:"expand-button",within:"pin-image"}),t()}})})})}var p=n(700380),h=n(50286),m=n(792182),_=n(32509),g=n(444445),v=n(773285);const f=.3,y=.75,b=new c.H3([_.e]),x=({children:e,closableDrawer:t})=>{var n;const{hide:r}=(0,o.Z)(),a=(0,i.useRef)(null),s=(0,i.useRef)(null),[l,_]=(0,i.useState)(null),[x,w]=(0,i.useState)(0),[S,P]=(0,i.useState)(!1),T=(null===(n=(0,m.Z)())||void 0===n?void 0:n.height)||0,[E,I]=(0,i.useState)(!1),A=(0,h.ZP)(),{checkExperiment:k}=(0,v.F)(),C=null!=l?l:.75*T,R=()=>{var e;const t=(null===(e=a.current)||void 0===e?void 0:e.offsetTop)||0;return t>0&&T>0?t-T*f+60:0};return(0,i.useEffect)((()=>{const e=()=>{var e;const t=(null===(e=a.current)||void 0===e?void 0:e.offsetTop)||0;window.scrollY+C>t&&r()};e();const t=(0,p.Z)(e,10);return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)}),[r,C]),(0,d.jsxs)(i.Fragment,{children:[(0,d.jsxs)(c.xu,{position:"fixed",bottom:!0,left:!0,right:!0,color:"default",zIndex:b,height:null===l?"25vh":`calc(100vh - ${l}px)`,dangerouslySetInlineStyle:{__style:{...S?{transitionDuration:"500ms",transitionProperty:"maxHeight, borderRadius"}:{},borderRadius:0===l&&S?0:"32px 32px 0 0",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.3)",overscrollBehavior:"none",touchAction:"none"}},"data-test-id":"related-pins-drawer","data-layout-shift-boundary-id":"Drawer",ref:s,onTouchStart:e=>{const{clientY:t}=e.touches[0];w(t),P(!1)},onTouchMove:e=>{e.preventDefault();const{clientY:t}=e.touches[0],n=null!=l?l:.75*window.innerHeight,i=t-x;if(null!==n&&i){const e=T*f,t=T*y,o=Math.floor(Math.min(t,Math.max(e,n+i)));_(o);const a=R();if(T>0&&a>0){const e=a*(r=o/T,1-(Math.max(f,Math.min(y,r))-f)/.45);window.pageYOffset<e&&window.scrollTo({top:e})}o<.525*T&&I(!0)}var r;w(t)},onTouchEnd:()=>{if(E){P(!0);_(T*f);const e=R();e&&window.scrollTo({top:e,behavior:"smooth"}),I(!1)}},children:["desktop"!==A&&(t?(0,d.jsx)(c.xu,{position:"absolute",top:!0,left:!0,margin:1,marginTop:t?0:4,paddingY:1,children:(0,d.jsx)(u,{icon:"cancel"})}):!k("pcons_remove_expand_button").anyEnabled&&(0,d.jsx)(c.xu,{position:"absolute",top:!0,right:!0,children:(0,d.jsx)(c.xu,{position:"absolute",bottom:!0,right:!0,children:(0,d.jsx)(c.xu,{padding:3,children:(0,d.jsx)(u,{})})})})),(0,d.jsx)(c.xu,{paddingX:g.D6,children:e})]}),(0,d.jsx)(c.xu,{ref:a,height:"100vh"})]})}},997440:(e,t,n)=>{n.d(t,{IS:()=>g,Ys:()=>_,ZP:()=>P,j$:()=>y});var i,r=n(134185),o=n(50286),a=n(349700),s=n(578661),l=n(923297),c=n(802201),d=n(898781),u=n(883119),p=n(167912),h=n(785893);const m=void 0!==i?i:i=n(906587),_=({m:e,h:t,rm:n,rh:i},r)=>e&&(!t||i<=0)?(0,a.nk)(r.ngettext('{{mins}} minute', '{{mins}} minutes', n, 'number showing the minutes to complete a recipe', 'number showing the minutes to complete a recipe'),{mins:n.toString()}):t?(0,a.nk)(r.ngettext('{{hrs}} hour', '{{hrs}} hours', i, 'number showing the hours to complete a recipe', 'number showing the hours to complete a recipe'),{hrs:i.toString()}):null,g=({m:e,h:t,rm:n,rh:i,i18n:r})=>e&&(!t||i<=0)?(0,a.nk)(r._('{{mins}}m', 'number showing minutes to complete a recipe', 'number showing mnutes to complete a recipe'),{mins:n.toString()}):t?(0,a.nk)(r._('{{hrs}}h {{mins}}m', 'number showing hours to complete a recipe', 'number showing hours to complete a recipe'),{hrs:t.toString(),mins:e.toString()}):null,v=(e,t)=>{const n=e&&e.length>0&&e.join(", "),i=t&&t.summary;return n&&i?`${n}  ${i}`:n||i},f=e=>e?e.reduce(((e,t)=>{var n,i;return e+(null!==(n=null===(i=t.ingredients)||void 0===i?void 0:i.length)&&void 0!==n?n:0)}),0):0,y=({cookTimesCookM:e,cookTimesCookH:t,cookTimesTotalM:n,cookTimesTotalH:i,hasCookTimesTotal:r,i18n:o})=>{let a;return a=r?(0,l.X)({m:n||0,h:i||0}):(0,l.X)({m:e||0,h:t||0}),_(a,o)};function b({category:e,ingredients:t,textSize:n="300"}){return(0,h.jsxs)(u.xu,{marginBottom:4,children:[e&&(0,h.jsx)(u.xu,{children:(0,h.jsx)(u.xv,{weight:"bold",size:n,children:e})}),(null!=t?t:[]).map((e=>{var t,i;return(0,h.jsx)(u.xu,{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",marginTop:1,children:(0,h.jsxs)(u.xv,{size:n,children:[e.amt||null," ",e.name]})},`${null!==(t=e.name)&&void 0!==t?t:""}-${null!==(i=e.name)&&void 0!==i?i:""}`)}))]})}const x=({categorizedIngredients:e,cookTimes:t,image:n,ingredientCount:i,ingredientsDescription:a,name:l,pinLink:c})=>{var p,m,_,g;const v=(0,d.ZP)(),f=(0,o.ZP)();return y({cookTimesCookM:null==t||null===(p=t.cook)||void 0===p?void 0:p.m,cookTimesCookH:null==t||null===(m=t.cook)||void 0===m?void 0:m.h,cookTimesTotalM:null==t||null===(_=t.total)||void 0===_?void 0:_.m,cookTimesTotalH:null==t||null===(g=t.total)||void 0===g?void 0:g.h,hasCookTimesTotal:!(!t||!t.total),i18n:v})||i||a?(0,h.jsxs)(u.xu,{"data-test-id":"pin-recipe-container",display:"flex",direction:"column",marginTop:8,children:[(0,h.jsxs)(u.xu,{direction:"column",display:"flex",marginTop:4,marginBottom:4,marginEnd:6,overflow:"hidden",children:[(0,h.jsx)(u.xu,{marginBottom:4,children:(0,h.jsx)(u.xv,{weight:"bold",align:"desktop"===f?"start":"center",children:v._('Ingredients', 'Ingredients category heading for recipes', 'Ingredients category heading for recipes')})}),(0,h.jsxs)(r.Z,{itemScope:!0,itemType:s.G,children:[(0,h.jsx)("meta",{content:l,itemProp:"name"}),n&&(0,h.jsx)("meta",{content:n,itemProp:"image"}),Array.isArray(e)&&e.length>0&&(0,h.jsx)(u.xu,{column:12,"data-test-id":"single-column-ingredients",children:e.map((({category:e,ingredients:t},n)=>(0,h.jsx)(u.xu,{marginBottom:2,children:(0,h.jsx)(b,{category:e,ingredients:t,textSize:"300"})},n)))})]})]}),(0,h.jsx)(u.xu,{marginBottom:4,display:"flex",justifyContent:"phone"===f?"center":void 0,children:c&&(0,h.jsx)(u.zx,{text:v._('Make it', 'closeup.recipe.make_it_button', 'label for button go to recipe link'),role:"link",href:c,target:"blank"})})]}):null},w=({graphqlRef:e})=>{const t=(0,p.useFragment)(m,e),{imageSpec_474x:n,link:i,richMetadata:r}=t,o=null==r?void 0:r.recipe,a=null==o?void 0:o.categorizedIngredients,s=f(a),l=(null==o?void 0:o.categorizedIngredients)&&v(o.diets,o.servingsSummary);return(0,h.jsx)(x,{categorizedIngredients:a,cookTimes:null==o?void 0:o.cookTimes,image:null==n?void 0:n.url,ingredientCount:s,ingredientsDescription:l,name:null==o?void 0:o.name,pinLink:i})},S=({pinId:e})=>{var t,n;const i=(0,c.S6)()(e),r=(null==i||null===(t=i.rich_metadata)||void 0===t?void 0:t.recipe)||{},{cook_times:o,name:a,categorized_ingredients:s,diets:l,servings_summary:d}=r,u=f(s),p=s&&v(l,d);return(0,h.jsx)(x,{categorizedIngredients:s,cookTimes:o,image:(null===(n=((null==i?void 0:i.images)||{})["474x"])||void 0===n?void 0:n.url)||"",ingredientCount:u,ingredientsDescription:p,name:a,pinLink:(null==i?void 0:i.link)||""})};function P({graphqlRef:e,pinId:t}){return e?(0,h.jsx)(w,{graphqlRef:e}):(0,h.jsx)(S,{pinId:t})}},458843:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>{switch(e.action){case"PUSH":case"REPLACE":return"click";case"POP":return e.location.key?"click":"deeplink";default:return null}}},389920:(e,t,n)=>{n.d(t,{Ph:()=>r,Re:()=>a,si:()=>o});var i=n(50286);const r=e=>e&&e.promoter&&!e.is_downstream_promotion?e.promoter:null,o=()=>"phone"!==(0,i.ZP)()?180:130,a=()=>"phone"!==(0,i.ZP)()?180:80},529285:(e,t,n)=>{n.d(t,{Z:()=>c,t:()=>l});var i=n(667294),r=n(539497),o=n(276775),a=n(785893);const s=(0,i.createContext)({hide:()=>{},isHidden:!0,isScrolledToPins:!1,scrollToPins:()=>{}});function l({children:e,isEligible:t}){const[n,l]=(0,i.useState)(!t),[c,d]=(0,i.useState)(!1),{pathname:u}=(0,o.useLocation)();(0,i.useEffect)((()=>{l(!t)}),[u,t]);const p=(0,i.useCallback)((()=>{(0,r.My)("web_unification.expand_click.hide_drawer"),l(!0)}),[]),h=(0,i.useCallback)((e=>{d(!!e)}),[]),m=(0,i.useMemo)((()=>({isHidden:n,hide:p,isScrolledToPins:c,scrollToPins:h})),[n,p,c,h]);return(0,a.jsx)(s.Provider,{value:m,children:e})}const c=()=>(0,i.useContext)(s)},250946:(e,t,n)=>{n.d(t,{Z:()=>a});var i,r=n(167912);const o=void 0!==i?i:i=n(96795);const a=e=>function(e){var t,n,i,r,o,a,s,l,c,d,u,p,h,m,_,g,v,f,y,b,x,w,S,P,T,E,I,A,k,C,R,L,j,D,O,N,M,U,F,z,Z,B,H,V,W,G,$,K,q,Y,X,J,Q,ee,te,ne,ie,re,oe,ae,se,le,ce,de,ue,pe,he,me,_e,ge,ve,fe,ye,be,xe,we,Se,Pe,Te,Ee,Ie,Ae,ke,Ce,Re,Le,je,De,Oe,Ne,Me,Ue,Fe,ze,Ze,Be,He,Ve,We,Ge,$e,Ke,qe,Ye,Xe,Je,Qe,et,tt,nt,it,rt,ot,at,st,lt,ct,dt,ut,pt,ht,mt,_t,gt,vt,ft,yt,bt,xt,wt,St,Pt,Tt,Et,It,At,kt,Ct,Rt,Lt,jt,Dt,Ot,Nt,Mt,Ut,Ft,zt,Zt,Bt,Ht,Vt,Wt,Gt,$t;return{"564x":{dominant_color:(null==e||null===(t=e.imageSpec_564x)||void 0===t?void 0:t.dominantColor)||void 0,height:(null==e||null===(n=e.imageSpec_564x)||void 0===n?void 0:n.height)||void 0,type:(null==e||null===(i=e.imageSpec_564x)||void 0===i?void 0:i.type)||void 0,url:(null==e||null===(r=e.imageSpec_564x)||void 0===r?void 0:r.url)||void 0,width:(null==e||null===(o=e.imageSpec_564x)||void 0===o?void 0:o.width)||void 0},"75x75":{dominant_color:(null==e||null===(a=e.imageSpec_75x75)||void 0===a?void 0:a.dominantColor)||void 0,height:(null==e||null===(s=e.imageSpec_75x75)||void 0===s?void 0:s.height)||void 0,type:(null==e||null===(l=e.imageSpec_75x75)||void 0===l?void 0:l.type)||void 0,url:(null==e||null===(c=e.imageSpec_75x75)||void 0===c?void 0:c.url)||void 0,width:(null==e||null===(d=e.imageSpec_75x75)||void 0===d?void 0:d.width)||void 0},"45x45":{dominant_color:(null==e||null===(u=e.imageSpec_45x45)||void 0===u?void 0:u.dominantColor)||void 0,height:(null==e||null===(p=e.imageSpec_45x45)||void 0===p?void 0:p.height)||void 0,type:(null==e||null===(h=e.imageSpec_45x45)||void 0===h?void 0:h.type)||void 0,url:(null==e||null===(m=e.imageSpec_45x45)||void 0===m?void 0:m.url)||void 0,width:(null==e||null===(_=e.imageSpec_45x45)||void 0===_?void 0:_.width)||void 0},"70x70":{dominant_color:(null==e||null===(g=e.imageSpec_70x70)||void 0===g?void 0:g.dominantColor)||void 0,height:(null==e||null===(v=e.imageSpec_70x70)||void 0===v?void 0:v.height)||void 0,type:(null==e||null===(f=e.imageSpec_70x70)||void 0===f?void 0:f.type)||void 0,url:(null==e||null===(y=e.imageSpec_70x70)||void 0===y?void 0:y.url)||void 0,width:(null==e||null===(b=e.imageSpec_70x70)||void 0===b?void 0:b.width)||void 0},"432x292":{dominant_color:(null==e||null===(x=e.imageSpec_432x292)||void 0===x?void 0:x.dominantColor)||void 0,height:(null==e||null===(w=e.imageSpec_432x292)||void 0===w?void 0:w.height)||void 0,type:(null==e||null===(S=e.imageSpec_432x292)||void 0===S?void 0:S.type)||void 0,url:(null==e||null===(P=e.imageSpec_432x292)||void 0===P?void 0:P.url)||void 0,width:(null==e||null===(T=e.imageSpec_432x292)||void 0===T?void 0:T.width)||void 0},"90x90":{dominant_color:(null==e||null===(E=e.imageSpec_90x90)||void 0===E?void 0:E.dominantColor)||void 0,height:(null==e||null===(I=e.imageSpec_90x90)||void 0===I?void 0:I.height)||void 0,type:(null==e||null===(A=e.imageSpec_90x90)||void 0===A?void 0:A.type)||void 0,url:(null==e||null===(k=e.imageSpec_90x90)||void 0===k?void 0:k.url)||void 0,width:(null==e||null===(C=e.imageSpec_90x90)||void 0===C?void 0:C.width)||void 0},"170x":{dominant_color:(null==e||null===(R=e.imageSpec_170x)||void 0===R?void 0:R.dominantColor)||void 0,height:(null==e||null===(L=e.imageSpec_170x)||void 0===L?void 0:L.height)||void 0,type:(null==e||null===(j=e.imageSpec_170x)||void 0===j?void 0:j.type)||void 0,url:(null==e||null===(D=e.imageSpec_170x)||void 0===D?void 0:D.url)||void 0,width:(null==e||null===(O=e.imageSpec_170x)||void 0===O?void 0:O.width)||void 0},"237x":{dominant_color:(null==e||null===(N=e.imageSpec_237x)||void 0===N?void 0:N.dominantColor)||void 0,height:(null==e||null===(M=e.imageSpec_237x)||void 0===M?void 0:M.height)||void 0,type:(null==e||null===(U=e.imageSpec_237x)||void 0===U?void 0:U.type)||void 0,url:(null==e||null===(F=e.imageSpec_237x)||void 0===F?void 0:F.url)||void 0,width:(null==e||null===(z=e.imageSpec_237x)||void 0===z?void 0:z.width)||void 0},"192x":{dominant_color:(null==e||null===(Z=e.imageSpec_192x)||void 0===Z?void 0:Z.dominantColor)||void 0,height:(null==e||null===(B=e.imageSpec_192x)||void 0===B?void 0:B.height)||void 0,type:(null==e||null===(H=e.imageSpec_192x)||void 0===H?void 0:H.type)||void 0,url:(null==e||null===(V=e.imageSpec_192x)||void 0===V?void 0:V.url)||void 0,width:(null==e||null===(W=e.imageSpec_192x)||void 0===W?void 0:W.width)||void 0},"640x":{dominant_color:(null==e||null===(G=e.imageSpec_640x)||void 0===G?void 0:G.dominantColor)||void 0,height:(null==e||null===($=e.imageSpec_640x)||void 0===$?void 0:$.height)||void 0,type:(null==e||null===(K=e.imageSpec_640x)||void 0===K?void 0:K.type)||void 0,url:(null==e||null===(q=e.imageSpec_640x)||void 0===q?void 0:q.url)||void 0,width:(null==e||null===(Y=e.imageSpec_640x)||void 0===Y?void 0:Y.width)||void 0},"750x":{dominant_color:(null==e||null===(X=e.imageSpec_750x)||void 0===X?void 0:X.dominantColor)||void 0,height:(null==e||null===(J=e.imageSpec_750x)||void 0===J?void 0:J.height)||void 0,type:(null==e||null===(Q=e.imageSpec_750x)||void 0===Q?void 0:Q.type)||void 0,url:(null==e||null===(ee=e.imageSpec_750x)||void 0===ee?void 0:ee.url)||void 0,width:(null==e||null===(te=e.imageSpec_750x)||void 0===te?void 0:te.width)||void 0},"345x":{dominant_color:(null==e||null===(ne=e.imageSpec_345x)||void 0===ne?void 0:ne.dominantColor)||void 0,height:(null==e||null===(ie=e.imageSpec_345x)||void 0===ie?void 0:ie.height)||void 0,type:(null==e||null===(re=e.imageSpec_345x)||void 0===re?void 0:re.type)||void 0,url:(null==e||null===(oe=e.imageSpec_345x)||void 0===oe?void 0:oe.url)||void 0,width:(null==e||null===(ae=e.imageSpec_345x)||void 0===ae?void 0:ae.width)||void 0},"70x":{dominant_color:(null==e||null===(se=e.imageSpec_70x)||void 0===se?void 0:se.dominantColor)||void 0,height:(null==e||null===(le=e.imageSpec_70x)||void 0===le?void 0:le.height)||void 0,type:(null==e||null===(ce=e.imageSpec_70x)||void 0===ce?void 0:ce.type)||void 0,url:(null==e||null===(de=e.imageSpec_70x)||void 0===de?void 0:de.url)||void 0,width:(null==e||null===(ue=e.imageSpec_70x)||void 0===ue?void 0:ue.width)||void 0},"400x":{dominant_color:(null==e||null===(pe=e.imageSpec_400x)||void 0===pe?void 0:pe.dominantColor)||void 0,height:(null==e||null===(he=e.imageSpec_400x)||void 0===he?void 0:he.height)||void 0,type:(null==e||null===(me=e.imageSpec_400x)||void 0===me?void 0:me.type)||void 0,url:(null==e||null===(_e=e.imageSpec_400x)||void 0===_e?void 0:_e.url)||void 0,width:(null==e||null===(ge=e.imageSpec_400x)||void 0===ge?void 0:ge.width)||void 0},"200x":{dominant_color:(null==e||null===(ve=e.imageSpec_200x)||void 0===ve?void 0:ve.dominantColor)||void 0,height:(null==e||null===(fe=e.imageSpec_200x)||void 0===fe?void 0:fe.height)||void 0,type:(null==e||null===(ye=e.imageSpec_200x)||void 0===ye?void 0:ye.type)||void 0,url:(null==e||null===(be=e.imageSpec_200x)||void 0===be?void 0:be.url)||void 0,width:(null==e||null===(xe=e.imageSpec_200x)||void 0===xe?void 0:xe.width)||void 0},"216x146":{dominant_color:(null==e||null===(we=e.imageSpec_216x146)||void 0===we?void 0:we.dominantColor)||void 0,height:(null==e||null===(Se=e.imageSpec_216x146)||void 0===Se?void 0:Se.height)||void 0,type:(null==e||null===(Pe=e.imageSpec_216x146)||void 0===Pe?void 0:Pe.type)||void 0,url:(null==e||null===(Te=e.imageSpec_216x146)||void 0===Te?void 0:Te.url)||void 0,width:(null==e||null===(Ee=e.imageSpec_216x146)||void 0===Ee?void 0:Ee.width)||void 0},"150x150":{dominant_color:(null==e||null===(Ie=e.imageSpec_150x150)||void 0===Ie?void 0:Ie.dominantColor)||void 0,height:(null==e||null===(Ae=e.imageSpec_150x150)||void 0===Ae?void 0:Ae.height)||void 0,type:(null==e||null===(ke=e.imageSpec_150x150)||void 0===ke?void 0:ke.type)||void 0,url:(null==e||null===(Ce=e.imageSpec_150x150)||void 0===Ce?void 0:Ce.url)||void 0,width:(null==e||null===(Re=e.imageSpec_150x150)||void 0===Re?void 0:Re.width)||void 0},"236x":{dominant_color:(null==e||null===(Le=e.imageSpec_236x)||void 0===Le?void 0:Le.dominantColor)||void 0,height:(null==e||null===(je=e.imageSpec_236x)||void 0===je?void 0:je.height)||void 0,type:(null==e||null===(De=e.imageSpec_236x)||void 0===De?void 0:De.type)||void 0,url:(null==e||null===(Oe=e.imageSpec_236x)||void 0===Oe?void 0:Oe.url)||void 0,width:(null==e||null===(Ne=e.imageSpec_236x)||void 0===Ne?void 0:Ne.width)||void 0},"200x150":{dominant_color:(null==e||null===(Me=e.imageSpec_200x150)||void 0===Me?void 0:Me.dominantColor)||void 0,height:(null==e||null===(Ue=e.imageSpec_200x150)||void 0===Ue?void 0:Ue.height)||void 0,type:(null==e||null===(Fe=e.imageSpec_200x150)||void 0===Fe?void 0:Fe.type)||void 0,url:(null==e||null===(ze=e.imageSpec_200x150)||void 0===ze?void 0:ze.url)||void 0,width:(null==e||null===(Ze=e.imageSpec_200x150)||void 0===Ze?void 0:Ze.width)||void 0},"60x60":{dominant_color:(null==e||null===(Be=e.imageSpec_60x60)||void 0===Be?void 0:Be.dominantColor)||void 0,height:(null==e||null===(He=e.imageSpec_60x60)||void 0===He?void 0:He.height)||void 0,type:(null==e||null===(Ve=e.imageSpec_60x60)||void 0===Ve?void 0:Ve.type)||void 0,url:(null==e||null===(We=e.imageSpec_60x60)||void 0===We?void 0:We.url)||void 0,width:(null==e||null===(Ge=e.imageSpec_60x60)||void 0===Ge?void 0:Ge.width)||void 0},"736x":{dominant_color:(null==e||null===($e=e.imageSpec_736x)||void 0===$e?void 0:$e.dominantColor)||void 0,height:(null==e||null===(Ke=e.imageSpec_736x)||void 0===Ke?void 0:Ke.height)||void 0,type:(null==e||null===(qe=e.imageSpec_736x)||void 0===qe?void 0:qe.type)||void 0,url:(null==e||null===(Ye=e.imageSpec_736x)||void 0===Ye?void 0:Ye.url)||void 0,width:(null==e||null===(Xe=e.imageSpec_736x)||void 0===Xe?void 0:Xe.width)||void 0},"290x":{dominant_color:(null==e||null===(Je=e.imageSpec_290x)||void 0===Je?void 0:Je.dominantColor)||void 0,height:(null==e||null===(Qe=e.imageSpec_290x)||void 0===Qe?void 0:Qe.height)||void 0,type:(null==e||null===(et=e.imageSpec_290x)||void 0===et?void 0:et.type)||void 0,url:(null==e||null===(tt=e.imageSpec_290x)||void 0===tt?void 0:tt.url)||void 0,width:(null==e||null===(nt=e.imageSpec_290x)||void 0===nt?void 0:nt.width)||void 0},"136x136":{dominant_color:(null==e||null===(it=e.imageSpec_136x136)||void 0===it?void 0:it.dominantColor)||void 0,height:(null==e||null===(rt=e.imageSpec_136x136)||void 0===rt?void 0:rt.height)||void 0,type:(null==e||null===(ot=e.imageSpec_136x136)||void 0===ot?void 0:ot.type)||void 0,url:(null==e||null===(at=e.imageSpec_136x136)||void 0===at?void 0:at.url)||void 0,width:(null==e||null===(st=e.imageSpec_136x136)||void 0===st?void 0:st.width)||void 0},"600x":{dominant_color:(null==e||null===(lt=e.imageSpec_600x)||void 0===lt?void 0:lt.dominantColor)||void 0,height:(null==e||null===(ct=e.imageSpec_600x)||void 0===ct?void 0:ct.height)||void 0,type:(null==e||null===(dt=e.imageSpec_600x)||void 0===dt?void 0:dt.type)||void 0,url:(null==e||null===(ut=e.imageSpec_600x)||void 0===ut?void 0:ut.url)||void 0,width:(null==e||null===(pt=e.imageSpec_600x)||void 0===pt?void 0:pt.width)||void 0},"550x":{dominant_color:(null==e||null===(ht=e.imageSpec_550x)||void 0===ht?void 0:ht.dominantColor)||void 0,height:(null==e||null===(mt=e.imageSpec_550x)||void 0===mt?void 0:mt.height)||void 0,type:(null==e||null===(_t=e.imageSpec_550x)||void 0===_t?void 0:_t.type)||void 0,url:(null==e||null===(gt=e.imageSpec_550x)||void 0===gt?void 0:gt.url)||void 0,width:(null==e||null===(vt=e.imageSpec_550x)||void 0===vt?void 0:vt.width)||void 0},"30x30":{dominant_color:(null==e||null===(ft=e.imageSpec_30x30)||void 0===ft?void 0:ft.dominantColor)||void 0,height:(null==e||null===(yt=e.imageSpec_30x30)||void 0===yt?void 0:yt.height)||void 0,type:(null==e||null===(bt=e.imageSpec_30x30)||void 0===bt?void 0:bt.type)||void 0,url:(null==e||null===(xt=e.imageSpec_30x30)||void 0===xt?void 0:xt.url)||void 0,width:(null==e||null===(wt=e.imageSpec_30x30)||void 0===wt?void 0:wt.width)||void 0},"474x":{dominant_color:(null==e||null===(St=e.imageSpec_474x)||void 0===St?void 0:St.dominantColor)||void 0,height:(null==e||null===(Pt=e.imageSpec_474x)||void 0===Pt?void 0:Pt.height)||void 0,type:(null==e||null===(Tt=e.imageSpec_474x)||void 0===Tt?void 0:Tt.type)||void 0,url:(null==e||null===(Et=e.imageSpec_474x)||void 0===Et?void 0:Et.url)||void 0,width:(null==e||null===(It=e.imageSpec_474x)||void 0===It?void 0:It.width)||void 0},"1200x":{dominant_color:(null==e||null===(At=e.imageSpec_1200x)||void 0===At?void 0:At.dominantColor)||void 0,height:(null==e||null===(kt=e.imageSpec_1200x)||void 0===kt?void 0:kt.height)||void 0,type:(null==e||null===(Ct=e.imageSpec_1200x)||void 0===Ct?void 0:Ct.type)||void 0,url:(null==e||null===(Rt=e.imageSpec_1200x)||void 0===Rt?void 0:Rt.url)||void 0,width:(null==e||null===(Lt=e.imageSpec_1200x)||void 0===Lt?void 0:Lt.width)||void 0},"222x":{dominant_color:(null==e||null===(jt=e.imageSpec_222x)||void 0===jt?void 0:jt.dominantColor)||void 0,height:(null==e||null===(Dt=e.imageSpec_222x)||void 0===Dt?void 0:Dt.height)||void 0,type:(null==e||null===(Ot=e.imageSpec_222x)||void 0===Ot?void 0:Ot.type)||void 0,url:(null==e||null===(Nt=e.imageSpec_222x)||void 0===Nt?void 0:Nt.url)||void 0,width:(null==e||null===(Mt=e.imageSpec_222x)||void 0===Mt?void 0:Mt.width)||void 0},"400x300":{dominant_color:(null==e||null===(Ut=e.imageSpec_400x300)||void 0===Ut?void 0:Ut.dominantColor)||void 0,height:(null==e||null===(Ft=e.imageSpec_400x300)||void 0===Ft?void 0:Ft.height)||void 0,type:(null==e||null===(zt=e.imageSpec_400x300)||void 0===zt?void 0:zt.type)||void 0,url:(null==e||null===(Zt=e.imageSpec_400x300)||void 0===Zt?void 0:Zt.url)||void 0,width:(null==e||null===(Bt=e.imageSpec_400x300)||void 0===Bt?void 0:Bt.width)||void 0},orig:{dominant_color:(null==e||null===(Ht=e.imageSpec_orig)||void 0===Ht?void 0:Ht.dominantColor)||void 0,height:(null==e||null===(Vt=e.imageSpec_orig)||void 0===Vt?void 0:Vt.height)||void 0,type:(null==e||null===(Wt=e.imageSpec_orig)||void 0===Wt?void 0:Wt.type)||void 0,url:(null==e||null===(Gt=e.imageSpec_orig)||void 0===Gt?void 0:Gt.url)||void 0,width:(null==e||null===($t=e.imageSpec_orig)||void 0===$t?void 0:$t.width)||void 0}}}((0,r.useFragment)(o,e))},846035:(e,t,n)=>{n.d(t,{Z:()=>x});var i=n(121093),r=n(667294),o=n(250059),a=n(149230),s=n(287072),l=n(643010),c=n(883119),d=n(785893);const u={lightMode:{backgroundColor:"#E60023",color:"#FFFFFF"},darkMode:{backgroundColor:"#E60023",color:"#FFFFFF"}},p={lightMode:{backgroundColor:"#EFEFEF",color:"#111111"},darkMode:{backgroundColor:"#292929",color:"#EFEFEF"}},h=({color:e,isPrimary:t,shape:n,text:i,textColor:r})=>{const o=(t?u:p)[(0,l.Yc)()?"darkMode":"lightMode"];return(0,d.jsx)(c.xv,{align:"center",weight:"bold",children:(0,d.jsx)("div",{className:t?"banner-button-primary":"banner-button-secondary",style:{backgroundColor:e||o.backgroundColor,borderRadius:"pill"===n?"24px":"4px",color:r||o.color,padding:"10px 14px"},children:i})})},m=({external:e,onTouch:t,pressState:n,to:i,accessibilityLabel:r,color:l,isPrimary:u,textColor:p,minHeight:m=40,shape:_,text:g})=>{const v=(0,o.Z)(i),f=(0,s.Z)({externalData:{dangerouslyForceOffsiteUrl:e},href:v});return(0,d.jsx)(c.xu,{"aria-label":r,minHeight:m,children:v?(0,d.jsx)(c.iP,{role:"link",onTap:({event:e})=>{null==t||t(e),e.defaultPrevented||f({event:e})},href:v,target:"blank",rel:(0,a.Z)({url:v})?"nofollow":"none",tapStyle:n||"none",rounding:"pill"===_?"pill":2,children:(0,d.jsx)(h,{color:l,isPrimary:u,shape:_,text:g,textColor:p})}):(0,d.jsx)(c.iP,{onTap:({event:e})=>null==t?void 0:t(e),tapStyle:n||"none",rounding:"pill"===_?"pill":2,children:(0,d.jsx)(h,{color:l,isPrimary:u,shape:_,text:g,textColor:p})})})};var _=n(249647),g=n(164985),v=n(391254),f=n(70061);function y(e){return e.startsWith("https://")||e.startsWith("http://")}const b=function({experience:e,onComplete:t,onDismiss:n}){const{display_data:i={},experience_id:o,placement_id:a}=e||{},s=(0,r.useMemo)((()=>(0,_.Z)(f.Z)(i)),[i]),{backgroundColorNarrowMweb:l,backgroundColorWideMweb:u,backgroundImageNarrow:p,backgroundImageWide:h,button1ColorNarrowMweb:b,button1ColorWideMweb:x,button1TextColorNarrowMweb:w,button1TextColorWideMweb:S,button1Text:P,button1Uri:T,button2ColorNarrowMweb:E,button2ColorWideMweb:I,button2TextColorNarrowMweb:A,button2TextColorWideMweb:k,button2Text:C,button2Uri:R,completeButtonAction:L,coverImage:j,detailedTextWithLinks:D,iconImage:O,layoutNarrow:N,layoutWide:M,links:U,linkTitles:F,primaryColorNarrowMweb:z,primaryColorWideMweb:Z,titleText:B}=s,{windowWidth:H}=(0,g.Z)(),V=H<=480,W=V?N:M,G=V?{STACKED_TEXT:1,CENTERED_ICON_IMAGE_AND_TEXT:2,COVER_IMAGE_AND_TEXT:3}:{INLINE_TEXT:1,INLINE_ICON_IMAGE_AND_TEXT:2,STACKED_TEXT:3},$=!V&&W!==G.STACKED_TEXT,K=V?l:u,q=V?b:x,Y=V?w:S,X=V?E:I,J=V?A:k,Q=V?z:Z,{altText:ee,uri:te}=(V?p:h)||{},{altText:ne,uri:ie}=j||{},{altText:re,uri:oe}=O||{},ae=V&&W===G.CENTERED_ICON_IMAGE_AND_TEXT||!V&&W===G.INLINE_ICON_IMAGE_AND_TEXT,se=V?"96px":"48px",le=V&&W===G.COVER_IMAGE_AND_TEXT,ce=P&&(0,d.jsx)(c.xu,{marginEnd:2,children:(0,d.jsx)(m,{accessibilityLabel:P,color:q,external:T?y(T):void 0,onTouch:()=>{!T&&a&&o&&n&&n()},shape:"pill",text:P,textColor:Y,to:T})}),de=C&&(0,d.jsx)(m,{accessibilityLabel:C,color:X,external:R?y(R):void 0,isPrimary:!0,onTouch:()=>{return e=L,void(t&&t(e));var e},shape:"pill",text:C,textColor:J,to:R}),ue=U.reduce(((e,t,n)=>{const i=`<a href="${t}" ${y(t)?'rel="noreferrer noopener" target="_blank"':""}>${F[n]}</a>`;return e.replace(`{${n}}`,i)}),D),pe={backgroundColor:K,boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},he={backgroundImage:!te||ae||le?void 0:`url(${te})`,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"};return(0,d.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:pe},marginBottom:1,rounding:4,children:(0,d.jsxs)(c.zd,{rounding:4,children:[le&&ie&&(0,d.jsx)(c.kC,{alignItems:"start",height:128,justifyContent:"center",width:"100%",children:(0,d.jsx)(c.Ee,{alt:ne||"cover image",fit:"cover",naturalHeight:1,naturalWidth:3,src:ie})}),(0,d.jsxs)(c.xu,{"aria-label":ee,alignItems:"center",dangerouslySetInlineStyle:{__style:he},direction:$?"row":"column",display:"flex",justifyContent:"between",marginTop:le?-2:0,padding:6,children:[(0,d.jsxs)(c.kC,{alignItems:"center",direction:$?"row":"column",justifyContent:"between",maxWidth:$?void 0:"560px",children:[ae&&oe&&(0,d.jsx)(c.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginEnd:$?4:0,marginBottom:$?0:6,children:(0,d.jsx)(c.xu,{height:se,width:se,children:(0,d.jsx)(c.zd,{rounding:$?4:6,children:(0,d.jsx)(c.Ee,{alt:re||"icon",naturalHeight:1,naturalWidth:1,src:oe})})})}),!$&&B&&(0,d.jsx)(c.xv,{align:"center",weight:"bold",children:(0,d.jsx)(c.xu,{marginBottom:2,dangerouslySetInlineStyle:{__style:{color:Q,fontSize:"20px"}},children:B})}),D&&(0,d.jsxs)(c.xv,{align:$?"start":"center",overflow:"normal",children:[(0,d.jsx)(v.Z,{unsafeCSS:`\n                      .nag-text a {\n                        color: ${Q||""};\n                        font-weight: bold;\n                      }`}),(0,d.jsx)("div",{className:"nag-text",dangerouslySetInnerHTML:{__html:ue},style:{color:Q}})]})]}),(ce||de)&&(0,d.jsxs)(c.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:$?0:-1,marginStart:$?4:0,marginTop:$?0:4,wrap:!$,children:[ce,de]})]})]})})},x=({experience:e={}})=>(0,d.jsx)(i.Z,{experience:e,predicate:e=>e&&e.display_data&&1===e.display_data.component_type,children:({complete:e,dismiss:t,experience:n})=>(0,d.jsx)(b,{experience:n,onComplete:e,onDismiss:t})})},562295:(e,t,n)=>{function i(e){return e&&5!==e?4===e?"stela":null:"related_products"}n.d(t,{Z:()=>i})},127009:(e,t,n)=>{n.d(t,{Z:()=>be});var i=n(460628),r=n.n(i),o=n(416131),a=n.n(o),s=n(483010),l=n.n(s),c=n(808310),d=n.n(c),u=n(963421),p=n.n(u),h=n(549658),m=n.n(h),_=n(275441),g=n.n(_),v=n(916611),f=n.n(v),y=n(344191),b=n.n(y),x=n(614860),w=n.n(x),S=n(317343),P=n.n(S),T=n(443140),E=n.n(T),I=n(522940),A=n.n(I),k=n(325634),C=n.n(k),R=n(204554),L=n.n(R),j=n(294700),D=n.n(j),O=n(594701),N=n.n(O),M=n(253833),U=n.n(M),F=n(495297),z=n.n(F),Z=n(296875),B=n.n(Z),H=n(231596),V=n.n(H),W=n(846653),G=n.n(W),$=n(47786),K=n.n($),q=n(830866),Y=n.n(q),X=n(375664),J=n.n(X),Q=n(214298),ee=n.n(Q),te=n(647887),ne=n.n(te),ie=n(114200),re=n.n(ie),oe=n(813150),ae=n.n(oe),se=n(246184),le=n.n(se),ce=n(935563),de=n.n(ce),ue=n(199081),pe=n.n(ue),he=n(671157),me=n.n(he),_e=n(898781),ge=n(968228),ve=n(883119),fe=n(785893);const ye={"AR-SA":r(),"ZH-CN":pe(),"ZH-TW":me(),CS:a(),DA:l(),DE:d(),EL:p(),EN:m(),ES:g(),FI:f(),FR:b(),HI:w(),HU:P(),ID:E(),IT:A(),JA:C(),KO:L(),ML:D(),MS:N(),NB:B(),NL:U(),NN:z(),NO:B(),PL:V(),PT:G(),RO:K(),RU:Y(),SK:J(),SV:ee(),TH:ne(),TL:re(),TR:ae(),UK:le(),VI:de()};function be({locale:e}){const t=(0,_e.ZP)(),n=(0,ge.G3)(e),i=ye[n]||ye.EN,r=t._('Install the Pinterest app on Android', ' - ', ' -- ');return(0,fe.jsx)(ve.Ee,{naturalHeight:80,naturalWidth:270,src:i,alt:r})}},137618:(e,t,n)=>{n.d(t,{Z:()=>be});var i=n(681384),r=n.n(i),o=n(747147),a=n.n(o),s=n(25078),l=n.n(s),c=n(622314),d=n.n(c),u=n(765409),p=n.n(u),h=n(690435),m=n.n(h),_=n(712627),g=n.n(_),v=n(387629),f=n.n(v),y=n(465843),b=n.n(y),x=n(951237),w=n.n(x),S=n(13820),P=n.n(S),T=n(990148),E=n.n(T),I=n(879191),A=n.n(I),k=n(59192),C=n.n(k),R=n(237258),L=n.n(R),j=n(424961),D=n.n(j),O=n(436044),N=n.n(O),M=n(206581),U=n.n(M),F=n(300633),z=n.n(F),Z=n(690532),B=n.n(Z),H=n(749406),V=n.n(H),W=n(370960),G=n.n(W),$=n(535389),K=n.n($),q=n(590716),Y=n.n(q),X=n(482925),J=n.n(X),Q=n(370216),ee=n.n(Q),te=n(926410),ne=n.n(te),ie=n(777172),re=n.n(ie),oe=n(305067),ae=n.n(oe),se=n(621216),le=n.n(se),ce=n(826132),de=n.n(ce),ue=n(729566),pe=n.n(ue),he=n(972841),me=n.n(he),_e=n(898781),ge=n(968228),ve=n(883119),fe=n(785893);const ye={"AR-SA":r(),"ZH-CN":pe(),"ZH-TW":me(),CS:a(),DA:l(),DE:d(),EL:p(),EN:m(),ES:g(),FI:f(),FR:b(),HI:w(),HU:P(),ID:E(),IT:A(),JA:C(),KO:L(),ML:D(),MS:N(),NB:B(),NL:U(),NN:z(),NO:B(),PL:V(),PT:G(),RO:K(),RU:Y(),SK:J(),SV:ee(),TH:ne(),TL:re(),TR:ae(),UK:le(),VI:de()};function be({locale:e}){const t=(0,_e.ZP)(),n=(0,ge.G3)(e),i=ye[n]||ye.EN,r=t._('Install the Pinterest app on iOS', ' - ', ' -- ');return(0,fe.jsx)(ve.Ee,{naturalHeight:80,naturalWidth:270,src:i,alt:r})}},459523:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(667294),r=n(391254),o=n(454564),a=n(50286),s=n(444445),l=n(883119),c=n(785893);const d="PinGridSkeletonLoader__tall",u="PinGridSkeletonLoader__short",p=({size:e})=>(0,c.jsx)(l.xu,{padding:1,children:(0,c.jsx)("div",{className:"tall"===e?d:u})}),h=({children:e})=>(0,c.jsx)(l.kC,{direction:"column",gap:{row:0,column:2},children:e}),m=({partialViewportWidth:e})=>{const t="desktop"===(0,a.ZP)(),n=t?s.yF:s.tG;return(0,c.jsxs)(i.Fragment,{children:[(0,c.jsx)(r.Z,{unsafeCSS:[{name:d,height:250},{name:u,height:150}].map((({name:e,height:t})=>(0,o.Z)({name:e,width:n,height:t}))).join("")}),(0,c.jsx)(l.xu,{marginStart:s.qG,marginEnd:s.qG,children:t?(0,c.jsxs)(l.kC,{direction:"row",gap:{row:s.jC,column:0},children:[(0,c.jsx)(h,{children:(0,c.jsx)(p,{size:"tall"})}),(0,c.jsx)(h,{children:(0,c.jsx)(p,{size:"short"})}),(0,c.jsx)(h,{children:(0,c.jsx)(p,{size:"tall"})}),!e&&(0,c.jsx)(h,{children:(0,c.jsx)(p,{size:"short"})})]}):(0,c.jsxs)(l.kC,{direction:"row",overflow:"hidden",justifyContent:"center",children:[(0,c.jsxs)(h,{children:[(0,c.jsx)(p,{size:"tall"}),(0,c.jsx)(p,{size:"short"}),(0,c.jsx)(p,{size:"tall"})]}),(0,c.jsxs)(h,{children:[(0,c.jsx)(p,{size:"short"}),(0,c.jsx)(p,{size:"tall"}),(0,c.jsx)(p,{size:"short"}),(0,c.jsx)(p,{size:"tall"})]})]})})]})}},454564:(e,t,n)=>{n.d(t,{Z:()=>i});const i=({name:e,width:t,height:n})=>{const i=`${n}${"number"==typeof n?"px":""}`,r="number"==typeof t?t:236;return`\n.${e} {\n  -webkit-animation-duration: 1s;\n  -webkit-animation-fill-mode: forwards;\n  -webkit-animation-iteration-count: infinite;\n  -webkit-animation-name: ${e}_placeHolderShimmer;\n  -webkit-animation-timing-function: linear;\n  border-radius: 16px;\n  background: #f6f7f9;\n  background-image: linear-gradient(to right, #f6f7f9 0%, #e9ebee 20%, #f6f7f9 40%, #f6f7f9 100%);\n  background-repeat: no-repeat;\n  background-size: ${r} ${i};\n  width: ${`${t}${"number"==typeof t?"px":""}`};\n  height: ${i};\n}\n\n@keyframes ${e}_placeHolderShimmer{\n  0% {\n      background-position: -${r}px 0;\n  }\n  100% {\n      background-position: ${r}px 0;\n  }\n}\n`}},500594:(e,t,n)=>{n.d(t,{Bb:()=>v,Bx:()=>c,DF:()=>a,F4:()=>l,OG:()=>o,Qj:()=>d,_6:()=>g,gv:()=>s,hg:()=>u,is:()=>m,jP:()=>_,lt:()=>r,oM:()=>p,wI:()=>h});var i=n(826067);const r=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),o=e=>e.pathname,a=e=>{var t;return null!==(t=null==e?void 0:e._('You\'ll need to log in to do that', 'limitedLogin.modalHeader.completeAction', 'Mobile web limited login modal to prompt users to log in in order to complete current action'))&&void 0!==t?t:"You'll need to log in to do that"},s=({firstName:e,i18n:t})=>e?(t._('{{ name }} invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends({{ name }}) board')).replace("{{ name }}",e):t._('Your friends invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends board'),l=e=>{const t=(0,i.mB)(e.search).board_url;if(t){const e=(0,i.Jx)(t),n=(0,i.XP)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${n}`:`${e}?${n}`}return e.pathname},c=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),d=e=>{const t=e.pathname;if(t.startsWith("/pin/")){const e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return t},u=e=>e._('Log in to send this Pin', 'limitedLogin.modalHeader.send', 'Title on mobile web limited login modal to prompt users to login after they clicked send button.'),p=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),h=e=>{const t=e.pathname;if(t.startsWith("/pin/")){const e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return t},m=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.'),_=e=>e._('Log in to hide this Pin', 'limitedLogin.modalHeader.hidePin', 'Title on mobile web limited login modal to prompt users to login after they clicked hide Pin button.'),g=e=>e._('Log in to share the profile', 'limitedLogin.modalHeader.shareProfile', 'Title on mobile web limited login modal to prompt users to login after they clicked share button on profile page.'),v=e=>e._('Log in to create a board', 'limitedLogin.modalHeader.createBoard', 'Title on mobile web limited login modal to prompt users to login to create a board.')},722647:(e,t,n)=>{n.d(t,{L:()=>l,T:()=>s});var i=n(667294),r=n(425288),o=n(785893);const{Provider:a,useMaybeHook:s}=(0,r.Z)("MainPinSwipeContextType");function l({children:e}){const[t,n]=(0,i.useState)(!1),[r,s]=(0,i.useState)(""),[l,c]=(0,i.useState)(""),[d,u]=(0,i.useState)(0),[p,h]=(0,i.useState)(!1),m=(0,i.useMemo)((()=>({showMainPinSwipeOverlay:t,setShowMainPinSwipeOverlay:n,lastMainPinSwipeDirection:r,setLastMainPinSwipeDirection:s,firstRelatedPinId:l,setFirstRelatedPinId:c,numOfMainPinSwipes:d,setNumOfMainPinSwipes:u,shouldShowMainPinSwipeAppUpsell:p,setShouldShowMainPinSwipeAppUpsell:h})),[t,n,r,s,l,c,d,u,p,h]);return(0,o.jsx)(a,{value:m,children:e})}},987798:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(643010),r=n(773285),o=n(883119),a=n(785893);function s({color:e,image:t,isSelected:n,title:s}){var l,c,d;const{checkExperiment:u}=(0,r.F)();return(0,a.jsxs)(o.xu,{alignItems:"center","aria-selected":n,dangerouslySetInlineStyle:{__style:{backgroundColor:(0,i.Yc)()&&u("mweb_pill_rep_dark_mode").anyEnabled?n?"#fff":"#767676":n?"#111":"#efefef"}},display:"flex",padding:1,rounding:"pill",children:[(0,a.jsx)(o.zd,{height:48,rounding:"circle",width:48,children:(0,a.jsx)(o.Ee,{alt:"",color:e,fit:"cover",naturalHeight:null!==(l=t.height)&&void 0!==l?l:1,naturalWidth:null!==(c=t.width)&&void 0!==c?c:1,src:null!==(d=t.url)&&void 0!==d?d:""})}),(0,a.jsx)(o.xu,{marginStart:2,marginEnd:3,children:(0,a.jsx)(o.xv,{color:n?"inverse":(0,i.Yc)()?"light":"dark",weight:"bold",children:s})})]})}},568388:(e,t,n)=>{n.d(t,{Z:()=>m,z:()=>c});var i=n(667294),r=n(702664),o=n(391254),a=n(281180),s=n(883119),l=n(785893);const c=2500,d={__style:{right:"-105px"}},u={__style:{animationName:"SavePin_AnimateIn, SavePin_CircleAnimateOut",animationDuration:"0.3s, 0.25s",animationDelay:"0.5s, 1.3s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",backgroundColor:"rgba(255, 255, 255, 0.6)"}},p={__style:{animationName:"SavePin_AnimateIn, SavePin_AnimateOut",animationDuration:"0.3s, 0.35s",animationDelay:"0.5s, 1.55s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",border:"4px solid white"}},h={__style:{animationName:"SavePin_NavButtonAnimation",animationDuration:"0.8s",animationDelay:"1.65s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out"}},m=(0,i.memo)((({children:e})=>{const t=(0,a.Tt)(),n=(0,r.useSelector)((({pins:e})=>{const n=null==t?void 0:t.last_repin_id;return n?e[n]:null})),i=(0,r.useSelector)((({session:e})=>e.isShowingRepinAnimation));if(!n||!i)return e;const{images:c}=n,{height:m,width:_,url:g}=(null==c?void 0:c["136x136"])||(null==c?void 0:c["236x"])||{};return(0,l.jsxs)(s.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",children:[(0,l.jsx)(o.Z,{unsafeCSS:"\n@keyframes SavePin_AnimateIn {\n  from {\n    transform: scale(0.0);\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n    transform: scale(1.0);\n  }\n}\n@keyframes SavePin_CircleAnimateOut {\n  from {\n    transform: scale(1.0);\n    opacity: 1;\n  }\n  to {\n    transform: scale(0.8);\n    opacity: 0;\n  }\n}\n@keyframes SavePin_AnimateOut {\n  from {\n    transform: translateY(0);\n    opacity: 1;\n  }\n  to {\n    transform: translateY(100px);\n    width: 0px;\n    height: 0px;\n    opacity: 0;\n  }\n}\n@keyframes SavePin_NavButtonAnimation {\n  0% {\n    transform: scale(1.0);\n  }\n  50% {\n    transform: scale(1.3);\n  }\n  100% {\n    transform: scale(1.0);\n  }\n}\n"}),(0,l.jsxs)(s.xu,{position:"relative",children:[(0,l.jsxs)(s.xu,{width:250,height:250,position:"absolute",right:!0,bottom:!0,dangerouslySetInlineStyle:d,children:[(0,l.jsx)(s.xu,{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",opacity:0,rounding:"circle",dangerouslySetInlineStyle:u}),(0,l.jsx)(s.xu,{width:100,height:100,position:"absolute",margin:"auto",left:!0,right:!0,top:!0,bottom:!0,opacity:0,rounding:3,dangerouslySetInlineStyle:p,children:(0,l.jsx)(s.zd,{rounding:2,height:"100%",width:"100%",wash:!0,children:(0,l.jsx)(s.Ee,{alt:"pin-image",fit:"cover",naturalWidth:null!=_?_:1,naturalHeight:null!=m?m:1,src:null!=g?g:""})})})]}),(0,l.jsx)(s.xu,{dangerouslySetInlineStyle:h,children:e})]})]})}))},622359:(e,t,n)=>{n.d(t,{Z:()=>C});var i=n(667294),r=n(376030),o=n(391254),a=n(883119),s=n(785893);function l({addedStyles:e,button:t,headerText:n,icon:r,iconOverride:l,minHeight:c,subHeaderText:d}){return(0,s.jsx)(a.xu,{display:"flex",justifyContent:"center",width:"100vw",paddingX:2,children:(0,s.jsxs)(a.xu,{alignContent:"center",alignItems:"center",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{boxShadow:"0 3px 6px rgba(0,0,0,0.18)",transform:"translateY(-20px)",...e}},display:"flex",minHeight:c||75,padding:6,position:"relative",rounding:4,width:"100%",children:[(()=>{const e=l||(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(o.Z,{unsafeCSS:"\n@keyframes baseEduToastIconScale {\n  0% {\n    transform: scale(0)\n  }\n  30% {\n    transform: scale(1.2);\n  }\n  50% {\n    transform: scale(1);\n  }\n}\n"}),(0,s.jsx)(a.xu,{alignItems:"center",color:"education","data-test-id":"pin-save-toast",direction:"column",dangerouslySetInlineStyle:{__style:{animation:"baseEduToastIconScale 3s"}},display:"flex",height:60,justifyContent:"center",minHeight:60,minWidth:60,rounding:"circle",width:60,children:(0,s.jsx)(a.JO,{accessibilityLabel:r.accessibilityLabel,color:r.color,dangerouslySetSvgPath:r.dangerouslySetSvgPath,icon:r.icon,inline:r.inline,size:r.size})})]});return(0,s.jsx)(a.xu,{marginEnd:4,children:e})})(),(0,s.jsxs)(a.xu,{marginEnd:"auto",children:[(0,s.jsx)(a.xv,{color:"default",weight:"bold",children:n}),d&&(0,s.jsx)(a.xu,{paddingY:1,children:(0,s.jsx)(a.xv,{size:"300",color:"default",children:d})})]}),(0,s.jsx)(a.xu,{display:"flex",flex:"shrink",marginStart:2,children:t})]})})}n(794987);var c=n(223815),d=n(829407),u=n(898781),p=n(452130);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m=(e,t)=>(e-t)/2,_=68,g=m(_,68),v=m(_,66),f=m(_,60),y="cubicBezier(0.25, 0.1, 0.25, 1)",b="encourageToastIconContainer",x="encourageToastIconRadiateBg",w="encourageToastIconRadiateRing",S={targets:`#${b}`,duration:300,scale:1.4,easing:y},P={targets:`#${b}`,duration:300,scale:1,easing:y,endDelay:1e3},T={targets:`#${b}`,duration:300,scale:.42,easing:y},E={targets:`#${x}`,duration:400,opacity:0,scale:1.6,easing:y},I={targets:`#${w}`,duration:650,opacity:0,scale:2,easing:y};function A({hiding:e,visible:t}){return t?e?{opacity:0,transform:"scale(1.0)",transition:"opacity transform .2s"}:{opacity:1,transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)"}:Object.freeze({})}class k extends i.PureComponent{constructor(...e){super(...e),h(this,"delayTimer",null),h(this,"requestAnimationFrameId",null),h(this,"playAnimation",(()=>{this.requestAnimationFrameId=window.requestAnimationFrame((()=>{(0,r.Z)(E),(0,r.Z)(I),(0,r.Z)(S).finished.then((()=>{(0,r.Z)(P).finished.then((()=>{r.Z.set(`#${b}`,{transformOrigin:"top right"}),(0,r.Z)(T)}))}))}))})),h(this,"getHeaderText",(()=>{const{text:e}=this.props;return"string"==typeof e?e:e[0]?e[0]:e})),h(this,"getIconProps",(()=>({accessibilityLabel:this.props.i18n._('Check icon', 'Label for check icon on toast shown after board create', 'Label for check icon on toast shown after board create'),color:"inverse",icon:"check",size:30}))),h(this,"getSubHeaderText",(()=>{const{text:e}=this.props;return e instanceof Array&&e.length>1&&e[1]?e[1]:""})),h(this,"renderAnimatedIcon",(()=>(0,s.jsxs)(a.xu,{height:_,position:"relative",width:_,children:[(0,s.jsx)(a.xu,{"data-test-id":"pin-save-toast",width:60,height:60,overflow:"hidden",position:"absolute",rounding:4,dangerouslySetInlineStyle:{__style:{left:`${f}px`,top:`${f}px`}},children:this.props.thumbnail}),(0,s.jsxs)(a.xu,{id:b,height:_,width:_,dangerouslySetInlineStyle:{__style:{transform:"scale(0)"}},position:"absolute",children:[(0,s.jsx)(a.xu,{color:"infoBase",id:x,width:68,height:68,position:"absolute",rounding:"circle",dangerouslySetInlineStyle:{__style:{left:`${g}px`,top:`${g}px`,transform:"scale(0)"}}}),(0,s.jsx)(a.xu,{id:w,width:66,height:66,position:"absolute",rounding:"circle",opacity:1,dangerouslySetInlineStyle:{__style:{borderWidth:"2px",borderStyle:"solid",borderColor:"#0074e8",left:`${v}px`,top:`${v}px`,transform:"scale(0)"}}}),(0,s.jsx)(a.xu,{alignItems:"center",color:"infoBase",direction:"column",display:"flex",height:_,justifyContent:"center",minHeight:_,minWidth:_,position:"absolute",rounding:"circle",width:_,children:(0,s.jsx)(a.JO,{accessibilityLabel:this.props.i18n._('Check icon', 'Label for check icon on toast shown after board create', 'Label for check icon on toast shown after board create'),color:"inverse",icon:"check",size:30})})]})]})))}componentDidMount(){this.delayTimer=setTimeout(this.playAnimation,700)}componentWillUnmount(){this.delayTimer&&clearTimeout(this.delayTimer),this.requestAnimationFrameId&&window.cancelAnimationFrame(this.requestAnimationFrameId)}render(){const{isRepinToExistingBoard:e,button:t}=this.props,n=e;return(0,s.jsx)(l,{button:t,headerText:this.getHeaderText(),icon:this.getIconProps(),iconOverride:n?void 0:this.renderAnimatedIcon(),subHeaderText:this.getSubHeaderText()})}}function C(e){const{duration:t,onHide:n}=e,r=(0,u.ZP)(),[o,l]=(0,i.useState)(!1),[h,m]=(0,i.useState)(!1),_=(0,i.useRef)(),g=()=>{l(!0),_.current=setTimeout(n,200)},v=()=>{_.current&&clearTimeout(_.current)};(0,d.Z)((()=>(setTimeout((()=>m(!0)),100),_.current=setTimeout(g,t||p.w),v)));let f=(0,s.jsx)(k,{...e,i18n:r});return e.href&&(f=(0,s.jsx)(a.rU,{href:e.href,onClick:g,rounding:"pill",tapStyle:"none",children:f})),(0,s.jsx)(c.Z,{children:(0,s.jsx)(a.mh,{children:(0,s.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...A({hiding:o,visible:h})}},justifyContent:"center",position:"fixed",width:"100%",display:"flex",zIndex:p.k,children:f})})})}},862501:(e,t,n)=>{n.d(t,{JN:()=>u,Lr:()=>p,qV:()=>h});var i=n(794987),r=n(557182),o=n(191363),a=n(898781),s=n(883119),l=n(785893);const c=()=>{const e=(0,a.ZP)();return e._('Sweet save!', 'Header text on toast that appears after user creates their first board', 'Header text on toast that appears after user creates their first board')},d=()=>{const e=(0,a.ZP)();return e._('All your boards live on your profile', 'Subheader text on toast that appears after user creates their first board', 'Subheader text on toast that appears after user creates their first board')},u=(e,t)=>({duration:5e3,thumbnail:(0,l.jsx)(s.xu,{"data-test-id":"pin-save-toast",children:"pin"===e?(0,l.jsx)(r.Z,{borderRadius:4,pinId:t}):(0,l.jsx)(i.Z,{boardId:t,type:"thumbnail"})})}),p=e=>({duration:5e3,thumbnail:(0,l.jsx)(s.xu,{"data-test-id":"pin-save-toast",width:48,height:48,children:(0,l.jsx)(o.Z,{boardId:e})})}),h=({boardId:e,isFBC:t,isTop:n,pinId:i})=>({...u(i?"pin":"board",null!=i?i:e),...t?{text:[(0,l.jsx)(c,{},"0"),(0,l.jsx)(d,{},"1")]}:Object.freeze({}),top:n?28:void 0})},523504:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(702664),r=n(568388),o=n(343341),a=n(185894);function s(){const e=(0,i.useDispatch)(),{showToast:t,showOneToast:n}=(0,o.F9)();return{showToast:t,showOneToast:n,showRepinConfirmation:(n,i)=>{i||e((0,a.WF)()),setTimeout((()=>{i||e((0,a.a5)()),t(n)}),r.z)}}}},867405:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),r=n(785893);function o({borderRadius:e,description:t,imageUrl:n,imageHeight:o,imageWidth:a}){return(0,r.jsx)(i.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,dangerouslySetInlineStyle:{__style:{borderRadius:e}},overflow:"hidden",children:(0,r.jsx)(i.Ee,{alt:null!=t?t:"",src:null!=n?n:"",fit:"cover",naturalHeight:null!=o?o:1,naturalWidth:null!=a?a:1,color:"#767676"})})}},557182:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(867405),r=n(606441),o=n(785893);function a({borderRadius:e,pinId:t,adhocPinData:n}){var a,s;const l=(0,r.N)(t)||n;if(!l)return null;const c=l.images&&(l.images.orig||l.images["736x"]||l.images["290x"]||l.images["236x"]);return(0,o.jsx)(i.Z,{borderRadius:e,description:l.description,imageUrl:(null==c?void 0:c.url)||(null==n?void 0:n.image_large_url),imageHeight:(null==c?void 0:c.height)||(null==n||null===(a=n.image_large_size_pixels)||void 0===a?void 0:a.height),imageWidth:(null==c?void 0:c.width)||(null==n||null===(s=n.image_large_size_pixels)||void 0===s?void 0:s.width)})}},195946:(e,t,n)=>{n.d(t,{A:()=>i});const i=e=>{const t=e.rich_metadata;return t?t.products?144:t.article?141:t.recipe?145:139:140}},114728:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(667294),r=n(333312),o=n(829407),a=n(898781),s=n(622739),l=n(883119),c=n(276775),d=n(785893);const u="all 0.6s cubic-bezier(0.68, -0.6, 0.32, 1.4)",p={transform:"scale(0)",opacity:"0",transition:u},h={transform:"scale(1)",opacity:"1",transition:u};function m({scope:e,onTap:t}){const n=(0,a.ZP)();let u;const m=[];let _=1000432;switch(e){case"buyable_pins":u="shopping-bag",m.push(504961),_=1000433;break;case"users":u="person",m.push(504963),_=1000432}const g=(0,c.useLocation)(),v=(0,c.useHistory)(),f=g.search,y=(0,l.JZ)(),[b,x]=(0,i.useState)(y?h:p),w=(0,i.useRef)();(0,o.Z)((()=>y?()=>{}:(x(h),()=>{x(p)})));const S=new l.Ry(100);return(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(l.xu,{width:43,height:43,marginEnd:2,ref:w,children:(0,d.jsx)(l.xu,{ref:w,dangerouslySetInlineStyle:{__style:b},children:(0,d.jsx)(l.iP,{rounding:"circle",tapStyle:"compress",onTap:function({event:e}){e.stopPropagation(),t?t():v.push((0,s.NZ)("/search/pins/",f))},children:(0,d.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{padding:"13.5px"}},rounding:"circle",color:"selected",children:(0,d.jsx)(l.JO,{accessibilityLabel:n._('Search mode icon', 'searchBox.modesIcon.accessibilityLabel', 'Search mode icon in search box'),icon:u,color:"inverse",size:16})})})})}),(0,d.jsx)(l.mh,{zIndex:S,children:(0,d.jsx)(r.default,{anchor:w.current,positionRelativeToAnchor:!1,hasFullWidthButton:!1,placementId:_,experienceIds:m,showCaret:!0,textAlign:"center",textWeight:"normal"})})]})}},361777:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),r=n(114728),o=n(898781),a=n(112690),s=n(773285),l=n(597897),c=n(883119),d=n(785893);function u({history:e,placeholder:t,query:n="",scope:u,type:p="default",viewParameter:h,viewType:m}){const _=(0,o.ZP)(),g=(0,l.U)(),{checkExperiment:v}=(0,s.F)(),f=(0,a.Z)();(0,i.useEffect)((()=>{g&&setTimeout((()=>{var e;null===(e=g.preload)||void 0===e||e.call(g,new URL("search.js","file://"))}),500)}),[]);const{anyEnabled:y}=v("mweb_search_onebar_v01"),b={default:{label:_._('Search', 'SearchBar.searchTypes.default.label', 'Search input label'),path:"/search/"},syop:{label:"en"===_.getLocaleData().locale.split("-")[0]?_._('Search your Pins', 'SearchBar.searchTypes.profile.englishLabel', 'text for profile search bar'):_._('Search', 'SearchBar.searchTypes.profile.nonEnglishLabel', 'text for profile search bar'),path:"/search/me/"}},x=()=>b[p].path,[w,S]=(0,i.useState)(null!=u?u:"pins"),P=("buyable_pins"===w||"users"===w)&&y;(0,i.useEffect)((()=>{S(null!=u?u:"pins")}),[u]);const T=n?(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(c.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:(0,d.jsx)(c.xu,{marginStart:1,overflow:"hidden",children:(0,d.jsx)(c.xv,{inline:!0,lineClamp:1,weight:"bold",children:n})})}),(0,d.jsx)(c.xu,{alignItems:"center","data-test-id":"cancelSearch",display:"flex",children:(0,d.jsx)(c.hU,{accessibilityLabel:_._('Clear search query', 'SearchBar.clearIconButton.accessibilityLabel', 'Accessibility label for icon button to clear the current search query'),onClick:({event:t})=>{const n=x();t.stopPropagation(),e.push(n)},icon:"clear",padding:1,size:"md",iconColor:"gray"})})]}):(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(c.JO,{accessibilityLabel:_._('Search', 'SearchBar.searchIcon.accessibilityLabel', 'Accessibility label for search bar "search" icon'),icon:"search",size:16}),(0,d.jsx)(c.xu,{marginStart:2,children:(0,d.jsx)(c.xv,{color:"subtle",children:t||b[p].label})})]});return(0,d.jsx)(c.iP,{onTap:()=>(()=>{const t=x();f({component:43,element:227,event_type:102,aux_data:{entered_query:n},view_parameter:h,view_type:m});const i=n?`${t}?rs=typed&q=${encodeURIComponent(n)}&scope=${u||""}`:t;return e.push(i)})(),rounding:2,children:(0,d.jsxs)(c.xu,{alignItems:"center",borderStyle:"lg",color:"default","data-test-id":"searchBarPlaceholder",display:"flex",flex:"grow",height:48,dangerouslySetInlineStyle:{__style:{padding:"13px 16px"}},rounding:8,children:[P&&(0,d.jsx)(c.xu,{marginStart:-4,children:(0,d.jsx)(r.Z,{scope:u})}),T]})})}},927007:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(643010),r=n(883119),o=n(785893);function a({guide:e,guidedQuery:t,isSlot0Style:n=!1,onClick:a}){const{dominant_color:s,display:l}=e,c=(0,o.jsx)(r.iP,{role:"link",onTap:a,tapStyle:"none",rounding:"pill",href:`/search/pins/?rs=guide&q=${encodeURIComponent(t)}`,children:(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundSize:"cover",backgroundColor:s,whiteSpace:n?void 0:"nowrap"}},"data-test-id":"search-guide",minWidth:n?void 0:84,padding:4,rounding:"pill",children:(0,o.jsx)(r.xv,{align:n?"start":"center",color:n?(0,i.Yc)()?"inverse":"default":"inverse",lineClamp:n?2:void 0,size:"200",weight:n?"normal":"bold",children:l})})});return n?c:(0,o.jsx)(r.xu,{flex:"none",marginStart:-7,paddingX:4,children:c})}var s=n(112690),l=n(473535);const c=-1,d=0;function u({guides:e,isSlot0Style:t=!1,query:n}){const i=(0,s.Z)(),u=({position:e,term:t})=>e===c?t:e===d?`${t} ${n}`:`${n} ${t}`,p=e=>()=>{(0,l.U3)({logContextEvent:i,searchScope:"pins",searchTerm:e,rs:"guide"})},h=()=>e.map((e=>(0,o.jsx)(a,{guide:e,guidedQuery:u(e),isSlot0Style:t,onClick:p(n)},e.display)));return t?(0,o.jsx)(r.xu,{padding:2,children:(0,o.jsx)(r.kC,{width:"100%",gap:{row:0,column:1},direction:"column",alignItems:"start",children:h()})}):(0,o.jsx)(r.xu,{overflow:"hidden",width:"calc(100vw - 16px)",children:(0,o.jsx)(r.xu,{display:"flex",marginBottom:-2,marginStart:-4,overflow:"auto",paddingX:7,paddingY:2,position:"relative",width:"100vw",children:h()})})}},891748:(e,t,n)=>{n.d(t,{Z:()=>be});var i=n(667294),r=n(141280),o=n(562295),a=n(116303),s=n(30700),l=n(898781),c=n(112690),d=n(883119),u=n(785893);function p({cropSource:e,domainFilters:t,handleDomain:n,pinId:r}){const p=(0,l.ZP)(),h=(0,c.Z)();(0,i.useEffect)((()=>{h({event_type:120,component:13469,view_parameter:3396,view_type:72,aux_data:{commerce_data:JSON.stringify({source:(0,o.Z)(e)})}})}),[]);return(0,u.jsxs)(d.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,u.jsx)(d.xu,{paddingY:4,children:(0,u.jsx)(d.xv,{children:p._('Merchants', 'FeedFiltering.DomainFilter.Merchants', 'Area that lists the Merchants filters')})}),t.map(((e,t)=>(0,u.jsx)(s.Z,{onTouch:()=>{var i;n(t),i=e.domain,h({event_type:102,component:13469,view_parameter:3396,view_type:72,element:11376,aux_data:{pin_id:r,commerce_data:JSON.stringify({select:!0,domain:i})}})},pressState:"none",children:(0,u.jsxs)(d.xu,{alignItems:"center",display:"flex",marginBottom:3,children:[(0,u.jsx)(d.xu,{marginEnd:2,children:(0,u.jsx)(a.Z,{name:e.label||"",size:"sm",src:e.image_url})}),(0,u.jsx)(d.xu,{flex:"grow",children:(0,u.jsx)(d.xv,{children:e.label})}),e.selected?(0,u.jsx)(d.xu,{children:(0,u.jsx)(d.JO,{accessibilityLabel:p._('checked merchant filter', 'FeedFiltering.DomainFilters.MerchantsCheckmark', 'checkmark when merchant is selected'),color:"default",icon:"check"})}):null]},e.domain)},e.domain)))]})}var h=n(702664),m=n(892819),_=n(643010),g=n(542473),v=n.n(g),f=Math.sqrt(50),y=Math.sqrt(10),b=Math.sqrt(2);function x(e,t,n){var i,r,o,a,s=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((i=t<e)&&(r=e,e=t,t=r),0===(a=function(e,t,n){var i=(t-e)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=f?10:o>=y?5:o>=b?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=f?10:o>=y?5:o>=b?2:1)}(e,t,n))||!isFinite(a))return[];if(a>0){let n=Math.round(e/a),i=Math.round(t/a);for(n*a<e&&++n,i*a>t&&--i,o=new Array(r=i-n+1);++s<r;)o[s]=(n+s)*a}else{a=-a;let n=Math.round(e*a),i=Math.round(t*a);for(n/a<e&&++n,i/a>t&&--i,o=new Array(r=i-n+1);++s<r;)o[s]=(n+s)/a}return i&&o.reverse(),o}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function E(e,t,n){return t&&T(e.prototype,t),n&&T(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return R(e)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=k(e);if(t){var r=k(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return L(this,n)}}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(l){s=!0,r=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}(e,t)||N(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e){return function(e){if(Array.isArray(e))return M(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||N(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var U="react-compound-slider:";function F(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){return t.val>n.val?e?-1:1:n.val>t.val?e?1:-1:0}}function z(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=e.findIndex((function(e){return e.key===t}));if(-1!==r){var o=e[r],a=o.key,s=o.val;return s===n?e:[].concat(O(e.slice(0,r)),[{key:a,val:n}],O(e.slice(r+1))).sort(F(i))}return e}function Z(e,t){if(!e)return[0,0];var n=e.getBoundingClientRect();return[t?n.top:n.left,t?n.bottom:n.right]}function B(e){var t=e.type,n=void 0===t?"":t,i=e.touches;return!i||i.length>1||"touchend"===n.toLowerCase()&&i.length>0}function H(e,t){return e?t.touches[0].clientY:t.touches[0].pageX}function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,r=0,o=e.map((function(e){var t=n.getValue(e);return e!==t&&(r+=1,v()(!i,"".concat(U," Invalid value encountered. Changing ").concat(e," to ").concat(t,"."))),t})).map((function(e,t){return{key:"$$-".concat(t),val:e}})).sort(F(t));return{handles:o,changes:r}}function W(e,t){return t}function G(e,t){for(var n=0;n<e.length;n++){if(e[n].key!==t[n].key)return e;if(t[n+1]&&t[n].val===t[n+1].val)return e}return t}function $(e,t,n,i,r){for(var o=-1,a=!0,s=0;s<e.length;s++){var l=e[s],c=t[s];if(!c||c.key!==l.key)return e;c.val!==l.val&&(o=s,a=c.val-l.val>0)}if(-1===o)return e;for(var d=a?n:-n,u=0;u<t.length;u++){var p=t[u],h=t[u+1];if(h&&p.val===h.val){if(u===o){var m=h.val+d;if(r(m)===m){var _=$(t,z(t,h.key,h.val+d,i),n,i,r);return _===t?e:_}return e}var g=p.val+d;if(r(g)===g){var v=$(t,z(t,p.key,p.val+d,i),n,i,r);return v===t?e:v}return e}}return t}function K(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.forEach((function(t){return t&&t(e)}))}}var q=function(){return{value:0,percent:0}},Y=function(e){A(n,e);var t=j(n);function n(){var e;P(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).getRailProps=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.props,i=n.emitMouse,r=n.emitTouch;return S(S({},t),{},{onMouseDown:K(t&&t.onMouseDown,i),onTouchStart:K(t&&t.onTouchStart,r)})},e}return E(n,[{key:"render",value:function(){var e=this.getRailProps,t=this.props,n=t.getEventData,r=t.activeHandleID,o=void 0===r?"":r,a=(0,t.children)({getEventData:n||q,activeHandleID:o,getRailProps:e});return a&&i.Children.only(a)}}]),n}(i.Component),X=function(e){A(n,e);var t=j(n);function n(){var e;P(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).autofocus=function(e){e.target instanceof HTMLElement&&e.target.focus()},e.getHandleProps=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.props,r=i.emitKeyboard,o=i.emitMouse,a=i.emitTouch;return S(S({},n),{},{onKeyDown:K(n&&n.onKeyDown,(function(e){return r&&r(e,t)})),onMouseDown:K(n&&n.onMouseDown,e.autofocus,(function(e){return o&&o(e,t)})),onTouchStart:K(n&&n.onTouchStart,(function(e){return a&&a(e,t)}))})},e}return E(n,[{key:"render",value:function(){var e=this.getHandleProps,t=this.props,n=t.activeHandleID,r=void 0===n?"":n,o=t.children,a=t.handles,s=o({handles:void 0===a?[]:a,activeHandleID:r,getHandleProps:e});return s&&i.Children.only(s)}}]),n}(i.Component),J=function(){function e(){P(this,e),this.interpolator=void 0,this.domain=[0,1],this.range=[0,1],this.domain=[0,1],this.range=[0,1],this.interpolator=null}return E(e,[{key:"createInterpolator",value:function(e,t){var n=this,i=e[0],r=e[1],o=t[0],a=t[1];return r<i?function(e){return n.interpolateValue(a,o)(n.deinterpolateValue(r,i)(e))}:function(e){return n.interpolateValue(o,a)(n.deinterpolateValue(i,r)(e))}}},{key:"interpolateValue",value:function(e,t){return t-=e=+e,function(n){return e+t*n}}},{key:"deinterpolateValue",value:function(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(){return t}}},{key:"rescale",value:function(){return this.interpolator=null,this}},{key:"getValue",value:function(e){var t=this.domain,n=this.range;return(this.interpolator||(this.interpolator=this.createInterpolator(t,n)))(+e)}},{key:"setDomain",value:function(e){return this.domain=[e[0],e[1]],this.rescale(),this}},{key:"getDomain",value:function(){return this.domain}},{key:"setRange",value:function(e){return this.range=[e[0],e[1]],this}},{key:"getRange",value:function(){return this.range}},{key:"getTicks",value:function(e){var t=this.domain;return x(t[0],t[t.length-1],e||10)}}]),e}(),Q=function(){return{value:0,percent:0}},ee=function(e){A(n,e);var t=j(n);function n(){return P(this,n),t.apply(this,arguments)}return E(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.values,r=e.scale,o=void 0===r?new J:r,a=e.count,s=void 0===a?10:a,l=e.getEventData,c=void 0===l?Q:l,d=e.activeHandleID,u=t({getEventData:c,activeHandleID:void 0===d?"":d,ticks:(n||o.getTicks(s)).map((function(e){return{id:"$$-".concat(e),value:e,percent:o.getValue(e)}}))});return u&&i.Children.only(u)}}]),n}(i.Component),te=function(){return{value:0,percent:0}},ne=function(e){A(n,e);var t=j(n);function n(){var e;P(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).getTrackProps=function(t){var n=e.props,i=n.emitMouse,r=n.emitTouch;return S(S({},t||{}),{},{onMouseDown:K(t&&t.onMouseDown,i),onTouchStart:K(t&&t.onTouchStart,r)})},e}return E(n,[{key:"render",value:function(){for(var e=this.getTrackProps,t=this.props,n=t.children,r=t.left,o=void 0===r||r,a=t.right,s=void 0===a||a,l=t.scale,c=void 0===l?new J:l,d=t.handles,u=void 0===d?[]:d,p=t.getEventData,h=void 0===p?te:p,m=t.activeHandleID,_=void 0===m?"":m,g=c.getDomain(),v=[],f=0;f<u.length+1;f++){var y=u[f-1],b=u[f];0===f&&!0===o?y={id:"$",value:g[0],percent:0}:f===u.length&&!0===s&&(b={id:"$",value:g[1],percent:100}),y&&b&&v.push({id:"".concat(y.id,"-").concat(b.id),source:y,target:b})}var x=n({getEventData:h,activeHandleID:_,tracks:v,getTrackProps:e});return x&&i.Children.only(x)}}]),n}(i.Component);function ie(e,t,n){return Math.min(Math.max(e,t),n)}var re=E((function e(){var t=this;P(this,e),this.step=1,this.domain=[0,1],this.range=[0,1],this.setDomain=function(e){return t.domain=[e[0],e[1]],t},this.setRange=function(e){return t.range=[e[0],e[1]],t},this.setStep=function(e){return t.step=e,t},this.getValue=function(e){var n=D(t.domain,2),i=n[0],r=n[1],o=D(t.range,2),a=o[0],s=o[1],l=t.step,c=(ie(e,i,r)-i)/(r-i);return ie(l*Math.round(c*(s-a)/l)+a,a<s?a:s,s>a?s:a)}})),oe="undefined"!=typeof window&&"undefined"!=typeof document,ae=function(){},se=function(e,t,n,i){var r=i?e-t:e+t;return i?Math.max(n[0],r):Math.min(n[1],r)},le=function(e,t,n,i){var r=i?e+t:e-t;return i?Math.min(n[1],r):Math.max(n[0],r)},ce=[0,100],de=function(e){A(n,e);var t=j(n);function n(){var e;P(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state={step:.1,values:[],domain:ce,handles:[],reversed:!1,activeHandleID:"",valueToPerc:null,valueToStep:null,pixelToStep:null},e.slider=i.createRef(),e.onKeyDown=function(t,n){var i=["ArrowRight","ArrowUp"],r=["ArrowDown","ArrowLeft"],o=R(e),a=o.state.handles,s=o.props,l=s.step,c=void 0===l?.1:l,d=s.reversed,u=void 0!==d&&d,p=s.vertical,h=void 0!==p&&p,m=s.domain,_=void 0===m?[0,100]:m,g=t.key||"".concat(t.keyCode);if(i.concat(r).includes(g)){if(h){var v=[r,i];i=v[0],r=v[1]}t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault();var f=a.find((function(e){return e.key===n}));if(f){var y=f.val,b=y;i.includes(g)?b=se(y,c,_,u):r.includes(g)&&(b=le(y,c,_,u));var x=a.map((function(e){return e.key===n?{key:e.key,val:b}:e}));e.submitUpdate(x,!0)}}},e.onMouseDown=function(t,n){e.onStart(t,n,!1)},e.onTouchStart=function(t,n){B(t)||e.onStart(t,n,!0)},e.getEventData=function(t,n){var i,r=R(e),o=r.state,a=o.pixelToStep,s=o.valueToPerc,l=r.props.vertical;return a.setDomain(Z(e.slider.current,l)),n&&t instanceof TouchEvent?i=a.getValue(H(l,t)):t instanceof MouseEvent&&(i=a.getValue(l?t.clientY:t.pageX)),{value:i,percent:s.getValue(i)}},e.onMouseMove=function(t){var n=R(e),i=n.state,r=i.handles,o=i.pixelToStep,a=i.activeHandleID,s=void 0===a?"":a,l=n.props,c=l.vertical,d=l.reversed,u=void 0!==d&&d;o.setDomain(Z(e.slider.current,c));var p=z(r,s,o.getValue(c?t.clientY:t.pageX),u);e.submitUpdate(p)},e.onTouchMove=function(t){var n=R(e),i=n.state,r=i.handles,o=i.pixelToStep,a=i.activeHandleID,s=n.props,l=s.vertical,c=s.reversed;if(null!==o&&!B(t)){o.setDomain(Z(e.slider.current,l));var d=z(r,a,o.getValue(H(l,t)),c);e.submitUpdate(d)}},e.onMouseUp=function(){var t=R(e),n=t.state,i=n.handles,r=void 0===i?[]:i,o=n.activeHandleID,a=t.props,s=a.onChange,l=void 0===s?ae:s,c=a.onSlideEnd,d=void 0===c?ae:c;l(r.map((function(e){return e.val}))),d(r.map((function(e){return e.val})),{activeHandleID:o}),e.setState({activeHandleID:""}),oe&&(document.removeEventListener("mousemove",e.onMouseMove),document.removeEventListener("mouseup",e.onMouseUp))},e.onTouchEnd=function(){var t=R(e),n=t.state,i=n.handles,r=n.activeHandleID,o=t.props,a=o.onChange,s=void 0===a?ae:a,l=o.onSlideEnd,c=void 0===l?ae:l;s(i.map((function(e){return e.val}))),c(i.map((function(e){return e.val})),{activeHandleID:r}),e.setState({activeHandleID:""}),oe&&(document.removeEventListener("touchmove",e.onTouchMove),document.removeEventListener("touchend",e.onTouchEnd))},e}return E(n,[{key:"componentDidMount",value:function(){var e=this.state.pixelToStep,t=this.props.vertical;e.setDomain(Z(this.slider.current,t))}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"removeListeners",value:function(){oe&&(document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"onStart",value:function(e,t,n){var i=this.state.handles,r=this.props.onSlideStart,o=void 0===r?ae:r;n||e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),i.find((function(e){return e.key===t}))?(this.setState({activeHandleID:t}),o(i.map((function(e){return e.val})),{activeHandleID:t}),n?this.addTouchEvents():this.addMouseEvents()):(this.setState({activeHandleID:""}),this.handleRailAndTrackClicks(e,n))}},{key:"handleRailAndTrackClicks",value:function(e,t){var n,i=this,r=this.state,o=r.handles,a=r.pixelToStep,s=this.props,l=s.vertical,c=s.reversed,d=void 0!==c&&c,u=this.slider;a.setDomain(Z(u.current,l)),n=t?a.getValue(H(l,e)):a.getValue(l?e.clientY:e.pageX);for(var p="",h=1/0,m=0;m<o.length;m++){var _=o[m],g=_.key,v=_.val,f=Math.abs(v-n);f<h&&(p=g,h=f)}var y=z(o,p,n,d);this.setState({activeHandleID:p},(function(){i.submitUpdate(y,!0),t?i.addTouchEvents():i.addMouseEvents()}))}},{key:"addMouseEvents",value:function(){oe&&(document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp))}},{key:"addTouchEvents",value:function(){oe&&(document.addEventListener("touchmove",this.onTouchMove),document.addEventListener("touchend",this.onTouchEnd))}},{key:"submitUpdate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.props,i=n.mode,r=void 0===i?1:i,o=n.step,a=void 0===o?.1:o,s=n.onUpdate,l=void 0===s?ae:s,c=n.onChange,d=void 0===c?ae:c,u=n.reversed,p=void 0!==u&&u,h=this.state.valueToStep.getValue;this.setState((function(n){var i=n.handles,o=[];if("function"==typeof r)o=r(i,e,a,p,h),v()(Array.isArray(o),"Custom mode function did not return an array.");else switch(r){case 1:o=W(0,e);break;case 2:o=G(i,e);break;case 3:o=$(i,e,a,p,h);break;default:o=e,v()(!1,"".concat(U," Invalid mode value."))}return l(o.map((function(e){return e.val}))),t&&d(o.map((function(e){return e.val}))),{handles:o}}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.handles,r=t.valueToPerc,o=t.activeHandleID,a=this.props,s=a.className,l=a.rootStyle,c=void 0===l?{}:l,d=a.rootProps,u=void 0===d?{}:d,p=a.component,h=void 0===p?"div":p,m=a.disabled,_=void 0!==m&&m,g=a.flatten,v=void 0!==g&&g,f=n.map((function(e){var t=e.key,n=e.val;return{id:t,value:n,percent:r.getValue(n)}})),y=i.Children.map(this.props.children,(function(t){return!0===function(e){if(!(0,i.isValidElement)(e))return!1;var t=e.type,n=t?t.name:"";return n===X.name||n===Y.name||n===ee.name||n===ne.name}(t)?i.cloneElement(t,{scale:r,handles:f,activeHandleID:o,getEventData:e.getEventData,emitKeyboard:_?ae:e.onKeyDown,emitMouse:_?ae:e.onMouseDown,emitTouch:_?ae:e.onTouchStart}):t}));return v?i.createElement(i.Fragment,null,i.createElement(h,S(S({},u),{},{style:c,className:s,ref:this.slider})),y):i.createElement(i.Fragment,null,i.createElement(h,S(S({},u),{},{style:c,className:s,ref:this.slider}),y))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,i,r=e.step,o=void 0===r?.1:r,a=e.values,s=e.domain,l=void 0===s?ce:s,c=e.reversed,d=void 0!==c&&c,u=e.onUpdate,p=void 0===u?ae:u,h=e.onChange,m=void 0===h?ae:h,_=e.warnOnChanges,g=void 0!==_&&_,f=t.valueToPerc,y=t.valueToStep,b=t.pixelToStep,x={};if(f&&y&&b||(f=new J,y=new re,b=new re,x.valueToPerc=f,x.valueToStep=y,x.pixelToStep=b),t.domain===ce||null===t.step||null===t.domain||null===t.reversed||o!==t.step||l[0]!==t.domain[0]||l[1]!==t.domain[1]||d!==t.reversed){var w=D(l,2),S=w[0],P=w[1];y.setStep(o).setRange([S,P]).setDomain([S,P]),!0===d?(f.setDomain([S,P]).setRange([100,0]),b.setStep(o).setRange([P,S])):(f.setDomain([S,P]).setRange([0,100]),b.setStep(o).setRange([S,P])),v()(P>S,"".concat(U," Max must be greater than min (even if reversed). Max is ").concat(P,". Min is ").concat(S,"."));var T=V(a||t.values,d,y,g),E=T.handles;(T.changes||void 0===a||a===t.values)&&(p(E.map((function(e){return e.val}))),m(E.map((function(e){return e.val})))),x.step=o,x.values=a,x.domain=l===ce?O(l):l,x.handles=E,x.reversed=d}else if(n=a,i=t.values,!(n===i||n.length===i.length&&n.reduce(function(e){return function(t,n,i){return t&&e[i]===n}}(i),!0))){var I=V(a,d,y,g),A=I.handles;I.changes&&(p(A.map((function(e){return e.val}))),m(A.map((function(e){return e.val})))),x.values=a,x.handles=A}return Object.keys(x).length?x:null}}]),n}(i.PureComponent);const ue=({domain:[e,t],handle:{id:n,value:i,percent:r},getHandleProps:o,touched:a,activeHandleID:s})=>(0,u.jsx)("div",{"aria-valuemax":t,"aria-valuemin":e,"aria-valuenow":i,role:"slider",style:{left:`${r}%`,position:"absolute",marginLeft:"-11px",marginTop:"-5px",border:"1px solid white",zIndex:2,width:15,height:15,cursor:"pointer",borderRadius:"50%",boxShadow:"1px 1px 1px 1px rgba(0, 0, 0, 0.2)",backgroundColor:"black",transform:a&&s===n?"scale(2)":""},...o(n)}),pe=({source:e,target:t,getTrackProps:n,backgroundColor:i})=>(0,u.jsx)("div",{style:{position:"absolute",height:5,zIndex:1,backgroundColor:i||"black",borderRadius:7,cursor:"pointer",left:`${e.percent}%`,width:t.percent-e.percent+"%"},...n()});const he=function({cropSource:e,currencyType:t,minPrice:n,maxPrice:r,lowerBound:a,upperBound:s,handlePriceChange:p}){const g=(0,l.ZP)(),v=(0,m.Z)(),f=(0,c.Z)(),{locale:y}=(0,h.useSelector)((({session:e})=>e)),b={position:"absolute",width:"100%",height:5,borderRadius:7,cursor:"pointer",backgroundColor:(0,_.Yc)()?"#454545":"lightGrey"},x=[Math.ceil(a),Math.ceil(s)],w=[Math.ceil(n),Math.ceil(r)],[S,P]=(0,i.useState)([!1,!1]);(0,i.useEffect)((()=>{f({event_type:120,component:13468,view_parameter:3396,view_type:72,aux_data:{commerce_data:JSON.stringify({source:(0,o.Z)(e)})}})}),[]);const T={currency:t,style:"currency",minimum_fraction_digits:0,maximum_fraction_digits:2};return(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(d.xu,{paddingY:4,children:(0,u.jsx)(d.xv,{children:g._('Price range', 'FeedFiltering.PriceFilter.PriceRange', 'Area that lists the price slider')})}),(0,u.jsxs)(d.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:3,children:[(0,u.jsx)(d.xv,{weight:"bold",children:(0,u.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{transform:S[0]?"translateZ(0) translateY(0) scale(1.25)":""}},children:v(y,w[0],T)})}),(0,u.jsx)(d.xv,{weight:"bold",children:(0,u.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{transform:S[1]?"translateZ(0) translateY(0) scale(1.25)":"",textAlign:"right"}},children:v(y,w[1],{...T,uplimit:s})})})]},"priceSliderValues"),(0,u.jsxs)(de,{domain:x,mode:2,onChange:()=>{P([!1,!1])},onUpdate:e=>{p(e);const[t,n]=w,[i,r]=e;t!==i?P([!0,!1]):n!==r&&P([!1,!0])},rootStyle:{margin:"5%",position:"relative",width:"90%"},step:1,values:w,children:[(0,u.jsx)(Y,{children:({getRailProps:e})=>(0,u.jsx)("div",{style:b,...e()})}),(0,u.jsx)(X,{children:({handles:e,getHandleProps:t,activeHandleID:n})=>(0,u.jsx)("div",{className:"slider-handles",children:e.map(((e,i)=>(0,u.jsx)(ue,{activeHandleID:n,domain:x,getHandleProps:t,handle:e,touched:S[i]},e.id)))})}),(0,u.jsx)(ne,{left:!1,right:!1,children:({tracks:e,getTrackProps:t})=>(0,u.jsx)("div",{className:"slider-tracks",children:e.map((({id:e,source:n,target:i})=>(0,u.jsx)(pe,{getTrackProps:t,source:n,target:i,backgroundColor:(0,_.Yc)()?"white":"black"},e)))})})]}),(0,u.jsx)(d.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginTop:12,children:(0,u.jsx)(d.xv,{children:g._('Drag to change price', 'FeedFiltering.PriceFilter.PriceDragText', 'Area that instructs how to use price slider')})})]})};function me({domains:e,prices:t}){let n=0;if(e){n+=(e.split(",")||[]).length}return t&&t.length>0&&(n+=1),n}function _e(e){return e?e.filter((e=>e.selected)).map((e=>e.domain)).join(","):null}function ge({minPrice:e,maxPrice:t,priceFilters:n}){const{min_value:i,suggested_max_value:r}=n||{};return e!==i||t!==r?[e,t]:[]}function ve({currentPrice:e,currencyType:t,lowerBound:n,upperBound:i,handlePriceChange:r,cropSource:o}){const a=e[0],s=e[1];return(0,u.jsx)(he,{cropSource:o,currencyType:t,handlePriceChange:r,lowerBound:n,maxPrice:s,minPrice:a,upperBound:i})}const fe=function({cropSource:e,initialProductFilters:t,pinId:n,productFilters:r,submitFilters:o,updateNumberFiltersApplied:a}){const s=(0,l.ZP)(),h=(0,c.Z)(),m=r.domainFilters,_=r.priceFilters,{min_value:g,suggested_max_value:v,currency_type:f}=_||{},y=null==t?void 0:t.domains;let b=[];y&&(b=y.split(",")),m&&m.forEach((e=>{e.selected=b.includes(e.domain)}));const[x,w]=(null==t?void 0:t.prices)||[],S=x||g,P=w||v,[T,E]=(0,i.useState)(m),[I,A]=(0,i.useState)([S,P]);return(0,i.useEffect)((()=>{E(m),A([S,P]),a(me({domains:_e(m)||"",prices:ge({minPrice:S,maxPrice:P,priceFilters:_})}))}),[m,S,P]),(0,u.jsxs)(i.Fragment,{children:[(0,u.jsxs)(d.xu,{children:[_&&Object.values(_).length>0&&(0,u.jsx)(ve,{cropSource:e,currencyType:f,currentPrice:I,handlePriceChange:e=>{A(e)},lowerBound:g,upperBound:v}),T&&(0,u.jsx)(p,{cropSource:e,domainFilters:T,handleDomain:e=>{if(!T)return;const t=!T[e].selected,n=[...T.slice(0,e),{...T[e],selected:t},...T.slice(e+1)];E(n)},pinId:n})]}),(0,u.jsx)(d.kC,{alignItems:"center",justifyContent:"center",children:(0,u.jsx)(d.zx,{color:"red",onClick:()=>{h({event_type:102,view_parameter:3396,view_type:72,element:11546});const e=_e(T)||"",[t,n]=I,i={domains:e,prices:ge({minPrice:t,maxPrice:n,priceFilters:_})};o(i),a(me(i))},size:"lg",text:s._('Confirm', 'FeedFilterContainer.FeedFiltering.ConfirmButton', 'Confirms filter selection'),type:"submit"})})]})},ye=({heading:e,onDismiss:t,onReset:n})=>{const i=(0,l.ZP)();return(0,u.jsx)(d.xu,{children:(0,u.jsxs)(d.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,u.jsx)(d.kC,{alignItems:"center",justifyContent:"start",children:(0,u.jsx)(d.hU,{accessibilityLabel:i._('Close', 'SlidingModal.FeedFilterContainer.IconButton', 'Close filters menu'),icon:"cancel",onClick:t,padding:5,size:"lg",iconColor:"gray"})}),(0,u.jsx)(d.kC,{alignItems:"center",flex:"grow",justifyContent:"center",children:(0,u.jsx)(d.xv,{align:"center",weight:"bold",children:e})}),(0,u.jsx)(d.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginRight:15}},display:"flex",children:(0,u.jsx)(d.zx,{fullWidth:!0,onClick:n,text:i._('Reset', 'SlidingModal.FeedFilterContainer.ResetButton', 'Reset filters')})})]})})};const be=function({closeFiltersModal:e,cropSource:t,initialProductFilters:n,isOpen:a,pinId:s,productFilters:p,submitFilters:h,updateNumberFiltersApplied:m}){const _=(0,l.ZP)(),g=(0,c.Z)();return(0,i.useEffect)((()=>{g({event_type:13,view_parameter:3396,view_type:72,aux_data:{commerce_data:JSON.stringify({source:(0,o.Z)(t)})}})}),[]),(0,u.jsx)(d.xu,{marginEnd:2,children:(0,u.jsxs)(r.Z,{allowClickAndDrag:!0,isOpen:a,accessibilityModalLabel:_._('Filters', 'flashlightPage.slidingModal.accessibilityModalLabel', 'Modal label for product filters'),children:[(0,u.jsx)(ye,{heading:_._('Filters', 'flashlightPage.slidingModal.heading', 'heading for this mobile modal'),onDismiss:e,onReset:()=>{const t={domains:"",prices:[]};h(t),m(me(t)),e(),g({event_type:102,view_parameter:3396,view_type:72,element:11545})}}),(0,u.jsx)(d.xu,{paddingX:5,paddingY:5,children:(0,u.jsx)(fe,{cropSource:t,initialProductFilters:n,productFilters:p,pinId:s,submitFilters:({domains:t,prices:n})=>{h({domains:t,prices:n}),e()},updateNumberFiltersApplied:m})})]})})}},209236:(e,t,n)=>{n.d(t,{Z:()=>z});var i=n(667294),r=n(702664),o=n(90771),a=n(31149),s=n(659522),l=n(214680),c=n(331744),d=n(172071),u=n(757146),p=n(785893);function h({size:e=56}){return(0,p.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,p.jsx)("rect",{fill:"#e60023",height:"56",rx:"28",width:"56"}),(0,p.jsx)("path",{clipRule:"evenodd",d:"m28 31.9842 6 3.6666v-15.6508h-12v15.6508zm0 3.5158 5.9571 3.6404c1.3327.8145 3.0429-.1447 3.0429-1.7065v-17.4339c0-1.6569-1.3431-3-3-3h-12c-1.6569 0-3 1.3431-3 3v17.4339c0 1.5618 1.7102 2.521 3.0429 1.7065z",fill:"#fff",fillRule:"evenodd"})]})}var m=n(862960),_=n(941646),g=n(499128),v=n(464240),f=n(287072),y=n(89396),b=n(22641),x=n(467570),w=n(773285),S=n(50286),P=n(167912),T=n(780280),E=n(898781),I=n(112690),A=n(391968),k=n(833715),C=n(539497),R=n(883119),L=n(957161),j=n(276775),D=n(343341);function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const N=56,M=String(86),U=({text:e})=>(0,p.jsx)(R.xv,{align:"center",size:"100",children:e});class F extends i.PureComponent{constructor(...e){super(...e),O(this,"state",{invitePath:"",inviteCode:null,inviteMessage:"",inviteTitle:"",Clipboard:null,fbLoaded:!1}),O(this,"setClipboard",(e=>{const{Clipboard:t,invitePath:n}=this.state;(0,k.sF)(n,t,e,this.showCopyToast)})),O(this,"showCopyToast",(()=>{var e,t,n,i;this.logShareClick(12),this.setNewAppOrder(12),null===(e=(t=this.props).onShare)||void 0===e||e.call(t),this.props.showToast((({hideToast:e})=>(0,p.jsx)(g.ZP,{text:this.props.i18n._('Copied link to your clipboard to share', 'url link was copied to user clipboard', 'url link was copied to user clipboard'),onHide:e}))),null===(n=(i=this.props).setShareSent)||void 0===n||n.call(i,!0),(0,C.LW)({action:"click",pageLocation:this.props.location,item:"copy-link-share-icon"})})),O(this,"getDefaultAppOrder",(()=>{const{country:e,isDesktop:t}=this.props;return(0,k.pW)({country:e,isDesktop:t,shouldShowNativeShare:Boolean(navigator.share)})})),O(this,"getAppOrder",(()=>{const{isDesktop:e}=this.props;let t=JSON.parse((0,L.qn)(A.B));return!t||e?this.getDefaultAppOrder():(t=[...t.filter((e=>11!==e&&12!==e)),12],Boolean(navigator.share)&&t.push(11),t)})),O(this,"setNewAppOrder",(e=>{const{isDesktop:t}=this.props;t||A.F6.has(e)||(0,L.Nh)(A.B,JSON.stringify([e,...this.getAppOrder().filter((t=>t!==e))]))})),O(this,"handleMessagingAppClick",(e=>{var t,n,i,r;null===(t=(n=this.props).onShare)||void 0===t||t.call(n),null===(i=(r=this.props).setShareSent)||void 0===i||i.call(r,!0),this.logShareClick(e),this.setFreshInviteCode(e),A.rO.has(e)||(0,L.Nh)(A.Cq,e),this.setNewAppOrder(e)})),O(this,"handleMessengerClick",(()=>{(0,C.LW)({action:"click",pageLocation:this.props.location,item:"fbmessenger-share-icon"}),this.handleMessagingAppClick(6)})),O(this,"handleTwitterClick",(()=>{(0,C.LW)({action:"click",pageLocation:this.props.location,item:"twitter-share-icon"}),this.handleMessagingAppClick(9)})),O(this,"handleWhatsappClick",(()=>{(0,C.LW)({action:"click",pageLocation:this.props.location,item:"whatsapp-share-icon"}),this.handleMessagingAppClick(10)})),O(this,"handleLineClick",(()=>{this.handleMessagingAppClick(8)})),O(this,"handleTelegramClick",(()=>{this.handleMessagingAppClick(20)})),O(this,"handleViberClick",(()=>{this.handleMessagingAppClick(22)})),O(this,"handleEmailClick",(()=>{this.handleMessagingAppClick(3),(0,C.LW)({action:"click",pageLocation:this.props.location,item:"email-share-button"})})),O(this,"handleFacebookClick",(e=>{var t,n,i,r;const{isDesktop:o}=this.props;e.preventDefault(),null===(t=(n=this.props).onShare)||void 0===t||t.call(n),null===(i=(r=this.props).setShareSent)||void 0===i||i.call(r,!0),(0,C.My)(`pcons.${o?"desktop":"mobile"}.facebook-share-icon`),(0,C.LW)({action:"click",pageLocation:this.props.location,item:"facebook-share-icon"});const{inviteCode:a,invitePath:s,fbLoaded:l}=this.state;(0,k.Rh)(l,s,a||"",(()=>this.logShareClick(5))),this.setFreshInviteCode(5),this.setNewAppOrder(5)})),O(this,"handleSmsClick",(()=>{this.handleMessagingAppClick(4)})),O(this,"logShareClick",((e,t=this.state.inviteCode)=>{const{objectId:n,objectType:i,component:r,clientTrackingParams:o,logContextEvent:a,viewType:s,viewParameter:l}=this.props;(0,k.Iz)({inviteChannel:e,inviteCode:t,objectId:n,objectType:i,component:r,clientTrackingParams:o,logContextEvent:a,view_type:s,view_parameter:l})})),O(this,"copyButtonRef",null),O(this,"renderAppsInCustomOrder",(({Email:e,Facebook:t,FBMessenger:n,Line:r,WhatsApp:o,Twitter:a,Viber:s,Telegram:l,CopyLink:c,Sms:d,ShareVia:u})=>{const h=this.getAppOrder(),m=new Map([[6,n],[10,o],[5,t],[9,a],[3,e],[8,r],[20,l],[22,s],[4,d],[12,c],[11,u]]);return(0,p.jsx)(i.Fragment,{children:h.map((e=>m.get(e)))})})),O(this,"onHandleRepinSave",(({event:e,dangerouslyDisableOnNavigation:t})=>{var n,i;t(),null===(n=(i=this.props).onSave)||void 0===n||n.call(i),this.props.onNavigation({event:e})}))}componentDidMount(){this.setFreshInviteCode(12),(0,x.we)(this.props.locale).then((()=>{this.setState({fbLoaded:!0})})),n.e(6527).then(n.t.bind(n,842152,23)).then((({default:e})=>{e.isSupported()&&(this.setState({Clipboard:e}),this.setClipboard(this.copyButtonRef))}))}componentDidUpdate({objectId:e}){const{objectId:t}=this.props;e!==t&&this.setFreshInviteCode(12)}async setFreshInviteCode(e){const{objectId:t,objectType:n}=this.props,{invitePath:i,inviteCode:r,title:o,message:a}=await(0,k.yP)(e,t,n,this.props.relayEnvironment),s={};i&&(s.invitePath=i),r&&(s.inviteCode=r),o&&(s.inviteTitle=o),a&&(s.inviteMessage=a),this.setState(s)}render(){const{isDesktop:e,objectType:t,onSave:n,showSaveOption:i,isAppleDevice:r}=this.props,{invitePath:g,inviteMessage:f,inviteTitle:x}=this.state,{emailShareLink:w,messengerShareLink:S,twitterShareLink:P,whatsappShareLink:T,lineShareLink:E,telegramShareLink:I,viberShareLink:A,smsShareLink:C}=(0,k.tA)({invitePath:g,inviteTitle:x,objectType:t,i18n:this.props.i18n,isDesktop:e}),L=({children:t})=>(0,p.jsx)(R.kC,{alignItems:"center",justifyContent:"start",direction:"column",width:e?`${M}px`:"100%",children:t}),j=({children:e})=>(0,p.jsx)(R.xu,{display:"flex",justifyContent:"center",paddingX:3,marginBottom:1,children:e}),D=(0,p.jsxs)(L,{children:[(0,p.jsx)(j,{children:(0,p.jsx)(_.Z,{id:"fbmessenger-share-icon",children:(0,p.jsx)(R.iP,{rounding:"circle",role:"link",rel:"nofollow",href:S,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleMessengerClick()},children:(0,p.jsx)(u.Z,{size:N})})})}),(0,p.jsx)(U,{text:this.props.i18n._('Messenger', 'shareMenu.icon.label.messenger', 'Facebook Messenger App')})]}),O=(0,p.jsxs)(L,{children:[(0,p.jsx)(j,{children:(0,p.jsx)(_.Z,{id:"whatsapp-share-icon",children:(0,p.jsx)(R.iP,{rounding:"circle",role:"link",rel:"nofollow",href:T,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleWhatsappClick()},children:(0,p.jsx)(b.Z,{size:N})})})}),(0,p.jsx)(U,{text:this.props.i18n._('WhatsApp', 'shareMenu.icon.label.whatsapp', 'WhatsApp App')})]}),F=(0,p.jsx)(R.xu,{"data-test-id":"facebook-share-icon",display:"flex",flex:"shrink",children:(0,p.jsxs)(L,{children:[(0,p.jsx)(j,{children:(0,p.jsx)(R.rU,{href:"#",onClick:({event:e})=>{this.handleFacebookClick(e)},children:(0,p.jsx)(s.Z,{size:N})})}),(0,p.jsx)(U,{text:this.props.i18n._('Facebook', 'shareMenu.icon.label.facebook', 'Facebook App')})]})}),z=(0,p.jsxs)(L,{children:[(0,p.jsx)(j,{children:(0,p.jsx)(_.Z,{id:"twitter-share-icon",children:(0,p.jsx)(R.iP,{rounding:"circle",role:"link",rel:"nofollow",href:P,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleTwitterClick()},children:(0,p.jsx)(v.Z,{size:N})})})}),(0,p.jsx)(U,{text:this.props.i18n._('Twitter', 'shareMenu.icon.label.twitter', 'Twitter App')})]}),Z=(0,p.jsxs)(L,{children:[(0,p.jsx)(j,{children:(0,p.jsx)(R.iP,{rounding:"circle",role:"link",rel:"nofollow",href:E,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleLineClick()},children:(0,p.jsx)(c.Z,{size:N})})}),(0,p.jsx)(U,{text:this.props.i18n._('Line', 'shareMenu.icon.label.line', 'Line App')})]}),B=(0,p.jsxs)(L,{children:[(0,p.jsx)(j,{children:(0,p.jsx)(R.iP,{rounding:"circle",role:"link",rel:"nofollow",href:A,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleViberClick()},children:(0,p.jsx)(y.Z,{size:N})})}),(0,p.jsx)(U,{text:this.props.i18n._('Viber', 'shareMenu.icon.label.viber', 'Viber App')})]}),H=(0,p.jsxs)(L,{children:[(0,p.jsx)(j,{children:(0,p.jsx)(R.iP,{rounding:"circle",role:"link",rel:"nofollow",href:I,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleTelegramClick()},children:(0,p.jsx)(m.Z,{size:N})})}),(0,p.jsx)(U,{text:this.props.i18n._('Telegram', 'shareMenu.icon.label.telegram', 'Telegram App')})]}),V=(0,p.jsxs)(L,{children:[(0,p.jsx)(j,{children:(0,p.jsx)(_.Z,{id:"email-share-button",children:(0,p.jsx)(R.iP,{rounding:"circle",role:"link",rel:"nofollow",target:"blank",href:w,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleEmailClick()},children:(0,p.jsx)(a.Z,{size:N})})})}),(0,p.jsx)(U,{text:this.props.i18n._('Email', 'shareMenu.icon.label.email', 'Email App')})]}),W=(0,p.jsxs)(L,{children:[(0,p.jsx)(j,{children:(0,p.jsx)(R.iP,{rounding:"circle",role:"link",rel:"nofollow",target:"blank",href:"#",onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{var n,i;e.preventDefault(),null===(n=(i=this.props).onShare)||void 0===n||n.call(i),t();const r=f.indexOf("https://");navigator.share&&navigator.share({url:g,text:r>0?f.slice(0,r):f,title:x}).then((()=>{this.handleMessagingAppClick(11),d.Z.increment("allshareoptions_navigator_share.success",1)})).catch((e=>{d.Z.increment("allshareoptions_navigator_share.error",1,{name:e.name,message:e.message})}))},children:(0,p.jsx)(R.xu,{height:N,children:(0,p.jsx)(R.hU,{accessibilityLabel:this.props.i18n._('Native share sheet icon', 'shareMenu.icon.accessibilityLabel.native_share_sheet', 'Accessibility label for native share sheet icon'),bgColor:"lightGray",icon:"share",iconColor:"darkGray",size:"xl"})})})}),(0,p.jsx)(U,{text:this.props.i18n._('Share via', 'shareMenu.icon.label.share_via', 'Share via label')})]}),G=(0,p.jsxs)(L,{children:[(0,p.jsx)(j,{children:(0,p.jsx)(R.iP,{rounding:"circle",role:"link",rel:"nofollow",href:C,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleSmsClick()},children:r?(0,p.jsx)(l.Z,{size:N}):(0,p.jsx)(o.Z,{size:N})})}),(0,p.jsx)(U,{text:this.props.i18n._('Message', 'shareMenu.icon.label.message', 'Message App')})]}),$=(0,p.jsxs)(L,{children:[(0,p.jsx)(j,{children:(0,p.jsx)(R.xu,{ref:this.setClipboard,dangerouslySetInlineStyle:{__style:{cursor:e?"pointer":void 0}},"data-test-id":"copy-link-share-icon",height:N,children:(0,p.jsx)(R.hU,{accessibilityLabel:this.props.i18n._('Link icon', 'shareMenu.icon.accessibilityLabel.copy', 'Accessibility label for copy link icon'),bgColor:"lightGray",icon:"link",iconColor:"darkGray",size:"xl"})})}),(0,p.jsx)(U,{text:this.props.i18n._('Copy link', 'shareMenu.icon.label.copy', 'Copy link icon')})]});return(0,p.jsxs)(R.xu,{children:[(0,p.jsx)(R.xu,{height:4}),(0,p.jsx)(R.kC,{alignItems:"stretch",justifyContent:"start",overflow:"hidden",children:(0,p.jsxs)(R.xu,{display:"flex",justifyContent:"start",height:e?180:void 0,width:e?370:"100vw",marginBottom:-2,paddingX:1,paddingY:2,overflow:e?void 0:"scrollX",wrap:e,children:[i&&n&&(()=>(0,p.jsxs)(L,{children:[(0,p.jsx)(j,{children:(0,p.jsx)(R.iP,{rounding:"circle",onTap:this.onHandleRepinSave,children:(0,p.jsx)(h,{size:N})})}),(0,p.jsx)(U,{text:this.props.i18n._('Save', 'shareMenu.icon.label.save', 'Save')})]}))(),this.renderAppsInCustomOrder({Email:V,Facebook:F,FBMessenger:D,Line:Z,WhatsApp:O,Twitter:z,Viber:B,Telegram:H,CopyLink:$,Sms:G,ShareVia:W})]})}),(0,p.jsx)(R.xu,{height:16})]})}}function z(e){const t=(0,E.ZP)(),n=(0,j.useLocation)(),i=(0,S.HG)(),{showToast:o}=(0,D.F9)(),{country:a,locale:s}=(0,T.B)(),l=(0,f.Z)({href:{pathname:`/pin/${e.objectId}/repin`,state:{viewType:e.viewType,viewParameter:e.viewParameter}}}),{checkExperiment:c}=(0,w.F)(),d=(0,r.useSelector)((({session:e})=>e.userAgentPlatform)),u="ios"===d||"ipad"===d,h=c("graphql_migration_sharesheet_sgrowth_web").anyEnabled,m=(0,P.useRelayEnvironment)(),_=(0,I.Z)();return(0,p.jsx)(F,{...e,country:a,i18n:t,isDesktop:i,locale:s,showToast:o,onNavigation:l,location:n,logContextEvent:_,isAppleDevice:u,relayEnvironment:h?m:void 0})}},833715:(e,t,n)=>{n.d(t,{Iz:()=>g,Rh:()=>p,pW:()=>d,rL:()=>_,sF:()=>h,tA:()=>u,yP:()=>m});var i,r,o=n(6637),a=n(467570),s=n(867060),l=n(167912);const c={FBMessenger:6,WhatsApp:10,Facebook:5,Twitter:9,Email:3,Line:8,Telegram:20,Viber:22,Sms:4,CopyLink:12,ShareVia:11};function d({country:e,isDesktop:t,shouldShowNativeShare:n}){const{FBMessenger:i,WhatsApp:r,Facebook:o,Twitter:a,Email:s,Line:l,Telegram:d,Viber:u,Sms:p,CopyLink:h,ShareVia:m}=c;function _(){switch(e){case"US":return t?[r,o,a,s]:[p,i,r,o,a];case"ID":return t?[r,l,s,o]:[r,d,p,l,s,o];case"JP":case"TH":case"TW":return t?[l,a,s,o]:[l,s,p,a,o];case"GR":return t?[r,o,a,s]:[u,i,r,p,o,a];case"IR":case"IQ":return t?[r,o,a,s]:[r,d,p,i,a];case"UA":case"RU":return t?[r,o,a,s]:[r,u,d,o,i,p,a];default:return t?[r,o,a,s]:[r,i,p,o,a]}}return t?[h,..._()]:[..._(),h,...n?[m]:[]]}function u({invitePath:e,inviteTitle:t,objectType:n,i18n:i,isDesktop:r}){let o=i._('A Pin for you', 'shareMenu.message.title', 'Messaging title when sharing a pin to a friend');8===n&&(o=i._('Check out this article on Pinterest!', 'shareMenu.message.title', 'Messaging title when sharing a today article to a friend'));const s=`mailto:?subject=${encodeURIComponent(o)}&body=${encodeURIComponent(e)}`,l=`fb-messenger://share/?link=${encodeURIComponent(e)}&app_id=${a.GH}`,c=`${t}\n${e}`,d=r?`https://twitter.com/intent/tweet?via=pinterest&url=${encodeURIComponent(c)}`:`twitter://post?message=${encodeURIComponent(c)}`,u=r?`https://web.whatsapp.com/send?text=${encodeURIComponent(c)}`:`whatsapp://send?text=${encodeURIComponent(c)}`,p=r?`https://social-plugins.line.me/lineit/share?url=${encodeURIComponent(e)}&text=${encodeURIComponent(t)}`:`https://line.me/R/msg/text/?${encodeURIComponent(c)}`,h=`viber://forward?text=${encodeURIComponent(c)}`;return{emailShareLink:s,messengerShareLink:l,twitterShareLink:d,whatsappShareLink:u,lineShareLink:p,telegramShareLink:`tg://msg?text=${encodeURIComponent(c)}`,viberShareLink:h,smsShareLink:`sms:?&body=${encodeURIComponent(c)}`}}function p(e,t,n,i){e&&window.FB&&window.FB.ui&&window.FB.ui({method:"share",mobile_iframe:!0,href:t},(e=>{e&&!e.error_message&&i&&i()}))}function h(e,t,n,i){if(!n||!t)return;const r=new t(n,{text:()=>e});r.on("success",(e=>{i&&i(e)})),r.on("error",(e=>{throw new Error("<ShareMenu /> error: copy command failed")}))}async function m(e,t,r,a){if(a)return((e,t,r,o,a)=>{const s=void 0!==i?i:i=n(865107),c={invite_category:t,invite_object:r,invite_channel:o};return(0,l.fetchQuery)(e,s,{inviteType:JSON.stringify(c),objectId:a}).toPromise().then((e=>{var t;return Promise.resolve((e=>{var t,n,i,r;return{inviteCode:null!==(t=null==e?void 0:e.inviteCode)&&void 0!==t?t:"",invitePath:null!==(n=null==e?void 0:e.inviteUrl)&&void 0!==n?n:"",title:null!==(i=null==e?void 0:e.title)&&void 0!==i?i:"",message:null!==(r=null==e?void 0:e.message)&&void 0!==r?r:""}})(null==e||null===(t=e.v3InviteUserExternalQuery)||void 0===t?void 0:t.data))}),(e=>Promise.reject(e)))})(a,3,r,e.toString(),t);{const n=o.Z.create("CreateExternalInviteResource",{invite_type:{invite_category:3,invite_object:r,invite_channel:e},object_id:t}),i=await n.callCreate(),{invite_url:a,invite_code:s,title:l,message:c}=i.resource_response.data;return{inviteCode:s,invitePath:a,title:l,message:c}}}const _=(e,t,i,o,a,s)=>{const c=void 0!==r?r:r=n(361600),d={inviteType:JSON.stringify({invite_category:t,invite_object:i,invite_channel:o}),inviteCode:a,objectId:s};(0,l.commitMutation)(e,{mutation:c,variables:{...d}})};async function g({inviteChannel:e,inviteCode:t,objectId:n,objectType:i,component:r,clientTrackingParams:a,logContextEvent:l,view_parameter:c,view_type:d}){l({aux_data:{invite_object:i},object_id_str:n,component:r,clientTrackingParams:a,element:s.c[e],event_type:102,view_type:d,view_parameter:c}),o.Z.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:3,invite_object:i,invite_channel:e},invite_code:t,object_id:n,client_tracking_params:a}).callCreate()}},203345:(e,t,n)=>{n.r(t),n.d(t,{default:()=>G});var i=n(667294),r=n(209236),o=n(702664),a=n(766935),s=n(940519),l=n(936776),c=n(172071),d=n(6637),u=n(700380),p=n(784590),h=n(19121),m=n(479739),_=n(773285),g=n(281180),v=n(25719),f=n(116303),y=n(499128),b=n(898781),x=n(728214),w=n(349700),S=n(479301),P=n(883119),T=n(276775),E=n(343341),I=n(785893);function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class k extends i.PureComponent{constructor(...e){var t;super(...e),t=this,A(this,"state",{viewConversation:!1,isSent:!1,path:""}),A(this,"renderViewConversationButton",(()=>{const{viewConversation:e}=this.state;return e?(0,I.jsxs)(P.kC,{alignItems:"center",direction:"row",flex:"grow",justifyContent:"center",children:[(0,I.jsx)(P.zx,{fullWidth:!0,size:"sm",text:this.props.i18n._('View chat', 'View current chat', 'View current chat'),color:"white",onClick:()=>{this.onViewConversation()}}),(0,I.jsx)(P.JO,{icon:"arrow-forward",color:"default",accessibilityLabel:this.props.i18n._('View chat', 'View current chat', 'View current chat')})]}):(0,I.jsxs)(P.kC,{alignItems:"center",direction:"row",flex:"grow",justifyContent:"center",children:[(0,I.jsx)(P.xu,{marginEnd:2,children:(0,I.jsx)(P.JO,{icon:"check",color:"default",accessibilityLabel:this.props.i18n._('sent', 'content is sent', 'content is sent')})}),(0,I.jsx)(P.xu,{marginEnd:2,children:(0,I.jsx)(P.xv,{size:"300",color:"subtle",weight:"bold",children:this.props.i18n._('Sent', 'mweb.sharemenu.contactItem.isSent', 'Text notification indicating a Pin has been sent to a pinner')})})]})})),A(this,"onViewConversation",(()=>{const{path:e}=this.state;c.Z.increment("mweb_sharesheet_view_conversation",1),this.props.history.push(e)})),A(this,"onInlineSend",this.props.requireAuthForLimitedLogin({fn:async function(){const e={1:"pin",2:"board",3:"user",8:"today_article"},{createConversation:n,i18n:i,isFullHeight:r,onDismiss:o,setShareSent:a,recipient:s,sendObject:l,showToast:d,email:u,updateCachedContactsAfterSend:p,userId:h}=t.props,m=e[l.objectType];t.setState({isSent:!0});try{const e=await n({user_ids:s?[s.id,h]:void 0,[m]:l.objectId,emails:u?[u]:void 0});if(e){const n=e.id;t.setState({path:`/conversation/${n}`,viewConversation:!0}),c.Z.increment("mweb_sharesheet.inline_send",1,{success:!0}),a(!0),null==p||p(),!r&&o&&(d((({hideToast:e})=>(0,I.jsx)(y.ZP,{dataTestId:"sharesheet-inline-send-toast",primaryAction:{accessibilityLabel:i._('View the conversation', 'ContactItem.ConfirmationToast.a11yButtonText', 'Button on confirmation toast after a user sends a Pin/Board/Profile to view the conversation'),label:i._('View', 'ContactItem.ConfirmationToast.buttonText', 'Button on confirmation toast after a user sends a Pin/Board/Profile to view the conversation'),onClick:t.onViewConversation},duration:4e3,onHide:e,text:(0,w.Wc)(i._('Sent to {{recipientName}}!', 'ContactItem.ConfirmationToast.text', 'Confirmation toast after a user sends a Pin/Board/Profile'),{recipientName:(null==s?void 0:s.full_name)||""}),iconThumbnail:(0,I.jsx)(f.Z,{size:"fit",src:(null==s?void 0:s.image_large_url)||"",name:(null==s?void 0:s.full_name)||""}),thumbnailShape:"circle"}))),o(n))}}catch(_){d((({hideToast:e})=>(0,I.jsx)(y.ZP,{variant:"error",text:(null==_?void 0:_.message_detail)||(null==_?void 0:_.message)||i._('Failed to create conversation.', 'ContactItem.errorToast.text', 'Error during message send from the share sheet'),onHide:e}))),t.setState({isSent:!1}),c.Z.increment("mweb_sharesheet.inline_send",1,{success:!1,error:_})}}}))}render(){var e,t,n,i;const{isFullHeight:r,recipient:o,email:a}=this.props,{isSent:s}=this.state;return!r&&o?(0,I.jsxs)(P.xu,{"data-test-id":"sharesheet-send-button",display:"flex",direction:"column",paddingX:3,paddingY:4,children:[(0,I.jsx)(P.iP,{onTap:()=>this.onInlineSend(),children:(0,I.jsx)(P.xu,{height:56,marginBottom:1,width:56,children:(0,I.jsx)(f.Z,{size:"fit",src:null!==(e=o.image_large_url)&&void 0!==e?e:"",name:null!==(t=o.full_name)&&void 0!==t?t:""})})}),(0,I.jsx)(P.xu,{width:56,children:(0,I.jsx)(P.xv,{lineClamp:1,size:"100",align:"center",children:o.full_name})})]}):(0,I.jsxs)(P.xu,{"data-test-id":"sharesheet-send-button",position:"relative",direction:"row",display:"flex",width:"100%",alignItems:"center",justifyContent:"between",paddingY:2,children:[o?(0,I.jsx)(P.xu,{children:(0,I.jsx)(f.Z,{size:"md",src:null!==(n=o.image_large_url)&&void 0!==n?n:"",name:null!==(i=o.full_name)&&void 0!==i?i:""})}):a&&(0,I.jsx)(P.xu,{children:(0,I.jsx)(f.Z,{size:"md",name:a})}),(0,I.jsx)(P.xu,{paddingX:2,flex:"grow",maxWidth:"71%",children:(0,I.jsx)(P.xv,{lineClamp:1,weight:"bold",children:o?o.full_name:a&&s?a:(0,w.nk)(this.props.i18n._('invite {{email}}', 'mweb.newMessage.searchEmail', 'invite from email'),{email:a})})}),(0,I.jsx)(P.xu,{"data-test-id":"sharesheet-viewchat-link",right:!0,flex:"none",maxWidth:"100%",children:s?this.renderViewConversationButton():(0,I.jsx)(P.zx,{fullWidth:!0,size:"lg",color:"gray",text:this.props.i18n._('Send', 'Send current content', 'Send current content'),onClick:()=>{this.onInlineSend()}})})]})}}function C(e){const t=(0,T.useHistory)(),n=(0,b.ZP)(),i=(0,x.Z)(),{showToast:r}=(0,E.F9)(),o=(0,S.aX)();return(0,p.Z)({name:"ConversationsResource",options:{user_ids:[e.userId]}}),(0,I.jsx)(k,{...e,createConversation:o,history:t,i18n:n,requireAuthForLimitedLogin:i,showToast:r})}var R=n(112690),L=n(379725);function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const D={boxShadow:"0 6px 8px -4px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"};class O extends i.PureComponent{componentDidUpdate(e){const{fetching:t}=e,{value:n}=this.state,i=t&&!this.props.fetching,r=this.getContactSuggestions();if(!n&&i){const e=r.length>0?7511:7512;this.props.logContextEvent({event_type:e,view_type:70,view_parameter:256})}}constructor(e){super(e),j(this,"state",{value:"",showScrollShadow:!1,defaultSuggestions:[],loadingDefaultSuggestions:!0}),j(this,"onSearchChange",(({value:e})=>{const{userId:t,searchContacts:n}=this.props,i={options:{user:t,term:e}};this.setState({value:e},n(i))})),j(this,"getContactSuggestions",(()=>{const{typeaheadSuggestions:e,userId:t,users:n}=this.props,{value:i,defaultSuggestions:r}=this.state;if(!i)return r.filter((e=>n[e.id]))||[];const o=`share-suggestions:${t}:${i}`,a=`share-suggestions:${t}:${i.slice(0,-1)}`;return e[o]||e[a]||[]})),j(this,"renderContactSuggestions",(()=>{const{expandContactsList:e,fetching:t,i18n:n,isFullHeight:i,onDismiss:r,sendObject:o,setShareSent:a,userId:s,users:c,updateCachedContactsAfterSend:d}=this.props,{loadingDefaultSuggestions:u,value:p}=this.state,h=this.getContactSuggestions(),m=t||u;let _;return _=!i&&m?107:"100%",m?(0,I.jsx)(P.xu,{alignItems:"center",display:"flex",justifyContent:"center",height:_,paddingY:2,children:(0,I.jsx)(P.$j,{show:!0,accessibilityLabel:n._('Searching for contacts', 'Placeholder text for spinner on share menu', 'Placeholder text for spinner on share menu')})}):0===h.length&&!(0,l.Z)(p)&&p&&i?(0,I.jsx)(P.xu,{marginTop:3,children:(0,I.jsx)(P.xv,{align:"center",children:n._('Sorry, we can\'t find anyone by that name.', 'Text to show empty state when a contact can not be found', 'Text to show empty state when a contact can not be found')})}):(0,I.jsx)(P.kC,{direction:i?"column":"row",overflow:i?void 0:"hidden",children:(0,I.jsxs)(P.xu,{display:i?void 0:"flex",height:_,overflow:i?void 0:"scrollX",marginBottom:0,marginTop:0,paddingX:i?4:1,paddingY:0,children:[0===h.length&&(0,l.Z)(p)&&(0,I.jsx)(C,{email:p,isFullHeight:i,sendObject:o,setShareSent:a,userId:s}),!i&&(0,I.jsxs)(P.xu,{alignItems:"center",display:"flex",direction:"column",paddingX:3,paddingY:4,children:[(0,I.jsx)(P.xu,{height:56,marginBottom:1,width:56,children:(0,I.jsx)(P.hU,{accessibilityLabel:n._('Search for users', 'ContactsSuggestsions.SearchIcon.accessibilityLabel', 'Accessibility label for search icon in Contacts Suggestions list'),bgColor:"lightGray",icon:"search",iconColor:"darkGray",onClick:e,size:"xl"})}),(0,I.jsx)(P.xv,{lineClamp:1,size:"100",children:n._('Search', 'ContactsSuggestions.SearchOption.text', 'Label for search icon in Contacts Suggestions list')})]}),h.map((e=>{var t;return(0,I.jsx)(C,{isFullHeight:i,onDismiss:r,recipient:c[null!==(t=e.id)&&void 0!==t?t:""],sendObject:o,setShareSent:a,userId:s,updateCachedContactsAfterSend:d},e.id)}))]})})})),this.scrollerRef=(0,i.createRef)()}async componentDidMount(){const{inContactsCacheExp:e,cachedShareSuggestions:t,getFreshContactSuggestions:n,updateCachedShareSuggestions:i}=this.props;if(e)if(t)this.setState({loadingDefaultSuggestions:!1,defaultSuggestions:t});else{const e=await n()||[];i(e),this.setState({loadingDefaultSuggestions:!1,defaultSuggestions:e})}else{const e=await n()||[];this.setState({loadingDefaultSuggestions:!1,defaultSuggestions:e})}}render(){const{showScrollShadow:e}=this.state,{isFullHeight:t,expandContactsList:n}=this.props,r=(0,u.Z)((()=>{const e=this.scrollerRef.current;e&&!Number.isNaN(e.scrollTop)&&this.setState({showScrollShadow:e.scrollTop>0})}),100);return(0,I.jsx)(i.Fragment,{children:t?(0,I.jsxs)(P.xu,{color:"default",display:"flex",direction:"column",paddingX:0,height:"90%",children:[(0,I.jsx)(P.xu,{"data-test-id":"contact-suggestion-search-field",paddingY:2,color:"default",paddingX:4,dangerouslySetInlineStyle:{__style:e?D:null},children:(0,I.jsx)(s.Z,{accessibilityLabel:this.props.i18n._('search contact', 'Accessibility label for searchbar on share menu', 'Accessibility label for searchbar on share menu'),id:"contactsSuggestSearchField",onChange:this.onSearchChange,onFocus:n,placeholder:this.props.i18n._('Search by name or email', 'Placeholder text for searchbar on share menu', 'Placeholder text for searchbar on share menu'),value:this.state.value,autoFocus:t})}),(0,I.jsx)(P.xu,{display:"flex",direction:"column",paddingY:1,overflow:"scrollY",onScroll:r,ref:this.scrollerRef,children:this.renderContactSuggestions()})]}):(0,I.jsx)(P.xu,{children:this.renderContactSuggestions()})})}}function N(e){const t=(0,b.ZP)(),n=(0,g.kW)(),i=(0,R.Z)(),{id:r}=(0,h.Z)(),s=(0,o.useDispatch)();(0,p.Z)({name:"ShareSuggestionsTypeaheadResource",options:{term:"",user:r}});const l=(0,o.useSelector)((t=>(0,m.oF)(t,e))),u=(0,o.useSelector)((e=>e.resources.ShareSuggestionsTypeaheadResource)),f=Object.keys(u||{}).some((e=>u[e].fetching)),{cachedShareSuggestions:y,clearCachedShareSuggestions:x,updateCachedShareSuggestions:w}=(0,v.$)(),S=async()=>{let e;const t=d.Z.create("ShareSuggestionsResource",{suggestion_type:"share"});try{var n;e=null===(n=(await t.callGet()).resource_response)||void 0===n?void 0:n.data}catch(i){c.Z.increment("mweb_share_menu_load_suggestions.fail.share",1)}return e},{checkExperiment:P}=(0,_.F)(),T=P("mweb_cache_contacts_share").anyEnabled;return(0,I.jsx)(O,{...e,i18n:t,logContextEvent:i,users:n,searchContacts:e=>{(0,a.Z)(s((0,L.U)("ShareSuggestionsTypeaheadResource",e)),200)},fetching:f,userId:r||"",typeaheadSuggestions:l,inContactsCacheExp:T,cachedShareSuggestions:y,getFreshContactSuggestions:S,updateCachedContactsAfterSend:async()=>{if(T){x();const e=await S();e&&w(e)}},updateCachedShareSuggestions:w})}var M=n(141280),U=n(121151),F=n(667679),z=n(539497),Z=n(53987),B=n(50286);const H=14121,V=({heading:e,onDismiss:t})=>{const n=(0,b.ZP)();return(0,I.jsxs)(P.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,I.jsx)(P.xu,{display:"flex",alignItems:"center",padding:1,children:(0,I.jsx)(P.hU,{accessibilityLabel:n._('Close', 'close share menu', 'close share menu'),icon:"cancel",onClick:t,size:"sm",iconColor:"darkGray",padding:4})}),(0,I.jsx)(P.xu,{display:"flex",flex:"grow",alignItems:"center",justifyContent:"center",marginEnd:12,children:(0,I.jsx)(P.xv,{align:"center",weight:"bold",children:(0,I.jsx)("span",{className:"deprecatedTextSizeXL",children:e})})})]})},W=({children:e,isOpen:t,onDismiss:n,childPaddingX:i=3,shouldRenderCloseIcon:r,shouldRenderFullHeight:o,heading:a})=>{const s=(0,b.ZP)(),l={mobileAccessibilityCloseIconLabel:s._('close send modal', ' - ', ' -- '),accessibilityModalLabel:"",heading:a,mobileHideCloseIcon:!r,isOpen:t,onDismiss:n,type:"share_menu"};return o?(0,I.jsxs)(M.Z,{isOpen:t,accessibilityModalLabel:a,children:[(0,I.jsx)(V,{heading:a,onDismiss:n}),e]}):(0,I.jsx)(U.ZP,{...l,children:(0,I.jsx)(P.xu,{marginTop:r?0:4,paddingX:i,children:e})})},G=({isOpen:e,onDismiss:t,objectType:n,objectId:o,hideContactsSuggestions:a,clientTrackingParams:s,element:l,viewType:d,viewParameter:u})=>{const p=(0,b.ZP)(),[m,g]=(0,i.useState)(!1),[v,f]=(0,i.useState)(!1),y=m||!a,x=(0,T.useLocation)(),w=(0,B.HG)(),{isAuth:S}=(0,h.Z)(),{checkExperiment:E}=(0,_.F)(),A=(0,F.Z)(),k=(0,R.Z)(),C=e=>{E("mweb_share_menu_logging").anyEnabled&&k({clientTrackingParams:s,component:H,event_type:v||e?7493:7492,element:13097,view_type:70,view_parameter:u,aux_data:{invite_object:n}});const i=(e=>(0,Z.cD)(e)?"profile_page":(0,Z.am)(e)?"board_page":(0,Z.uM)(e)?"pin_page":"unknown")(x),r=!w&&!S&&E("unauth_mweb_after_invite_signup_modal").anyEnabled;(0,z.LW)({action:"click",pageLocation:x,item:"close-share-menu"}),t(),r&&v&&A({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:`tap_unauth_${i}_share_menu_click_invite`}),f(!1),(0,z.My)(`mweb_${i}_share_menu.click_invite.close`)},L=E("mweb_share_menu_logging").anyEnabled;(0,i.useEffect)((()=>{e&&k({event_type:7120,component:H,object_id_str:o,clientTrackingParams:L?s:null,element:L?l:null,view_type:L?d:70,view_parameter:L?u:256,aux_data:L?{invite_object:n}:void 0})}),[e,E,L]);const j=(0,B.Wb)(),D=p._('Send on Pinterest', 'Heading for share contacts search', 'Heading for share contacts search'),O=p._('Share', 'ShareMenu.AllShareOptions.HeaderText', 'Header for social share options section of the share menu'),M=m?D:(0,I.jsx)(P.xu,{marginTop:0,children:(0,I.jsx)(P.xv,{align:"center",weight:"bold",size:"300",children:y?D:O})});return(0,I.jsx)(W,{isOpen:e,onDismiss:m?()=>{g(!1),c.Z.increment("mweb_sharesheet.contacts.collapse",1)}:()=>C(),shouldRenderFullHeight:m,shouldRenderCloseIcon:!0,childPaddingX:0,heading:M,children:(0,I.jsxs)(P.xu,{marginBottom:8,marginTop:m||!y?0:-4,maxWidth:j?440:"100%",children:[y&&(0,I.jsx)(N,{sendObject:{objectId:o,objectType:n},expandContactsList:()=>{g(!0),c.Z.increment("mweb_sharesheet.contacts.expand",1)},isFullHeight:m,onDismiss:C,setShareSent:e=>f(e)}),!m&&(0,I.jsxs)(i.Fragment,{children:[y&&(0,I.jsxs)(P.xu,{marginTop:4,paddingX:4,children:[(0,I.jsx)(P.iz,{}),(0,I.jsx)(P.xu,{marginTop:8,children:(0,I.jsx)(P.xv,{align:"center",size:"300",weight:"bold",children:O})})]}),(0,I.jsx)(r.Z,{objectId:o,objectType:n,viewType:L?d:70,viewParameter:u,onDismiss:C,setShareSent:e=>f(e),clientTrackingParams:s,component:H})]})]})})}},25719:(e,t,n)=>{n.d(t,{$:()=>s,l:()=>l});var i=n(667294),r=n(425288),o=n(785893);const{Provider:a,useHook:s}=(0,r.Z)("ShareSuggestions");function l({children:e}){const[t,n]=(0,i.useState)(void 0),r=(0,i.useCallback)((()=>{n(void 0)}),[]),s=(0,i.useCallback)((e=>{n(e)}),[]),l=(0,i.useMemo)((()=>({cachedShareSuggestions:t,clearCachedShareSuggestions:r,updateCachedShareSuggestions:s})),[t,r,s]);return(0,o.jsx)(a,{value:l,children:e})}},391968:(e,t,n)=>{n.d(t,{B:()=>o,Cq:()=>r,F6:()=>u,RV:()=>i,VZ:()=>a,W_:()=>l,bm:()=>s,iS:()=>p,rO:()=>d,zn:()=>c});const i="animatedShareIconLastViewed",r="lastUsedSocialShare",o="customizedSocialAppOrder",a=44,s=9e5,l=4e3,c=5e3,d=new Set([12,3,11]),u=new Set([11,12]),p=new Map([["AU",6],["CA",6],["DK",6],["DZ",6],["GE",6],["HU",6],["LT",6],["NO",6],["NP",6],["NZ",6],["PH",6],["PL",6],["SK",6],["TN",6],["US",6],["JP",8],["TW",8],["TH",8],["IQ",20],["KH",20],["MM",20],["UZ",20],["BA",22],["BG",22],["BY",22],["CY",22],["GR",22],["MD",22],["RS",22],["UA",22]])},940519:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294),r=n(883119),o=n(785893);class a extends i.Component{constructor(...e){var t,n,i;super(...e),i=e=>{e&&(this.searchRef=e)},(n="setSearchRef")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){this.props.autoFocus&&this.searchRef.focus()}render(){const{accessibilityLabel:e,id:t,onBlur:n,onChange:i,onFocus:a,placeholder:s,value:l}=this.props;return(0,o.jsx)(r.Um,{accessibilityLabel:e,id:t,onBlur:n,onChange:i,onFocus:a,placeholder:s,ref:this.setSearchRef,size:"lg",value:l})}}},226343:(e,t,n)=>{n.d(t,{Z:()=>_,e:()=>p});var i=n(702664),r=n(240684),o=n(67223),a=n(131108),s=n(599997),l=n(883119),c=n(332611),d=n(785893);const u=(0,r.ZP)({resolved:{},chunkName:()=>"storyPins-HlsVideoContainer",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(58922).then(n.bind(n,501685)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 501685}}),p=Object.freeze({white:"inverse",black:"default"}),h={defaultOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"}};function m({titleText:e,videoPin:t,videoPlaceholderImage:n}){return(0,d.jsx)(u,{fallback:(0,d.jsx)(l.Ee,{alt:e||"",color:"rgb(111, 91, 77)",fit:"cover",naturalHeight:3,naturalWidth:2,src:n||t.metadata.thumbnail}),aspectRatio:s.q4,controls:!1,poster:n||t.metadata.thumbnail,src:t.url})}function _({buttonAction:e,buttonCustomization:t,buttonText:n,experience:r,hideCompleteButton:u,imageAlt:p,imageUrl:_,openNewTab:g,storyType:v,titleText:f,titleTextColor:y,titleTextCustomization:b,videoPin:x,videoPlaceholderImage:w}){var S;const P=(0,i.useDispatch)(),{experience_id:T,placement_id:E}=r||{},I=(0,o.Z)({onVisibilityChanged:e=>{e&&r&&"viewed"!==r.status&&(r.status="viewed",P((0,c.UT)(E,T,!1,!0)))}}),A=(0,s.zn)(v),k=A?a.f8:a.hm,C=A?a.sH:a.HI,R=!A,{color:L,fontStyle:j,fontWeight:D,horizontalAlignment:O,fontSize:N}=(0,s.Mf)(b||{},"mweb"),{button_background_color:M,button_text_color:U}=t||{};return(0,d.jsx)(l.xu,{position:"relative",padding:1,marginBottom:2,ref:I,children:(0,d.jsxs)(l.rU,{accessibilityLabel:f,href:e,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),r&&P((0,c.CK)(E,T,!1,!0))},target:g?"blank":null,children:[(0,d.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(150%)"}},position:"relative",children:(0,d.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},top:!0,right:!0,bottom:!0,left:!0,overflow:"hidden",position:"absolute",rounding:4,children:[(0,d.jsx)(l.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:"feed_card_video"===v&&x?(0,d.jsx)(m,{titleText:f,videoPin:x,videoPlaceholderImage:w}):_&&(0,d.jsx)(l.Ee,{alt:p||f||"",color:"rgb(111, 91, 77)",naturalHeight:4,naturalWidth:3,src:_,fit:"cover"})}),R&&(0,d.jsx)(l.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:h.defaultOverlay},position:"absolute",top:!0,left:!0}),(0,d.jsx)(k,{children:(0,d.jsx)(l.xv,{align:O,color:y,italic:"italics"===j,weight:D,children:(0,d.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{color:null!==(S=L||y)&&void 0!==S?S:void 0,fontSize:N}},children:f})})})]})}),!u&&(0,d.jsx)(C,{children:(0,d.jsx)(l.xu,{display:"flex",rounding:"pill",color:A?"default":"secondary",dangerouslySetInlineStyle:{__style:{backgroundColor:M}},justifyContent:"center",alignItems:"center",paddingX:2,height:48,children:(0,d.jsx)(l.xv,{weight:"bold",size:"200",lineClamp:1,children:(0,d.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{color:U}},children:n})})})})]})})}},189500:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),r=n(702664),o=n(149230),a=n(984766),s=n(112690),l=n(825077),c=n(883119),d=n(785893);function u({auxData:e,slotIndex:t,storyId:n,trafficSource:u,viewParameter:p,viewType:h}){const m=(0,s.Z)(),_=(0,r.useSelector)((({stories:e,pins:t})=>e[n].objects.map((e=>t[e.id])))),g=(0,r.useSelector)((({stories:e})=>e[n])),{action:v,story_type:f,title:y}=g,b=_.map((({type:e,id:t})=>e+":"+t)).join("|"),x={story_type:f,story_id:n,content_ids:b,...e};return(0,d.jsx)(l.Hs,{loggingId:n,objectIdStr:n,viewParameter:p,viewType:h,slotIndex:t,component:200,auxData:x,children:(0,d.jsxs)(i.Fragment,{children:[y&&(0,d.jsx)(c.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:(0,d.jsx)(c.xv,{weight:"bold",children:y.format})}),(0,d.jsx)(c.kC,{wrap:!0,children:_.map((e=>(0,d.jsx)(c.kC.Item,{flexBasis:"50%",maxWidth:"50%",children:(0,d.jsx)(a.default,{auxData:x,componentType:0,pinId:e.id,slotIndex:t,trafficSource:u,viewParameter:p,viewType:h})},e.id)))}),v&&v.url&&(0,d.jsx)(c.xu,{display:"flex",width:"100%",justifyContent:"center",marginTop:1,children:(0,d.jsx)(c.zx,{role:"link",accessibilityLabel:v.text,color:"gray",onClick:()=>{m({view_type:h,view_parameter:p,aux_data:x,event_type:102})},text:v.text,href:v.url,rel:(0,o.Z)(v.url)?"nofollow":void 0,target:(0,o.Z)(v.url)?"blank":void 0,size:"md"})})]})})}},481277:(e,t,n)=>{n.d(t,{Z:()=>Te});var i=n(667294),r=n(702664),o=n(474635),a=n(127009),s=n(137618),l=n(898781),c=n(957161),d=n(773285),u=n(883119),p=n(785893);function h(){const e=(0,l.ZP)(),{checkExperiment:t}=(0,d.F)(),{locale:n,userAgentPlatform:h}=(0,r.useSelector)((({session:e})=>e));(0,i.useEffect)((()=>{"enabled_no_double"===t("mweb_hf_story_app_upsell2").group&&(0,c.Nh)("appUpsell",Date.now())}),[]);const m="ios"===h;return(0,p.jsxs)(u.xu,{color:"infoBase",marginBottom:5,marginStart:2,marginEnd:2,marginTop:3,padding:3,rounding:2,children:[(0,p.jsx)(u.xv,{color:"inverse",weight:"bold",children:m?e._('Pinterest works best if you switch to our iPhone app', 'app upsell', 'app upsell'):e._('Pinterest works best if you switch to our Android app', 'app upsell', 'app upsell')}),(0,p.jsx)(u.xu,{marginTop:3,children:(0,p.jsx)(o.Z,{componentType:14159,within:"app-upsell-story",children:({handleOpenApp:e})=>(0,p.jsx)(u.iP,{onTap:()=>e({deepLinkUri:"/"}),children:m?(0,p.jsx)(s.Z,{locale:n}):(0,p.jsx)(a.Z,{locale:n})})})})]})}var m=n(856919),_=n(281180);const g={defaultOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"}};function v({buttonAction:e,buttonText:t,imageUrl:n,brands:i}){const r=(0,_.kW)(),o=i.slice(0,3).map((e=>{var t,n;return{name:null!==(t=r[e.id].username)&&void 0!==t?t:"",src:null!==(n=r[e.id].image_medium_url)&&void 0!==n?n:""}}));return(0,p.jsx)(u.xu,{position:"relative",padding:1,marginBottom:2,children:(0,p.jsxs)(m.MZ,{to:e,children:[(0,p.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},position:"relative",children:(0,p.jsxs)(u.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},top:!0,right:!0,bottom:!0,left:!0,overflow:"hidden",position:"absolute",rounding:4,children:[(0,p.jsx)(u.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:n&&(0,p.jsx)(u.Ee,{alt:t,color:"rgb(111, 91, 77)",naturalHeight:1,naturalWidth:1,src:n,fit:"cover"})}),(0,p.jsx)(u.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:g.defaultOverlay},position:"absolute",top:!0,left:!0}),(0,p.jsx)(u.xu,{width:"100%",position:"absolute",bottom:!0,paddingY:6,display:"flex",justifyContent:"center",children:(0,p.jsx)(u.xu,{width:24*(2*o.length+1),height:64,children:(0,p.jsx)(u.HE,{accessibilityLabel:"",collaborators:o})})})]})}),(0,p.jsx)(u.xu,{"aria-hidden":"true",width:"100%",display:"flex",rounding:"pill",color:"secondary",justifyContent:"center",alignItems:"center",paddingX:2,height:48,marginTop:2,children:(0,p.jsx)(u.xv,{weight:"bold",children:(0,p.jsx)(u.xu,{children:t})})})]})})}var f=n(843242),y=n(319670);const b="49.5%";function x({buttonAction:e,buttonText:t,colors:n}){const i=(0,r.useSelector)((({pins:e})=>n.slice(0,4).map((t=>{var n;return{...null===(n=e[t.id].images)||void 0===n?void 0:n["736x"],title:e[t.id].description}}))));if(n.length<4)return null;const o=e=>{var t,n,i,r;return(0,p.jsx)(u.xu,{width:b,height:"100%",children:(0,p.jsx)(u.Ee,{alt:null!==(t=e.title)&&void 0!==t?t:"",color:"rgb(111, 91, 77)",naturalHeight:null!==(n=e.height)&&void 0!==n?n:1,naturalWidth:null!==(i=e.width)&&void 0!==i?i:1,src:null!==(r=e.url)&&void 0!==r?r:"",fit:"cover"})})};return(0,p.jsx)(u.xu,{position:"relative",padding:1,marginBottom:2,children:(0,p.jsxs)(m.MZ,{to:e,children:[(0,p.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},position:"relative",children:(0,p.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},top:!0,right:!0,bottom:!0,left:!0,overflow:"hidden",position:"absolute",rounding:4,children:(0,p.jsx)(u.xu,{height:"100%",width:"100%",rounding:4,direction:"column",display:"flex",justifyContent:"between",children:[i.slice(0,2),i.slice(2,4)].map((e=>(0,p.jsx)(u.kC,{width:"100%",height:b,justifyContent:"between",children:e.map(o)})))})})}),(0,p.jsx)(u.xu,{width:"100%",display:"flex",rounding:"pill",color:"secondary",justifyContent:"center",alignItems:"center",paddingX:2,height:48,marginTop:2,children:(0,p.jsx)(u.xv,{weight:"bold",children:(0,p.jsx)(u.xu,{children:t})})})]})})}var w=n(116303);const S=(0,r.connect)((({pins:e},t)=>({pin:e[t.id]})),(()=>({})))((({isFirstChild:e,pin:t})=>{var n;if(!t)return null;const i=null===(n=t.images)||void 0===n?void 0:n["170x"];if(!i)return null;const r=t.pinner,{full_name:o,image_medium_url:a}=r||{},{dominant_color:s}=t,{height:l,width:c,url:d}=i;return(0,p.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{paddingRight:8,paddingLeft:e?8:void 0}},children:(0,p.jsxs)(u.xu,{position:"relative",children:[(0,p.jsx)(u.xu,{height:144,overflow:"hidden",rounding:4,width:108,children:(0,p.jsx)(u.Ee,{alt:t.title||"",color:null!=s?s:"",fit:"cover",naturalHeight:null!=l?l:1,naturalWidth:null!=c?c:1,src:null!=d?d:""})}),a&&(0,p.jsx)(u.xu,{alignItems:"center",bottom:!0,display:"flex",height:0,justifyContent:"center",left:!0,position:"absolute",right:!0,children:(0,p.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{border:"1px solid white"}},height:60,rounding:"circle",width:60,children:(0,p.jsx)(w.Z,{name:null!=o?o:"",src:a})})})]})})}));function P({pinIds:e}){const t=e.concat(e).concat(e).concat(e);return(0,p.jsx)(u.xu,{height:174,overflow:"hidden",width:"100%",children:(0,p.jsx)(u.xu,{overflow:"scroll",children:(0,p.jsx)(u.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",height:184,children:t.map(((e,t)=>(0,p.jsx)(S,{id:e,isFirstChild:0===t},e)))})})})}var T=n(30700),E=n(112690),I=n(825077);const A="creator_spotlight_";function k({id:e}){const t=(0,E.Z)(),n=(0,r.useSelector)((({stories:t})=>t[e]));if(!n||"social_seasonal_pin"===n.story_type)return null;const{button_text:i,objects:o,story_type:a,subtitle:s,title:l,background_colour:c,display_options:d}=n,{title_text_color:h,subtitle_text_color:m}=d;if(!a.startsWith(A)||!o||o.length<3)return null;const _=`/creator-spotlight/${a.slice(A.length)}`;return(0,p.jsx)(u.xu,{marginBottom:3,children:(0,p.jsx)(I.Hs,{loggingId:e,objectIdStr:e,viewParameter:43,viewType:2,slotIndex:0,component:13484,auxData:{story_type:a},children:(0,p.jsx)(u.iP,{onTap:()=>{t({view_type:2,view_parameter:43,component:13484,object_id_str:e,aux_data:{story_type:a},event_type:102})},tapStyle:"none",role:"link",href:_,rounding:2,children:(0,p.jsx)(u.xu,{rounding:2,overflow:"hidden",display:"flex",dangerouslySetInlineStyle:{__style:{backgroundColor:c}},children:(0,p.jsx)(u.xu,{width:"100%",height:"100%",children:(0,p.jsxs)(u.xu,{alignItems:"center",direction:"column",display:"flex",height:"100%",justifyContent:"between",paddingY:4,children:[(!!s||!!l)&&(0,p.jsxs)(u.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:[l&&l.format&&(0,p.jsx)(u.X6,{size:"400",children:(0,p.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{color:h}},children:l.format})}),s&&s.format&&(0,p.jsx)(u.xv,{align:"center",children:(0,p.jsx)(u.xu,{marginTop:1,dangerouslySetInlineStyle:{__style:{color:m}},children:s.format})})]}),(0,p.jsx)(u.xu,{paddingY:2,marginTop:2,width:"100%",children:(0,p.jsx)(P,{pinIds:o.map((e=>e.id))})}),i&&i.format&&(0,p.jsx)(u.xu,{display:"inlineBlock",children:(0,p.jsx)(T.Z,{pressState:"compress",children:(0,p.jsx)(u.xu,{color:"primary",rounding:"pill",position:"relative",children:(0,p.jsx)(u.xu,{paddingX:5,paddingY:5,children:(0,p.jsx)(u.xv,{color:"inverse",weight:"bold",children:i.format})})})})})]})})})})})})}var C=n(319915),R=n(121093),L=n(19121),j=n(276775);function D({pin:e,width:t,height:n,showDivider:i}){var r,o,a,s,l,c,d;const h=null===(r=e.images)||void 0===r?void 0:r["236x"];return(0,p.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:i?{borderRight:"2px solid #fff"}:{}},children:(0,p.jsx)(u.GH,{contentAspectRatio:(null!==(o=null==h?void 0:h.width)&&void 0!==o?o:1)/(null!==(a=null==h?void 0:h.height)&&void 0!==a?a:1),height:n,width:t,children:(0,p.jsx)(u.Ee,{alt:null!==(s=e.description)&&void 0!==s?s:"",naturalWidth:null!==(l=null==h?void 0:h.width)&&void 0!==l?l:1,naturalHeight:null!==(c=null==h?void 0:h.height)&&void 0!==c?c:1,src:null!==(d=null==h?void 0:h.url)&&void 0!==d?d:""})})})}function O({storyId:e,slotIndex:t}){const n=(0,j.useHistory)(),o=(0,j.useLocation)(),{isAuth:a}=(0,L.Z)(),{checkExperiment:s}=(0,d.F)(),[l,c]=(0,i.useState)(0),h=(0,i.useRef)(),m=(0,E.Z)();(0,i.useLayoutEffect)((()=>{const e=h.current;e&&c(e.offsetWidth)}),[]);const _=(0,r.useSelector)((({stories:t})=>t[e])),g=(0,r.useSelector)((({pins:e})=>_.objects.map((t=>e[t.id])))).slice(0,2),{story_type:v,action:f}=_,y=`${o.pathname}products/${o.search}`,b=()=>{m({component:200,event_type:102,view_parameter:3050,view_type:72}),n.push(y)};return s(a?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,p.jsx)(I.qS,{auxData:{story_type:v,content_ids:g.map((e=>e.id)),story_id:e},component:200,loggingId:e,objectIdStr:e,slotIndex:t,viewParameter:3050,viewType:72,children:({impressionTrackerRef:e})=>l?(0,p.jsx)(u.xu,{padding:2,ref:e,children:(0,p.jsx)(u.zd,{rounding:2,children:(0,p.jsxs)(u.iP,{onTap:b,children:[(0,p.jsx)(u.xu,{display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:g.map(((e,t)=>(0,p.jsx)(D,{pin:e,width:(l-16)/2-1,height:l-16,showDivider:!t},e.id)))}),(0,p.jsx)(u.xu,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",children:(0,p.jsx)(u.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,p.jsx)(u.xu,{rounding:"pill",paddingX:4,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255,255,255,0.97)"}},children:(0,p.jsx)(u.xv,{weight:"bold",children:f.text})})})})]})})}):(0,p.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative"})}):(0,p.jsx)(I.Hs,{auxData:{story_type:v,content_ids:g.map((e=>e.id)),story_id:e},component:200,loggingId:e,objectIdStr:e,slotIndex:t,viewParameter:3050,viewType:72,children:l?(0,p.jsx)(u.xu,{padding:2,children:(0,p.jsx)(u.zd,{rounding:2,children:(0,p.jsxs)(u.iP,{onTap:b,children:[(0,p.jsx)(u.xu,{display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:g.map(((e,t)=>(0,p.jsx)(D,{pin:e,width:(l-16)/2-1,height:l-16,showDivider:!t},e.id)))}),(0,p.jsx)(u.xu,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",children:(0,p.jsx)(u.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,p.jsx)(u.xu,{rounding:"pill",paddingX:4,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255,255,255,0.97)"}},children:(0,p.jsx)(u.xv,{weight:"bold",children:f.text})})})})]})})}):(0,p.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative",ref:h})})}var N=n(419685),M=n(189500),U=n(907231);const F=["shop_tab_upsell","user_style_story_v2"];function z({auxData:e,slotIndex:t,storyId:n,storyType:i,trafficSource:o,viewParameter:a,viewType:s}){const l=(0,r.useSelector)((({stories:e})=>{var t;return null===(t=e[n].objects[0])||void 0===t?void 0:t.schema})),c=(0,r.useSelector)((({stories:e})=>{var t;return null===(t=e[n])||void 0===t?void 0:t.title}));if(F.includes(i))return(0,p.jsx)(N.Z,{auxData:e,slotIndex:t,storyId:n,storyType:i,viewParameter:a,viewType:s});switch(l){case"pin":return(0,p.jsx)(M.Z,{auxData:e,slotIndex:t,storyId:n,trafficSource:o,viewParameter:a,viewType:s});case"article":return(0,p.jsx)(f.Z,{auxData:e,pattern:[U.UG.extra_small],slotIndex:t,storyId:n,viewParameter:a,viewType:s});default:return c&&(0,p.jsx)(u.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:(0,p.jsx)(u.xv,{weight:"bold",children:c.format})})}}var Z=n(700398),B=n(609700);function H({slotIndex:e,storyId:t,exactMatch:n=!1}){const{isAuth:o}=(0,L.Z)(),{checkExperiment:a}=(0,d.F)(),{action:s,aux_fields:l,objects:c,story_type:h,title:m}=(0,r.useSelector)((({stories:e})=>e[t])),_=c[0].id,g=(0,r.useSelector)((({pins:e})=>c.slice(1,3).map((({id:t})=>e[t]))));return!n&&g.length<2?null:a(o?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,p.jsx)(I.qS,{auxData:{content_ids:g.map((({id:e})=>e)),story_id:t,story_type:h,...l},component:200,loggingId:t,objectIdStr:t,slotIndex:e,viewParameter:43,viewType:2,children:({impressionTrackerRef:e})=>(0,p.jsxs)(u.xu,{ref:e,children:[m&&(0,p.jsx)(u.xu,{paddingY:1,marginTop:2,children:(0,p.jsx)(u.xv,{align:"center",children:m.format})}),(0,p.jsx)(B.Z,{action:s,auxData:l,isPinnerAuthorityHero:n,userId:_,userPins:n?void 0:g,userSearchRepStyle:n,viewParameter:43,viewType:2})]})}):(0,p.jsx)(I.Hs,{auxData:{content_ids:g.map((({id:e})=>e)),story_id:t,story_type:h,...l},component:200,loggingId:t,objectIdStr:t,slotIndex:e,viewParameter:43,viewType:2,children:(0,p.jsxs)(i.Fragment,{children:[m&&(0,p.jsx)(u.xu,{paddingY:1,marginTop:2,children:(0,p.jsx)(u.xv,{align:"center",children:m.format})}),(0,p.jsx)(B.Z,{action:s,auxData:l,isPinnerAuthorityHero:n,userId:_,userPins:n?void 0:g,userSearchRepStyle:n,viewParameter:43,viewType:2})]})})}var V=n(947599),W=n(927007),G=n(826067);const $=["#CFFFCA","#D7EDFF","#DAD4FF","#DAFFF6","#FFE2EB","#FFE4C1","#FFFD92"],K=e=>$[e.charCodeAt(0)%$.length];function q({guides:e,storyId:t,slotIndex:n,title:r}){var o;const{isAuth:a}=(0,L.Z)(),{checkExperiment:s}=(0,d.F)(),l=null!==(o=(0,G.mB)((0,j.useLocation)().search).q)&&void 0!==o?o:"";return s(a?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,p.jsx)(I.qS,{auxData:{story_type:"search_guides"},component:200,loggingId:t,objectIdStr:t,slotIndex:n,viewParameter:43,viewType:2,children:({impressionTrackerRef:t})=>(0,p.jsxs)(u.xu,{ref:t,children:[r&&r.format&&(0,p.jsx)(u.xu,{paddingY:1,marginTop:2,children:(0,p.jsx)(u.xv,{align:"center",children:r.format})}),(0,p.jsx)(W.Z,{guides:e.map((e=>({display:e.display,dominant_color:K(e.display),position:-1,term:e.term}))),isSlot0Style:!0,query:l})]})}):(0,p.jsx)(I.Hs,{auxData:{story_type:"search_guides"},component:200,loggingId:t,objectIdStr:t,slotIndex:n,viewParameter:43,viewType:2,children:(0,p.jsxs)(i.Fragment,{children:[r&&r.format&&(0,p.jsx)(u.xu,{paddingY:1,marginTop:2,children:(0,p.jsx)(u.xv,{align:"center",children:r.format})}),(0,p.jsx)(W.Z,{guides:e.map((e=>({display:e.display,dominant_color:K(e.display),position:-1,term:e.term}))),isSlot0Style:!0,query:l})]})})}class Y extends i.PureComponent{render(){const{seasonalBlob:e,size:t}=this.props,{story_title:n,pin_image:i,pin_image_gif:r,user_name:o,board_name:a,header_background_color:s,textIconColor:l}=e,c=s||"orchid",d=this.props.i18n._('Take a look', 'Button text asking users to take a look at Seasonal pages', 'Button text asking users to take a look at Seasonal pages'),h=o&&a?`/${o}/${a}`:"/pinterestindonesia/happy-halloween/",_=n||"unknown",g=r||i||"",v=l||"white";return(0,p.jsx)(u.zd,{rounding:2,children:(0,p.jsx)(u.xu,{padding:3,children:(0,p.jsx)(m.MZ,{to:h,isAppUpsellDisabled:!0,onTouch:()=>{},children:(0,p.jsx)(u.xu,{children:(0,p.jsx)(u.xu,{display:"flex",margin:-1,height:t,children:(0,p.jsx)(u.xu,{width:"100%",children:(0,p.jsxs)(u.zd,{rounding:2,height:"100%",children:[(0,p.jsx)(u.xu,{height:t,children:(0,p.jsx)(u.Ee,{alt:_,color:c,fit:"cover",naturalHeight:1,naturalWidth:1,src:g})}),(0,p.jsx)(u.xu,{height:t,position:"absolute",top:!0,left:!0}),(0,p.jsx)(u.xu,{position:"absolute",top:!0,left:!0,right:!0,overflow:"hidden",paddingX:2,paddingY:4,dangerouslySetInlineStyle:{__style:{lineHeight:"19px"}},children:(0,p.jsx)(u.xv,{color:v,weight:"bold",children:_})}),(0,p.jsx)(u.xu,{position:"absolute",bottom:!0,left:!0,right:!0,padding:2,marginStart:"auto",marginEnd:"auto",children:(0,p.jsx)(u.zx,{fullWidth:!0,size:"sm",text:d})})]})})})})})})})}}const X=(0,r.connect)((({stories:e},t)=>({seasonalBlob:e[t.storyId].custom_properties,storyType:e[t.storyId].story_type,referringSource:e[t.storyId].referring_source})),(()=>({})))((function(e){const t=(0,l.ZP)();return(0,p.jsx)(Y,{...e,i18n:t})}));var J=n(959322);function Q({storyId:e,viewParameter:t,viewType:n}){const o=(0,E.Z)(),a=(0,r.useSelector)((({stories:t})=>t[e])),s=(0,r.useSelector)((({session:e})=>e.isTablet)),l=a.objects;return(0,i.useEffect)((()=>{o({event_type:9024,view_type:n,view_parameter:t})}),[]),a?(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)(u.iz,{}),(0,p.jsxs)(u.xu,{paddingY:1,children:[(0,p.jsx)(u.xu,{paddingY:2,marginTop:3,children:(0,p.jsx)(u.X6,{align:"center",size:"400",children:a.title.format})}),1===l.length?(0,p.jsx)(u.xu,{width:s?400:"auto",paddingY:2,margin:"auto",children:(0,p.jsx)(J.Z,{id:l[0].id,gridIndex:0,viewParameter:t,viewType:n})}):(0,p.jsx)(u.xu,{overflow:"auto",children:(0,p.jsx)(u.kC,{alignItems:"stretch",justifyContent:"start",width:"fit-content",children:l.map(((e,i)=>(0,p.jsx)(u.xu,{width:s?400:"80vw",marginStart:0===i?0:2,paddingY:2,children:(0,p.jsx)(J.Z,{id:e.id,gridIndex:i,viewParameter:t,viewType:n})},e.id)))})})]})]}):null}var ee=n(949372);const te=(0,r.connect)((({pins:e},t)=>({pin:e[t.id]})),(()=>({})))((({pin:e})=>{var t;if(!e)return null;const n=e.images&&(e.images.orig||e.images["736x"]||e.images["290x"]||e.images["236x"]);return(0,p.jsx)(u.zd,{wash:!0,height:de,width:de,children:(0,p.jsx)(u.xu,{height:de,position:"relative",width:de,children:(0,p.jsx)(u.Ee,{alt:e.description||"",src:null!==(t=null==n?void 0:n.url)&&void 0!==t?t:"",fit:"cover",naturalHeight:1,naturalWidth:1,color:e.dominant_color||"#767676"})})})}));var ne=n(558150),ie=n(609943),re=n(349700),oe=n(643010),ae=n(755506);const se=(0,r.connect)(((e,t)=>({pin:e.pins[t.pinId]})),(()=>({})))((({pin:e,shouldRoundPrice:t,showSalePrice:n})=>{const i=(0,l.ZP)();if(!e)return null;const{pinProduct:r}=(0,ae.Fi)({i18n:i,pin:e});if(!r||!r.price)return null;const o=r.price||r.max_price,a=r.standard_price,s=/^(\$\d+)(\.?\d\d)*$/g,c=a&&s.exec(a),d=s.exec(o),h=(0,oe.Yc)()?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.8)",m=(0,oe.Yc)()?"light":"dark";return(0,p.jsxs)(u.xu,{rounding:"pill",paddingX:2,paddingY:0,dangerouslySetInlineStyle:{__style:{backgroundColor:h,paddingTop:"3px",paddingBottom:"3px"}},"data-test-id":"MwebPricePill",display:"inlineBlock",children:[n&&c&&(0,p.jsxs)(u.xv,{align:"center",size:"100",weight:"bold",color:"subtle",inline:!0,children:[(0,p.jsx)("s",{children:(0,re.nk)("{{ priceRounded }}",{priceRounded:c[1]})})," "]}),(0,p.jsx)(u.xv,{align:"center",size:"100",weight:"bold",color:m,inline:!0,children:(n&&a||t)&&d&&d[1]?(0,re.nk)("{{ priceRounded }}",{priceRounded:d[1]}):o})]})}));var le=n(512176),ce=n(407043);const de=114;function ue({handleClick:e,isVerifiedMerchant:t,marginTop:n=12,pins:i,showVerifiedBadge:r,showVerifiedIdentityBadge:o,storyAction:a,storyType:s,title:l,viewParameter:c,trackingParams:d}){const{logContextEvent:h}=(0,ce.v)(),m=(0,j.useHistory)(),{text:_}=a||{};return(0,p.jsxs)(u.xu,{marginTop:n,"data-test-id":"lego-closeup-related-module-contents",width:"100%",children:[l&&(0,p.jsxs)(u.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:4,children:[(0,p.jsx)(u.xv,{weight:"bold",children:l}),r&&(0,p.jsx)(u.xu,{marginStart:1,children:(0,p.jsx)(le.Z,{size:"sm",isVerifiedMerchant:t,showVerifiedIdentity:o})})]}),(0,p.jsx)(u.xu,{display:"flex",marginTop:4,justifyContent:"center",children:i.map(((e,t)=>(0,p.jsx)(I.GR,{viewType:3,loggingId:e.id,viewParameter:c,component:be[s],auxData:{commerce_data:(0,ne.Z)({isEligibleForPdp:e.is_eligible_for_pdp,isOosProduct:e.is_oos_product,isStaleProduct:e.is_stale_product,pinShoppingFlags:e.shopping_flags})},slotIndex:t,children:(0,p.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{willChange:"transform"}},display:"flex",marginEnd:2!==t?2:0,overflow:"hidden",position:"relative",rounding:4,width:de,children:(0,p.jsxs)(u.iP,{onTap:()=>(e=>{const t=(0,ie.Z)(d,e.tracking_params);h({component:be[s],element:ye[s],event_type:101,view_type:3,view_parameter:c,object_id_str:e.id,clientTrackingParams:t,aux_data:{closeup_navigation_type:"click",commerce_data:(0,ne.Z)({isEligibleForPdp:e.is_eligible_for_pdp,isOosProduct:e.is_oos_product,isStaleProduct:e.is_stale_product,pinShoppingFlags:e.shopping_flags}),cosmic_ray_count:"5",image_signature:e.image_signature}}),h({component:13680,event_type:101,view_type:3,view_parameter:c,aux_data:{commerce_data:(0,ne.Z)({isEligibleForPdp:e.is_eligible_for_pdp,isOosProduct:e.is_oos_product,isStaleProduct:e.is_stale_product,pinShoppingFlags:e.shopping_flags})}}),m.push(`/pin/${e.id}/`,{trackingParams:d})})(e),children:[(0,p.jsx)(te,{id:e.id}),(0,p.jsx)(u.xu,{position:"absolute",marginTop:2,marginStart:2,top:!0,children:(0,p.jsx)(se,{pinId:e.id,shouldRoundPrice:!0})})]})})},e.id)))}),_&&(0,p.jsx)(u.xu,{display:"flex",marginTop:4,marginBottom:4,justifyContent:"center",children:(0,p.jsx)(u.zx,{onClick:e,size:"lg",text:_})})]})}var pe=n(722767);function he({componentType:e,handleClick:t,isVerifiedMerchant:n,marginTop:r,objects:o,showVerifiedBadge:a,showVerifiedIdentityBadge:s,storyAction:l,storyType:c,title:d,viewParameter:u,trackingParams:h}){const[m,_]=(0,i.useState)(!1),g=(0,E.Z)();if(!o||!Array.isArray(o))return null;const v=o.filter((e=>"pin"===e.schema));if(v.length<3)return null;const f=Array.from(new Array(3)).map(((e,t)=>v[t]));return(0,p.jsx)(pe.Z,{options:{threshold:0},onVisibilityChange:t=>{const{intersectionRatio:n}=t[0];n>0&&!m&&(g({event_type:3400,view_type:3,view_parameter:u,component:e}),_(!0))},children:(0,p.jsx)(ue,{handleClick:t,isVerifiedMerchant:n,marginTop:r,pins:f,showVerifiedBadge:a,showVerifiedIdentityBadge:s,storyAction:l,storyType:c,title:d,viewParameter:u,trackingParams:h})})}var me=n(536454);const _e=()=>{};function ge({marginTop:e=12,onRelatedPinsTitleEnter:t,onRelatedPinsTitleExit:n,onRelatedPinsInView:r,title:o}){return o?(0,p.jsx)(i.Fragment,{children:(0,p.jsx)(u.xu,{marginTop:e,marginBottom:2,children:(0,p.jsx)(me.Z,{onEnter:t||_e,onExit:n||_e,onView:r||_e,children:(0,p.jsx)(u.xv,{size:"300",align:"center",weight:"bold",children:o})})})}):null}var ve=n(802201);const fe=["related_domain_collage","related_modules_header","related_products_collage","related_products_feed_header"],ye={related_domain_collage:11830,related_domain_collage_similar:11829},be={related_domain_collage:13327,related_domain_collage_similar:13882,related_products_collage:13176,related_products_feed_header:13176};const xe=function(e){var t,n;const{marginTop:o,onRelatedPinsTitleEnter:a,onRelatedPinsTitleExit:s,onRelatedPinsInView:l,pinId:c,searchQuery:h,slotIndex:m,storyId:_,trafficSource:g,viewType:v,viewParameter:f}=e,y=(0,ve.S6)()(c),{logContextEvent:b}=(0,ce.v)(),{isAuth:x}=(0,L.Z)(),{checkExperiment:w}=(0,d.F)(),S=(0,j.useHistory)(),P=null==y?void 0:y.is_eligible_for_pdp,T=(0,i.useMemo)((()=>P?8:0===o||o?o:12),[o,P]),E=(0,r.useSelector)((({stories:e})=>e[_]));if(!E)return null;const{action:A,content_ids:k,objects:C,story_type:R,title:{format:D},tracking_params:O}=E,N=be[R];if("related_modules_header"===R||"related_products_feed_header"===R)return w(x?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,p.jsx)(I.qS,{auxData:{story_id:_,story_type:R},loggingId:_,objectIdStr:_,slotIndex:m,viewParameter:f,viewType:v,component:N,children:({impressionTrackerRef:e})=>(0,p.jsx)(u.xu,{ref:e,children:(0,p.jsx)(ge,{marginTop:T,onRelatedPinsTitleEnter:a,onRelatedPinsTitleExit:s,onRelatedPinsInView:l,title:D})})}):(0,p.jsx)(I.Hs,{auxData:{story_id:_,story_type:R},loggingId:_,objectIdStr:_,slotIndex:m,viewParameter:f,viewType:v,component:N,children:(0,p.jsx)(ge,{marginTop:T,onRelatedPinsTitleEnter:a,onRelatedPinsTitleExit:s,onRelatedPinsInView:l,title:D})});const{url:M}=A||{};if(!y||!c||!M)return null;const U=function(e,t){const n=e?`q=${e}`:null,i=t&&"unknown"!==t?`rs=${t}`:null;let r="";return n&&i?r=`?${n}&${i}`:!n&&i&&(r=`?${i}`),r}(h,g);let F=`${M}${U}`;"related_products_collage"===R&&(F=U?`/pin/${c}/visual-search/${U}source=shopping&tab=1`:`/pin/${c}/visual-search/?source=shopping&tab=1`);const z=(k||[]).map((e=>`pin:${e}`)).join("|"),Z=()=>{const e="related_domain_collage"===R?"related_domain_collage_similar":R;b({aux_data:{content_ids:z,story_id:_,story_type:R},component:be[e],element:ye[e],event_type:101,object_id_str:c,view_type:3,view_parameter:f}),b({aux_data:{commerce_data:(0,ne.Z)({isEligibleForPdp:y.is_eligible_for_pdp,isOosProduct:y.is_oos_product,isStaleProduct:y.is_stale_product,pinShoppingFlags:y.shopping_flags})},component:13680,event_type:101,object_id_str:c,view_type:3,view_parameter:f}),S.push(F)};let B,H;if("related_domain_collage"===R){var V;const e=(null===(V=y.link_domain)||void 0===V?void 0:V.official_user)||{};B=e.is_verified_merchant,H=e.verified_identity}return w(x?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,p.jsx)(I.qS,{auxData:{content_ids:z,story_id:_,story_type:R},component:N,loggingId:_,objectIdStr:_,slotIndex:m,viewParameter:f,viewType:v,children:({impressionTrackerRef:e})=>{var t,n;return(0,p.jsx)(u.xu,{ref:e,children:(0,p.jsx)(he,{componentType:N,handleClick:Z,isVerifiedMerchant:B,objects:C,showVerifiedBadge:B||(null===(t=H)||void 0===t?void 0:t.verified),showVerifiedIdentityBadge:!B&&(null===(n=H)||void 0===n?void 0:n.verified),storyAction:A,title:D,viewParameter:f,trackingParams:O,storyType:R,marginTop:T})})}}):(0,p.jsx)(I.Hs,{auxData:{content_ids:z,story_id:_,story_type:R},component:N,loggingId:_,objectIdStr:_,slotIndex:m,viewParameter:f,viewType:v,children:(0,p.jsx)(he,{componentType:N,handleClick:Z,isVerifiedMerchant:B,objects:C,showVerifiedBadge:B||(null===(t=H)||void 0===t?void 0:t.verified),showVerifiedIdentityBadge:!B&&(null===(n=H)||void 0===n?void 0:n.verified),storyAction:A,title:D,viewParameter:f,trackingParams:O,storyType:R,marginTop:T})})};var we=n(226343);const Se=["shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2"],Pe=(0,i.lazy)((()=>Promise.all([n.e(97270),n.e(93810)]).then(n.bind(n,896731))));function Te({auxData:e,fullWidth:t,isMwebStructuredFeedExpEnabled:n,marginTop:i,onRelatedPinsTitleEnter:o,onRelatedPinsTitleExit:a,onRelatedPinsInView:s,pinId:l,slotIndex:c,storyData:d,storyId:m,trafficSource:_,viewParameter:g,viewType:b}){const w=(0,r.useSelector)((({stories:e})=>e[m])),S=d||w,P=(0,ee.Z)();if(!S||!S.story_type)return null;const{action:T,container_type:E,custom_properties:I,display_options:A,experience:L,story_type:j,title:D,objects:N}=S;if(t)return n&&(0,Z.Z)(S.container_type)?(0,p.jsx)(u.xu,{marginBottom:5,children:(0,p.jsx)(C.Z,{name:"SafeSuspense_MobileApp_StructuredFeedStoryModule",children:(0,p.jsx)(V.Z,{children:(0,p.jsx)(Pe,{surface:"ShoppingDynamicHeightGrid",view:3,componentFallback:13176,viewParameter:g,initialSlotIndex:c,story:S})})})}):Se.includes(j)&&0===A.num_columns_requested?(0,p.jsx)(u.xu,{marginBottom:5,children:(0,p.jsx)(z,{auxData:e,slotIndex:c,storyId:m,storyType:j,trafficSource:_,viewParameter:g,viewType:b})}):j.startsWith("creator_spotlight_")?(0,p.jsx)(u.xu,{marginBottom:5,children:(0,p.jsx)(k,{id:m})}):fe.includes(j)&&l?(0,p.jsx)(xe,{onRelatedPinsTitleEnter:o,onRelatedPinsTitleExit:a,onRelatedPinsInView:s,pinId:l,storyId:m,slotIndex:c,viewParameter:g,viewType:b,marginTop:i}):j.startsWith("related_articles")?(0,p.jsx)(Q,{storyId:m,viewType:b,viewParameter:g}):j.startsWith("SKIN_TONE_FILTER_QUERIES")?(0,p.jsx)(y.Z,{title:D}):j.startsWith("search_pinner_authority_hero")?(0,p.jsx)(H,{storyId:m,slotIndex:0,exactMatch:!0}):null;if(Se.includes(j)&&0===(null==A?void 0:A.num_columns_requested))return null;switch(E){case 56:return(0,p.jsx)(u.xu,{padding:2,children:(0,p.jsx)(f.Z,{slotIndex:c,storyId:m,viewType:b,viewParameter:g})})}switch(j){case"app_upsell":return P?(0,p.jsx)(R.Z,{experience:L,eligibleIds:[L.experience_id],children:(0,p.jsx)(h,{})}):null;case"feed_card_default":case"feed_card_video":return(0,p.jsx)(we.Z,{buttonAction:T.url,buttonCustomization:I.button_customization,buttonText:T.text,experience:L,hideCompleteButton:I.hide_complete_button,imageAlt:I.image_alt,imageUrl:I.image,openNewTab:I.open_new_tab,storyType:j,titleText:D.format,titleTextColor:we.e[A.title_text_color],titleTextCustomization:I.title_text_customization,videoPin:I.video_pin,videoPlaceholderImage:I.video_placeholder_image});case"user_brand_story":case"user_color_story":case"general_shopping_upsell":return(0,p.jsx)(we.Z,{buttonAction:T.url,buttonText:T.text,imageAlt:I.image_alt,imageUrl:I.image,storyType:j,titleText:D.format,titleTextColor:we.e[A.title_text_color]});case"user_brand_story_v1":return(0,p.jsx)(v,{buttonAction:T.url,buttonText:T.text,imageUrl:I.image,brands:N});case"user_color_story_v1":return(0,p.jsx)(x,{buttonAction:T.url,buttonText:T.text,colors:N});case"BUBBLE_ONE_COL":return(0,p.jsx)(u.xu,{padding:2,children:(0,p.jsx)(f.Z,{slotIndex:c,storyId:m,viewType:b,viewParameter:g})});case"social_seasonal_pin":return(0,p.jsx)(X,{slotIndex:c,storyId:m,viewType:b,viewParameter:g,size:290});case"pinner_authority":case"pinner_authority_unified":return(0,p.jsx)(H,{storyId:m,slotIndex:c});case"stela_in_flashlight_onecol":return(0,p.jsx)(O,{storyId:m,slotIndex:c});case"search_guides":return(0,p.jsx)(q,{guides:S.objects,slotIndex:c,storyId:m,title:D});default:return null}}},907231:(e,t,n)=>{n.d(t,{UG:()=>p,ZP:()=>m,aG:()=>h});var i=n(667294),r=n(116303),o=n(898781),a=n(856919),s=n(539497),l=n(276775),c=n(940882),d=n(883119),u=n(785893);const p={large:"large",medium:"medium",small:"small",extra_small:"extra_small",article:"article",interest:"interest"},h={bubbleOverlay:{__style:{backgroundColor:"rgba(0, 0, 0, 0.3)"}}};function m({backgroundColor:e,bubbleId:t,bubbleUrl:n,coverImageUrl:m,curator:_,font:g,format:v,height:f,identifierIconType:y,onTap:b,pwtSurfaceContext:x,referringSource:w,subtitle:S,title:P,buttonFormat:T,contentAlign:E="center",textAlign:I="center",width:A="100%"}){const k=(0,o.ZP)(),C=(0,l.useLocation)(),[R,L]=(0,i.useState)("string"==typeof f?void 0:f),j=e=>{if(e){const t=e.offsetWidth,n="string"==typeof f?Number.parseFloat(f):100;L(t*n/100)}};if(!R)return(0,u.jsx)(d.xu,{ref:j,dangerouslySetInlineStyle:{__style:{paddingBottom:"string"==typeof f?Number.parseFloat(f)+"%":"100%",width:A}}});const D=v===p.article,O=v===p.interest,N=g||R>250&&"lg"||R>140&&v&&[p.medium,p.small,p.article].includes(v)&&"md"||R<120&&v&&v===p.small&&"xs"||"sm";return(0,u.jsx)(d.xu,{position:"relative","data-test-id":"search-suggestion","data-test-type":w,children:(0,u.jsx)(a.MZ,{to:n,isAppUpsellDisabled:!0,onTouch:()=>{b&&((0,s.LW)({action:"click",pageLocation:C,item:"search-suggestion"}),b(t))},rounding:4,children:(0,u.jsxs)(d.zd,{rounding:4,children:[(0,u.jsx)(d.xu,{width:A,height:R,children:m&&(0,u.jsx)(d.Ee,{alt:"",color:e,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:()=>{x&&x.markConstraintComplete("RenderSearchLandingPageBubbles")},role:"presentation",src:m})}),(0,u.jsx)(d.xu,{dangerouslySetInlineStyle:h.bubbleOverlay,height:R,width:A,position:"absolute",top:!0,left:!0}),_&&!D&&(0,u.jsx)(d.xu,{position:"absolute",top:!0,left:!0,padding:2,children:(0,u.jsx)(r.Z,{outline:!0,size:"xs",src:_.image_small_url,name:_.full_name})}),!!y&&y!==c.J&&(0,u.jsx)(d.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,u.jsx)(d.JO,{icon:(0,c.Z)(y),accessibilityLabel:k._('Shopping icon', 'bubble.shoppingIcon.label', 'Accessibility label for bubble shopping Icon'),color:"default",size:12})}),(0,u.jsx)(d.xu,{display:"flex",position:"absolute",top:!0,width:A,height:R,padding:D||O?6:R>100?3:1,alignItems:D||O?"end":"center",justifyContent:E,children:(0,u.jsxs)(d.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[S&&(0,u.jsx)(d.xv,{align:I,color:"light",size:"lg"===N?"300":"100",overflow:"normal",children:S}),["lg","md"].includes(N)?(0,u.jsx)(d.X6,{align:I,size:"md"===N&&O?"500":"lg"===N?"600":"400",color:"light",overflow:"normal",children:P}):(0,u.jsx)(d.xv,{align:I,color:"light",size:"sm"===N?"300":"100",overflow:"normal",weight:"bold",children:P}),_&&D&&(0,u.jsxs)(d.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4,children:[(0,u.jsx)(d.xu,{marginEnd:2,children:(0,u.jsx)(r.Z,{outline:!0,size:"xs",src:_.image_small_url,name:_.full_name})}),(0,u.jsx)(d.xv,{size:"100",color:"light",weight:"bold",children:_.full_name})]}),T&&(0,u.jsx)(d.xu,{marginTop:4,children:(0,u.jsx)(d.zx,{role:"link",text:T.text,href:T.href,size:T.size,accessibilityLabel:T.accessibilityLabel})})]})})]})})})}},843242:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(667294),r=n(702664),o=n(95244),a=n(149230),s=n(112690),l=n(825077),c=n(281180),d=n(940882),u=n(883119),p=n(785893);function h(e){const{auxData:t,pattern:n,slotIndex:h,storyId:m,viewType:_,viewParameter:g}=e,v=(0,c.mN)(),f=(0,s.Z)(),y=(0,r.useSelector)((({stories:e,articles:t})=>e[m].objects.map((e=>{const n=t[e.id];return n.curator&&"string"==typeof n.curator?{...n,curator:v(n.curator)}:n})))),b=(0,r.useSelector)((({stories:e})=>e[m])),{story_type:x,referring_source:w,title:S,display_options:P,action:T}=b,{identifier_icon_name:E}=P||{},I=y.map((({type:e,id:t})=>e+":"+t)).join("|"),A={story_type:x,story_id:m,content_ids:I,...t};return(0,p.jsx)(l.Hs,{loggingId:m,objectIdStr:m,viewParameter:g,viewType:_,slotIndex:h,component:200,auxData:A,children:(0,p.jsxs)(i.Fragment,{children:[S&&(0,p.jsxs)(u.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:["number"==typeof E&&E!==d.J&&(0,p.jsx)(u.xu,{marginEnd:2,dangerouslySetInlineStyle:{__style:{paddingTop:1}},children:(0,p.jsx)(u.JO,{accessibilityLabel:"",color:"default",icon:(0,d.Z)(E),size:14})}),(0,p.jsx)(u.xv,{weight:"bold",children:S.format})]}),(0,p.jsx)(o.Z,{bubbles:y,pattern:n,referringSource:w,storyId:m,storyType:x,viewParameter:g,viewType:_}),T&&T.url&&(0,p.jsx)(u.xu,{display:"flex",width:"100%",justifyContent:"center",marginTop:1,children:(0,p.jsx)(u.zx,{role:"link",accessibilityLabel:T.text,color:"gray",onClick:()=>{f({view_type:_,view_parameter:g,aux_data:A,event_type:102})},text:T.text,href:T.url,rel:(0,a.Z)(T.url)?"nofollow":void 0,target:(0,a.Z)(T.url)?"blank":void 0,size:"md"})})]})})}},95244:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(151365),r=n(883119),o=n(907231),a=n(785893);function s(e){const{bubbles:t,onTouch:n,pattern:s=[o.UG.medium],pwtSurfaceContext:l,referringSource:c,storyId:d,storyType:u,viewParameter:p,viewType:h}=e,m=t.map((({type:e,id:t})=>e+":"+t)).join("|");return(0,a.jsx)(r.kC,{alignItems:"stretch",justifyContent:"between",width:"100%",wrap:!0,children:t.map(((e,t)=>{const _=s[t%s.length];return(0,a.jsx)(r.xu,{paddingY:1,width:[o.UG.small,o.UG.extra_small].includes(_)?"calc(50% - 4px)":"100%",children:(0,a.jsx)(i.Z,{auxData:{content_ids:m,story_type:u,grid_index:t},bubble:e,format:_,height:([o.UG.medium,o.UG.extra_small].includes(_)?"50%":_===o.UG.article&&"73%")||"100%",onTouch:n,pwtSurfaceContext:l,referringSource:c,slotIndex:t,storyId:d,viewParameter:p,viewType:h})},`bubble-${t}`)}))})}},906935:(e,t,n)=>{n.d(t,{Z:()=>T});var i=n(667294),r=n(151365),o=n(164985),a=n(907231),s=n(785893);function l({bubble:e,font:t,height:n,width:i="100%",onTouch:r}){const{id:o,url:l,title:c,dominant_color_css:d,image_urls:u,buttonText:p}=e;if(!c||!o||!u)return null;const h={text:p,accessibilityLabel:p,href:l,size:"md"};return(0,s.jsx)(a.ZP,{backgroundColor:null!=d?d:void 0,bubbleId:o,bubbleUrl:l,coverImageUrl:u[0],font:t,format:"interest",height:n,title:c,width:i,contentAlign:"start",textAlign:"start",buttonFormat:h,onTap:()=>r&&r({query:c})})}var c=n(984766),d=n(407043),u=n(366428),p=n(883119);function h({bubble:e,component:t,height:n,slotIndex:r,storyId:o,storyType:a,viewParameter:l,viewType:c}){var h;const{logContextEvent:m}=(0,d.v)(),[_,g]=(0,i.useState)("string"==typeof n?void 0:n),v=e=>{if(e){const t=e.offsetWidth,i="string"==typeof n?Number.parseFloat(n):100;g(t*i/100)}},{action:f,aux_fields:y,cover_images:b,dominant_colors:x,title:w,id:S}=e,P=(0,u.Z)({componentType:null!=t?t:void 0,contextLogData:{story_type:a},impressionType:"Article",loggingId:S,slotIndex:r,viewParameter:l,viewType:c});if(!_)return(0,s.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"string"==typeof n?Number.parseFloat(n)+"%":"100%"}},ref:v,width:"100%"});if(!b||b.length<=0||!w)return null;const{button_background_color:T,button_text_color:E}=y,I=b.slice(0,2).map((e=>{var t;return null===(t=e["474x"]||e["236x"])||void 0===t?void 0:t.url}));return(0,s.jsx)(p.iP,{role:"link",href:null!==(h=null==f?void 0:f.url)&&void 0!==h?h:"",onTap:()=>{m({aux_data:{story_id:o,story_type:"user_style_story_v2"},component:200,event_type:102,view_parameter:l,view_type:c})},rounding:4,children:(0,s.jsxs)(p.xu,{alignItems:"center",display:"flex",height:_,justifyContent:"center",overflow:"hidden",position:"relative",ref:P,rounding:4,width:"100%",children:[(0,s.jsx)(p.kC,{width:"100%",children:I.map(((e,t)=>(0,s.jsx)(p.zd,{height:_,wash:!0,width:2===I.length?"50%":"100%",children:(0,s.jsx)(p.Ee,{alt:"",color:(null!=x?x:[])[t],fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:null!=e?e:""})},t)))}),(0,s.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:T}},paddingX:4,paddingY:3,position:"absolute",rounding:"pill",children:(0,s.jsx)(p.xv,{align:"center",weight:"bold",children:(0,s.jsx)("p",{style:{color:E,margin:"0"},children:w.format})})})]})})}var m=n(112690),_=n(856919),g=n(784641),v=n(643010),f=n(825077),y=n(539497),b=n(276775);const x=["#FFF8FA","#F8F7FF","#F7FBFF","#F7FDFC","#F6FDF5","#FFFEDB","#FFF6EB"];function w({backgroundColor:e,coverImageUrl:t,height:n,pwtTrackImageLoad:r,subtitle:o,title:l,width:c}){return(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(p.xu,{width:c,height:n,children:(0,s.jsx)(p.Ee,{alt:"",color:e,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:r,role:"presentation",src:t})}),(0,s.jsx)(p.xu,{dangerouslySetInlineStyle:a.aG.bubbleOverlay,height:n,left:!0,position:"absolute",top:!0,width:c}),(0,s.jsx)(p.xu,{alignItems:"center",display:"flex",height:n,justifyContent:"center",marginTop:4,padding:8,position:"absolute",top:!0,width:c,children:(0,s.jsxs)(p.kC,{alignItems:"stretch",direction:"column",gap:{row:0,column:1},justifyContent:"start",children:[o&&(0,s.jsx)(p.xv,{align:"center",color:"light",lineClamp:1,size:"300",overflow:"normal",children:o}),(0,s.jsx)(p.X6,{accessibilityLevel:1,align:"center",color:"light",lineClamp:3,size:"400",overflow:"normal",children:l})]})})]})}function S({backgroundColor:e,coverImageUrl:t,height:n,imgBackgroundColor:r,pwtTrackImageLoad:o,subtitle:l,title:c,width:d}){return(0,s.jsxs)(i.Fragment,{children:[(0,s.jsxs)(p.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e||x[c.charCodeAt(0)%x.length]}},height:n,position:"relative",width:d,children:[(0,v.Yc)()&&(0,s.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.3)"}},height:"100%",left:!0,position:"absolute",top:!0,width:"100%"}),(0,s.jsx)(p.xu,{alignItems:"center",display:"flex",height:.6*n,justifyContent:"center",marginTop:8,padding:8,position:"absolute",top:!0,width:d,children:(0,s.jsxs)(p.kC,{alignItems:"stretch",direction:"column",gap:{row:0,column:1},justifyContent:"start",children:[l&&(0,s.jsx)(p.xv,{align:"center",color:"dark",size:"300",overflow:"normal",children:l}),(0,s.jsx)(p.X6,{accessibilityLevel:1,align:"center",color:"dark",size:"400",overflow:"normal",children:c})]})})]}),(0,s.jsx)(p.xu,{alignItems:"end",bottom:!0,display:"flex",height:.5*n,marginBottom:-5,justifyContent:"center",position:"absolute",width:d,children:t.slice(0,3).map(((e,t)=>(0,s.jsx)(p.xu,{dangerouslySetInlineStyle:a.aG.bubbleOverlay,height:1===t?"100%":"80%",overflow:"hidden",rounding:4,width:1===t?"36%":"28.8%",zIndex:1===t?new p.Ry(1):void 0,marginStart:0!==t?-5:void 0,children:(0,s.jsx)(p.Ee,{alt:"",color:r,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:o,role:"presentation",src:e})},`TripleImageBubble-${t}`)))})]})}function P({auxData:e,bubble:t,immersiveHeader:n,onTouch:r,pwtSurfaceContext:o,referringSource:l,slotIndex:c,storyId:d,storyType:u,viewParameter:h,viewType:v}){const{article_creator_user:x,display_color:P,dominant_color_css:T,feed_source:E,id:I,image_urls:A,is_product_pin_feed:k,subtitle:C,title:R}=t,L=x&&x.full_name&&x.image_small_url?{full_name:x.full_name,image_small_url:x.image_small_url}:void 0,j=(0,b.useLocation)(),D=(0,m.Z)(),[O,N]=(0,i.useState)();if(!R||!I||!A)return null;const M=(0,g.T7)(null!=E?E:1,null!=k&&k,R,I),U=()=>{(0,y.LW)({action:"click",pageLocation:j,item:"search-suggestion"}),D({view_type:v,view_parameter:h,object_id_str:I,component:13525,event_type:102,aux_data:{grid_index:c,story_id:d,story_type:u,today_article_id:I}}),r&&r({query:R})},F="100%",z=e=>{if(e){const t=e.offsetWidth,n=Number.parseFloat("85%");N(t*n/100)}};if(!O)return(0,s.jsx)(p.xu,{ref:z,dangerouslySetInlineStyle:{__style:{paddingBottom:Number.parseFloat("85%")+"%",width:F}}});const Z=()=>{o&&o.markConstraintComplete("RenderSearchLandingPageBubbles")};return(0,s.jsx)(f.Y4,{auxData:{grid_index:c.toString(),story_id:d,story_type:u,today_article_id:I,...e},component:13525,impressionData:{storyIdStr:d},loggingId:d,objectIdStr:d,slotIndex:c,viewParameter:h,viewType:v,children:({impressionTrackerRef:e})=>n?(0,s.jsx)(p.xu,{"data-test-id":"search-suggestion","data-test-type":l,position:"relative",ref:e,children:(0,s.jsx)(_.MZ,{to:M,isAppUpsellDisabled:!0,onTouch:U,children:A.length>=3?(0,s.jsx)(S,{backgroundColor:P,coverImageUrl:A,height:O,imgBackgroundColor:null!=T?T:void 0,pwtTrackImageLoad:Z,subtitle:null!=C?C:"",title:R,width:F}):(0,s.jsx)(w,{backgroundColor:null!=T?T:void 0,coverImageUrl:A[0],height:O,pwtTrackImageLoad:Z,subtitle:null!=C?C:"",title:R,width:F})})}):(0,s.jsx)(a.ZP,{backgroundColor:T||"",bubbleId:I,bubbleUrl:M,curator:L,coverImageUrl:A[0],format:a.UG.article,height:"75%",onTap:U,pwtSurfaceContext:o,title:R,width:F})})}function T(e){const{action:t,bubbles:n,component:a,format:d,onTouch:u,pwtSurfaceContext:_,query:g,referringSource:v,storyId:f,storyType:y,viewParameter:b,viewType:x}=e,w=n.filter((e=>null!=e)),S=w.map((({type:e,id:t})=>`${null!=e?e:""}:${null!=t?t:""}`)).join("|"),T="slp_immersive_header"===y,E="user_style_story_v2"===y,I="shop_tab_upsell"===y,A="interest"===w[0].type,k=(0,i.useRef)(),C=(0,i.useRef)(),[R,L]=(0,i.useState)(0),{windowWidth:j}=(0,o.Z)(),D=T?j:j-32,O=w.length,N=I?"50%":"100%",[M,U]=(0,i.useState)(T||A),[F,z]=(0,i.useState)(!1),Z=(0,m.Z)();return(0,i.useEffect)((()=>{const e=k.current,t=C.current;if(!e)return;const n=t=>{e.scrollTo({top:0,left:t,behavior:"smooth"})};let i;const r=()=>{clearTimeout(i),U(!1),z(!0),setTimeout((()=>{var e;let i=-(null!==(e=null==t?void 0:t.getBoundingClientRect().left)&&void 0!==e?e:0);i=T?i:i+16;const r=Math.floor((i+D/2)/D);n(r!==O-1||T?r*D:r*D-4),L(r)}),500)},o=()=>{const e=R===O-1?0:R+1;return n(e*D),L(e),i=setTimeout(o,4e3),()=>clearTimeout(i)};return M?(e.addEventListener("touchend",r),i=setTimeout(o,4e3)):F&&e.addEventListener("touchend",r),()=>{clearTimeout(i),M&&e.removeEventListener("touchend",r)}})),(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(p.xu,{marginEnd:-4,marginStart:-4,overflow:"hidden",width:"100vw",children:(0,s.jsx)(p.xu,{display:"flex",marginBottom:-2,overflow:"scrollX",paddingX:T?void 0:A?3:4,paddingY:T?void 0:3,ref:k,children:w.map(((e,n)=>{var i;const{type:o,schema:m}=e;let I=null;switch(o||m){case"explorearticle":I=E?(0,s.jsx)(h,{bubble:e,component:a,height:"75%",storyId:f,slotIndex:n,storyType:y,viewParameter:b,viewType:x}):(0,s.jsx)(r.Z,{auxData:{content_ids:S,story_type:y},bubble:e,format:d,height:"75%",onTouch:u,pwtSurfaceContext:_,referringSource:v,slotIndex:n,storyId:f,viewParameter:b,viewType:x});break;case"todayarticle":I=(0,s.jsx)(P,{auxData:{content_ids:S,story_type:y},bubble:e,immersiveHeader:T,onTouch:u,pwtSurfaceContext:_,referringSource:v,slotIndex:n,storyId:f,storyType:y,viewParameter:b,viewType:x});break;case"interest":I=(0,s.jsx)(l,{bubble:e,font:"md",height:"65%",onTouch:u});break;case"pin":I=n===w.length-1&&t?(0,s.jsx)(p.iP,{href:t.url,onTap:()=>{Z({view_type:x,view_parameter:b,component:a,element:179,event_type:102,aux_data:{content_ids:S,entered_query:g,grid_index:n,story_type:y}})},role:"link",rounding:4,children:(0,s.jsxs)(p.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},position:"relative",children:[(0,s.jsx)(p.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:(0,s.jsx)(c.default,{auxData:{content_ids:S,entered_query:g,grid_index:n,story_type:y},componentType:a||14026,imageOnlyOption:"image-only",duploIsSquarePin:!0,pinId:e.id,slotIndex:n,viewParameter:b,viewType:x})}),(0,s.jsx)(p.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.4)"}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,rounding:4,top:!0,children:(0,s.jsx)(p.zx,{accessibilityLabel:t.text,size:"sm",text:t.text})})]})}):(0,s.jsx)(c.default,{auxData:{content_ids:S,entered_query:g,grid_index:n,story_type:y},componentType:a||14026,duploIsSquarePin:!0,pinId:e.id,slotIndex:n,trafficSource:"shop_feed",viewParameter:b,viewType:x})}return(0,s.jsx)(p.xu,{flex:"none",paddingX:T?void 0:1,ref:0===n?C:void 0,width:N,children:I},`bubble-${null!==(i=e.id)&&void 0!==i?i:""}`)}))})}),(T||A)&&(0,s.jsx)(p.xu,{marginBottom:T?5:-2,marginTop:T?-6:1,position:"relative",zIndex:new p.Ry(100),children:(0,s.jsx)(p.kC,{alignItems:"center",direction:"row",gap:{row:2,column:0},justifyContent:"center",children:[...Array(O).keys()].map((e=>{const t=R===e?"tertiary":"lightWash";return(0,s.jsx)(p.xu,{color:t,height:6,rounding:"circle",width:6},`indicator-dot-${e}`)}))})})]})}},419685:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(702664),r=n(906935),o=n(366428),a=n(883119),s=n(785893);function l({auxData:e,slotIndex:t,storyId:n,storyType:l,viewParameter:c,viewType:d}){var u;const p=(0,i.useSelector)((({stories:e})=>e[n])),{action:h,display_options:m,objects:_,title:g}=p,v=null==m||null===(u=m.content_display)||void 0===u?void 0:u.component_type,f=(null==e?void 0:e.entered_query)||"",y={entered_query:f,grid_index:t,story_id:n,story_type:l},b=(0,o.Z)({componentType:v,contextLogData:y,impressionType:"Story",loggingId:n,slotIndex:t,viewParameter:c,viewType:d}),x=(0,i.useSelector)((({articles:e})=>_.map((t=>{switch(t.schema){case"article":return e[t.id];case"pin":return t;default:return null}}))));return(0,s.jsxs)(a.xu,{ref:b,children:[g&&(0,s.jsx)(a.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:(0,s.jsx)(a.xv,{weight:"bold",children:g.format})}),(0,s.jsx)(r.Z,{action:h,bubbles:x,component:v,query:f,storyId:n,storyType:l,viewParameter:c,viewType:d})]})}},151365:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(112690),r=n(825077),o=n(826067),a=n(907231),s=n(613316),l=n(785893);function c({auxData:e,bubble:t,font:n,format:c,height:d,onTouch:u,pwtSurfaceContext:p,referringSource:h,slotIndex:m,storyId:_,viewParameter:g,viewType:v,width:f="100%"}){var y;const{action:b,cover_images:x,curator:w,dominant_colors:S,id:P,identifier_icon_type:T,story_category:E,title:I}=t,A=(0,i.Z)();if(!x||!I)return null;const k=w&&w.full_name&&w.image_small_url?{full_name:w.full_name,image_small_url:w.image_small_url}:void 0,C=null===(y=x[0]&&(x[0]["474x"]||x[0]["236x"]))||void 0===y?void 0:y.url,R=I.format,L=(null==b?void 0:b.url)||(({storyCategory:e,query:t,referringSource:n,bubbleId:i,storyId:r,title:a})=>{const l=null!=e&&(0,s.y)(e),c=(0,o.XP)({q:t,rs:n||void 0,b_id:i,source_id:r}),d=l&&a?(0,s.x)({title:a,id:i,articleType:"discover"}):`/discover/article/${i}/`;return l?d:"/search/pins/"+(c?"?"+c:"")})({storyCategory:E,query:R,referringSource:h,bubbleId:P,storyId:_,title:R}),j=c===a.UG.article?13865:200,D=c===a.UG.article?102:6940,O=S&&S.length?S[0]:void 0;return(0,l.jsx)(r.fv,{auxData:{story_id:_,...e},impressionData:{storyCategory:E,storyIdStr:_},impressionType:"articleImpressions",loggingId:_,slotIndex:m,viewParameter:g,viewType:v,children:(0,l.jsx)(a.ZP,{backgroundColor:O,bubbleId:P,bubbleUrl:L,coverImageUrl:C,curator:k,font:n,format:c,height:d,identifierIconType:T,onTap:t=>{var n;(A({component:j,event_type:D,object_id_str:t,view_parameter:g,view_type:v,aux_data:{article_id:t,grid_index:m,...e}}),u)&&u({query:R,url:null!==(n=null==b?void 0:b.url)&&void 0!==n?n:void 0})},pwtSurfaceContext:p,referringSource:h,title:R,width:f})})}},285230:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(166300),r=n(898781),o=n(883119),a=n(785893);function s({isPinRep:e}){const t=(0,r.ZP)(),n=e?"default":"inverse",s=(0,a.jsx)(o.xu,{padding:e?1:0,"data-test-id":"unavailable-pin",children:(0,a.jsx)(o.xu,{color:e?"secondary":"dark",top:!0,height:e?314:"100vh",position:e?"static":"absolute",rounding:e?4:0,width:"100%",children:(0,a.jsxs)(o.kC,{height:"100%",direction:"column",justifyContent:"center",alignItems:"center",children:[(0,a.jsx)(o.xu,{paddingY:4,children:(0,a.jsx)(o.JO,{accessibilityLabel:t._('Pin not available', 'story-pin.Closeup.UnavailableStoryPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:n,icon:"alert",size:20})}),(0,a.jsx)(o.xv,{align:"center",color:n,weight:"bold",children:t._('Unavailable', 'story-pin.Closeup.UnavailableStoryPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),(0,a.jsx)(o.xu,{paddingY:1,children:(0,a.jsx)(o.xv,{align:"center",color:n,children:t._('Removed by the creator', 'story-pin.Closeup.UnavailableStoryPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})});return e?s:(0,a.jsx)(o.xu,{height:"100vh",children:(0,a.jsx)(i.Z,{children:s})})}},191363:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(883119),r=n(904411),o=n(785893);function a({boardId:e}){var t;const n=(0,r.gC)()(e),a=null!=n&&n.images&&n.images["170x"]?n.images["170x"][0]:void 0;return e&&a?(0,o.jsx)(i.Ee,{alt:"Pin image",color:"#efefef",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!==(t=a.url)&&void 0!==t?t:""}):null}},452130:(e,t,n)=>{n.d(t,{k:()=>a,w:()=>o});var i=n(707853),r=n(883119);const o=2e3,a=new r.H3([i.Z])},959322:(e,t,n)=>{n.d(t,{Z:()=>A});var i=n(702664),r=n(98207),o=n(116303),a=n(118725),s=n(757141),l=n(198125),c=n(112690),d=n(50286),u=n(780280),p=n(883119),h=n(785893);const m=Math.floor(24),_=({articleId:e,imageUrls:t,subtitle:n,title:i,viewParameter:r,viewType:_,user:g})=>{const{isAuthenticated:v}=(0,u.B)(),f=(0,d.HG)(),{isHovering:y,handleMouseEnter:b,handleMouseLeave:x}=(0,l.Z)(),w=(0,c.Z)();if(!g||!t||t.length<=0)return null;const{full_name:S,image_medium_url:P,image_small_url:T}=g,E=P||T||"",I=Math.min(t.length,3),A={aux_data:{today_article_id:e},component:13525,object_id_str:e,view_parameter:r,view_type:_};return(0,h.jsxs)(p.xu,{borderStyle:"shadow",color:"default",onMouseEnter:f?b:void 0,onMouseLeave:f?x:void 0,overflow:"hidden",rounding:8,children:[y&&(0,h.jsx)(s.Z,{}),(0,h.jsx)(p.xu,{display:"flex",position:"relative",width:"100%",dangerouslySetInlineStyle:{__style:{paddingTop:"45%"}},children:(0,h.jsx)(p.xu,{display:"flex",height:"100%",direction:"row",left:!0,position:"absolute",top:!0,width:"100%",children:t.slice(0,I).map(((e,t)=>(0,h.jsx)(p.xu,{width:100/I+"%",children:(0,h.jsx)(p.Ee,{alt:"",color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:e},t)})))})}),(0,h.jsxs)(p.xu,{flex:"none",paddingX:5,paddingY:6,position:"relative",width:"100%",children:[(0,h.jsx)(p.xu,{height:48,position:"absolute",width:48,dangerouslySetInlineStyle:{__style:{left:`calc(50% - ${m}px)`,top:`-${m}px`}},children:(0,h.jsx)(o.Z,{name:null!=S?S:"",outline:!0,size:"fit",src:E})}),i&&(0,h.jsx)(p.xu,{marginTop:2,children:(0,h.jsx)(p.X6,{size:"400",align:"center",children:i})}),n&&(0,h.jsx)(p.xu,{marginTop:2,children:(0,h.jsx)(p.xv,{align:"center",size:"100",children:n})}),v&&(0,h.jsx)(p.xu,{display:"flex",justifyContent:"center",marginTop:3,children:(0,h.jsx)(a.Z,{isSecondaryButton:!0,onTap:()=>{w({...A,element:62,event_type:f?101:102})},size:"lg",user:g,viewParameter:r,viewType:_})})]})]})};var g=n(235626),v=n(784641),f=n(606441);function y({articleId:e,gridIndex:t,pinId:n,pinOfficialUserId:i,showCreator:r,title:o,viewParameter:a,viewType:s}){const l=(0,f.N)(n);if(!l)return null;const{id:c,images:d,origin_pinner:u,pinner:p,tracking_params:m}=l,_=(null==d?void 0:d["736x"])||(null==d?void 0:d["236x"])||(null==d?void 0:d["170x"]);if(!_)return null;const y=(0,v.xt)(i,null==u?void 0:u.id,null==p?void 0:p.id);return(0,h.jsx)(g.Z,{articleId:e,creatorId:y,gridIndex:t,pinId:c,imageHeight:_.height,imageUrl:_.url,imageWidth:_.width,showCreator:r,title:o,trackingParams:m,viewParameter:a,viewType:s})}var b=n(775007);const x=({articleId:e,gridIndex:t,pinId:n,title:i,viewParameter:r,viewType:o})=>{const a=(0,f.N)(n),s=null==a?void 0:a.pinner,l=null==a?void 0:a.story_pin_data;if(!a)return null;const c=(null==l?void 0:l.page_count)||"",{images:d}=a,u=(null==d?void 0:d["736x"])||(null==d?void 0:d["236x"])||(null==d?void 0:d["170x"]);if(!u)return null;const p=(null==s?void 0:s.image_medium_url)||(null==s?void 0:s.image_small_url)||"",m=(null==s?void 0:s.full_name)||"",_=Boolean(p||m);return(0,h.jsx)(b.Z,{articleId:e,imageHeight:u.height,imageWidth:u.width,imageUrl:u.url,gridIndex:t,hasPinnerAttribution:_,pageCount:c,pinId:a.id,pinnerImageSrc:p,pinnerName:m,pinTrackingParams:a.tracking_params,title:i,viewParameter:r,viewType:o})};var w=n(588979);function S({articleId:e,gridIndex:t,pinOfficialUserId:n,showCreator:i,title:r,videoPinId:o,viewParameter:a,viewType:s}){var l,c;const d=(0,f.N)(o);if(!d)return null;const{description:u,images:p,origin_pinner:m,pinner:_,tracking_params:g}=d,y=(0,v.xt)(n,null==m?void 0:m.id,null==_?void 0:_.id),b=(null==p?void 0:p["736x"])||(null==p?void 0:p["236x"])||(null==p?void 0:p["170x"])||{},{url:x,height:S,width:P}=null!=b?b:{},T=null===(l=d.videos)||void 0===l||null===(c=l.video_list)||void 0===c?void 0:c.V_720P,{height:E,thumbnail:I,url:A,width:k}=null!=T?T:{};return(0,h.jsx)(w.Z,{articleId:e,creatorId:y,gridIndex:t,height:E,pinDescription:u,pinImageHeight:S,pinImageUrl:x,pinImageWidth:P,showCreator:i,title:r,trackingParams:g,thumbnail:I,url:A,videoPinId:o,viewParameter:a,viewType:s,width:k})}var P=n(452985),T=n(465110),E=n(802201),I=n(281180);const A=({gridIndex:e,id:t,isTodayArticlePage:n,article:o,subtitleSize:a,subtitleWeight:s,titleSize:l,viewParameter:c,viewType:d})=>{const u=(0,I.kW)(),p=(0,E.AF)(),m=(0,i.useSelector)((({todayArticles:e})=>o||e[t]));if(!m)return null;const{article_creator_user:g,content_pin:f,content_pin_official_user:b,display_type:w,feed_source:A,header_pin_id:k,image_urls:C,is_product_pin_feed:R,show_creator:L,subtitle:j,title:D,video_pin:O}=m,N=u[g||""],M=f||O,U=M?p[M].tracking_params:void 0;let F=null,z=(0,v.T7)(A,null!=R&&R,D,t);switch(w){case 0:F=(0,h.jsx)(r.Z,{imageUrls:C,subtitle:j,subtitleSize:a||"300",subtitleWeight:s,title:D,titleSize:l||"500"});break;case 1:F=(0,h.jsx)(P.Z,{imageUrls:C,subtitle:j,subtitleSize:a||"300",title:D,titleSize:l||"500"});break;case 2:O&&(F=(0,h.jsx)(S,{articleId:t,gridIndex:e,pinOfficialUserId:b,showCreator:L,title:D,videoPinId:O,viewParameter:c,viewType:d}),z=`/pin/${O}`);break;case 3:F=(0,h.jsx)(y,{articleId:t,gridIndex:e,pinId:f,pinOfficialUserId:b,showCreator:L,title:D,viewParameter:c,viewType:d}),z=`/pin/${k}`;break;case 6:F=(0,h.jsx)(x,{articleId:t,gridIndex:e,pinId:f,title:D,viewParameter:c,viewType:d}),z=`/pin/${k}`;break;case 8:N?(F=(0,h.jsx)(_,{articleId:t,imageUrls:C,subtitle:j,title:D,user:N,viewParameter:c,viewType:d}),z=`/${encodeURIComponent(N.username)}/`):F=null;break;default:F=null}return F?(0,h.jsx)(T.y,{ArticleModule:F,clientTrackingParams:U,displayType:w,gridIndex:e,id:t,isTodayArticlePage:n,onArticleTapUrl:z,pinId:M,viewParameter:c,viewType:d}):null}},5724:(e,t,n)=>{n.d(t,{Z:()=>w});var i,r=n(702664),o=n(70598),a=n(987798),s=n(898781),l=n(892819),c=n(883119),d=n(167912),u=n(785893);const p=({backgroundColor:e,decreaseNamePadding:t,isHomefeedTuner:n,isLego:i,isSelected:r,locale:o,nameTextSize:d,renderAsPill:p,showFollowerCount:h,topicName:m,followerCount:_,image:g})=>{var v;const f=(0,s.ZP)(),y=(0,l.Z)(),b=(0,u.jsx)(c.JO,{accessibilityLabel:f._('Selected', ' - ', ' -- '),color:"inverse",icon:i?"check":"check-circle",size:i?12:24});return p?(0,u.jsx)(a.Z,{color:e||"#767676",image:g,isSelected:null!=r&&r,title:m}):(0,u.jsxs)(c.xu,{position:"relative","aria-selected":r,children:[(0,u.jsx)(c.zd,{rounding:i||n?4:2,children:(0,u.jsxs)(c.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},children:[(0,u.jsx)(c.xu,{bottom:!0,left:!0,padding:i&&r?1:0,position:"absolute",right:!0,rounding:i&&r?4:0,top:!0,children:(0,u.jsx)(c.Ee,{alt:m,color:e||"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!==(v=g.url)&&void 0!==v?v:""})}),(0,u.jsx)(c.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:r?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",border:i&&r?"4px solid #767676":"none"}},rounding:i?4:void 0,position:"absolute",left:!0,right:!0,top:!0}),i&&r&&(0,u.jsx)(c.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{border:"2px solid #111"}},left:!0,position:"absolute",right:!0,rounding:4,top:!0})]})}),n?(0,u.jsx)(c.xu,{top:!0,bottom:!0,left:!0,right:!0,padding:2,position:"absolute",display:"flex",alignContent:"center",justifyContent:"center",alignItems:"center",children:(0,u.jsx)(c.xv,{align:"center",color:"inverse",size:d,weight:"bold",children:m})}):(0,u.jsxs)(c.xu,{bottom:!0,left:!0,padding:t?1:2,position:"absolute",right:!0,children:[(0,u.jsx)(c.xv,{color:"inverse",size:d,weight:"bold",children:m}),h&&_>=0&&(0,u.jsx)(c.xu,{paddingY:1,children:(0,u.jsxs)(c.xv,{color:"inverse",size:"100",children:[(0,u.jsx)(c.xv,{color:"inverse",inline:!0,size:"100",weight:"bold",children:y(o,_,{shortform:!0,shortform_maximum_fraction_digits:1})}),f._('followers', ' - ', ' -- ')]})})]}),r&&(0,u.jsx)(c.xu,{margin:2,position:"absolute",right:!0,top:!0,children:i?(0,u.jsx)(c.xu,{alignItems:"center",color:"selected",display:"flex",height:24,justifyContent:"center",rounding:2,width:24,children:b}):b})]})},h=void 0!==i?i:i=n(133132),m=({topicRef:e,...t})=>{var n,i,r,o,a,s;const l=(0,d.useFragment)(h,e),c=l.images?{url:null!==(n=l.images.url)&&void 0!==n?n:"",width:null!==(i=l.images.width)&&void 0!==i?i:0,height:null!==(r=l.images.height)&&void 0!==r?r:0,dominant_color:"",type:""}:{dominant_color:"",height:0,type:"",url:"",width:0};return(0,u.jsx)(p,{backgroundColor:null!==(o=l.background_color)&&void 0!==o?o:"",topicName:null!==(a=l.name)&&void 0!==a?a:"",followerCount:null!==(s=l.follower_count)&&void 0!==s?s:0,image:c,...t})},_=({topic:e,topicBlob:t,topicInfoForContextualExp:n,...i})=>{const r=n||e||t||{},o=r.images["236x"]||r.images["400x"]||r.images["474x"]||r.images.orig||{height:1,url:"",width:1},a=r.follower_count||-1;return(0,u.jsx)(p,{backgroundColor:r.background_color,topicName:r.name,followerCount:a,image:o,...i})};var g,v=n(856585);const f=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:n,isSelected:i=!1,nameTextSize:a="lg",onTouch:s,padding:l=2,renderAsPill:d,showFollowButton:p=!1,showFollowerCount:h=!1,shouldClickthrough:g=!1,topic:f,viewParameter:y,viewType:b,enabledHomeFeedTunerDesignChanges:x})=>{const w=(0,r.useDispatch)(),S=(0,r.useSelector)((({session:e})=>e.locale)),P=(0,u.jsxs)(c.xu,{"data-test-id":"nux-picker-topic",children:["graphql"!==f.type?(0,u.jsx)(_,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:i,locale:S,nameTextSize:a,renderAsPill:d,showFollowerCount:h,topic:f.topic,topicBlob:f.topicBlob,topicInfoForContextualExp:f.topicInfoForContextualExp}):(0,u.jsx)(m,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:i,locale:S,nameTextSize:a,renderAsPill:d,showFollowerCount:h,topicRef:f.topicRef}),!!f&&p&&(0,u.jsx)(c.xu,{paddingY:2,children:(0,u.jsx)(o.Z,{textType:t?"AddRemove":"FollowFollowing",followEventType:601,id:f.id,invertColors:t,inline:t&&x,isFollowed:f.is_followed,onFollow:e=>w((0,v.ZN)(e)),onUnfollow:e=>w((0,v.fv)(e)),size:"md",unfollowEventType:602,viewParameter:y||void 0,viewType:b||void 0})})]});let T="/";return f&&(T=`/topics/${f.id}`),g&&f.slug?(0,u.jsx)(c.iP,{role:"link",onTap:({event:e})=>{null==s||s(e)},tapStyle:"compress",rounding:2,href:T,children:(0,u.jsx)(c.xu,{padding:l,children:P})}):P},y=void 0!==g?g:g=n(964820),b=({topicRef:e,decreaseNamePadding:t=!1,isHomefeedTuner:n,isLego:i,isSelected:r=!1,nameTextSize:o="lg",onTouch:a,padding:s=2,renderAsPill:l,showFollowButton:c=!1,showFollowerCount:p=!1,shouldClickthrough:h=!1,viewParameter:m,viewType:_,enabledHomeFeedTunerDesignChanges:g})=>{var v,b;const x=(0,d.useFragment)(y,e);return(0,u.jsx)(f,{decreaseNamePadding:t,isHomefeedTuner:n,isLego:i,isSelected:r,nameTextSize:o,onTouch:a,padding:s,renderAsPill:l,showFollowButton:c,showFollowerCount:p,shouldClickthrough:h,viewParameter:m,viewType:_,enabledHomeFeedTunerDesignChanges:g,topic:{id:null!==(v=x.entityId)&&void 0!==v?v:"",type:"graphql",is_followed:null!==(b=x.is_followed)&&void 0!==b&&b,topicRef:x}})},x=({id:e,topic:t,topicBlob:n,topicInfoForContextualExp:i,decreaseNamePadding:o=!1,isHomefeedTuner:a,isLego:s,isSelected:l=!1,nameTextSize:c="lg",onTouch:d,padding:p=2,renderAsPill:h,showFollowButton:m=!1,showFollowerCount:_=!1,shouldClickthrough:g=!1,viewParameter:v,viewType:y,enabledHomeFeedTunerDesignChanges:b})=>{const x=(0,r.useSelector)((({topics:t})=>t[e])),w=null!=t?t:x;return(0,u.jsx)(f,{decreaseNamePadding:o,isHomefeedTuner:a,isLego:s,isSelected:l,nameTextSize:c,onTouch:d,padding:p,renderAsPill:h,showFollowButton:m,showFollowerCount:_,shouldClickthrough:g,viewParameter:v,viewType:y,enabledHomeFeedTunerDesignChanges:b,topic:{id:e,is_followed:!(null==w||!w.is_followed),topic:w,topicBlob:n,topicInfoForContextualExp:i,type:"resource"}})},w=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:n,isSelected:i=!1,nameTextSize:r="lg",onTouch:o,padding:a=2,renderAsPill:s,showFollowButton:l=!1,showFollowerCount:c=!1,shouldClickthrough:d=!1,viewParameter:p,viewType:h,enabledHomeFeedTunerDesignChanges:m,..._})=>_.topicRef?(0,u.jsx)(b,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:i,nameTextSize:r,onTouch:o,padding:a,renderAsPill:s,showFollowButton:l,showFollowerCount:c,shouldClickthrough:d,viewParameter:p,viewType:h,topicRef:_.topicRef,enabledHomeFeedTunerDesignChanges:m}):(0,u.jsx)(x,{id:_.id,decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:i,nameTextSize:r,onTouch:o,padding:a,renderAsPill:s,showFollowButton:l,showFollowerCount:c,shouldClickthrough:d,topic:_.topic,topicBlob:_.topicBlob,topicInfoForContextualExp:_.topicInfoForContextualExp,viewParameter:p,viewType:h,enabledHomeFeedTunerDesignChanges:m})},957980:(e,t,n)=>{n.d(t,{Z:()=>S});var i,r=n(667294),o=n(248975),a=n(862628),s=n(898781),l=n(250946),c=n(667679),d=n(755506),u=n(349700),p=n(539497),h=n(802201),m=n(276775),_=n(883119),g=n(167912),v=n(785893);const f=({children:e,onTap:t})=>{const[n,i]=(0,r.useState)(!1);return(0,v.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:n?"rgba(0, 0, 0, 0.06)":void 0}},rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,v.jsx)(_.iP,{onTap:t,onBlur:()=>i(!1),onFocus:()=>i(!0),onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:e})})},y=void 0!==i?i:i=n(12617);function b({desktopContextMenuState:e,isMainPinImage:t,source:n,images:i,embedSrc:l,embedType:d,sourceUserUsername:h,sourceUserFullname:g,pinJoinVisualAnnotation:y,pinJoinSeoBreadcrumbName:b,pinJoinSeoBreadcrumbUrl:x,pinId:w,pinLink:S}){var P;const T=(0,s.ZP)(),E=(0,m.useHistory)(),I=(0,o.Z)({images:i,embedSrc:l,embedType:d}),A=b,k=x,C=null!==(P=null==y?void 0:y[0])&&void 0!==P?P:void 0,R=(0,a.Z)(C),L=`/search/pins/?q=${encodeURIComponent(R)}&rs=image_only_attribution`,j=(0,c.Z)(),D="dweb.plp.ellipsis.button"===n;return I?(0,v.jsxs)(_.xu,{"data-test-id":"desktop-context-menu",position:"fixed",dangerouslySetInlineStyle:{__style:{top:`${e.yPosition}px`,left:`${e.xPosition}px`}},zIndex:new _.Ry(99999),color:"default",rounding:2,borderStyle:"shadow",display:"flex",direction:"column",paddingY:3,paddingX:2,maxWidth:250,children:[(0,v.jsx)(_.xu,{rounding:2,paddingX:3,paddingY:2,role:"img",children:(0,v.jsx)(_.JO,{icon:"pinterest",accessibilityLabel:T._('Pinterest logo', 'dweb.unauth.context_menu.pinterest_logo', 'Pinterest logo in the context menu'),color:"brandPrimary"})}),(0,v.jsx)(f,{onTap:()=>{(0,p.My)("dweb.unauth.context_menu.save_image"),j({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_context_menu_download_image",desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save",savePinId:w}}})},children:(0,v.jsx)(_.xv,{size:"200",weight:"bold",children:T._('Save image', 'dweb.unauth.context_menu.link.save_image', 'Link to save the image')})}),!(t||D&&!S)&&(0,v.jsx)(f,{onTap:()=>{(0,p.My)(D?"dweb.unauth.context_menu.open_plp_new_tab.from.ellipsis.button":"dweb.unauth.context_menu.open_plp_new_tab"),window.open(D?S:`/pin/${w}/`),D||j({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_context_menu_open_plp_new_tab",desktopOptions:{modalType:"login"}})},children:(0,v.jsx)(_.xv,{size:"200",weight:"bold",children:T._('Open link in new tab', 'dweb.unauth.context_menu.link.plp_new_tab', 'Link to open the pin in a new tab')})}),(C||!(!A||!k))&&(0,v.jsx)(f,{onTap:()=>{(0,p.My)("dweb.unauth.context_menu.see_more_pins"),k?E.push(`${k}`):E.push(L)},children:A?(0,v.jsx)(_.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,u.nk)(T._('See more ideas about {{levelOneInterestName}}', 'dweb.unauth.context_menu.link.see_more_ideas.l1', 'Link to see similar pins'),{levelOneInterestName:A})}):(0,v.jsx)(_.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,u.nk)(T._('See more ideas about {{interestTag}}', 'dweb.unauth.context_menu.link.see_more_ideas.interest_tag', 'Link to see similar pins'),{interestTag:C})})}),!(!g||!h)&&(0,v.jsx)(f,{onTap:()=>{(0,p.My)("dweb.unauth.context_menu.more_from_creator"),E.push(`/${h}/`)},children:(0,v.jsx)(_.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,u.nk)(T._('See more from {{full_name}}', 'dweb.unauth.context_menu.link.more_from_creator', 'Link to see more ideas from this creator'),{full_name:g})})}),(0,v.jsx)(r.Fragment,{children:(0,v.jsx)(f,{onTap:()=>{(0,p.My)("dweb.unauth.context_menu.login_signup"),j({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_context_menu_login_signup",desktopOptions:{modalType:"login"}})},children:(0,v.jsx)(_.xv,{size:"200",weight:"bold",children:T._('Log in or sign up for more', 'dweb.unauth.context_menu.link.login_signup', 'Link to log in or sign up')})})})]}):null}function x({graphqlRef:e,pinId:t,useNativeCreatorAsPinner:n,...i}){var r,o,a,s,c;const d=(0,g.useFragment)(y,e),u=(0,l.Z)(d);let p;var h,m;(p=null!=d&&d.nativeCreator?d.nativeCreator:null!=d&&d.linkDomain?d.linkDomain.officialUser:(null==d?void 0:d.originPinner)||(null==d?void 0:d.pinner),p)||(p=null!==(h=null==d||null===(m=d.linkDomain)||void 0===m?void 0:m.officialUser)&&void 0!==h?h:null==d?void 0:d.pinner);return(0,v.jsx)(b,{...i,embedSrc:(null==d?void 0:d.embed)&&d.embed.src,embedType:(null==d?void 0:d.embed)&&d.embed.type,images:u,sourceUserUsername:null===(r=p)||void 0===r?void 0:r.username,sourceUserFullname:null===(o=p)||void 0===o?void 0:o.fullName,pinJoinVisualAnnotation:null==d||null===(a=d.pinJoin)||void 0===a?void 0:a.visualAnnotation,pinJoinSeoBreadcrumbName:(null==d||null===(s=d.pinJoin)||void 0===s?void 0:s.seoBreadcrumbs)&&(d.pinJoin.seoBreadcrumbs.length>0?d.pinJoin.seoBreadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==d||null===(c=d.pinJoin)||void 0===c?void 0:c.seoBreadcrumbs)&&(d.pinJoin.seoBreadcrumbs.length>0?d.pinJoin.seoBreadcrumbs[0].url:null),pinId:t})}function w({graphqlRef:e,pinId:t,useNativeCreatorAsPinner:n,...i}){var r,o,a,s,l,c;const u=(0,h.S6)()(t);let p=(0,d.wS)(u);var m,_;p||(p=null!==(m=null==u||null===(_=u.link_domain)||void 0===_?void 0:_.official_user)&&void 0!==m?m:null==u?void 0:u.pinner);const{full_name:g,username:f}=null!==(r=p)&&void 0!==r?r:{};return(0,v.jsx)(b,{...i,embedSrc:null==u||null===(o=u.embed)||void 0===o?void 0:o.src,embedType:null==u||null===(a=u.embed)||void 0===a?void 0:a.type,images:null==u?void 0:u.images,sourceUserUsername:g,sourceUserFullname:f,pinJoinVisualAnnotation:null==u||null===(s=u.pin_join)||void 0===s?void 0:s.visual_annotation,pinJoinSeoBreadcrumbName:(null==u||null===(l=u.pin_join)||void 0===l?void 0:l.seo_breadcrumbs)&&(u.pin_join.seo_breadcrumbs.length>0?u.pin_join.seo_breadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==u||null===(c=u.pin_join)||void 0===c?void 0:c.seo_breadcrumbs)&&(u.pin_join.seo_breadcrumbs.length>0?u.pin_join.seo_breadcrumbs[0].url:null),pinId:t})}function S(e){return e.graphqlRef?(0,v.jsx)(x,{...e}):(0,v.jsx)(w,{...e})}},743873:(e,t,n)=>{n.d(t,{n:()=>x,Z:()=>w});var i=n(702664),r=n(474635),o=n(104788),a=n(966476);const s=({children:e,fallback:t})=>(()=>{const e=(0,i.useSelector)((e=>{var t;return!(null==e||null===(t=e.session)||void 0===t||!t.isSeoBot)})),t=(0,a.Z)();return!e&&!t})()?t||null:e;var l=n(949372),c=n(898781),d=n(125920),u=n(112690),p=n(539497);var h=n(643010),m=n(968228),_=n(773285),g=n(385740),v=n(53987),f=n(883119),y=n(276775),b=n(785893);const x=56;function w(){const e=(0,c.ZP)(),t=(0,y.useLocation)(),n=(0,y.useHistory)(),{viewType:a,viewParameter:w}=(0,g.SU)(),{userAgentPlatform:S,userAgent:P}=(0,i.useSelector)((({session:e})=>e)),T=(0,m.Rp)({platform:S,userAgent:P}),E=(0,d.Z)(),I=function(){const{isSeoBot:e}=(0,i.useSelector)((({session:e})=>e));return(t,n)=>{e||(0,p.NC)(t,n)}}(),A=(0,l.Z)(),{checkExperiment:k}=(0,_.F)(),C=(0,u.Z)(),R=e._('Log in', 'Label for log in button', 'Label for log in button'),L=e._('Sign up', 'Text on button on the top bar that leads users to signing up.', 'Text on button on the top bar that leads users to signing up.'),j=e._('Download', 'mweb.unauth.interstitial_upsell.download_button_text', 'CTA on the app interstitial upsell to install the app'),D=!T&&!(0,v.Xn)(t),O=((0,v.dr)(t)||(0,v.$Y)(t)||(0,v.E0)(t))&&!k("lex_follow_button").group.includes("main_cta"),N=!A||E||O?"signup":"download",M=(D?R.length:0)+("signup"===N?L.length:0)+("download"===N?j.length:0);return(0,b.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{boxShadow:"0 1px 0 0 rgba(0, 0, 0, 0.08)",backgroundColor:(0,h.Yc)()?"#333":"white",transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:"translateY(0)"}},top:!0,left:!0,width:"100vw",position:"relative",paddingX:3,children:(0,b.jsxs)(f.xu,{alignItems:"center","data-test-id":"unauth-header",direction:"row",display:"flex",justifyContent:"between",children:[(0,b.jsx)(f.iP,{accessibilityLabel:e._('Pinterest App', 'Pinterest icon for app upsell', 'Pinterest icon for app upsell'),onTap:()=>{(0,p.LW)({action:"click",pageLocation:t,within:"unauth-header",item:"pinterest-logo"})},children:(0,b.jsxs)(f.xu,{alignItems:"center",display:"flex",direction:"row",marginEnd:3,children:[(0,b.jsx)(f.xu,{alignItems:"center",display:"flex",height:x,justifyContent:"center",rounding:2,"data-test-id":"pinterest-logo-icon",children:(0,b.jsx)(f.iP,{role:"link",tapStyle:"none",href:"/",children:T?(0,b.jsx)(o.Z,{size:24}):(0,b.jsx)(f.hU,{icon:"pinterest",iconColor:"red",padding:1,size:"xl",accessibilityLabel:e._('Pinterest App', 'Pinterest icon for app upsell', 'Pinterest icon for app upsell')})})}),(0,b.jsx)(f.xu,{paddingY:2,paddingX:1,"data-test-id":"pinterest-logo-text",children:M<18&&(0,b.jsxs)(f.xu,{children:[(0,b.jsx)(f.X6,{color:"error",size:"400",overflow:"normal",children:T?e._('Pinterest Lite', 'Pinterest lite brand for the app upsell', 'Pinterest lite brand for the app upsell'):e._('Pinterest', 'Pinterest brand for the app upsell', 'Pinterest brand for the app upsell')}),T&&(0,b.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:(0,b.jsx)(f.xu,{children:(0,b.jsx)(f.xv,{inline:!0,size:"100",color:"subtle",children:e._('Save space on your device', 'Unauth app upsell copy that describe Pinterest product core value to users', 'Unauth app upsell copy that describe Pinterest product core value to users')})})})]})})]})}),(0,b.jsx)(s,{children:(0,b.jsxs)(f.xu,{marginEnd:0,flex:"none",alignItems:"center",display:"flex",direction:"row","data-test-id":"UnauthAppUpsellButton",children:[D&&(0,b.jsx)(f.xu,{"data-test-id":"login-button",children:(0,b.jsx)(f.zx,{fullWidth:!0,color:"white",onClick:()=>{(0,p.LW)({action:"click",pageLocation:t,within:"unauth-header",item:"login-button"}),C({component:13198,element:30,event_type:102,view_type:a,view_parameter:w}),I("press_header_login"),C({event_type:10241,element:30,component:14213,view_type:a,view_parameter:w,aux_data:{upsell_reason:"tap_unauth_header_login"}}),n.push("/login",t.state)},size:"md",text:R})}),"signup"===N?(0,b.jsx)(f.xu,{"data-test-id":"signup-button",children:(0,b.jsx)(f.zx,{fullWidth:!0,color:O?"red":"gray",onClick:()=>{(0,p.LW)({action:"click",pageLocation:t,within:"unauth-header",item:"signup-button"}),C({component:13198,element:31,event_type:102,view_type:a,view_parameter:w}),I("press_header_signup"),C({event_type:10241,element:31,component:14215,view_type:a,view_parameter:w,aux_data:{upsell_reason:"tap_unauth_header_signup"}}),n.push("/signup",t.state)},size:"md",text:L})}):(0,b.jsx)(f.xu,{"data-test-id":"download-button",children:(0,b.jsx)(r.Z,{componentType:14161,within:"unauth-header",children:({handleOpenApp:e})=>(0,b.jsx)(f.zx,{fullWidth:!0,color:(0,v.j8)(t)||k("lex_follow_button").group.includes("main_cta")?"gray":"red",onClick:()=>e(),size:"md",text:j})})})]})})]})})}},884979:(e,t,n)=>{n.d(t,{Yw:()=>P,ZP:()=>k,nt:()=>S});var i,r=n(474635),o=n(155247),a=n(248975),s=n(30700),l=n(862628),c=n(949372),d=n(898781),u=n(250946),p=n(667679),h=n(755506),m=n(349700),_=n(539497),g=n(217013),v=n(773285),f=n(802201),y=n(276775),b=n(883119),x=n(167912),w=n(785893);const S=250,P={WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",KhtmlUserSelect:"none",UserSelect:"none"},T=void 0!==i?i:i=n(167074);function E({mwebContextMenuState:e,openShareModal:t,setMwebContextMenuState:n,pinId:i,images:u,embedSrc:h,embedType:f,sourceUserUsername:x,sourceUserFullname:P,pinDownloadFilename:T,pinImageSignature:E,pinJoinVisualAnnotation:I,pinJoinSeoBreadcrumbName:A,pinJoinSeoBreadcrumbUrl:k}){var C;const R=(0,d.ZP)(),L=(0,y.useHistory)(),j=(0,a.Z)({images:u,embedSrc:h,embedType:f}),{isChromeOnIOS:D}=(0,g.R)(),O=A,N=k,M=null!==(C=null==I?void 0:I[0])&&void 0!==C?C:void 0,U=(0,l.Z)(M),F=`/search/pins/?q=${encodeURIComponent(U)}&rs=image_only_attribution`,z=(0,p.Z)(),Z=(0,g.R)(),{checkExperiment:B}=(0,v.F)(),H=(0,c.Z)();return j?(0,w.jsxs)(b.xu,{"data-test-id":"mobile-context-menu",position:"absolute",dangerouslySetInlineStyle:{__style:{top:`${e.yPosition}px`,left:`${e.xPosition}px`}},zIndex:new b.Ry(99999),color:"default",rounding:2,borderStyle:"shadow",display:"flex",direction:"column",paddingY:3,paddingX:2,maxWidth:S,children:[(0,w.jsxs)(b.xu,{rounding:2,paddingX:3,paddingY:2,role:"img",direction:"row",display:"flex",alignItems:"center",justifyContent:"between",children:[(0,w.jsx)(b.JO,{icon:"pinterest",accessibilityLabel:R._('Pinterest logo', 'unauth.mweb.context_menu.pinterest_logo', 'Pinterest logo in the context menu'),color:"brandPrimary"}),(0,w.jsx)(b.xu,{alignSelf:"end","data-test-id":"mobile-context-menu-cancel-button",children:(0,w.jsx)(b.iP,{onTap:({event:e})=>{e.stopPropagation(),n(null)},children:(0,w.jsx)(b.JO,{icon:"cancel",accessibilityLabel:R._('Dismiss mweb context menu', 'unauth.mweb.context_menu.dismiss', 'Dismiss icon in mweb context menu')})})})]}),"main"===e.context&&H&&B("mweb_main_pin_ltcm_open_in_app").anyEnabled&&(0,w.jsx)(r.Z,{componentType:18,within:"mweb-context-menu",children:({handleOpenApp:e})=>(0,w.jsx)(b.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(b.iP,{onTap:({event:t})=>{t.stopPropagation(),n(null),e({deepLinkUri:`/pin/${i}/`}),(0,_.My)("unauth.mweb.context_menu.open_in_app")},children:(0,w.jsx)(b.xv,{size:"200",weight:"bold",children:R._('Open in App', 'unauth.mweb.context_menu.link.open_in_app', 'Link to open the pin in Pinterest app')})})})}),["download","short_d"].includes(e.context)&&E?(0,w.jsx)(b.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(o.Z,{imgSrc:j,isChromeOnIOS:D,filename:T,pinId:i,viewType:3,imageSignature:E,children:e=>(0,w.jsx)(s.Z,{pressState:"none",onTouch:t=>{e().then((()=>{t.stopPropagation(),n(null),(0,_.My)("unauth.mweb.context_menu.download_image")}))},children:(0,w.jsx)(b.xv,{size:"200",weight:"bold",children:R._('Download image', 'unauth.mweb.related_pin.context_menu.link.download_image', 'Link to download image')})})})}):(0,w.jsx)(b.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(b.iP,{onTap:({event:e})=>{e.stopPropagation(),n(null),(0,_.My)("unauth.mweb.context_menu.save_image"),e&&Z.saveButtonConfig.onSaveButtonClick(e)},children:(0,w.jsx)(b.xv,{size:"200",weight:"bold",children:R._('Save image', 'unauth.mweb.context_menu.link.save_image', 'Link to save image')})})}),["download","save","short_s","short_d"].includes(e.context)&&(0,w.jsx)(b.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(b.iP,{onTap:({event:e})=>{e.stopPropagation(),n(null),t&&t(!0),(0,_.My)("unauth.mweb.context_menu.share_related_pin")},children:(0,w.jsx)(b.xv,{size:"200",weight:"bold",children:R._('Share image', 'unauth.mweb.context_menu.link.share_menu', 'Link to open the share menu')})})}),(0,w.jsx)(b.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(b.iP,{onTap:({event:e})=>{e.stopPropagation(),n(null),(0,_.My)("unauth.mweb.context_menu.open_plp_new_tab"),window.open(`/pin/${i}/`)},children:(0,w.jsx)(b.xv,{size:"200",weight:"bold",children:R._('Open link in new tab', 'unauth.mweb.context_menu.link.plp_new_tab', 'Link to open the pin in a new tab')})})}),["download","save","main"].includes(e.context)&&(M||!(!O||!N))&&(0,w.jsx)(b.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(b.iP,{onTap:()=>{(0,_.My)("unauth.mweb.context_menu.see_more_pins"),L.push(N?`${N}`:F)},children:O?(0,w.jsx)(b.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,m.nk)(R._('See more ideas about {{levelOneInterestName}}', 'unauth.mweb.context_menu.link.see_more_ideas.l1', 'Link to see similar pins'),{levelOneInterestName:O})}):(0,w.jsx)(b.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,m.nk)(R._('See more ideas about {{interestTag}}', 'unauth.mweb.context_menu.link.see_more_ideas.interest_tag', 'Link to see similar pins'),{interestTag:M})})})}),["download","save","main"].includes(e.context)&&!(!P||!x)&&(0,w.jsx)(b.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(b.iP,{onTap:()=>{(0,_.My)("unauth.mweb.context_menu.more_from_creator"),L.push(`/${x}/`)},children:(0,w.jsx)(b.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,m.nk)(R._('See more from {{full_name}}', 'unauth.context_menu.link.more_from_creator', 'Link to see more ideas from this creator'),{full_name:P})})})}),(0,w.jsx)(b.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,w.jsx)(b.iP,{onTap:({event:e})=>{e.stopPropagation(),n(null),(0,_.My)("unauth.mweb.context_menu.login_signup"),z({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_context_menu_login_signup"})},children:(0,w.jsx)(b.xv,{size:"200",weight:"bold",children:R._('Log in or sign up for more', 'unauth.mweb.context_menu.link.login_signup', 'Link to log in or sign up')})})})]}):null}function I({graphqlRef:e,pinId:t,...n}){var i,r,o,a,s;const l=(0,x.useFragment)(T,e),c=(0,u.Z)(l);let d;var p,h;(d=null!=l&&l.nativeCreator?l.nativeCreator:null!=l&&l.linkDomain?l.linkDomain.officialUser:(null==l?void 0:l.originPinner)||(null==l?void 0:l.pinner),d&&"string"!=typeof d)||(d=null!==(p=null==l||null===(h=l.linkDomain)||void 0===h?void 0:h.officialUser)&&void 0!==p?p:null==l?void 0:l.pinner);const m=(null==l?void 0:l.gridTitle)||(null==l?void 0:l.closeupUnifiedDescription),_=null==l?void 0:l.imageSignature;return(0,w.jsx)(E,{...n,embedSrc:(null==l?void 0:l.embed)&&l.embed.src,embedType:(null==l?void 0:l.embed)&&l.embed.type,images:c,sourceUserUsername:null===(i=d)||void 0===i?void 0:i.username,sourceUserFullname:null===(r=d)||void 0===r?void 0:r.fullName,pinDownloadFilename:m,pinImageSignature:_,pinJoinVisualAnnotation:null==l||null===(o=l.pinJoin)||void 0===o?void 0:o.visualAnnotation,pinJoinSeoBreadcrumbName:(null==l||null===(a=l.pinJoin)||void 0===a?void 0:a.seoBreadcrumbs)&&(l.pinJoin.seoBreadcrumbs.length>0?l.pinJoin.seoBreadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==l||null===(s=l.pinJoin)||void 0===s?void 0:s.seoBreadcrumbs)&&(l.pinJoin.seoBreadcrumbs.length>0?l.pinJoin.seoBreadcrumbs[0].url:null),pinId:t})}function A({graphqlRef:e,pinId:t,...n}){var i,r,o,a,s,l;const c=(0,f.S6)()(t),d=null==c?void 0:c.pinner;let u=(0,h.wS)(c);var p,m;u&&"string"!=typeof u||(u=null!==(p=null==c||null===(m=c.link_domain)||void 0===m?void 0:m.official_user)&&void 0!==p?p:d);const{full_name:_,username:g}=null!==(i=u)&&void 0!==i?i:{},v=(null==c?void 0:c.grid_title)||(null==c?void 0:c.closeup_unified_description),y=null==c?void 0:c.image_signature;return(0,w.jsx)(E,{...n,embedSrc:null==c||null===(r=c.embed)||void 0===r?void 0:r.src,embedType:null==c||null===(o=c.embed)||void 0===o?void 0:o.type,images:null==c?void 0:c.images,sourceUserUsername:_,sourceUserFullname:g,pinDownloadFilename:v,pinImageSignature:y,pinJoinVisualAnnotation:null==c||null===(a=c.pin_join)||void 0===a?void 0:a.visual_annotation,pinJoinSeoBreadcrumbName:(null==c||null===(s=c.pin_join)||void 0===s?void 0:s.seo_breadcrumbs)&&(c.pin_join.seo_breadcrumbs.length>0?c.pin_join.seo_breadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==c||null===(l=c.pin_join)||void 0===l?void 0:l.seo_breadcrumbs)&&(c.pin_join.seo_breadcrumbs.length>0?c.pin_join.seo_breadcrumbs[0].url:null),pinId:t})}function k(e){return e.graphqlRef?(0,w.jsx)(I,{...e}):(0,w.jsx)(A,{...e})}},125920:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(702664),r=n(172071),o=n(949372),a=n(436851),s=n(968228),l=n(50286),c=n(276775),d=n(780280),u=n(419940),p=n(622096),h=n(53987);const m=()=>{const{isBot:e}=(0,d.B)(),t=(0,c.useLocation)(),{userAgentPlatform:n,userAgent:m}=(0,i.useSelector)((e=>e.session)),_=(0,o.Z)(),g=(0,l.ml)();return!e&&!(g&&!_)&&!(0,s.Rp)({platform:n,userAgent:m})&&((0,h.uM)(t)||(0,h.am)(t))&&!(0,u.P)()&&!(e=>!!(0,a.d)(e)&&((0,p.qn)("ufausfiiab")||(r.Z.increment("unauth.floating_app_upsell.suppress_for_instagram_in_app_browser"),(0,p.Nh)("ufausfiiab","1")),!0))(m)}},111168:(e,t,n)=>{n.d(t,{Z:()=>s});var i,r=n(667294),o=n(167912);const a=void 0!==i?i:i=n(569772),s=e=>{var t;const n=(0,o.useFragment)(a,e),i=null==n||null===(t=n.pinJoin)||void 0===t?void 0:t.annotationsWithLinksArray;return(0,r.useMemo)((()=>null==i?void 0:i.reduce(((e,t)=>(t.name&&(e[t.name]={name:t.name,url:t.url}),e)),{})),[i])}},609700:(e,t,n)=>{n.d(t,{Z:()=>w});var i=n(667294),r=n(702664),o=n(116303),a=n(70598),s=n(149230),l=n(898781),c=n(883119),d=n(785893);const u={__style:{backgroundColor:"rgba(0, 0, 0, 0.04)"}},p=({height:e,image:t,width:n})=>{var i,r,o;const a=(0,l.ZP)();return(0,d.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{borderRight:"1px solid white"}},children:t?(0,d.jsxs)(c.xu,{position:"relative",children:[(0,d.jsx)(c.GH,{width:n,height:e,contentAspectRatio:"number"==typeof t.height&&"number"==typeof t.width?t.width/t.height:1,children:(0,d.jsx)(c.Ee,{alt:a._('pin image', 'alt text for pin image', 'alt text for pin image'),color:t.dominant_color||void 0,naturalWidth:null!==(i=t.width)&&void 0!==i?i:1,naturalHeight:null!==(r=t.height)&&void 0!==r?r:1,src:null!==(o=t.url)&&void 0!==o?o:""})}),(0,d.jsx)(c.xu,{dangerouslySetInlineStyle:u,height:e,width:n,position:"absolute",top:!0,left:!0})]}):(0,d.jsx)(c.xu,{color:"secondary",width:n,height:e})})};var h=n(112690),m=n(892819),_=n(803035),g=n(856919),v=n(349700),f=n(281180),y=n(780280),b=n(825077),x=n(5226);function w({action:e,auxData:t,isPinnerAuthorityHero:n=!1,userSearchRepStyle:u=!1,onFollowUser:w,onUnfollowUser:S,userId:P,userPins:T,viewParameter:E,viewType:I,truncateName:A=!1}){const k=(0,l.ZP)(),C=(0,m.Z)(),R=(0,r.useDispatch)(),{locale:L}=(0,y.B)(),j=(0,h.Z)(),[D,O]=(0,i.useState)(u?window.innerWidth-16:null),N=(0,f.mN)()(P);if(!N)return null;const{contextual_pin_image_urls:M,explicitly_followed_by_me:U,follower_count:F=0,full_name:z,image_medium_url:Z,is_verified_merchant:B,recent_pin_images:H,username:V,verified_identity:W}=N,G=e=>D?(D-(e-1))/e:0,$=u?1.6*G(4):117,K=(null==T?void 0:T.map((e=>{var t;return null===(t=e.images)||void 0===t?void 0:t["236x"]})))||[],q=(null==H?void 0:H["222x"])||(null==H?void 0:H["192x"])||[];let Y=(null==M?void 0:M["222x"])||(null==M?void 0:M["192x"])||[];n&&0===Y.length&&(Y=q);const X=u&&Y.length<=0;let J=u?Y.concat(q).slice(0,4):K.concat(q).slice(0,2);0===J.length&&(J=[void 0,void 0]);const Q=!X&&(D?(0,d.jsx)(c.zd,{rounding:4,children:(0,d.jsx)(c.kC,{children:J.map(((e,t)=>(0,d.jsx)(p,{height:$,image:e,width:G(J.length)},`pinImage-${t}`)))})}):(0,d.jsx)(c.xu,{height:$,ref:e=>{e&&O(e.offsetWidth)},width:"100%"})),ee=e=>(0,d.jsx)(c.kC,{justifyContent:"center",children:(0,d.jsx)(c.xu,{marginTop:e,height:60,width:60,children:(0,d.jsx)(o.Z,{outline:!0,name:null!=z?z:"",src:null!=Z?Z:""})})}),te=e=>(0,d.jsxs)(c.kC,{direction:"column",gap:{row:0,column:1},alignItems:e,children:[(0,d.jsx)(c.kC,{alignItems:"stretch",maxWidth:(u?(D||0)/2:D)||void 0,children:(0,d.jsx)(c.xv,{align:e,weight:"bold",lineClamp:A?1:void 0,children:B||null!=W&&W.verified?(0,d.jsx)(_.Z,{badgeSize:"md",badgeSpacing:2,fullName:null!=z?z:"",verifiedType:B?"verifiedMerchant":"verifiedIdentity",truncate:A}):z})}),(0,d.jsx)(c.xv,{inline:!0,size:"100",align:e,children:(0,v.nk)(k.ngettext('{{followers}} follower', '{{followers}} followers', F, 'PinnerAuthority.followersCount', 'Count of a user\'s followers'),{followers:C(L,F,{shortform:!0})})})]}),ne=(0,d.jsx)(c.kC,{justifyContent:"center",children:e&&e.url?(0,d.jsx)(c.zx,{role:"link",accessibilityLabel:e.text,color:"gray",size:"lg",text:e.text,href:e.url,onClick:()=>{j({event_type:9029,object_id_str:P,view_type:I,view_parameter:E,aux_data:t})},rel:(0,s.Z)({url:e.url})?"nofollow":void 0,target:(0,s.Z)({url:e.url})?"blank":void 0}):(0,d.jsx)(a.Z,{id:P,isSecondaryButton:!0,isFollowed:U,onFollow:e=>{w&&w(),R((0,x.ZN)(e))},onUnfollow:e=>{S&&S(),R((0,x.fv)(e))},size:"lg",followEventType:45,unfollowEventType:46,viewParameter:E,viewType:I})});return(0,d.jsx)(b.Cy,{loggingId:P,objectIdStr:P,slotIndex:0,viewParameter:E,viewType:I,children:({impressionTrackerRef:e})=>(0,d.jsx)(c.xu,{ref:e,padding:1,marginBottom:6,"data-test-id":"user-rep",children:(0,d.jsx)(g.MZ,{to:`/${V}/`,onTouch:()=>{j({event_type:43,object_id_str:P,view_parameter:E,view_type:I})},children:(0,d.jsxs)(c.kC,{direction:"column",gap:{row:0,column:2},width:"100%",children:[Q,u?(0,d.jsx)(c.xu,{width:"100%",children:(0,d.jsxs)(c.kC,{justifyContent:"between",alignItems:"center",children:[(0,d.jsxs)(c.kC,{alignItems:"center",gap:{row:2,column:0},children:[ee(),te("start")]}),ne]})}):(0,d.jsxs)(c.kC,{direction:"column",gap:{row:0,column:2},children:[ee(-10),te("center"),ne]})]})})})})}},803035:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),r=n(512176),o=n(883119),a=n(785893);const s=function({badgeSize:e,badgeSpacing:t,fullName:n,verifiedType:s,truncate:l=!1}){const c=n.split(" "),d=c.slice(0,c.length-1).join(" "),u=" ".concat(c[c.length-1]);return l?(0,a.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,a.jsx)(o.xv,{lineClamp:1,weight:"bold",children:n}),(0,a.jsx)(o.xu,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},paddingX:1,children:(0,a.jsx)(r.Z,{isVerifiedMerchant:"verifiedMerchant"===s,size:e,showVerifiedIdentity:"verifiedIdentity"===s})})]}):(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)("span",{children:d}),(0,a.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[u,"",(0,a.jsx)(o.xu,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},children:(0,a.jsx)(r.Z,{isVerifiedMerchant:"verifiedMerchant"===s,size:e,showVerifiedIdentity:"verifiedIdentity"===s})})]})]})}},139463:(e,t,n)=>{n.d(t,{Z:()=>d,e:()=>u});var i=n(667294),r=n(722767),o=n(867405),a=n(883119),s=n(606441),l=n(785893);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.PureComponent{constructor(...e){super(...e),c(this,"state",{isPlaying:!1,isVideoReady:!1,isVisibleForPlaying:!1,startLoading:!1}),c(this,"handleVisibilityChanged",(e=>{const{intersectionRatio:t}=e[0],{isPlaying:n,isVideoReady:i,startLoading:r}=this.state;t>=.8?(this.setState({isVisibleForPlaying:!0}),this.videoRef&&(r?i&&!n&&this.videoRef.play():(this.videoRef.load(),this.setState({startLoading:!0})))):(this.setState({isVisibleForPlaying:!1}),this.videoRef&&i&&this.videoRef.pause())})),c(this,"handleVideoPause",(()=>this.setState({isPlaying:!1}))),c(this,"handleVideoPlay",(()=>this.setState({isPlaying:!0}))),c(this,"getVideoRef",(e=>this.videoRef=e)),c(this,"setIsVideoReadyTrue",(()=>{this.setState({isVideoReady:!0}),this.videoRef&&!this.state.isPlaying&&this.state.isVisibleForPlaying&&this.videoRef.play()}))}render(){const{height:e,thumbnail:t,url:n,width:i,pinDescription:s,pinImageHeight:c,pinImageUrl:d,pinImageWidth:u}=this.props,p=(null!=e?e:1)/(null!=i?i:1);return n?(0,l.jsx)(r.Z,{options:{threshold:[0,.5,.8,1]},onVisibilityChange:this.handleVisibilityChanged,children:(0,l.jsx)(a.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingBottom:100*p+"%"}},children:(0,l.jsx)(a.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:(0,l.jsx)("video",{height:"100%",muted:!0,onCanPlay:this.setIsVideoReadyTrue,onPause:this.handleVideoPause,onPlay:this.handleVideoPlay,playsInline:!0,poster:t,preload:"none",ref:this.getVideoRef,src:n,width:"100%"})})})}):(0,l.jsx)(a.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},children:(0,l.jsx)(o.Z,{description:s,imageUrl:d,imageHeight:c,imageWidth:u})})}}function u({pinId:e}){var t,n;const i=(0,s.N)(e);if(!i)return null;const r=i.images&&(i.images.orig||i.images["736x"]||i.images["290x"]||i.images["236x"]),{description:o}=i,{url:a,height:c,width:u}=null!=r?r:{},p=null===(t=i.videos)||void 0===t||null===(n=t.video_list)||void 0===n?void 0:n.V_720P,{height:h,thumbnail:m,url:_,width:g}=null!=p?p:{};return(0,l.jsx)(d,{height:h,thumbnail:m,url:_,width:g,pinDescription:o,pinImageUrl:a,pinImageHeight:c,pinImageWidth:u})}},104788:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(785893);function r({size:e,noCircle:t}){return(0,i.jsxs)("svg",{height:e,style:{display:"block"},viewBox:t?"3 3 70 70":"-3 -3 82 82",width:e,children:[t?null:(0,i.jsx)("circle",{cx:"38",cy:"38",fill:"white",r:"40"}),(0,i.jsx)("path",{d:"M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",fill:"#fb7072",fillRule:"evenodd"})]})}},408285:(e,t,n)=>{n.d(t,{$J:()=>T,AP:()=>O,Dm:()=>E,Fv:()=>S,H$:()=>L,In:()=>D,Ng:()=>P,RH:()=>b,Wj:()=>j,_P:()=>I,go:()=>w});var i=n(126098),r=n(6637),o=n(360903),a=n(30287),s=n(53987),l=n(539497),c=n(957161);const d="home",u="closeup",p="news_hub",h="board",m="profile",_="topic",g="today",v="business",f="search";let y;const b="_push",x=e=>{e.onupdatefound=()=>{(0,l.My)("mweb_service_worker.update_found")}},w=()=>Boolean("undefined"!=typeof navigator&&navigator.serviceWorker&&navigator.serviceWorker.controller),S=()=>new Promise(((e,t)=>{const n=navigator.serviceWorker,{pwaType:i,twaType:r}=y.getState().session,o=new URLSearchParams({source_url:window.location.pathname});i&&r&&(0,a.Rx)(r)&&(o.append("pwa_type",i),o.append("twa_type",r)),Boolean("undefined"!=typeof document&&document.referrer&&!document.referrer.startsWith(window.location.origin))&&o.append("referrer",document.referrer),n&&n.register?((0,l.My)("mweb_service_worker.install_attempt"),n.register(`/sw.js?${o.toString()}`).then((t=>{(0,l.My)("mweb_service_worker.install_success"),x(t),e(t)})).catch((e=>{(0,l.tj)("mweb_service_worker.install_fail",{error:e.message}),t(e)}))):e()})),P=()=>new Promise(((e,t)=>{const n=navigator.serviceWorker;n&&n.getRegistration?((0,l.My)("mweb_service_worker.update_attempt"),n.getRegistration().then((n=>{n?n.update().then((()=>{(0,l.My)("mweb_service_worker.update_success"),x(n),e(n)})).catch((e=>{(0,l.tj)("mweb_service_worker.update_fail",{error:e.message}),t(e)})):S().then(e)}))):e()})),T=()=>{const e=y.getState().session.isAuthenticated;(0,l.My)(`mweb.${e?"auth":"unauth"}.register_service_worker`),S()},E=()=>{const e=navigator.serviceWorker;return e&&e.getRegistration?((0,l.My)("mweb_service_worker.unregister_attempt"),(0,o.Qi)(),e.getRegistration().then((e=>{if(e)return e.unregister().then((()=>((0,l.My)("mweb_service_worker.unregister_success"),navigator.serviceWorker&&window.caches?window.caches.keys().then((e=>{const t=e.find((e=>e.startsWith("workbox-precaching")));return t?window.caches.delete(t):null})).then((()=>(0,l.My)("mweb_service_worker.clear_app_shell"))):Promise.resolve()))).catch((e=>{(0,l.tj)("mweb_service_worker.unregister_fail",{error:e.message})}))}))):Promise.resolve()},I=()=>!(!w()||!("SyncManager"in window)),A=e=>(0,s.C$)(e)?d:(0,s.L6)(e)?u:(0,s.l4)(e)?p:(0,s.am)(e)?h:(0,s.cD)(e)?m:(0,s.En)(e)?f:(0,s.$V)(e)?_:(0,s.Zz)(e)?g:(0,s.Ni)(e)?v:"undefined",k=e=>{switch(A(e)){case d:return{viewType:1,viewParameter:92};case u:return{viewType:3,viewParameter:void 0};case p:return{viewType:107,viewParameter:3081};case h:return{viewType:5,viewParameter:void 0};case f:return{viewType:2,viewParameter:43};case _:return{viewType:210,viewParameter:void 0};case m:return{viewType:4,viewParameter:void 0};case v:return{viewType:409,viewParameter:3397};case g:return{viewType:1,viewParameter:3372};default:return{viewType:void 0,viewParameter:void 0}}},C=(e,t)=>(0,l.tj)(e,{browser:y.getState().session.browser,version:Math.floor(parseInt(y.getState().session.browserVersion,10)),...t}),R=(0,i.Z)(),L="default"===R||"granted"===R,j=(e,t,n,i)=>{const o=navigator.serviceWorker,a=Boolean((0,c.qn)(b)),s={experimentName:n||"noExperiment",experimentGroup:i||"noGroup"};return o&&o.ready&&L&&!a?(t({event_type:13,view_type:170,component:13125,aux_data:{experiment_name:n,experiment_group:i}}),C(`mweb.notifications_upsell.${A(e)}.viewed`,s),o.ready.then((e=>e.pushManager.subscribe({userVisibleOnly:!0}))).then((n=>((e,t,n,i)=>{r.Z.create("WebPushDeviceResource",{}).callGet().then((t=>{const n=(({subscriptionId:e,endpoint:t})=>{return e||(n=t.split("/"))[n.length-1];var n})(e);if(t.resource_response.data[n])return;const i={registration_id:n,subscription_endpoint:e.endpoint};r.Z.create("WebPushDeviceResource",i).callCreate()})),(0,c.Nh)(b,"subscribed"),C(`mweb.notifications_upsell.${A(t)}.subscribed`,n);const o=k(t);i({component:13125,element:10357,event_type:102,view_type:o.viewType,view_parameter:o.viewParameter,aux_data:{experiment_name:n.experimentName,experiment_group:n.experimentGroup}})})(n,e,s,t)),(()=>((e,t,n)=>{(0,c.Nh)(b,"denied"),C(`mweb.notifications_upsell.${A(e)}.denied`,t);const i=k(e);n({component:13125,element:10358,event_type:102,view_type:i.viewType,view_parameter:i.viewParameter,aux_data:{experiment_name:t.experimentName,experiment_group:t.experimentGroup}})})(e,s,t)))):Promise.reject()},D=e=>{y=e},O=({isAuthenticated:e,isAppShell:t})=>{let n=!1;const i=i=>{if(n)return;n=!0;const r=`${t?"warm":"cold"}.${e?"auth":"unauth"}`;(0,l.My)(`mweb_service_worker.appshell_status.${r}.${i}`)},r=navigator.serviceWorker,o=null==r?void 0:r.controller;r&&o?setTimeout((()=>i("timeout")),1e3):i("no_worker")}},558150:(e,t,n)=>{function i({isEligibleForPdp:e,isOosProduct:t,isStaleProduct:n,pinShoppingFlags:i}){if(i){const r=i,o={pin_is_shop_the_look:r.includes(2),pin_show_pdp:e||t||n,is_available:r.includes(1),is_product_pin_v2:r.includes(5),is_rich_product_pin:r.includes(6)};return JSON.stringify(o)}}n.d(t,{Z:()=>i})},609943:(e,t,n)=>{function i(e,t){return e||(t?`${t}~0`:"~0")}n.d(t,{Z:()=>i})},473535:(e,t,n)=>{n.d(t,{AZ:()=>s,B7:()=>a,U3:()=>o});const i={my_content:63,pins:60,users:62,boards:61,buyable_pins:3800},r={my_content:189,boards:44,my_pins:107,users:45,pins:43,buyable_pins:254};function o({logContextEvent:e,searchScope:t,searchTerm:n,rs:o}){(n=n.trim())&&e({event_type:i[t],view_parameter:r[t],view_type:2,aux_data:{query:n,rs:o}})}function a(e,t,n){n({view_parameter:103,view_type:2,component:35,element:e,event_type:102,aux_data:t})}function s(e){return e.split("/")[2]}},968228:(e,t,n)=>{n.d(t,{G3:()=>d,Rp:()=>c,kp:()=>l});var i=n(622096),r=n(202139),o=n(957161);const a=14*r.F4;function s(e,t,n){return e-t>n}const l=e=>{const t=function(){const e=Date.now(),t=Number((0,o.qn)("appUpsell"));return{currentTime:e,firstUpsellTime:Number((0,o.qn)("firstUpsellTime")),lastUpsellTime:t,showedAppUpsellCurrentSession:Boolean((0,i.qn)("showedAppUpsellCurrentSession"))}}();return e?function(e,t,n){const{currentTime:i,firstUpsellTime:r,lastUpsellTime:l,showedAppUpsellCurrentSession:c}=e;return n=n||a,!r||function(e,t,n){return e<t+n}(i,r,t)?!c:!!s(i,l,n)&&((0,o.L_)("firstUpsellTime"),!0)}(t,r.F4):function(e,t){const{currentTime:n,lastUpsellTime:i}=e;return t=t||a,!i||s(n,i,t)}(t)},c=({platform:e,userAgent:t})=>{try{return"android"===e&&parseFloat((e=>{const t=(e=e.toLowerCase()).match(/android\s([0-9\.]*)/i);return t?t[1]:void 0})(t))<7}catch(n){return!1}},d=e=>(e.startsWith("zh")||e.startsWith("ar")?e:e.slice(0,2)).toUpperCase()},693099:(e,t,n)=>{n.d(t,{AA:()=>o,E9:()=>_,EU:()=>f,IO:()=>v,Jd:()=>h,KH:()=>d,QR:()=>c,Uw:()=>r,ZR:()=>y,dy:()=>l,eA:()=>p,fo:()=>m,k7:()=>a,rT:()=>g,tz:()=>u,u9:()=>b,zR:()=>s,zu:()=>i});const i="OPEN_UNAUTH",r="openUnauthType",o="_isAfterLogin",a="_lastVisitedPages",s="_lastVisitedPagesBeforeLogin",l="_lastVisitedBoardPages",c="_lastVisitedPagesBeforeNavPage",d="_lastVisitedSessionPages",u="_unauthVisitedPages",p=20,h="_unauthInviteCode",m="_unauthReferrerString",_="unauthTopicsFollowed",g=["US","CA","NZ","AU"],v=new Set(["GB","IE"]),f=new Set(["AT","BE","CH","DE","DK","ES","FR","IT","NL","NO","PT","SE"]),y=new Set(["BR","MX","AR","CL","CO","PE"]),b="ad_img"},706512:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(407043);const r={13:e=>!!e.view_parameter,9105:e=>!!e.view_parameter,9104:e=>!!e.view_parameter,102:e=>!!e.element&&!!e.view_parameter,101:e=>!!e.element&&!!e.view_parameter,4104:e=>!!e.view_parameter&&!e.element,4105:e=>!!e.view_parameter&&!e.element,8900:e=>!!e.view_parameter&&!e.element,9626:e=>!!e.view_parameter&&!e.element,9625:e=>!!e.view_parameter&&!e.element,46:e=>!!e.view_parameter&&!e.element,45:e=>!!e.view_parameter&&!e.element},o=[96,34,241,1030,1151,1150,136,11906,124,240,12772,30],a=[259,3120,3139,172,3596,3542,261,171,260],s=()=>{const{logContextEvent:e}=(0,i.v)();return t=>{const{event_type:n,element:i,view_parameter:s,component:l,view_type:c,aux_data:d}=t;try{(e=>{const{event_type:t,element:n,view_parameter:i}=e;if(!Object.keys(r).includes(`${t}`)||n&&!o.includes(n)||i&&!a.includes(i))throw new Error("Please provide valid parameter types for Nux events. Refer to NuxParams type.");if(!r[t](e))throw new Error("Please provide valid param combinations for Nux events. Refer to NuxParams type.");if(-1===[213,24,260].indexOf(e.view_type))throw new Error("Please provide a valid ViewType for Nux Events.")})(t);e({component:l,event_type:n,element:i,view_parameter:s,view_type:c,aux_data:d})}catch(u){console.error(u)}}}},544826:(e,t,n)=>{n.d(t,{DZ:()=>u,Dv:()=>h,Es:()=>c,HW:()=>l,mv:()=>d,nb:()=>p});var i=n(957161),r=n(773285),o=n(693099);const a=e=>e>=Date.now()-72e5,s=(e,t)=>{const n=[];if(e)for(const i of e)t&&!i.is_shared||a(i.ts)&&n.push(i);return n},l=()=>{const e=(0,i.qn)(o.zR),t=e?JSON.parse(e):[],n=s(t,!1),r=s(t,!0),l=n.map((e=>e.first_pin_image_signature)),c=n.map((e=>e.pin_id)),d=r.map((e=>e.first_pin_image_signature)),u=(e=>{const t={};if(e)for(const n of e)n.is_shared&&a(n.ts)&&n.pin_id&&(t[n.pin_id]={inviteCode:n.pin_invite_code});return t})(t),p=(0,i.qn)(o.dy),h=p?JSON.parse(p):[];return{extraPlpImages:l,plpImageRenderData:n,extraPlpIds:c,extraBlpImages:s(h,!0).map((e=>e.first_pin_image_signature)),extraSharedImages:d,sharedPinData:u}},c=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n+=1){if(e[n].id!==t[n].id)return!1}return!0},d=(e,t)=>(e.nuxTopics?e.nuxTopics.map((({id:e})=>t[e])):[]).filter((e=>e.is_followed)),u=(e,t)=>e.nuxTopics?e.nuxTopics.map((({id:e})=>t[e])):null;function p(){const{checkExperiment:e}=(0,r.F)(),{group:t}=e("activation_new_user_holdout_2022_h2");return t.includes("holdout")}const h=()=>{const{checkExperiment:e}=(0,r.F)(),{anyEnabled:t,group:n}=e("mweb_mini_renux");return{inMiniRenuxEnabledGroup:t,interestsLimit:t?Number(n.slice(-1)):NaN}}},755506:(e,t,n)=>{n.d(t,{AH:()=>l,Bk:()=>o,CK:()=>s,Fi:()=>a,Xe:()=>r,wS:()=>i});const i=e=>{if(!e)return Object.freeze({});let t;return e.native_creator?(t=e.native_creator,t):e.link_domain?(t=e.link_domain.official_user,t):(t=e.origin_pinner||e.pinner,t)};function r({hasLinkDomain:e,hasNativeCreator:t,hasOriginPinner:n,pinDomain:i,sourceUserUsername:r,sourceUserFullName:o}){return!t&&(e||n)&&r?{pinCreditLink:`/${r}/`,pinCredit:o}:{pinCreditLink:void 0,pinCredit:!t&&e?i:""}}const o=({i18n:e,isLego:t,hasLinkDomain:n,hasRichMetadataArticle:i,hasRichMetadataTutorial:r,hasRichMetadataRecipeCategorizedIngredients:o,hasRichMetadataProductOfferSummary:a,hasRichSummaryProductOfferSummary:s,richMetadataRecipeFromAggregatedData:l,richMetadataProductName:c,richSummaryProductName:d})=>{const u=o;let p;c&&a&&(p=!0);const h=i,m=r;let _=t?e._('From ', 'Closeup pin annotation', 'Closeup pin annotation'):e._('Saved from ', 'Closeup pin annotation', 'Closeup pin annotation');return!n||l?_=e._('Saved by ', 'Closeup pin annotation', 'Closeup pin annotation'):p?_=e._('Product sold by ', 'pin annotation', 'pin annotation'):m?(t&&(_=e._('From ', 'pin annotation', 'pin annotation')),_=e._('Saved from ', 'pin annotation', 'pin annotation')):u?_=e._('Recipe from ', 'pin annotation', 'pin annotation'):h&&(_=e._('Article from ', 'pin annotation', 'pin annotation')),!a&&d&&s&&(_=e._('Product sold by ', 'pin annotation', 'pin annotation')),_},a=({i18n:e,isLego:t,pin:n})=>{var a,s,l,c,d,u,p,h,m,_,g,v,f,y,b,x,w,S;const P=n.link_domain,T=n.native_creator,E=n.rich_metadata,I=n.rich_summary,A=n.attribution;let k,C,R,L;const j=i(n),{pinCreditLink:D,pinCredit:O}=r({hasLinkDomain:!!P,hasNativeCreator:!!T,hasOriginPinner:!!n.origin_pinner,pinDomain:n.domain,sourceUserUsername:null==j?void 0:j.username,sourceUserFullName:null==j?void 0:j.full_name}),N=o({i18n:e,isLego:t,hasLinkDomain:!!n.link_domain,hasRichMetadataArticle:!(null===(a=n.rich_metadata)||void 0===a||!a.article),hasRichMetadataTutorial:!(null===(s=n.rich_metadata)||void 0===s||!s.tutorial),hasRichMetadataRecipeCategorizedIngredients:!(null===(l=n.rich_metadata)||void 0===l||null===(c=l.recipe)||void 0===c||!c.categorized_ingredients),hasRichMetadataProductOfferSummary:!(null===(d=n.rich_metadata)||void 0===d||null===(u=d.products)||void 0===u||null===(p=u[0])||void 0===p||!p.offer_summary),hasRichSummaryProductOfferSummary:!(null===(h=n.rich_summary)||void 0===h||null===(m=h.products)||void 0===m||null===(_=m[0])||void 0===_||!_.offer_summary),richMetadataRecipeFromAggregatedData:null===(g=n.rich_metadata)||void 0===g||null===(v=g.recipe)||void 0===v?void 0:v.from_aggregated_data,richMetadataProductName:null===(f=n.rich_metadata)||void 0===f||null===(y=f.products)||void 0===y||null===(b=y[0])||void 0===b?void 0:b.name,richSummaryProductName:null===(x=n.rich_summary)||void 0===x||null===(w=x.products)||void 0===w||null===(S=w[0])||void 0===S?void 0:S.name});if(P&&!(E&&E.recipe&&E.recipe.from_aggregated_data)){const e=!!(E&&E.recipe&&E.recipe.name&&E.recipe.categorized_ingredients);let t;E&&E.products&&E.products[0]&&(t=!!(E&&E.products[0].name&&E.products[0].offer_summary));const i=!(!E||!E.article);var M,U;if(t)R=null==E||null===(M=E.products)||void 0===M?void 0:M[0].offer_summary,L=null==E||null===(U=E.products)||void 0===U?void 0:U[0].shipping_info;else if(e){var F,z,Z;C=null!==(F=null==E?void 0:E.recipe)&&void 0!==F?F:null,null!==(z=C)&&void 0!==z&&null!==(Z=z.aggregate_rating)&&void 0!==Z&&Z.rating_value&&"number"==typeof C.aggregate_rating.review_count&&(null!=E&&E.site_name||n.domain)?C.aggregate_rating.review_source=(null==E?void 0:E.site_name)||n.domain:C&&(C.aggregate_rating=null)}else if(i){var B;k=(null==E||null===(B=E.article)||void 0===B?void 0:B.date_published)&&new Date(E.article.date_published)}}if(!R&&I){let e;I&&I.products&&I.products[0]&&(e=!!(I&&I.products[0].name&&I.products[0].offer_summary),e&&(R=I.products[0].offer_summary,L=I.products[0].shipping_info))}return{pinArticleDate:k,pinAttribution:A,pinCreditLink:D,pinCreditPrefix:N,pinCredit:O,pinProduct:R,pinShippingInfo:L,pinRecipe:C}},s=({hasRichMetadata:e,hasRichMetadataProducts:t,hasRichMetadataArticle:n,hasRichMetadataRecipe:i})=>e?t?144:n?141:i?145:139:140,l=e=>!!e&&!e.startsWith("https://i.pinimg.com")},663023:(e,t,n)=>{n.d(t,{XK:()=>s,jC:()=>a,yd:()=>l});var i=n(745760);let r=null,o=null;const a=((e,t)=>{let n=null;return a=>{var s;if(a&&!n)return n={...a,event_type:e,time:(0,i.h1)()},null===(s=o)||void 0===s||s.logContextEvent(n),r&&n&&r.storeClickthroughProperties(n),e;if(!a&&n){var l;const e={...n,event_type:t,duration_ns:(0,i.h1)()-n.time};return null===(l=o)||void 0===l||l.logContextEvent(e),n=null,t}return null}})(12,4100),s=e=>{r=e},l=e=>{o=e}},81759:(e,t,n)=>{n.d(t,{CC:()=>b,Cb:()=>v,Ff:()=>k,H$:()=>w,Mt:()=>y,Yi:()=>T,Ys:()=>g,Yy:()=>I,Z4:()=>_,ZN:()=>p,dc:()=>P,dp:()=>x,i$:()=>m,kw:()=>f,p9:()=>S,t_:()=>h});var i=n(231486),r=n(6637),o=n(826067),a=n(400660),s=n(226198),l=n(539497),c=n(622096),d=n(957161),u=n(693099);const p=["utm_pai","utm_source","invite_code"],h=()=>(0,d.qn)(u.tz,""),m=()=>{const e=h();let t;try{t=JSON.parse(e)}catch(n){t=[]}return t},_=(e,t)=>{const n=m(),i=n.length,r=i?n[0].path:"";if(i<u.eA&&(!i||e!==r)){const i={path:e,pageType:t,ts:Date.now()};(0,d.Nh)(u.tz,JSON.stringify([i].concat(n)))}},g=e=>{(0,d.Nh)(u.Jd,e)},v=e=>{(0,d.Nh)(u.fo,e)},f=()=>{h()&&(0,d.L_)(u.tz),(0,d.qn)(u.Jd,"")&&(0,d.L_)(u.Jd),(0,d.qn)(u.fo,"")&&(0,d.L_)(u.fo)},y=(e,t,n,i,r,o,a=u.k7)=>{const s=(0,d.qn)(a)?JSON.parse((0,d.qn)(a)):[];if(!s[0]||s[0].path!==e){const l=[{path:e,ts:Date.now(),pin_id:n||0,first_pin_image_signature:t||"",first_pin_id:n||"",image_info:i||"",pin_description:r||"",is_shared:!!o,pin_invite_code:o}];(0,d.Nh)(a,JSON.stringify(l.concat(s)))}},b=({path:e,image:t,dominant_color:n,pin_description:i,pin_id:r})=>{const o=(()=>{const e=(0,c.qn)(u.KH);if(!e)return[];let t;try{t=JSON.parse(e)}catch(n){t=[]}return t})();if(!o[0]||o[0].path!==e){const a=[{path:e,image:t,pin_description:i||"",dominant_color:n||"",pin_id:r||""}];(0,c.Nh)(u.KH,JSON.stringify(a.concat(o)))}};function x(e,t,n,i,r,o){y(e,t,n,i,r,o,u.zR)}const w=(e,t)=>{var n,i;y(e,t.image_signature,t.id,null===(n=t.images)||void 0===n?void 0:n["236x"],null!==(i=t.description)&&void 0!==i?i:"","",u.dy)};function S(e,t,n,i,r){y(e,t,n,i,r,"",u.QR)}function P(){return m().filter((e=>"closeup"===e.pageType)).length}function T(){const e=r.Z.create("UnauthUserDataResource");return new Promise(((t,n)=>{e.callGet().then((e=>{const r=e.resource_response.data,o=!!i.U2(s.x3);return r?((0,a.Wn)(r.medium_image_url)&&(r.medium_image_url=""),(0,l.My)("mweb.unauth.personalized_login.fetch_user_info.info.user_info_found.logged_out_cookie_"+(o?"true":"false")),t(r)):((0,l.My)("mweb.unauth.personalized_login.fetch_user_info.info.no_user_info.logged_out_cookie_"+(o?"true":"false")),n({}))})).catch((e=>{if(e&&e.message){const t=e.message.replace(/\s/g,"_").toLowerCase();(0,l.My)(`mweb.unauth.personalized_login.fetch_user_info.error.${t}`)}else(0,l.My)("mweb.unauth.personalized_login.fetch_user_info.error.unknown");return n(e)}))}))}function E({i18n:e,location:t}){const n=t.pathname.startsWith("/signup"),i=t.pathname.startsWith("/login");if(!n&&!i)return{showPLPBanner:!1,pinForBanner:null};let r;try{r=JSON.parse((0,c.qn)(u.KH))}catch(o){r=[]}if(r&&r.length>0){const t=r[0];if(t)return t.bannerCopy=e._('More ideas like this await', 'page banner with pin image that was signed up from', 'page banner with pin image that was signed up from'),{showPLPBanner:Boolean(t.image),pinForBanner:t}}return{showPLPBanner:!1,pinForBanner:null}}const I=e=>e.search&&e.search.startsWith("?next=")?e.search.split("?next=")[1]:null;function A({i18n:e,location:t}){var n;const i=(null===(n=t.state)||void 0===n?void 0:n.next)||I(t);if(i){const t=i.indexOf("?"),n=(0,o.mB)(i.substring(t));if(n.url&&n.media)return{showPLPBanner:!0,pinForBanner:{image:{url:(0,o.Jx)(n.media),height:1,width:1},pinDescription:n.description,bannerCopy:e._('Save this idea and discover more inspiration like it.', 'page banner with pin image that was signed up from', 'page banner with pin image that was signed up from')}}}return{showPLPBanner:!1,pinForBanner:null}}function k({i18n:e,location:t}){return A({i18n:e,location:t}).showPLPBanner?A({i18n:e,location:t}):E({i18n:e,location:t}).showPLPBanner?E({i18n:e,location:t}):{showPLPBanner:!1,pinForBanner:null}}},550407:(e,t,n)=>{n.d(t,{M:()=>v,g:()=>f});var i,r=n(667294),o=n(203345),a=(n(883119),n(539497)),s=n(743873),l=n(50286),c=n(957980),d=n(884979),u=n(167912),p=n(785893);const h=void 0!==i?i:i=n(110767);const m=({queryReference:e,...t})=>{var n;const i=(0,u.usePreloadedQuery)(h,e),r=null==i||null===(n=i.v3GetPinQuery)||void 0===n?void 0:n.data;return r?(0,p.jsx)(c.Z,{...t,graphqlRef:r}):null},_=({queryReference:e,...t})=>{var n;const i=(0,u.usePreloadedQuery)(h,e),r=null==i||null===(n=i.v3GetPinQuery)||void 0===n?void 0:n.data;return r?(0,p.jsx)(d.ZP,{...t,graphqlRef:r}):null},g=(0,r.createContext)((()=>()=>{})),v=()=>(0,r.useContext)(g),f=({children:e,feedRef:t,viewType:n,viewParameter:i,useGraphql:v})=>{const[f,y]=(0,r.useState)(null),[b,x]=(0,r.useState)(null),[w,S]=(0,r.useState)(!1),[P,T]=(0,r.useState)(null),[E,I]=(0,r.useState)(!1),A=(0,l.HG)(),[k,C]=(0,u.useQueryLoader)(h);if(v&&!k&&P){C(function({pinId:e}){return{query:h,variables:{pinId:e}}}({pinId:P}).variables)}const R=()=>{document&&document.body&&document.body.style&&(document.body.style.overflow="unset")};(0,r.useEffect)((()=>R),[]);const L=(0,r.useCallback)((e=>n=>{const{pinId:i,deviceOptions:r}=e;if(n.stopPropagation(),n.preventDefault(),T(i),r.isDesktop)I(r.isMainPinImage),(0,a.My)("dweb.unauth.context_menu.open_menu"),y({xPosition:n.clientX,yPosition:n.clientY}),document&&document.body&&document.body.style&&(document.body.style.overflow="hidden");else{(0,a.My)("mweb.unauth.related_pin.context_menu.open");const e=n.changedTouches.item(0);if(t&&t.current){const n=t.current.getBoundingClientRect(),i=Math.min(e.pageX-n.left,n.width-d.nt),o=e.pageY-s.n;x({xPosition:i,yPosition:o,context:r.context})}}}),[t]),j=!!f;(0,r.useEffect)((()=>{const e=()=>{y(null),R(),(0,a.My)("dweb.unauth.context_menu.click_away")};return j&&document.addEventListener("click",e),()=>{j&&document.removeEventListener("click",e)}}),[j]);const D=f&&P?v?k&&(0,p.jsx)(m,{desktopContextMenuState:f,pinId:P,isMainPinImage:!!E,queryReference:k}):(0,p.jsx)(c.Z,{desktopContextMenuState:f,pinId:P,isMainPinImage:!!E,graphqlRef:null}):null,O=b&&P?v?k&&(0,p.jsx)(_,{mwebContextMenuState:b,pinId:P,openShareModal:S,setMwebContextMenuState:x,queryReference:k}):(0,p.jsx)(d.ZP,{graphqlRef:null,mwebContextMenuState:b,pinId:P,openShareModal:S,setMwebContextMenuState:x}):null;return(0,p.jsx)(g.Provider,{value:L,children:(0,p.jsxs)(r.Fragment,{children:[e,A&&D,!A&&O,!A&&w&&P&&(0,p.jsx)(o.default,{objectType:1,isOpen:w,onDismiss:()=>S(!1),objectId:P,hideContactsSuggestions:!0,element:12016,viewType:n,viewParameter:i})]})})}},634291:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),r=n(807609),o=n(957161);const a=e=>{const t=(0,o.qn)(e);if(!t)return null;try{return JSON.parse(t)}catch(n){return null}};var s=n(773285);const l=()=>{const[e,t]=function(e){const t=(0,r.Z)(),[n,s]=(0,i.useState)(t?null:a(e));return(0,i.useEffect)((()=>{s(a(e))}),[e]),[n,(0,i.useCallback)((t=>{s(t),null===t?(0,o.L_)(e):(0,o.Nh)(e,JSON.stringify(t))}),[e])]}("unauthSavedPins"),n=null!==(c=null==(l=e)?void 0:l.pins)&&void 0!==c?c:[];var l,c;const d=e=>t((e=>e.length?{pins:e}:null)(e)),{checkExperiment:u}=(0,s.F)(),p=()=>{const{anyEnabled:e,group:t}=u("pcons_mweb_save_v3");let i=0;if(e){const e=t.split("_")[1];i=e?parseInt(e,10):0}return n.length<i};return{pins:n,save:e=>{p()&&d(n.filter((({id:t})=>t!==e.id)).concat([e]))},unsave:e=>d(n.filter((({id:t})=>t!==e))),isSaved:e=>n.some((({id:t})=>t===e)),clear:()=>d([]),canSaveMore:p}}},400660:(e,t,n)=>{function i(e){return Boolean(null==e?void 0:e.is_matured_new_user)}n.d(t,{IR:()=>a,V0:()=>i,Wn:()=>o,xT:()=>r});const r=e=>!!e&&2===e.login_state,o=e=>!(!e||!e.match(/\/static\/images\/user\/default_\d+\.png$/));function a(e){return!e||void 0===e.third_party_marketing_tracking_enabled||null===e.third_party_marketing_tracking_enabled||e.third_party_marketing_tracking_enabled}},419940:(e,t,n)=>{n.d(t,{C:()=>l,P:()=>s});var i=n(172071),r=n(53987),o=n(622096);const a="msmrsfda",s=()=>!!(0,o.qn)(a),l=e=>{(0,r.LM)(e)&&!s()&&((0,o.Nh)(a,"1"),i.Z.incrementNow("mobile_signup_modal.rules.suppress_for_discover_article",1))}},983360:(e,t,n)=>{n.d(t,{$o:()=>s,$t:()=>R,AO:()=>ie,AZ:()=>f,Ae:()=>I,BM:()=>m,C2:()=>N,CB:()=>de,CD:()=>y,DC:()=>P,Df:()=>x,F5:()=>o,Fi:()=>g,Fl:()=>h,GG:()=>Q,HQ:()=>V,IY:()=>oe,JG:()=>K,K0:()=>a,Kp:()=>re,L6:()=>r,LB:()=>L,Ly:()=>B,MA:()=>Z,MU:()=>i,NE:()=>pe,OO:()=>X,Pz:()=>Y,Qj:()=>ee,R8:()=>M,Th:()=>q,U1:()=>F,UD:()=>ve,Uf:()=>O,Wn:()=>me,XA:()=>ae,YZ:()=>d,Yn:()=>b,ZX:()=>C,a9:()=>S,aj:()=>H,b6:()=>u,c7:()=>w,cZ:()=>U,cs:()=>j,dF:()=>k,dO:()=>le,eI:()=>z,fz:()=>c,hC:()=>ye,hl:()=>T,il:()=>fe,j_:()=>_e,l_:()=>l,le:()=>G,lj:()=>ge,m2:()=>he,mU:()=>ce,nk:()=>_,o3:()=>ne,pV:()=>$,pd:()=>ue,q:()=>J,tg:()=>D,u2:()=>p,vH:()=>W,vW:()=>se,wc:()=>v,xV:()=>E,xl:()=>A,zB:()=>te});const i="APPEND_FEED_ITEMS",r="DISMISS_UNAUTH_APP_UPSELL",o="SETTINGS_CHANGE",a="TOPIC_FOLLOW",s="PIN_ADD",l="PIN_DELETE",c="PIN_EDIT",d="PIN_UNDO_SAVE",u="PIN_IMPRESSIONS",p="PINS_MOVE",h="PINS_MOVE_ALL",m="SET_SESSION_DATA",_="BOARD_SECTION_EDIT",g="BOARD_COLLABORATOR_DELETE",v="BOARD_COLLABORATOR_ADD",f="BOARD_INVITE_APPROVED_BY_VIEWER",y="BOARD_INVITE_DENIED_BY_VIEWER",b="BOARD_SECTION_DELETE",x="AUTHENTICATE_USER",w="REGISTER_USER",S="SET_LOGIN_SIGNUP_FROM",P="UPDATE_CURRENT_SEARCH",T="UPDATE_RECENT_SEARCHES",E="CLEAR_RECENT_SEARCH",I="CLEAR_RECENT_PERSONAL_SEARCH",A="CLEAR_RECENT_SEARCHES",k="CLEAR_RECENT_PERSONAL_SEARCHES",C="COMPLETE_STORY",R="SET_NUM_SIGNUP_STEPS",L="SET_OWN_PROFILE_PINS_REFRESH",j="SHOW_REPIN_ANIMATION",D="HIDE_REPIN_ANIMATION",O="MESSAGE_SEND_PENDING",N="MESSAGE_SEND_PENDING_SUCCESS",M="MESSAGE_SEND_PENDING_FAILURE",U="ONE_TAP_SAVE",F="ONE_TAP_UNSAVE",z="CLEAR_MESSAGES_BADGE",Z="CLEAR_MESSAGE_BADGE",B="RELOAD_VISUAL_SEARCH_ANNOTATIONS",H="SHOW_NUX_HOMEFEED_LOADER",V="SHOW_BIZ_NUX_HOMEFEED_LOADER",W="SET_VIEWED_IMAGE",G="SET_VIEWED_SHARED_PINS",$="SHOW_NAV_FOOTER",K="HIDE_NAV_FOOTER",q="SET_MESSENGER_CAMPAIGN_DATA",Y="LOGGED_OUT_USER_INFO_FOUND",X="LOGGED_OUT_USER_INFO_NOT_FOUND",J="PIN_BUILDER_LOADED_IMAGES",Q="UPDATE_PIN_BUILDER_INPUT",ee="SET_ACTIVE_HOMEFEED_TAB",te="SET_MARKETING_PARAMS",ne="SET_SOCIAL_SEASONAL_BOARD",ie="SET_SHARE_ON_BOARD_PAGE",re="UPDATE_PIN_REACTION_COUNT",oe="SET_FLASHLIGHT_CROP_SOURCE",ae="ALLOW_ALL_COOKIES",se="SCROLL_TO_CLOSEUP_PIN",le="STOP_SCROLL_TO_CLOSEUP_PIN",ce="UPDATE_CONTACT_REQUEST_STATUS",de="REMOVE_CONTACT_REQUESTS",ue="SHOW_TOAST_CONTACT_REQUEST_UNDO",pe="SHOW_BLOCK_UNBLOCK_MODAL_CONTACT_REQUEST",he="CONVERSATION_DELETE",me="DISMISS_UNAUTH_SAVE",_e="SET_UNAUTH_SAVE_PIN_ID",ge="COMPLETE_UNAUTH_SAVE_ACTION",ve="UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",fe="SET_LANDING_PAGE_TYPE",ye="REPLACE_STATE"},716235:(e,t,n)=>{n.d(t,{a:()=>r,k:()=>o});var i=n(983360);const r=e=>({type:i.cZ,payload:e}),o=e=>({type:i.U1,payload:e})},358589:(e,t,n)=>{n.d(t,{DX:()=>k,iX:()=>O,q$:()=>L,lr:()=>j,ES:()=>C,Bp:()=>E,wh:()=>I,Zf:()=>R,t_:()=>D,Mr:()=>T});var i=n(667294),r=n(622359),o=n(609943),a=n(499128),s=n(898781),l=n(349700),c=n(883119),d=n(785893);function u({hideToast:e,newPin:t,originalPinId:n}){var i,r;const o=(0,s.ZP)();return(0,d.jsx)(a.ZP,{primaryAction:{accessibilityLabel:o._('Change saved Pin button', 'RepinRequest.a11yChangeButton', 'Change saved Pin button'),href:`/pin/${t.id}/repin/?isEditingPin=true&pinBoardId=${null!==(i=null===(r=t.board)||void 0===r?void 0:r.id)&&void 0!==i?i:""}&&isFromToast=true&&originalPinId=${null!=n?n:""}`,label:o._('Change', 'RepinRequest.ChangeButton', 'Change saved Pin button'),size:"lg",onClick:e},duration:5e3,onHide:e,text:(0,d.jsx)(c.xv,{children:(0,l.nk)(o._('Saved to {{ profile }}', 'RepinRequest.ProfileSaveToastText', 'Toast for successfully saving to profile'),{profile:(0,d.jsx)(c.xv,{inline:!0,weight:"bold",children:o._('Profile', 'RepinRequest.ProfileSaveToastText.Profile', 'referring to pinner profile where pin was saved')})})}),iconThumbnail:(0,d.jsx)(c.xu,{color:"secondary",display:"flex",justifyContent:"center",alignItems:"center",height:48,width:48,children:(0,d.jsx)(c.JO,{accessibilityLabel:o._('Profile', 'RepinRequest.ProfileIcon', 'Icon signifying Pin was saved to profile without a board'),icon:"history",size:22})})})}var p=n(6637),h=n(47495),m=n(414327),_=n(332611),g=n(195946),v=n(862501),f=n(782677);const y=({board:e,section:t})=>{const n=(0,s.ZP)();return t?(0,l.nk)(n._('Saved to {{sectionName}} in {{boardName}}', 'Toast for successfully saving to a section within a board', 'Toast for successfully saving to a section within a board'),{sectionName:t&&t.title,boardName:e.name}).join(""):(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(c.xv,{color:"default",children:n._('Saved to', 'Saved to {{ boardName }}', 'Saved to {{ boardName }}')}),(0,d.jsx)(c.xv,{color:"default",weight:"bold",children:e.name})]})};class b{constructor({boardId:e,dispatch:t,history:n,isLegoSaveStyle:i=!1,isOneTapSave:r=!1,isQuickSave:a=!1,onSuccess:s,onUndo:l,originalPinId:c,pin:d,resourceName:u,saveToProfileToastExpGroup:p="",section:m,showRepinToasts:_,trackingParams:g,userId:v,viewType:y=3}){var b,x,w,S,P;P=e=>(0,f.Fv)(e.resource_response.data,h.Z[this.resourceName]),(S="_getNormalizedResponse")in(w=this)?Object.defineProperty(w,S,{value:P,enumerable:!0,configurable:!0,writable:!0}):w[S]=P,this.boardId=e,this.trackingParams=g,this.clientTrackingParams=(0,o.Z)(g.clientTrackingParams||"",d.tracking_params),this.dispatch=t,this.history=n,this.onSuccess=s,this.onUndo=l,this.originalPinId=c,this.pin=d,this.pinnedToBoardId=g.pinnedToBoardId||(null!==(b=null===(x=d.pinned_to_board)||void 0===x?void 0:x.id)&&void 0!==b?b:""),this.resourceName=u,this.saveToProfileToastExpGroup=p,this.showRepinToasts=_,this.section=m,this.isLegoSaveStyle=i,this.isOneTapSave=r,this.isQuickSave=a,this.userId=v,this.viewType=y}get resourceOptions(){const{link:e,title:t,promoted_is_removable:n,id:i}=this.pin,r=n?{is_removable:!0}:{};return{pin_id:i,board_id:this.boardId,section:this.section&&this.section.id,clientTrackingParams:this.clientTrackingParams,link:null!=e?e:"",title:null!=t?t:"",user_id:this.userId,is_removable:r}}get trackingData(){return{event_type:5,element:this.isOneTapSave?10599:void 0,view_type:this.viewType,component:this.isOneTapSave?0:7,view_parameter:this.isOneTapSave?3173:(0,g.A)(this.pin),object_id_str:this.pin.id,clientTrackingParams:this.clientTrackingParams,aux_data:{board_id:this.pinnedToBoardId,destination_board_id:this.boardId}}}_createRepin(){return p.Z.create(this.resourceName,{...this.resourceOptions,disable_event_log_info:!0}).callCreate()}processRepin(e){return this._createRepin().then((t=>{this.onSuccess&&this.onSuccess();const n=t.resource_response.data,{board:i}=n,{isLegoSaveStyle:o,isQuickSave:a,originalPinId:l}=this,p=!this.saveToProfileToastExpGroup.includes("holdout"),h=({hideToast:e})=>{var t;if(a&&!p)return(0,d.jsx)(u,{hideToast:e,newPin:n,originalPinId:l});const{thumbnail:h}=o?(0,v.Lr)(i.id):(0,v.JN)("board",i.id);return(0,d.jsx)(r.Z,{button:o||p?(0,d.jsx)(s.oz,{children:e=>(0,d.jsx)(c.zx,{fullWidth:!0,onClick:({event:t})=>{t.preventDefault(),t.stopPropagation();const r=this.onUndo;var o;if(r&&!p)r(this.pin.id,n.id,i.id,null===(o=this.section)||void 0===o?void 0:o.id,e);else if(p){var a;null===(a=this.history)||void 0===a||a.push(`/pin/${n.id}/repin/?isEditingPin=true&pinBoardId=${i.id}&&isFromToast=true&&originalPinId=${null!=l?l:""}`)}},text:p?e._('Organize', 'RepinRequest.OrganizeButton', 'Button to allow users to organize saved pins'):e._('Undo', 'RepinRequest.UndoButton', 'Undo saved pin button')})}):void 0,href:this.section?`${i.url}${null!==(t=this.section.slug)&&void 0!==t?t:""}`:i.url,isRepinToExistingBoard:!0,onHide:e,text:(0,d.jsx)(y,{board:i,section:this.section}),thumbnail:h})},g=this._getNormalizedResponse(t);if(this.dispatch((0,m.XM)(this.resourceName,this.resourceOptions,t,g)),this.originalPinId&&this.originalPinId!==this.resourceOptions.pin_id){const e={...this.resourceOptions,pin_id:this.originalPinId};this.dispatch((0,m.XM)(this.resourceName,e,t,g))}this.dispatch(T(n.id,i.id,this.section?this.section.id:void 0,this.userId));const f=this.showRepinToasts;return f&&f(h),this.dispatch((0,_.fO)({event_type:5})),e(this.trackingData),n}))}}var x=n(875495),w=n(811403),S=n(987197),P=n(983360);const T=(e,t,n,i)=>({type:P.$o,payload:{pinId:e,boardId:t,boardSectionId:n,pinnerId:i}}),E=({history:e,i18n:t,logContextEvent:n,onSuccess:i,onUndo:r,originalPinId:o,pinId:a,trackingParams:s,disableRepinAnimation:l,saveToProfileToastExpGroup:c,showRepinConfirmation:d})=>(u,h)=>{const{pins:m,session:_}=h(),{userId:g}=_,v=m[a],f={name:t._('Quick Saves', 'quickSave.boardName', 'Name of the auto-created board in quicksave experience.'),layout:"quick_saves",protected:!1,return_existing:!0,user_id:g};return p.Z.create("BoardResource",f).callCreate().then((a=>{const p=a.resource_response.data;return new b({boardId:p.id,dispatch:u,isQuickSave:!0,history:e,i18n:t,onSuccess:i,onUndo:r,originalPinId:o,pin:v,resourceName:"RepinResource",saveToProfileToastExpGroup:c,section:void 0,showRepinToasts:e=>d?d(e,l):void 0,trackingParams:s,userId:_.userId}).processRepin(n)}))},I=({pinId:e,boardId:t,i18n:n,logContextEvent:i,onSuccess:r,onUndo:o,originalPinId:a,saveToProfileToastExpGroup:s,showRepinConfirmation:l,showToast:c,section:d,trackingParams:u,isOneTapSave:p,viewType:h})=>(m,_)=>{var g,v,f,y,w;const{pins:S,session:P,feeds:T}=_(),E=S[e];t&&((null===(g=null!==(v=null==E?void 0:E.shopping_flags)&&void 0!==v?v:[])||void 0===g?void 0:g.length)>0||null!=E&&E.rich_summary&&(null===(f=null!==(y=null==E||null===(w=E.rich_summary)||void 0===w?void 0:w.products)&&void 0!==y?y:[])||void 0===f?void 0:f.length)>0)&&(T[`board-shop-saved-preview:${t}`]&&m((0,x.Qv)(`board-shop-saved-preview:${t}`,[E],{isPrepend:!0})),T[`board-shop-saved:${t}`]&&m((0,x.Qv)(`board-shop-saved:${t}`,[E],{isPrepend:!0})));return new b({boardId:t,dispatch:m,i18n:n,isLegoSaveStyle:!0,isOneTapSave:p,onSuccess:r,onUndo:o,originalPinId:a,pin:E,resourceName:"RepinResource",saveToProfileToastExpGroup:s,section:d,showRepinToasts:e=>l?l(e):c?c(e):void 0,trackingParams:u,userId:P.userId,viewType:h}).processRepin(i)},A=[],k=e=>(t,n)=>{const{pinId:i}=e,r=n().pins[i];r&&!r.impressed&&(A.push(e),(e=>{e({type:"PIN_IMPRESSIONS",payload:A.slice()}),A.length=0})(t))},C=e=>t=>{const n=p.Z.create("PinFlagResource",e).callCreate().catch((()=>t((0,w.fH)(e.pin_id,"error"))));return t((0,w.fH)(e.pin_id,"reported")),n},R=e=>t=>{const n=p.Z.create("PinFeedbackResource",e).callUpdate().catch((()=>t((0,w.fH)(e.pin_id,"error"))));return t((0,w.fH)(e.pin_id,"hidden")),n},L=({pinId:e,boardId:t,boardSectionId:n,clientTrackingParams:i})=>(r,o)=>{const a=p.Z.create("PinResource",{id:e,client_tracking_params:i}).callDelete(),{session:{userId:s}}=o();return r(((e,t,n,i)=>({type:P.l_,payload:{pinId:e,boardId:t,boardSectionId:n,userId:i}}))(e,t,n,s)),a},j=e=>t=>{const{boardId:n,pinId:i,description:r,section:o,title:a}=e,s=p.Z.create("PinResource",{board_id:n,board_section_id:o&&o.id,description:r,id:i,title:a}).callUpdate();return t((e=>({type:P.fz,payload:e}))(e)),s},D=(e,t,n)=>({type:P.YZ,payload:{pinId:e,boardId:t,boardSectionId:n}}),O=e=>t=>{const{method:n,guid:i,image_base64:r,image_url:o}=e;return((e,t)=>new Promise((n=>{e?(0,S.eR)(e).then((e=>{n(e)})):n(t)})))(r,o).then((r=>{const o={...e,method:"button"!==n||i?n:"button_external",image_url:r,image_base64:void 0},a="PinResource";return p.Z.create(a,o).callCreate().then((e=>{const n=(0,f.Fv)(e.resource_response.data,h.Z.PinResource);t((0,m.XM)(a,o,e,n));const i=e.resource_response.data,{board:{id:r},pinner:{id:s},section:l}=i,c=l&&l.id;return t(T(i.id,r,c,s)),e}))}))}},586542:(e,t,n)=>{n.d(t,{By:()=>c,IT:()=>l,N6:()=>o,br:()=>a,lU:()=>s});var i=n(6637),r=n(983360);const o=(e,t)=>({type:r.DC,payload:{query:e,scope:t}}),a=(e,t)=>({type:r.hl,payload:{query:e,scope:t}}),s=(e,t,n)=>o=>{i.Z.create("ApiResource",{url:"/v3/search/recent/",data:{vertical:e}}).callDelete().then(t,n),o("PERSONAL"===e?{type:r.dF}:{type:r.xl})},l=(e,t,n,o)=>a=>{i.Z.create("ApiResource",{url:"/v3/search/recent/",data:{query:e,vertical:t}}).callDelete().then(n,o),a("PERSONAL"===t?(e=>({type:r.Ae,payload:{query:e}}))(e):(e=>({type:r.xV,payload:{query:e}}))(e))},c=e=>t=>{t((e=>({type:r.Ly,payload:{pinId:e}}))(e))}},185894:(e,t,n)=>{n.d(t,{Cp:()=>p,FK:()=>u,H5:()=>A,MI:()=>x,Mj:()=>E,O0:()=>y,QZ:()=>d,W:()=>P,WF:()=>g,Wz:()=>k,YV:()=>_,a5:()=>v,dz:()=>S,e0:()=>f,e2:()=>c,gH:()=>b,iW:()=>T,n1:()=>l,rm:()=>m,wb:()=>I,xu:()=>w});var i=n(172071),r=n(360903),o=n(983360),a=n(53987),s=n(408285);const l=()=>({type:o.Wn}),c=()=>({type:o.lj}),d=e=>({type:o.j_,payload:{unauthSavePinId:e}}),u=()=>({type:o.JG}),p=()=>({type:o.pV}),h=e=>({type:o.BM,payload:e}),m=e=>({type:o.a9,payload:{from:e}}),_=()=>e=>{e(h({preparingNewVersion:!0})),(0,s.Ng)().catch((()=>(i.Z.increment("mweb_service_worker.prepareNewVersion.error",1),(0,s.Dm)()))).finally((()=>{i.Z.increment("mweb.new_version.refresh",1),e(h({newVersionAvailable:!0,preparingNewVersion:!1}))})),(0,r.Qi)()},g=()=>({type:o.cs}),v=()=>({type:o.tg}),f=e=>({type:o.$t,payload:{steps:e}}),y=()=>({type:o.LB}),b=e=>({type:o.aj,payload:e}),x=e=>({type:o.HQ,payload:e}),w=e=>({type:o.vH,payload:{viewedImageSignature:e}}),S=e=>({type:o.le,payload:{pins:e}}),P=()=>({type:o.L6}),T=e=>e?{type:o.Pz,payload:e}:{type:o.OO},E=(e,t,n)=>i=>i(((e,t,n)=>({type:o.AO,payload:{isShareMenuOpen:e,objectType:t,objectId:n}}))(e,t,n)),I=()=>({type:o.dO}),A=e=>({type:o.UD,payload:e}),k=(e,t)=>{let n;return n=e?(0,a.bo)(e)?"today":(0,a.dr)(e)?"ideas":t&&(0,a.dZ)(e,t)?"own_section":t&&(0,a.J)(e,t)?"own_board":(0,a.OJ)(e)?"section":(0,a.am)(e)?"board":(0,a.L6)(e)?"closeup":(0,a.C$)(e)?"home":(0,a.cD)(e)?"profile":(0,a.En)(e)?"search":(0,a.$V)(e)?"topic":"":"",{type:o.il,payload:n}}},856585:(e,t,n)=>{n.d(t,{ZN:()=>s,bJ:()=>c,fv:()=>l,hr:()=>a,lD:()=>d});var i=n(6637),r=n(983360);function o(e,t){return i.Z.create("InterestFollowResource",{interest_id:e,interest_list:"favorited",referrer:t})}const a=(e,t)=>({type:r.K0,payload:{id:e,value:t}}),s=(e,t)=>n=>{o(e,t).callCreate().catch((()=>n(a(e,!1)))),n(a(e,!0))},l=(e,t)=>n=>{o(e,t).callDelete().catch((()=>n(a(e,!0)))),n(a(e,!1))},c=e=>t=>{const n=e.reduce(((e,t)=>(e[t.id]=!t.is_followed,e)),{});return i.Z.create("UpdateFollowedInterestsResource",{updated_interest_follows:n}).callUpdate().then((()=>{e.forEach((({id:e,is_followed:n})=>{t(a(e,!n))}))}))},d=(e,t="")=>n=>i.Z.create("UpdateFollowedInterestsResource",{referrer:t,updated_interest_follows:e}).callUpdate().then((()=>{Object.keys(e).forEach((t=>{const i=e[t];n(a(t,i))}))}))},987197:(e,t,n)=>{n.d(t,{OF:()=>d,Q_:()=>o,b8:()=>a,eR:()=>c});var i=n(408285),r=n(6637);const o=(e,t)=>n=>r.Z.create("UserStateResource",{state:e,value:t}).callCreate(),a=(e,t,n)=>(o,a)=>{r.Z.create("ApiResource",{url:"/v3/users/me/"}).callCreate().then((()=>{n({event_type:48,object_id_str:a().session.userId}),e(),(0,i.Dm)()}),t)};const s=async(e,t,n)=>{var i;const o=await r.Z.create("VIPResource",{upload_ids:[e]}).callGet();if(null!==(i=o.resource_response)&&void 0!==i&&i.data[e]){const i=o.resource_response.data[e],{status:r,signature:a}=i;if("processing"===r||"registered"===r)setTimeout((async()=>{s(e,t,n)}),5e3);else if("succeeded"===r){const e=((e,t="150x150")=>e&&`https://i.pinimg.com/${t}/${e.substring(0,2)}/${e.substring(2,4)}/${e.substring(4,6)}/${e}.jpg`||"")(a);t(e)}else n()}else n()},l=e=>new Promise(((t,n)=>{var i,o,a,l,c;i=e,o="pinimage",a=()=>{},l=e=>{t(e)},c=e=>{n(e)},(new FormData).append("img",i),r.Z.create("VIPResource",{type:o}).callCreate().then((e=>{var t;if(null!==(t=e.resource_response)&&void 0!==t&&t.data){const{upload_id:t,upload_url:n,upload_parameters:r}=e.resource_response.data,o=new XMLHttpRequest;o.open("POST",n,!0),o.onload=()=>{var e;(e=o.status)>=200&&e<400?(a(100),s(t,l,c)):c()},o.upload.onprogress=e=>{const t=Math.round(100*e.loaded/e.total);a(t)};const d=new FormData;for(const e in r)d.append(e,r[e]);d.append("file",i),o.send(d)}}),(()=>{c()}))})),c=e=>new Promise(((t,n)=>{"string"==typeof e?e.startsWith("data")&&l(function(e,t=512){const n=e.split(";"),i=n[0].split(":")[1],r=n[1].split(",")[1],o=atob(r),a=[];for(let s=0;s<o.length;s+=t){const e=o.slice(s,s+t),n=new Array(e.length);for(let t=0;t<e.length;t+=1)n[t]=e.charCodeAt(t);const i=new Uint8Array(n);a.push(i)}return new Blob(a,{type:i})}(e)).then((e=>t(e))):n("Invalid Image")})),d=e=>()=>r.Z.create("EmailExistsResource",{email:e}).callGet()},606441:(e,t,n)=>{n.d(t,{N:()=>r});var i=n(702664);function r(e){return(0,i.useSelector)((({pins:t})=>e?t[e]:null),i.shallowEqual)}},360903:(e,t,n)=>{n.d(t,{Qi:()=>c,RK:()=>l,$_:()=>s});var i=n(766935);var r=n(957161);const o="REDUX_STATE",a=()=>!!navigator.serviceWorker,s=()=>a()&&JSON.parse((0,r.qn)(o))||{},l=e=>(0,i.Z)((t=>{const n={};n[e]=t,a()&&(e=>{if(window.requestIdleCallback)return window.requestIdleCallback(e);{const t=Date.now();setTimeout((()=>{e({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-t))})}),1)}})((()=>(e=>{a()&&(0,r.Nh)(o,JSON.stringify({...s(),...e}))})(n)))}),1e3),c=()=>{(0,r.L_)(o)}},479739:(e,t,n)=>{n.d(t,{CQ:()=>l,Cj:()=>m,Il:()=>_,In:()=>T,Is:()=>v,JF:()=>S,NZ:()=>p,PN:()=>f,R_:()=>d,T_:()=>x,Ud:()=>h,ZX:()=>I,gI:()=>u,i3:()=>y,ik:()=>E,kT:()=>b,oF:()=>c,ts:()=>s,ut:()=>P});var i=n(442279);const r=e=>e.boards,o=e=>e.invites,a=e=>e.users,s=e=>e.users[e.session.userId]||null,l=e=>(e=>(t,n)=>t.feeds[((e,t)=>"string"==typeof e?e:e(t))(e,n)])(e),c=(0,i.P1)((e=>e.feeds),(e=>Object.keys(e).filter((e=>e.includes("share-suggestions"))).reduce(((t,n)=>({...t,[n]:e[n]})),{}))),d=(0,i.P1)(o,(e=>Object.keys(e).reduce(((t,n)=>{const i=n.split(":")[0],r=t[i]||{notPendingOwnerAction:[],pendingOwnerAction:[]};return e[n]&&"not_invited"!==e[n].status&&("pending_approval"===e[n].status?r.pendingOwnerAction.push(n):r.notPendingOwnerAction.push(n),t[i]=r),t}),{}))),u=(0,i.P1)(o,(e=>Object.keys(e).reduce(((t,n)=>{const i=e[n];return t[n]=i,t}),{}))),p=(0,i.P1)(s,o,((e,t)=>Object.keys(t).reduce(((n,i)=>{const r=i.split(":"),o=r[0],a=r[1],s=e.id===a,l=t[i]&&["new","contact_request_not_approved"].includes(t[i].status);return s&&l&&(n[o]=i),n}),{}))),h=(0,i.P1)(a,o,((e,t)=>Object.keys(t).reduce(((n,i)=>{const r=t[i]||{};return n[i]=e[r.invited_by_user],n}),{}))),m=(0,i.P1)((e=>e.topics),(e=>Object.keys(e).reduce(((t,n)=>{const i=e[n];return t[i.slug]=i,t[n]=i,t}),{}))),_=(0,i.P1)(a,(e=>Object.keys(e).reduce(((t,n)=>{const i=e[n];return t[i.username]=i,t}),{}))),g=(0,i.P1)(s,r,((e,t)=>Object.keys(t).reduce(((n,i)=>{var r;const o=t[i];return!o.archived_by_me_at&&((null===(r=o.owner)||void 0===r?void 0:r.id)===e.id||o.collaborating_users&&o.collaborating_users.map((({id:e})=>e)).includes(e.id))&&o.cover_images?n.concat([o]):n}),[]))),v=(0,i.P1)(g,(e=>e.sort(((e,t)=>e.name.localeCompare(t.name))))),f=(0,i.P1)(((e,t)=>e.users[t.user_id]||null),r,((e,t)=>Object.keys(t).reduce(((n,i)=>{var r;const o=t[i];return!o.archived_by_me_at&&e&&((null===(r=o.owner)||void 0===r?void 0:r.id)===e.id||o.collaborating_users&&o.collaborating_users.map((({id:e})=>e)).includes(e.id))&&n.push(o),n}),[]))),y=(0,i.P1)(r,(e=>Object.keys(e).reduce(((t,n)=>{const i=e[n];return t[i.url]=i,i.oldSlugUrl&&(t[i.oldSlugUrl]=i),t}),{}))),b=(0,i.P1)((e=>e.boardsections),(e=>Object.keys(e).reduce(((t,n)=>{const i=e[n];return t[`${i.board}_${i.slug}`]=i,t}),{}))),x=l((({boardId:e})=>`board-sections:${e}`)),w=l((({pinId:e})=>`call-to-create-pins:${e}`)),S=(0,i.P1)((e=>e.pins),w,((e=[],t=[])=>t.map((t=>e[t.id])))),P=e=>e.experiences[40001]&&(40002===e.experiences[40001].experience_id||500450===e.experiences[40001].experience_id),T=e=>e.experiences[40001]&&500681===e.experiences[40001].experience_id,E=({pins:e},{pinId:t})=>{const n=e[t];return{callToCreateResponseCount:n.call_to_create_responses_count,callToCreateResponsesPreviewImageUrls:n.call_to_create_responses_preview_image_urls,callToCreateSourcePin:n.call_to_create_source_pin,callToCreateSourcePinId:n.call_to_create_source_pin_id,isCallToCreate:n.is_call_to_create}},I=(0,i.P1)([(e,t,n)=>{var i,r,o;switch(n){case"pin":return null===(i=e.pins)||void 0===i?void 0:i[t];case"board":return null===(r=e.boards)||void 0===r?void 0:r[t];case"user":return null===(o=e.users)||void 0===o?void 0:o[t];default:return""}},({session:e})=>e.seoDebug],((e,t)=>{if(t){var n,i,r,o,a;return{noIndexReason:null==e||null===(n=e.page_metadata)||void 0===n?void 0:n.noindex_reason,canonicalId:null==e||null===(i=e.pin_join)||void 0===i||null===(r=i.canonical_pin)||void 0===r?void 0:r.id,canonicalDomain:null==e||null===(o=e.page_metadata)||void 0===o?void 0:o.canonical_domain,canonicalUrl:null==e||null===(a=e.page_metadata)||void 0===a?void 0:a.canonical_url}}return null}))},960418:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ye,getFiltersString:()=>pe,getQueryString:()=>he});var i=n(667294),r=n(702664),o=n(52395),a=n(123906),s=n(846035),l=n(968919),c=n(166300),d=n(704115),u=n(795587),p=n(749771),h=n(276775),m=n(785893);function _({filters:e}){var t;const n=(0,h.useLocation)().search,r=pe(n),o=he(n);return(0,m.jsxs)(i.Fragment,{children:[(null===(t=e.hairPatternFilters)||void 0===t?void 0:t.eligible_filters)&&(0,m.jsx)(u.default,{eligibleFilters:e.hairPatternFilters.eligible_filters,query:o,selectedHairPatternTerm:r}),e.skinToneFilters&&(0,m.jsx)(p.Z,{query:o,selectedSkinToneTerm:r,skinToneFilters:e.skinToneFilters})]})}var g=n(806584),v=n(124580),f=n(12610),y=n(644658),b=n(898781),x=n(883119);function w({numberProductFiltersApplied:e=0,setProductFiltersModalIsOpen:t,onTap:n}){const i=(0,b.ZP)();return(0,m.jsx)(x.iP,{onTap:()=>{null==n||n(),t(!0)},rounding:"circle",accessibilityLabel:i._('Filter', 'productsFilterButton', 'Button to filter products results'),children:(0,m.jsxs)(x.xu,{position:"relative",children:[(0,m.jsx)(x.xu,{padding:4,rounding:"circle",color:"secondary",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},children:(0,m.jsx)(x.kC,{gap:2,alignItems:"center",children:(0,m.jsx)(x.JO,{icon:"filter",color:"dark",size:16,accessibilityLabel:i._('Filter Icon', 'productsFilterIcon', 'Icon for products filter button')})})}),e>0&&(0,m.jsx)(x.xu,{alignItems:"center",color:"selected",dangerouslySetInlineStyle:{__style:{border:"2px solid white"}},display:"flex",height:14,justifyContent:"center",minWidth:14,position:"absolute",rounding:"pill",top:!0,right:!0})]})})}function S({label:e,iconName:t,href:n,moduleType:i,backgroundColor:r,textWeight:o="normal",textColor:a,numberProductFiltersApplied:s=0,setProductFiltersModalIsOpen:l=(()=>{}),onTap:c}){const d="#ffffff"===a?"light":"dark",u=0===i,p=u?"circle":"pill",h=t&&(0,m.jsx)(x.JO,{accessibilityLabel:"",icon:t,color:d,size:16}),_=!u&&e&&(0,m.jsx)(x.xv,{align:"center",size:"300",weight:o,color:d,children:e}),g=(0,m.jsx)(x.xu,{padding:4,rounding:p,dangerouslySetInlineStyle:{__style:{backgroundColor:r,whiteSpace:"nowrap"}},children:(0,m.jsxs)(x.kC,{gap:2,alignItems:"center",children:[7!==i&&h,_,7===i&&h]})});let v;switch(i){case 0:v=(0,m.jsx)(w,{setProductFiltersModalIsOpen:l,numberProductFiltersApplied:s,onTap:c});break;case 7:v=(0,m.jsx)(x.iP,{rounding:p,onTap:c,children:g});break;default:v=(0,m.jsx)(x.iP,{href:n,role:"link",rounding:p,onTap:c,children:g})}return v}var P=n(121151),T=n(909499),E=n(407043),I=n(483310);function A({label:e,iconName:t,moduleType:n,backgroundColor:r,textColor:o,contents:a}){const{logContextEvent:s}=(0,E.v)(),l=(0,b.ZP)(),[c,d]=(0,i.useState)(!1),{scope:u}=(0,I.b)(),p=(0,T._R)(u);function h(){s({event_type:123,component:14048,view_type:2,view_parameter:p,aux_data:{label:e,onebar_module_type:7}}),d(!1)}return(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(S,{href:"",label:e,iconName:t,moduleType:n,backgroundColor:r,textColor:o,onTap:()=>{c?h():d(!0)}}),c&&(0,m.jsx)(x.mh,{children:(0,m.jsx)(x.xu,{marginTop:6,width:"100%","data-test-id":"structured-guide-modal",children:(0,m.jsx)(P.ZP,{heading:e,accessibilityModalLabel:l._('Add to your query', 'SearchStructuredGuide.accessibilityLabel', 'Modal for structured guide in one bar'),mobileAccessibilityCloseIconLabel:l._('close modal', 'SearchStructuredGuide.heading', 'Label for close button on modal'),onDismiss:()=>h(),children:(0,m.jsx)(x.xu,{overflow:"scrollY",maxHeight:"75vh",paddingX:4,paddingY:2,children:(0,m.jsx)(x.xu,{marginBottom:12,dangerouslySetInlineStyle:{__style:{lineHeight:"1.2"}},children:(0,m.jsx)(x.kC,{gap:1,wrap:!0,children:a.map(((e,t)=>(0,m.jsx)(L,{module:e,index:t},`OneBarModuleGuide-${e.id||""}-${t}`)))})})})})})})]})}var k=n(622739),C=n(643010),R=n(366428);function L({componentType:e=14047,eventType:t=101,impressionsFramework:n,module:i,index:r,numberProductFiltersApplied:o,setProductFiltersModalIsOpen:a}){const{logContextEvent:s}=(0,E.v)(),{scope:l,query:c}=(0,I.b)(),d=(0,T._R)(l),{id:u,display:p,action:_,module_type:g}=i,{display_text:v,icon:f,background_color_hex:b,text_color_hex:w}=p||{},{feed_url:P="",search_query:L="",contents:j}=_||{},D=(0,C.Yc)(),O=b?D&&b.length>1?b[1]:b[0]:"",N=w?D&&w.length>1?w[1]:w[0]:"",M={label:v,grid_index:r,onebar_module_type:g,entered_query:c},U=(0,R.Z)({componentType:e,contextLogData:M,impressionsFramework:n,impressionType:"OneBar",loggingId:u,slotIndex:r,viewType:2,viewParameter:d});const F=function({index:e,label:t,moduleType:n,searchQuery:i,url:r}){const o=(0,h.useLocation)().search;switch(n){case 1:case 2:return(0,k.NZ)(r,o);case 3:return(0,y.Z)(i,t,e,"guide");default:return r}}({index:r,label:v||"",moduleType:g,searchQuery:L,url:P});let z;switch(f){case 1:z="shopping-bag";break;case 3:z="filter";break;case 6:z="person";break;case 7:z="arrow-down";break;default:z=void 0}const Z=7===g?(0,m.jsx)(A,{label:v,moduleType:g,iconName:z,backgroundColor:O,textColor:N,contents:j||[]}):(0,m.jsx)(S,{label:v,href:F,moduleType:g,iconName:z,backgroundColor:O,textWeight:"normal",textColor:N,numberProductFiltersApplied:o,setProductFiltersModalIsOpen:a,onTap:function(){s({event_type:t,component:e,view_type:2,view_parameter:d,aux_data:M})}},`OneBarModule-${u||""}`);return n?(0,m.jsx)(x.xu,{ref:U,children:Z}):Z}function j({oneBarModules:e,numberProductFiltersApplied:t,setProductFiltersModalIsOpen:n}){const r=(0,i.useRef)(),o=new f.ZP;(0,i.useEffect)((()=>{const e=r.current;return e&&v.Z.addObstruction("top",e),()=>{e&&v.Z.removeObstruction("top",e)}}));return(0,m.jsx)(x.xu,{color:"default","data-root-margin":"search-one-bar",height:54,overflow:"hidden",ref:r,children:(0,m.jsx)(x.xu,{height:64,overflow:"auto","data-test-id":"mweb-onebar-search",children:(0,m.jsx)(x.kC,{gap:1,children:e.map(((e,i)=>(0,m.jsx)(L,{module:e,index:i,setProductFiltersModalIsOpen:n,numberProductFiltersApplied:t,impressionsFramework:o},`OneBarModule-${e.id||""}-${i}`)))})})})}var D=n(542554),O=n(705834),N=n(481277),M=n(891748),U=n(335972),F=n(995228),z=n(361777),Z=n(927007),B=n(791804),H=n(430323),V=n(501338),W=n(784590),G=n(826067);const $=({componentType:e,contextLogData:t,rep:n,slotIndex:i,viewParameter:r,viewType:o,width:a})=>{var s,l,c,d,u;const{action:p,content_type:h,cover_images:_,dominant_colors:g,id:v,title:f}=n,y="user"===h?(null===(s=_[0]["150x150"])||void 0===s?void 0:s.url)||(null===(l=_[0]["90x90"])||void 0===l?void 0:l.url):(null===(c=_[0]["236x"])||void 0===c?void 0:c.url)||(null===(d=_[0]["474x"])||void 0===d?void 0:d.url),{logContextEvent:b}=(0,E.v)(),w=(0,R.Z)({componentType:e,contextLogData:t,impressionType:"Article",loggingId:v,slotIndex:i,viewParameter:r,viewType:o});return(0,m.jsx)(x.xu,{width:a,paddingX:1,ref:w,children:(0,m.jsx)(x.Zb,{children:(0,m.jsx)(x.iP,{href:null!==(u=null==p?void 0:p.url)&&void 0!==u?u:"",rounding:4,role:"link",onTap:()=>{b({aux_data:t,component:e,event_type:102,view_parameter:r,view_type:o})},children:(0,m.jsxs)(x.kC,{direction:"column",gap:{row:0,column:2},alignItems:"center",children:[(0,m.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},overflow:"hidden",rounding:"circle",children:(0,m.jsx)(x.zd,{height:a,width:a,rounding:"circle",wash:!0,children:(0,m.jsx)(x.Ee,{alt:f.format,color:g[0],fit:"cover",naturalHeight:1,naturalWidth:1,src:null!=y?y:""})})}),(0,m.jsx)(x.xv,{align:"center",lineClamp:2,weight:"bold",children:f.format})]})})})})};function K({componentType:e,slot:t,story:n,viewParameter:i,viewType:o}){const{title:a,objects:s,id:l,story_type:c}=n,{q:d}=(0,G.mB)((0,h.useLocation)().search),u={entered_query:d,grid_index:t,story_id:l,story_type:c},p=(0,R.Z)({componentType:e,contextLogData:u,impressionType:"Story",loggingId:l,slotIndex:t,viewParameter:i,viewType:o}),_=(0,r.useSelector)((({articles:e})=>(null==s?void 0:s.map((t=>e[t.id||""])))||[])),g=(window.innerWidth-8)/3-8;return(0,m.jsx)(x.xu,{marginBottom:2,marginTop:2,paddingX:1,ref:p,width:"100%",children:(0,m.jsxs)(x.kC,{gap:{row:0,column:4},direction:"column",children:[(0,m.jsx)(x.X6,{size:"400",align:"center",children:null==a?void 0:a.format}),(0,m.jsx)(x.kC,{justifyContent:"between",wrap:!0,children:_.map(((n,r)=>(0,m.jsx)($,{componentType:e,contextLogData:u,rep:n,slotIndex:t,viewType:o,viewParameter:i,width:g},`exploreByXStory_rep${r}`)))})]})})}var q=n(50286);const Y=["search_explore_by_brand","search_explore_by_category","search_explore_by_attributes"];var X=n(332611),J=n(349700),Q=n(104581),ee=n(473535),te=n(378518),ne=n(773285),ie=n(772181),re=n(313047),oe=n(586542);const ae=new x.Ry(1),se=new x.H3([ae]),le=(0,i.lazy)((()=>n.e(64870).then(n.bind(n,864870)))),ce=Object.freeze({boards:44,buyable_pins:254,idea_pins:43,my_pins:107,pins:43,users:45,videos:3306}),de=Object.freeze({boards:61,buyable_pins:7145,idea_pins:60,my_pins:63,pins:60,users:62,videos:64}),ue=(e,t)=>{const n=(0,G.mB)(e);return n.utm_pai&&n.utm_source&&n.pid&&"pins"===t?n.pid:""},pe=e=>{var t;return null!==(t=(0,G.mB)(e).filters)&&void 0!==t?t:""},he=e=>{var t;return null!==(t=(0,G.mB)(e).q)&&void 0!==t?t:""},me=e=>{var t;return null!==(t=(0,G.mB)(e).b_id)&&void 0!==t?t:""},_e=e=>{var t;return null!==(t=(0,G.mB)(e).auto_correction_disabled)&&void 0!==t?t:""},ge=e=>{const{category:t,domains:n,price_max:i,price_min:r}=(0,G.mB)(e);return[t,n,i,r].map((e=>null!=e?e:"")).join("-")},ve=(e,t)=>{switch(e){case"pins":case"my_pins":return t._('We couldn\'t find any Pins for "{{ query }}".', 'search query with no results for pins', 'search query with no results for pins');case"boards":return t._('We couldn\'t find any boards about "{{ query }}".', 'search query with no results for boards', 'search query with no results for boards');case"users":return t._('We couldn\'t find anyone named "{{ query }}".', 'search query with no results for pinners', 'search query with no results for pinners');default:return""}};function fe(){var e,t,n,u;const p=(0,b.ZP)(),v=(0,q.HG)(),{logContextEvent:f}=(0,E.v)(),y=(0,i.useRef)(),[w,S]=(0,i.useState)(!1),[P,A]=(0,i.useState)(0),C=(0,h.useLocation)().search,R=(0,h.useHistory)(),{scope:L}=(0,h.useParams)(),U=(0,T.Hd)(L),$=(0,te._)({id:U}),ae=he(C),fe=me(C),ye=_e(C),be=pe(C),xe={name:"BaseSearchResource",options:{article:null!=fe?fe:void 0,appliedProductFilters:ge(C),query:null!=ae?ae:void 0,scope:L,auto_correction_disabled:ye,top_pin_id:null!==(e=ue(C,L))&&void 0!==e?e:void 0,filters:null!=be?be:void 0}},we=(0,W.Z)(xe),Se=((e,t)=>`${t}:${_e(e)?`${he(e)}:${pe(e)}:${ge(e)}:${me(e)}:auto-correction-disabled`:`${he(e)}:${pe(e)}:${ge(e)}:${me(e)}`}`)(C,L),Pe=(0,r.useSelector)((({search:e})=>{var t;return null!==(t=e.queries[Se])&&void 0!==t?t:{}})),{guides:Te,typo:Ee,nags:{messages:Ie}={},sensitivity:Ae,filters:ke,tabs:Ce=[],oneBarModules:Re}=Pe,{checkExperiment:Le}=(0,ne.F)(),je=Le("mweb_search_onebar_v01").anyEnabled,De=Ie&&!(0,ie.Fx)(Ae),Oe=(0,r.useSelector)((({feeds:e})=>e[`search:${Se}`])),Ne=null!==(t=null===(n=we.data)||void 0===n?void 0:n.results)&&void 0!==t?t:[],[Me,Ue]=(0,i.useState)(null);(0,i.useEffect)((()=>{$&&504995===$.experience_id&&Ue($)}),[$]);const Fe=(0,k.nz)(Ce),{getFullUrlForTab:ze}=(0,k.Wd)(ae),Ze=(0,r.useSelector)((({search:e})=>{var t;return null!==(t=e.productFilters[`${ae}-${L}`])&&void 0!==t?t:{}})),{isRTL:Be,isSeoBot:He}=(0,r.useSelector)((({session:e})=>e)),Ve=(0,r.useDispatch)();(0,i.useEffect)((()=>(ae&&Ve((0,X.pz)([U],He,{search_query:ae})),Ve((0,oe.N6)(ae,L)),Ve((0,oe.br)(ae,L)),()=>{Ve((0,oe.N6)())})),[]);const We=(null==ke?void 0:ke.skinToneFilters)||(null==ke?void 0:ke.hairPatternFilters),Ge=Te&&Te.length>0,$e=Object.keys(Ze).length>0,{deb_d:Ke,domains:qe,price_min:Ye,price_max:Xe}=(0,G.mB)(C),Je=null===(u=y.current)||void 0===u?void 0:u.getBoundingClientRect().height;(0,i.useEffect)((()=>{De&&f({event_type:120,view_type:2,component:19,view_parameter:ce[L],aux_data:{entered_query:ae,advisory_details:null==Ae?void 0:Ae.advisory_details,advisory_level:null==Ae?void 0:Ae.advisory,severity_level:null==Ae?void 0:Ae.severity}})}),[f,ae,Ae,De,L]),(0,i.useEffect)((()=>{f({event_type:de[L],view_parameter:ce[L],view_type:2})}),[f,L]);let Qe="search";"buyable_pins"===L?Qe="shop_feed":"users"===L&&(Qe="user_search");const et=Array.isArray(Oe)?Oe:[],tt=v?[]:et.slice(0,et.findIndex((e=>"story"!==e.type))),nt=function({resultsFeed:e}){const t=(0,q.HG)();return(0,r.useSelector)((({stories:n})=>{var i,r;const o=Array.isArray(e)&&e.length>0?e.findIndex((e=>"story"===e.type&&Y.includes(n[e.id].story_type))):-1;if(t)return null;if(o<=0)return null;const a=n[e[o].id];return{content:(0,m.jsx)(K,{componentType:null===(i=a.display_options)||void 0===i||null===(r=i.content_display)||void 0===r?void 0:r.component_type,slot:o,story:a,viewParameter:43,viewType:2}),index:o}}))}({resultsFeed:Oe});return(0,m.jsx)(O.Z,{auxData:{entered_query:ae},viewType:2,viewParameter:ce[L],children:(0,m.jsx)(H.Z,{objectId:ae,view:2,viewParameter:ce[L],children:(0,m.jsx)(I.v,{children:(0,m.jsxs)(D.default,{hasFixedHeader:!0,children:[(0,m.jsxs)(re.FixedHeader,{overrideTop:v?V.Z:0,zIndex:se,children:[(0,m.jsx)(o.Z,{text:p._('Search', 'Text for accessibility hidden heading on mobile web search page', 'Text for accessibility hidden heading on mobile web')}),(0,m.jsxs)(x.xu,{ref:y,children:[!v&&(0,m.jsx)(x.kC,{alignItems:"center",justifyContent:"start",children:(0,m.jsx)(x.xu,{flex:"grow",children:(0,m.jsx)(z.Z,{history:R,query:ae,scope:L,viewType:2,viewParameter:ce[L]})})}),!v&&Fe&&(0,m.jsx)(g.Z,{dependencyValue:Fe.length,children:(0,m.jsxs)(x.xu,{display:"flex",justifyContent:"start",marginTop:2,children:[(0,m.jsx)(c.Z,{children:(0,m.jsx)(x.xu,{overflow:"scrollX",paddingX:2,paddingY:1,"data-test-id":"page-tabs",children:(0,m.jsx)(x.mQ,{activeTabIndex:(0,k.c0)(Fe,L),onChange:({activeTabIndex:e,event:t,dangerouslyDisableOnNavigation:n})=>{if(n(),!Fe)return;const{loggingData:i,href:r}=Fe[e],o=(0,k.c0)(Fe,L);f({view_type:2,view_parameter:ce[L],event_type:101,component:13184,element:i.element});const a=ze({currentQueryParamString:C,currentTabIndex:o,incomingTabIndex:e,baseUrl:r});t.preventDefault(),R.replace(a)},tabs:Fe.map((({href:e,text:t})=>({href:e,text:t})))})})}),!je&&!Re&&$e&&(0,m.jsxs)(x.xu,{alignItems:"center",direction:"row",display:"flex",position:"absolute",left:Be,right:!Be,marginTop:1,children:[P>0?(0,m.jsx)(x.xv,{weight:"bold",children:P}):null,(0,m.jsx)(x.hU,{accessibilityLabel:p._('Filters', 'search.productFilters.filterIconButton', 'Icon button appears when product filters are available'),iconColor:"darkGray",icon:"filter",onClick:({event:e})=>{e.stopPropagation(),S(!0),f({event_type:102,view_parameter:ce[L],view_type:2,element:11735})},size:"md"})]})]})}),De&&(0,m.jsx)(x.xu,{marginTop:2,paddingX:2,children:(0,m.jsx)(x.xv,{size:"200",children:(0,m.jsx)("span",{"data-test-id":"warning-our-policies",dangerouslySetInnerHTML:{__html:Ie.join(" ")}})})}),Ee&&!ye?(0,m.jsx)(x.xu,{marginTop:2,paddingX:1,"data-test-id":"searchAutocorrectLink",children:(0,m.jsx)(x.xv,{size:"100",inline:!0,children:Ee.corrected?(0,J.nk)(p._('Here\'s what we found for {{ correctionLink }}. Search for {{ originalLink }} instead?', ' - ', ' -- '),{correctionLink:(0,m.jsx)(x.xv,{inline:!0,color:"default",size:"100",children:Ee.correction},"typoCorrectionLink"),originalLink:(0,m.jsx)(x.xv,{color:"default",size:"100",weight:"bold",inline:!0,children:(0,m.jsx)(x.rU,{inline:!0,href:`/search/pins/?rs=typo_auto_original&q=${encodeURIComponent(Ee.original)}&auto_correction_disabled=true`,tapStyle:"none",onClick:()=>(0,ee.U3)({logContextEvent:f,searchScope:"pins",searchTerm:Ee.original,rs:"typo_auto_original"}),underline:"hover",children:Ee.original},"orig")},"typoOriginalLink")}):(0,J.nk)(p._('Did you mean {{ correctionLink }}?', ' - ', ' -- '),{correctionLink:(0,m.jsx)(x.xv,{inline:!0,size:"100",weight:"bold",children:(0,m.jsx)(x.rU,{inline:!0,href:`/search/pins/?rs=typed&q=${encodeURIComponent(Ee.correction)}&auto_correction_disabled=true`,onClick:()=>(0,ee.U3)({logContextEvent:f,searchScope:"pins",searchTerm:Ee.correction,rs:"typed"}),tapStyle:"none",underline:"hover",children:Ee.correction})})})},"autocorrect")}):null,Ge&&!We&&(0,m.jsx)(g.Z,{children:(0,m.jsx)(Z.Z,{guides:Te,query:ae})})]}),Re&&Re.length>0&&(0,m.jsx)(j,{oneBarModules:Re,setProductFiltersModalIsOpen:S,numberProductFiltersApplied:P})]}),We&&ke&&(v?(0,m.jsx)(_,{filters:ke}):(0,m.jsx)(re.FixedHeader,{hideOnScroll:!0,noPadding:!0,overrideTop:Je?Je+4*re.DEFAULT_PADDING_Y*2:0,children:(0,m.jsx)(_,{filters:ke})})),ae&&$&&(0,m.jsx)(s.Z,{experience:$}),!!Ne.length&&!!Me&&(0,m.jsx)(F.Z,{children:(0,m.jsx)(le,{experience:Me,pins:Ne,viewParameter:ce[L],viewType:2,closeResubExperience:()=>Ue(null)})}),Ke&&L!==T.lw.USERS&&(0,m.jsx)(Q.p,{}),Ae&&(0,ie.Fx)(Ae)&&(0,m.jsx)(x.xu,{paddingY:4,children:(0,m.jsx)(B.Z,{notice:Ae.notice||Ae.notices[0],query:ae,sensitivity:Ae,viewParameter:ce[L],viewType:2})}),Oe?(0,m.jsxs)(i.Fragment,{children:[tt.map(((e,t)=>(0,m.jsx)(N.Z,{auxData:{entered_query:ae},fullWidth:!0,slotIndex:t,storyId:e.id,trafficSource:Qe,viewParameter:ce[L],viewType:2},e.id))),(0,m.jsx)(l.ZP,{fullWidthBreakIn:nt,emptyState:(null==Ae?void 0:Ae.severity)===ie.IR.ABUSIVE?null:(0,m.jsx)(x.xu,{paddingX:4,paddingY:Ie&&Ie.length>0?5:2,position:"fixed",children:(0,m.jsx)(x.xv,{overflow:"normal",size:"200",children:(0,J.nk)(ve(L,p),{query:ae})})}),feedItemProps:{feedback:{data:{query:ae},type:"search"},viewParameter:ce[L],viewType:2},feedKey:`search:${Se}`,resourceConfig:xe,trafficSource:Qe})]}):(0,m.jsx)(x.$j,{show:!0,accessibilityLabel:p._('spinner', 'spinner for search results page', 'spinner for search results page')}),$e&&(0,m.jsx)(M.Z,{isOpen:w,closeFiltersModal:()=>S(!1),productFilters:Ze,submitFilters:({domains:e,prices:t})=>{const n={...(0,d.Z)()};e?n.domains=e:delete n.domains,t&&t[0]?n.price_min=t[0]:delete n.price_min,t&&t[1]?n.price_max=t[1]:delete n.price_max,R.replace((0,a.Z)(window.location.pathname,n))},updateNumberFiltersApplied:A,initialProductFilters:{domains:qe,prices:[Ye,Xe].map((e=>parseInt(e,10)))}})]})})})})}function ye(){return(0,m.jsx)(U.Z,{surface:"search",measureGridVisuallyComplete:!0,children:(0,m.jsx)(fe,{})})}},157796:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294),r=n(883119),o=n(785893);function a({color:e="red",duration:t,finalProgress:n,shape:a="pill"}){const[s,l]=(0,i.useState)(!1);(0,i.useEffect)((()=>{const e=setTimeout((()=>{l(!0)}),0);return()=>{clearTimeout(e)}}),[]);const c="pill"===a;return(0,o.jsx)(r.xu,{color:e,height:c?8:6,rounding:c?"pill":2,width:`${n}%`,dangerouslySetInlineStyle:{__style:{transform:c?`translateX(${s?"-5px":"-100%"})`:`scaleX(${s?1:0})`,transformOrigin:"left",transitionDuration:`${t}ms`,transitionTimingFunction:"ease-in"}}})}},27255:(e,t,n)=>{n.d(t,{Z:()=>i});const i={AMP_TRACKING_DOMAIN:"amp.pinterest.com",BoardPrivacy:{SECRET:"secret",PUBLIC:"public",PROTECTED:"protected"},BoardType:{PROTECTED:"protected"},BulkAction:{MOVE:"bulkMove",COPY:"bulkCopy",CREATE_SECTION:"bulkCreateSection",DELETE:"bulkDelete"},MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION:500,MAX_CHARS_FOR_BOARD_TITLE:50,MAX_CHARS_FOR_FIRST_NAME:30,MAX_FETCH_NUM_FOLLOWERS_PER_PAGE:50,MAX_STORED_VISITED_PIN_PAGES:10,VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY:"_video_autoplay_state",VIDEO_IFRAME_ID:"video-iframe"}},628551:(e,t,n)=>{n.r(t),n.d(t,{cleanUpCookie:()=>c,clearSecondCookie:()=>l,getCsrfToken:()=>d,needsCsrfToken:()=>u});var i=n(231486),r=n(966113),o=n(226198),a=n(826067);const s=e=>{document.cookie=o.fS.name+"=bad; domain=."+e+"; expires=Thu, 01-Jan-1970 00:00:00 GMT; Max-Age=0; Path=/"},l=()=>{s(window.location.hostname)},c=()=>{const e=o.fS.name,t=document.cookie.match(new RegExp(e+"=.+?($|;)","g"));t&&t.length>1&&s(r.Z.settings.TRUSTED_HOSTNAME_ENDING)},d=()=>"undefined"!=typeof window?`${String(i.U2(o.fS))}`:"",u=(e,t)=>!(e=>/^(GET|HEAD|OPTIONS|TRACE)$/.test(e))(e)&&(0,a.Qg)(t)},558068:(e,t,n)=>{n.d(t,{Hv:()=>l,aX:()=>u,nK:()=>p});var i=n(667294),r=n(425288),o=n(276775),a=n(785893);const{Provider:s,useHook:l}=(0,r.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),c=e=>e&&e.pathname?e.pathname+(e.search||""):"";function d(e,t){var n;const i={action:t.type,location:t.location,match:t.match};if(t.location===(null===(n=e.current)||void 0===n?void 0:n.location))return e;switch(t.type){case"POP":return e.forward.length>0&&c(e.forward[0].location)===c(i.location)?{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:t.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous}:{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:t.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:i,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:i};default:return e}}function u(){const{current:e,previous:t}=l();return(0,i.useMemo)((()=>e?t.concat(e):t),[e,t])}function p({children:e}){const t=(0,o.useHistory)(),n=(0,o.useLocation)(),r=(0,o.useRouteMatch)(),l={forward:[],current:{action:t.action,location:n,match:r},previous:[]},[c,u]=(0,i.useReducer)(d,l);return(0,i.useEffect)((()=>{const{action:e}=t;u({type:e,location:n,match:r})}),[n]),(0,a.jsx)(s,{value:c,children:e})}},391254:(e,t,n)=>{n.d(t,{Z:()=>o});n(441143);var i=n(785893);class r{static factory(e){return e instanceof r?e:new r(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function o(e){const{css:t,unsafeCSS:n,...o}=e,a=String(t||"")||n||"";return!!a?(0,i.jsx)("style",{...o,dangerouslySetInnerHTML:{__html:String(r.factory(a))}}):null}},310227:(e,t,n)=>{n.d(t,{Dv:()=>o,Ml:()=>a,Oc:()=>i,mv:()=>r});const i=16,r=4,o={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"},a=120},700398:(e,t,n)=>{n.d(t,{Z:()=>r});const i=new Set([90,88,89,91,101,92,131]);function r(e){return i.has(e)}},941646:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),r=n(785893);function o(e){const{children:t,display:n,id:o}=e;return(0,r.jsx)(i.xu,{"data-test-id":o,display:n,children:t})}},170815:(e,t,n)=>{n.d(t,{Z:()=>o});const i=!("undefined"==typeof window||!window.performance||!window.performance.now);function r(){return i?window.performance.now():Date.now()}class o{constructor(){var e,t,n;n=null,(t="startTime")in(e=this)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}start(){this.startTime=r()}end(){this.elapsedTime=Math.round(r()-(this.startTime||Date.now())),this.startTime=i?Math.round(this.startTime||Date.now()):null}getCompletedTime(){return this.elapsedTime}}},501338:(e,t,n)=>{n.d(t,{Z:()=>i});const i=80},512176:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),r=n(898781),o=n(112690),a=n(967181),s=n(883119),l=n(785893);const c={sm:12,md:16,lg:20,xl:24};function d({isVerifiedMerchant:e,size:t,showText:n,showVerifiedIdentity:d,inspirationalBadges:u,inspirationalBadgesColor:p}){const h=(0,r.ZP)(),[m,_]=(0,i.useState)(!1),{dangerousInlineStyle:g,iconColor:v}=(0,a.W)(!!e),f=(0,o.Z)();return(0,l.jsxs)(i.Fragment,{children:[(0,l.jsx)(s.iP,{onTap:()=>{f({component:13534,element:11717,event_type:102}),_(!0)},rounding:"circle",children:(0,l.jsxs)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:g,display:"flex","data-test-id":"verified-badge-icon",children:[(0,l.jsx)(s.JO,{accessibilityLabel:e?h._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'):h._('Badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),icon:"workflow-status-ok",color:v,inline:!0,size:c[t]}),n&&!d&&(0,l.jsx)(s.xu,{marginStart:2,children:(0,l.jsx)(s.xv,{color:"shopping",inline:!0,weight:"bold",children:(0,l.jsx)(s.xu,{dangerouslySetInlineStyle:g,children:h._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})})]})}),(e||n&&!d)&&(0,l.jsx)(a.Z,{showModal:m,setShowModal:_,inspirationalBadges:u,inspirationalBadgesColor:p})]})}},967181:(e,t,n)=>{n.d(t,{W:()=>u,Z:()=>p});var i=n(667294),r=n(121151),o=n(966113),a=n(898781),s=n(112690),l=n(752403),c=n(883119),d=n(785893);const u=e=>{const t=e?"shopping":"error";return{iconColor:t,dangerousInlineStyle:{__style:{color:t}}}};function p({inspirationalBadges:e=[],inspirationalBadgesColor:t,showModal:n,setShowModal:p}){const h=(0,a.ZP)(),[m,_]=(0,i.useState)(!0),{dangerousInlineStyle:g,iconColor:v}=u(!0),f=(0,s.Z)();return(0,i.useEffect)((()=>{n&&m&&(_(!1),f({event_type:13,component:13534}))}),[n]),(0,d.jsx)(r.ZP,{"data-test-id":"modal",isOpen:n,mobileAccessibilityCloseIconLabel:h._('Close', 'Close modal window', 'Close modal'),onDismiss:()=>{f({component:13534,element:11716,event_type:102}),p(!1)},type:"verified_merchant_modal",children:(0,d.jsx)(c.xu,{padding:3,children:(0,d.jsxs)(c.xu,{display:"flex",direction:"column",padding:2,"data-test-id":"verified-badge-modal",children:[(0,d.jsx)(c.xu,{display:"flex",dangerouslySetInlineStyle:g,justifyContent:"center",children:(0,d.jsx)(c.JO,{accessibilityLabel:h._('Merchant verification badge icon', 'creator.verifiedMerchant.modalIcon', 'Badge indicating that a merchant or user is verified'),color:v,icon:"workflow-status-ok",size:24})}),(0,d.jsx)(c.xu,{marginTop:4,children:(0,d.jsx)(c.xv,{color:"shopping",weight:"bold",align:"center",children:(0,d.jsx)(c.xu,{dangerouslySetInlineStyle:g,children:h._('Verified merchant', 'creator.verifiedMerchant.modalHeader', 'this merchant is a verified merchant')})})}),(0,d.jsx)(c.xu,{marginTop:4,marginBottom:4,children:(0,d.jsx)(c.xv,{align:"center",overflow:"normal",children:h._('This retailer meets Pinterest\'s Merchant Guidelines', 'creator.verifiedMerchant.modalText.', 'this merchant is a verified merchant')})}),e.map((e=>(0,d.jsxs)(c.xu,{display:"flex",direction:"column",marginTop:4,children:[(0,d.jsx)(c.kC,{alignItems:"stretch",justifyContent:"center",children:(0,d.jsx)(c.xv,{overflow:"noWrap",size:"100",weight:"bold",children:(0,d.jsx)(c.xu,{display:"inlineBlock",rounding:1,paddingX:2,paddingY:2,dangerouslySetInlineStyle:{__style:(0,l.ym)(t)},"data-test-id":"verified-badge-modal-inspirational-badge",children:e.label})})}),(0,d.jsx)(c.xu,{marginTop:2,children:(0,d.jsx)(c.xv,{align:"center",overflow:"normal",children:e.description})})]},e.id))),(0,d.jsx)(c.xu,{display:"flex",marginTop:8,justifyContent:"center",width:"100%","data-test-id":"verified-badge-modal-learn-more",children:(0,d.jsx)(c.zx,{role:"link",accessibilityLabel:h._('Learn more', 'creator.verifiedMerchant.buttonText', 'learn more about the verified merchant program by visiting help.pinterest.com'),target:"blank",size:"lg",href:o.Z.settings.HELP_SHOPPING_WITH_PINTEREST,text:h._('Learn more', 'creator.verifiedMerchant.buttonText', 'learn more about the verified merchant program by visiting help.pinterest.com')})})]})})})}},594881:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(172071),r=n(6637),o=n(202139);var a=n(983722),s=n(635240);var l=n(385740),c=n(30287),d=n(172045);const u=function(){const e=(0,a.Z)();if(null!=e&&e.isAuthenticated&&!function(){const e=window.location.pathname.startsWith("/email/subscription")||window.location.pathname.startsWith("/email/remove"),t=window.location.pathname.startsWith("/pin/create/"),n="/pin-builder/"===window.location.pathname&&/url=/.test(window.location.href),i=t||n,{userAgent:r}=(0,a.Z)()||{userAgent:{isMobile:!1,isTablet:!1}};return!(r.isMobile||r.isTablet)&&i||e}()){var t,n;const{viewType:a,viewParameter:u}=null!==(t=(0,l.BE)())&&void 0!==t?t:{},p=(0,c.FB)(window);!function(e,t){const n=r.Z.create("ActiveUserResource",e);let a=3e4;n.callCreate().catch((r=>{let s=r.message;if(s&&"object"==typeof s){s._t_message&&delete s._t_message;try{s=JSON.stringify(s)}catch(l){s="Unable to serialize error message"}}i.Z.increment("webapp.metrics.dau.errors",1,{message:s,browser:e.data.browser,error_code:r.api_error_code,is_auth:t}),setTimeout((()=>{a>o.UK||(a*=2,n.callCreate())}),a)}))}({data:{appVersion:(0,s.Z)(),auxData:{pwa_type:p&&"unknown"!==p?p:void 0,stage:null!==(n=e.stage)&&void 0!==n?n:"unknown"},browser:e.userAgent.browserType,clientUUID:(0,d.Z)(),event_type:7137,time:1e6*Date.now(),unauth_id:e.unauthId,view_type:a,view_parameter:u}},e.isAuthenticated)}}},619937:(e,t,n)=>{n.d(t,{$N:()=>w,GY:()=>f,MZ:()=>_,NR:()=>b,Vn:()=>y,fm:()=>i,kM:()=>o,q6:()=>r,qp:()=>v,uV:()=>x,vJ:()=>g});const i={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",RESOURCES:"RESOURCES"},r={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},o={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",DOCUMENTS:"DOCUMENTS"},a="Shopify",s="WordPress",l="WooCommerce",c="Weebly",d="Tealium",u="Magento",p="Squarespace",h="Ecwid",m="Bigcommerce",_={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce"},g={["Google Tag Manager"]:_.GOOGLE_TAG_MANAGER,[a]:_.SHOPIFY,[l]:_.WOO_COMMERCE,[s]:_.WORDPRESS,[p]:_.SQUARESPACE,[c]:_.WEEBLY,[d]:_.TEALIUM,[u]:_.MAGENTO,[h]:_.ECWID,[m]:_.BIG_COMMERCE},v={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_EVENTS:"PINTEREST_TAG_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_DEDUPLICATION:"CONVERSIONS_API_DEDUPLICATION",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",PINTEREST_EVENT_HISTORY:"PINTEREST_EVENT_HISTORY"},f={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},y={UNREAD:"UNREAD",READ:"READ",ACCEPTED:"ACCEPTED",REJECTED:"REJECTED",DISMISSED:"DISMISSED",INVALID:"INVALID",MUTED:"MUTED",SNOOZED:"SNOOZED",PMP_REPORTED:"PMP_REPORTED",EMAILED:"EMAILED",BULK_DOWNLOADED:"BULK_DOWNLOADED",FILTERED:"FILTERED",PUSHED:"PUSHED"},b={ATTRIBUTION_DESTINATION:"destination",ATTRIBUTION_EXPIRY:"expiry",ATTRIBUTION_SOURCE:"attributionsrc",ATTRIBUTION_SOURCE_EVENT_ID:"source_event_id"},x=604800,w={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"}},283698:(e,t,n)=>{function i(e){return"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"requestAnimationFrame")||e&&e(),window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{e&&e()}))}))}n.d(t,{Z:()=>i})},100183:(e,t,n)=>{n.d(t,{CC:()=>i,Ll:()=>o,XF:()=>r});const i=(e,t)=>((e,t,n)=>({x:Math.floor(e*Math.cos(n)),y:Math.floor(t*Math.sin(n))}))(t/2,e/2,2*Math.random()*Math.PI),r=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,o=e=>["@-webkit-keyframes","@keyframes"].map((t=>e.map((e=>t+" "+e)).join("\n"))).join("\n")},176532:(e,t,n)=>{function i({async:e,data:t,headers:n,timeout:i,type:r,updateProgress:o,url:a}){let s=!1;return{promise:new Promise(((o,l)=>{const c=i?setTimeout((()=>{s="timeout",l({type:"timeout"})}),i):void 0;fetch(a,{method:r,credentials:"include",mode:"same-origin",keepalive:!e,headers:n,...t?{body:t}:{}}).then((e=>{c&&clearTimeout(c),s?"timeout"!==s&&l({type:"abort"}):o({status:e.status,statusText:e.statusText,ok:e.status>=200&&e.status<300||304===e.status,headers:{get:t=>e.headers.get(t),_logString:()=>{const t=[];for(const[n,i]of e.headers.entries())t.push(`${n}: ${i}\r\n`);return t.join("")}},json:()=>e.json().then((e=>e instanceof Object?e:Promise.reject(new Error("JSON.parse did not return an object"))))})})).catch((()=>Promise.reject({type:"timeout"})))})),abort:()=>{s="manual"}}}n.d(t,{Z:()=>p});var r=n(635240);const o=(...e)=>{};function a({async:e,data:t,headers:n,timeout:i,type:r,updateProgress:a,url:s}){const l=new XMLHttpRequest;return{promise:new Promise(((c,d)=>{const u=i?setTimeout((()=>{l.onreadystatechange=o,l.abort(),d({type:"timeout"})}),i):void 0;l.onreadystatechange=()=>{if(4===l.readyState){l.onreadystatechange=o,clearTimeout(u);const e=l.status,t=l.statusText,n=l.responseText;if(!e)return void d({type:"abort"});c({status:e,statusText:t,ok:e>=200&&e<300||304===e,headers:{get:e=>l.getResponseHeader(e),_logString:()=>l.getAllResponseHeaders()},json:()=>new Promise(((e,t)=>{try{const i=JSON.parse(n);i instanceof Object?e(i):t(new Error("JSON.parse did not return an object"))}catch(i){t(i)}})),responseText:n})}},a&&l.upload.addEventListener("progress",(e=>{let t=null;e.lengthComputable&&(t=e.loaded/e.total*100),a(t)})),l.open(r,s,e),Object.keys(n).forEach((e=>{l.setRequestHeader(e,n[e])})),l.send(t||null)})),abort:()=>{l&&l.abort()}}}var s=n(42238),l=n.n(s);const c=e=>{if((e=>{const t=e.match(/\s+chrome\/(\d+)\./i);return!!t&&parseInt(t[1],10)>=79})(e))return!0;const{name:t="",version:n=""}=l()(e).browser,i=parseInt(n.replace(/\..*/,""),10)||0;return"chrome"===t.toLowerCase()&&i>=79};var d=n(826067),u=n(628551);function p(e){const t={async:!0,cache:!1,data:void 0,headers:{},query:{},timeout:0,type:"GET",...e};let{url:n,data:o}=t;const s=t.type;o&&"object"==typeof o&&("GET"===s?(n=(0,d.ru)(n,o),o=void 0):o instanceof FormData||(o=(0,d.XP)(o))),!1===t.cache&&"GET"===s&&(n=(0,d.ru)(n,{_:Date.now()}));const l=(0,u.needsCsrfToken)(s,n);if(l&&!(0,u.getCsrfToken)())return{promise:Promise.reject({type:"csrferror",message:"No csrf token found"}),abort:()=>{}};return(!t.async&&"keepalive"in new Request("")&&c(window.navigator.userAgent||"")?i:a)({...t,url:n,data:o,headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json, text/javascript, */*, q=0.01","X-APP-VERSION":(0,r.Z)(),..."GET"===s||!o||o instanceof FormData?{}:{"Content-Type":"application/x-www-form-urlencoded"},...l?{"X-CSRFToken":(0,u.getCsrfToken)()||""}:{},...t.headers}})}},613316:(e,t,n)=>{function i(e){return[0,24,21,26].includes(e)}function r({articleType:e,id:t,title:n}){const i=n.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\'"]/g,"").trim().replace(/\s+/g,"-");return"today"===e?`/today/shop/${i}/${t}/`:`/discover/article/${i}/${t}/`}n.d(t,{x:()=>r,y:()=>i})},366284:(e,t,n)=>{n.d(t,{G6:()=>o,i7:()=>a,oi:()=>i,u$:()=>r,un:()=>l,vU:()=>s});const i=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),r=e=>{switch(!0){case e.includes("Chrome"):return i.CHROME;case e.includes("Safari"):return i.SAFARI;case e.includes("Firefox"):return i.FIREFOX;case e.includes("Opera"):return i.OPERA;case e.includes("IE"):return i.IE;case e.includes("Edge"):return i.EDGE;default:return i.OTHER}};function o(e){return r(e)===i.SAFARI}function a(e){return r(e)===i.CHROME}function s(e){return r(e)===i.FIREFOX}function l(e){return r(e)===i.EDGE}},56641:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(567831),r=n(539497);function o(e,t){if(t&&!(()=>{try{return window.localStorage.test=2,!1}catch(e){return!0}})()){const t=window.open(e,"_blank");return t&&(t.opener=null),t}{const t=(0,i.Z)(e);return setTimeout((()=>{(0,r.My)("setting_new_window_location")}),0),window.location.href=t,window}}},126098:(e,t,n)=>{function i(){if("undefined"!=typeof navigator&&"serviceWorker"in navigator&&void 0!==navigator.serviceWorker&&"Notification"in window&&"PushManager"in window)try{return window.Notification.permission}catch(e){return}}n.d(t,{Z:()=>i})},436851:(e,t,n)=>{n.d(t,{$:()=>r,d:()=>i});const i=e=>/instagram/i.test(e||""),r=e=>(e||"").includes("[Pinterest/iOS]")||(e||"").includes("[Pinterest/Android]")},792182:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294),r=n(23279),o=n.n(r);function a(){const[e,t]=(0,i.useState)(null);return(0,i.useEffect)((()=>{const e=()=>t({width:window.innerWidth,height:window.innerHeight});e();const n=o()(e,50);return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)}),[]),e}},752403:(e,t,n)=>{n.d(t,{Bu:()=>f,Dm:()=>s,Fp:()=>m,I:()=>x,NG:()=>g,QP:()=>u,S4:()=>c,Xe:()=>p,_f:()=>v,eT:()=>y,hm:()=>b,k$:()=>h,lz:()=>_,st:()=>d,yQ:()=>l,ym:()=>S});var i=n(642345);const r=Object.freeze({AFRICAN_AMERICAN_OR_BLACK:"african_american_or_black",BLACK_AFRICAN_DIASPORA:"black_african_diaspora",HISPANIC_OR_LATINX:"hispanic_or_latinx",NATIVE_OR_INDIGENOUS:"native_or_indigenous",ABORIGINAL_OR_INDIGENOUS:"aboriginal_or_indigenous",NATIVE_AMERICAN_OR_ALASKA_NATIVE_OR_INDIGENOUS_PEOPLES:"native_american_or_alaska_native_or_indigenous_peoples",ASIAN_OR_PACIFIC_ISLANDERS:"asian_or_pacific_islanders",ASIAN:"asian",LGBTQ:"lgbtq",MIDDLE_EASTERN:"middle_eastern",TURKISH:"turkish",ROMA:"roma",MIDDLE_EASTERN_TURKISH_ROMA:"middle_eastern_turkish_roma",NORTH_AFRICAN:"north_african",MIDDLE_EASTERN_OR_NORTH_AFRICAN:"middle_eastern_or_north_african",NONE:"none"}),o=Object.freeze({PERSON_OF_COLOR:"person_of_color",LGBTQ:"lgbtq",DISABILITY:"disability",WOMAN:"woman",NONE:"none"}),a=Object.freeze({INVESTED_IN_GOOD:"invested_in_good",ECO_FRIENDLY:"eco_friendly",RESPONSIBLY_SOURCED:"responsibly_sourced",INCLUSIVE:"inclusive",PERSONAL_TOUCH:"personal_touch"}),s=[...Object.keys(r).map((e=>r[e])),...Object.keys(o).map((e=>o[e]))],l=[...Object.keys(a).map((e=>a[e]))],c=3,d=1,u=["#EFEFEF","#F8E3D1","#F6F1C1","#DDEEAF","#C9F2EE","#DBD5F4","#EFBCEE"],p={business_diversity_labels:[],created_at:"",disapproval_reasons:[],is_inspirational:!1,review_criteria:[],review_labels:[],updated_at:"",inspirational_badge_selection:{badgeColor:u[0],badgeOptOut:[]},is_eligible_for_storefront_badges:!1,badge_details:[],profile_badges:[]},h="storefront_inspirational_badges_web",m="storefront_inspirational_badges_colors",_="merchant_storefront_api_profile_badges",g="https://help.pinterest.com/article/merchant-details",v="https://help.pinterest.com/business/article/add-merchant-details-to-your-profile";function f({areBadgesEnabled:e,verifiedMerchant:t}){var n,i;const r=null==t?void 0:t.isVerifiedMerchant,o=null==t||null===(n=t.inspirational_signal)||void 0===n?void 0:n.is_inspirational,a=null==t||null===(i=t.inspirational_signal)||void 0===i?void 0:i.is_eligible_for_storefront_badges;return Boolean(e&&r&&o&&a)}function y(e){return e.badge_details?e.badge_details.map((e=>e.id)):[]}function b(e){return e.profile_badges||[]}function x(e,t,n){return t&&n?t.map((e=>n.find((t=>t.id===e.trim())))).filter(Boolean):[]}function w(e){const t=(0,i.oo)(e);if(!t)return"white";const[n,r,o]=t;return(0,i.DW)(n,r,o)<=i.I?"white":"black"}function S(e){const t=e||u[0];return{backgroundColor:t,color:w(t)}}},834911:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(835209),r=n(341732);function o({carouselData:e,images:t,richMetadata:n,richSummary:o,shouldUnifyImageSizes:a,additionalImages:s}){const l=(0,i.Z)({richPinData:n||o});return l&&s&&s.length>0?(0,r.Z)(null,s,e&&e.index,a,l.id):l&&l.additional_images&&l.additional_images.length>0?(0,r.Z)(t,l.additional_images,e&&e.index,a,l.id):e||void 0}},341732:(e,t,n)=>{n.d(t,{Z:()=>o});const i=["236x","474x","564x","736x"];function r(e){function t(e,{imageKey:t,height:n,width:i}){return e.images&&e.images[t]&&(e={...e,images:{...e.images,[t]:{...e.images[t],height:n,width:i}}}),e}const n=i.map((function(t){const n=Math.min(...e.map((e=>e.images&&e.images[t]&&e.images[t].height||1/0))),i=Math.min(...e.map((e=>e.images&&e.images[t]&&e.images[t].width||1/0)));return{imageKey:t,height:n,width:i}}));return e.map((e=>n.reduce(t,e)))}function o(e,t,n,i,o){const a=(null==t?void 0:t.map((({canonical_images:e,image_signature:t})=>({images:e||void 0,image_signature:t||void 0}))))||[],s=e?[{images:e},...a]:a;return{carousel_slots:i?r(s):s,index:n||0,id:o}}},768559:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(826067);const r=/\/today\/(article|best|trending)\/[\w-]+\/(\d+)/,o=/\/discover\/article\/[\w-]+\/(\d+)/,a=(e,t)=>t?e.substring(t.length).split("/")[0]:e,s=({boardUrl:e,callToCreateSourcePinId:t,path:n,pinId:s,pinnerUserName:l,query:c,search:d,storyPinDataId:u})=>{var p,h;if(!n)return"";let m="";switch(n){case"/":case"/homefeed/":return"UserHomefeedResource";case l&&`/${l}/pins/`:return"UserPinsResource";case l&&`/${l}/`:case/\/_activity\//.test(n)&&n:return"UserActivityPinsResource";case/\/_created\//.test(n)&&n:return u?"UserStoryPinsFeedResource":"UserActivityPinsResource";case/\/_community\//.test(n)&&n:return"UserDiscoveredPinsResource";case/\/_shop\//.test(n)&&n:return"StoreFrontFeedResource";case/\/_saved\//.test(n)&&n:return"BoardlessPinsResource";case l&&`/${l}/_shopping_list/`:return"ShoppingListFeedResource";case/\/visual-search\//.test(n)&&n:return"VisualLiveSearchResource";case/\/pin\//.test(n)&&n:m="/pin/";const _=a(n,m);if(s!==_)return t?`ApiResource_callToCreatePins_${_}`:`RelatedPinFeedResource_${_}`;break;case/\/search\//.test(n)&&n:if(d){return`SearchResource_${((0,i.mB)(d,{shouldDecode:!1}).q||"").toLowerCase()}`}if(c)return`SearchResource_${encodeURIComponent(c.q||"").toLowerCase()}`;break;case o.test(n)&&n:return`ExploreArticleResource_${(null===(p=n.match(o))||void 0===p?void 0:p[2])||"unknown"}`;case/\/discover\/article\//.test(n)&&n:m="/discover/article/";return`ExploreArticleResource_${a(n,m)}`;case/\/categories\//.test(n)&&n:m="/categories/";return`CategoryFeedResource_${a(n,m)}`;case/\/discover\/topics\//.test(n)&&n:return"CategoryFeedResource";case/\/news_hub\//.test(n)&&n:m="/news_hub/";return`NewsHubDetailsResource_${a(n,m)}`;case/\/_tools\/more-ideas\//.test(n)&&n:return"BoardContentRecommendationResource";case/\/topics\//.test(n)&&n:m="/topics/";return`TopicFeedResource_${a(n,m)}`;case l&&`/${l}/products/`:return"StoreFrontFeedResource";case/\/source\//.test(n)&&n:m="/source/";return`DomainFeedResource_${a(n,m)}`;case/\/explore\//.test(n)&&n:m="/explore/";return`SearchResource_${a(n,m)}`;case e:case!!e&&/\/more_ideas\//.test(n)&&n:return"BoardFeedResource";case e&&n.indexOf(e)>-1&&n:return"BoardSectionPinsResource";case/\/following\//.test(n)&&n:return"FollowingFeedResource";case/\/brand_catalog\//.test(n)&&n:return"BrandCatalogFeedResource";case r.test(n)&&n:return`TodayArticleFeedResource_${(null===(h=n.match(r))||void 0===h?void 0:h[2])||"unknown"}`;case/\/today\//.test(n):return"TodayTabResource";case/\story_feed\//.test(n)&&n:if(d){const{feed_type:e,request_params:t}=(0,i.mB)(d);return`StoryFeedResource_${e}_${t}`}break;case/\/your-shop\//.test(n)&&n:return"PersonalBoutiqueResource"}return""},l=({boardUrl:e,callToCreateSourcePinId:t,location:n,pinId:i,pinnerUserName:r,previousHistory:o,storyPinDataId:a,trackingParams:l,trackingParamsMap:c={}})=>{if(!i||!l||!n)return;if(!c)return`${l}~0`;const{pathname:d,search:u,query:p}=n,h=s({boardUrl:e,callToCreateSourcePinId:t,path:d,pinId:i,pinnerUserName:r,query:p,search:u,storyPinDataId:a,trackingParams:l,trackingParamsMap:c}),m=Object.keys(c);let _;if((d||"").startsWith("/pin/")){const e=m.find((e=>"PinResource"!==e));_=e?c[e]:c.PinResource}else _=c[h];let g;if(!_&&o&&o.length){const n=(e=>{let t=null==e?void 0:e.pathname;return t?(t.match(/\/search\//)&&null!=e&&e.search&&(t+=e.search),t.toLowerCase()):""})(o[o.length-1].location);g=s({boardUrl:e,callToCreateSourcePinId:t,path:n,pinId:i,pinnerUserName:r,query:p,search:u,storyPinDataId:a,trackingParams:l,trackingParamsMap:c}),_=c[g]}return _||(_=`${l||""}~0`),_}},642345:(e,t,n)=>{n.d(t,{DW:()=>s,I:()=>a,oo:()=>o,vq:()=>r});const i=e=>{const t=e.toString(16);return 1===t.length?"0"+t:t},r=(e,t,n)=>"#"+i(e)+i(t)+i(n),o=e=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},a=.18,s=(e,t,n)=>.2126*(e/255)**2.2+.7151*(t/255)**2.2+.0721*(n/255)**2.2},328531:(e,t,n)=>{function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>r});const r=new class{constructor(){var e=this;i(this,"startInactiveSessionTimeout",(()=>{this.inactiveSessionTimeout=setTimeout(this.stopInterval,36e5)})),i(this,"startInterval",(()=>{this.interval=setInterval(this.refreshContext,3e5)})),i(this,"onResourceResponse",(()=>{this.stopInactiveSessionTimeout(),this.interval||(this.refreshContext(),this.startInterval()),this.startInactiveSessionTimeout()})),i(this,"stopInactiveSessionTimeout",(()=>{this.inactiveSessionTimeout&&(clearTimeout(this.inactiveSessionTimeout),this.inactiveSessionTimeout=null)})),i(this,"stopInterval",(()=>{this.interval&&(clearInterval(this.interval),this.interval=null)})),i(this,"onRateLimit",(()=>{this.stopInterval(),this.stopInactiveSessionTimeout(),this.interval=setInterval(this.refreshContext,36e5)})),i(this,"refreshContext",(async function(){try{const t=await fetch("/_/_/context/");if(200===t.status&&e.setContext){const n=await t.json();e.setContext(n)}else 501===t.status&&e.onRateLimit()}catch(t){}}))}init({setContext:e}){this.setContext=e,this.startInactiveSessionTimeout(),this.startInterval()}}},81636:(e,t,n)=>{n.d(t,{Q:()=>c,Z:()=>d});var i=n(667294),r=n(682492),o=n.n(r),a=n(112690),s=n(780280),l=n(385740);function c(e,t){const{setViewContextData:n}=(0,l.sV)(),{requestIdentifier:r}=(0,s.B)(),c=(0,a.Z)(),{viewData:d}=(0,l.SU)();(0,i.useEffect)((()=>{var t;e&&(n({viewType:null!==(t=e.view_type)&&void 0!==t?t:1,viewParameter:e.view_parameter,viewData:e.view_data?o()(d,e.view_data):o()({},d),component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),c({...e,event_type:13,request_identifier:r}))}),[t])}function d(e){const{children:t,log:n}=e;return c(n),t||null}},407043:(e,t,n)=>{n.d(t,{B:()=>l,v:()=>s});var i=n(385740),r=n(425288),o=n(785893);const{Provider:a,useHook:s}=(0,r.Z)("ContextLogger");function l({children:e,value:t}){const{setViewContextData:n}=(0,i.sV)();return t.injectSetViewContextDataFromHook=n,(0,o.jsx)(a,{value:t,children:e})}},745760:(e,t,n)=>{n.d(t,{Ch:()=>h,nc:()=>w,a:()=>S,ZP:()=>P,cA:()=>b,li:()=>x,h1:()=>u});var i=n(983722);var r=n(682492),o=n.n(r),a=n(6637),s=n(594881),l=n(706922);var c=n(385740),d=n(172045);const u=()=>1e6*Date.now(),p=[6945],h={3829:"articleImpressions",18:"pinImpressions",3700:"boardImpressions",3803:"searchImpressions",170:"storyImpressions",3704:"userImpressions"},m=[4700,4701,4702,4703,7042,7043],_=e=>function(e){let t=e.length;for(let n=e.length-1;n>=0;n-=1){const i=e.charCodeAt(n);i>127&&i<=2047?t+=1:i>2047&&i<=65535&&(t+=2),i>=56320&&i<=57343&&(n-=1)}return t}(JSON.stringify(e)),g=e=>p.includes(e);let v;function f(){const e=new Date;v?v&&v.getUTCDate()!==e.getUTCDate()&&(v=e,(0,s.Z)()):v=e}function y(e){const t=(0,i.Z)(),{checkExperiment:n}=(t||{}).experimentsClient||{},r="function"==typeof n&&n("web_mweb_story_impression_fix").anyEnabled;return r&&(p.push(170),h[170]="storyImpression"),e.reduce(((e,t)=>{const n=e.find((i=t,e=>e.view_type===i.viewType&&e.view_parameter===i.viewParameter&&e.event_type===i.eventType&&e.object_id_str===i.objectIdStr&&(0,l.Z)(e.view_data,i.viewData)));var i;if(n&&!g(t.eventType))t.impressionType in n.event_data?n.event_data[t.impressionType].push(t.eventData):n.event_data[t.impressionType]=[t.eventData];else{const n={event_type:t.eventType,view_parameter:t.viewParameter,view_type:t.viewType,view_data:t.viewData,time:u(),component:t.component,clientUUID:(0,d.Z)(),aux_data:t.auxData||{},event_data:{[t.impressionType]:g(t.eventType)?r?{...t.eventData,...(t.eventData||{})[t.impressionType]}:t.eventData:[t.eventData]},object_id_str:t.objectIdStr||void 0};e.push(n)}return e}),[])}const b=e=>{const t=e.event_type,n=m.includes(t),i=(0,c.BE)();return!(!n&&13!==t&&!i)},x=(e,t)=>{const n=e.event_type,i=m.includes(n),r=(0,c.BE)();return i?e:13===n&&e.view_type?(null==t||t({viewType:e.view_type,viewParameter:e.view_parameter,viewData:null!=r&&r.viewData?o()(r.viewData,e.view_data):o()({},e.view_data)}),e):!r||e.view_type&&e.view_parameter?e:{...e,view_type:r.viewType,view_parameter:r.viewParameter,view_data:e.view_data?o()(e.view_data,r.viewData):o()({},r.viewData)}},w=(e,t)=>{var n,i;const r=e.component,o=e.object_id_str,a=e.view_type,s=e.event_type;return null!==(n=((null===(i=e.event_data)||void 0===i?void 0:i[t])||[]).map((n=>({auxData:e.aux_data,...r?{component:r}:{},eventData:n,...s?{eventType:s}:{},...a?{viewType:a}:{},viewData:e.view_data,viewParameter:e.view_parameter,...o?{objectIdStr:o}:null,impressionType:t}))))&&void 0!==n?n:[]},S=(e,t)=>({...e.component?{component:e.component}:{},...e.object_id_str?{objectIdStr:e.object_id_str}:null,...e.view_type?{viewType:e.view_type}:{},eventType:e.event_type,auxData:e.aux_data,impressionType:t,viewData:e.view_data,viewParameter:e.view_parameter,eventData:e.event_data});function P(){let e=[],t=[],n=0;function i(){return[...e,...y(t)]}function r(){e=[],t=[],n=0}function o(e=!1){const t=i();t.length&&(a.Z.create("ContextLogResource",{events:t,report_time:u()}).callCreate({async:!e,showError:!1}),r(),f())}return{flushContextEvents:o,getContextEvents:i,logContextEvent:function({object_id_str:t,...i}){const r={aux_data:{},event_data:{},view_data:{},...i,time:u(),clientUUID:(0,d.Z)(),...t?{object_id_str:t}:null};r.aux_data=function(e){if(!e)return e;const{element:t,eventData:n,component:i,objectId:r,view:o,viewParameter:a,viewData:s,durationNs:l,pairId:c,clientTrackingParams:d,...u}=e;return u}(r.aux_data),n+_(r)>20480&&o(!1),e.push(r),f()},logImpression:function(e){n+_(e)>20480&&o(!1),t.push(e)},resetEventsBuffer:r}}},112690:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(407043);const r=()=>(0,i.v)().logContextEvent},385740:(e,t,n)=>{n.d(t,{BE:()=>c,Ih:()=>d,SU:()=>u,sV:()=>s});var i=n(667294),r=n(425288),o=n(785893);const{Provider:a,useHook:s}=(0,r.Z)("View");let l;function c(){return l}function d({children:e,initialState:t={}}){const[n,r]=(0,i.useState)(t),s=(0,i.useCallback)((()=>{l={},r({})}),[]),c=(0,i.useCallback)((e=>{l={...l,...e},r((t=>({...t,...e})))}),[]),d=(0,i.useMemo)((()=>({viewContextData:n,clearViewContextData:s,setViewContextData:c})),[n,c,s]);return(0,o.jsx)(i.Fragment,{children:(0,o.jsx)(a,{value:d,children:e})})}function u(){const{viewContextData:e}=s();return e}},798748:(e,t,n)=>{n.d(t,{sw:()=>c,_I:()=>d,tb:()=>h,jD:()=>p});var i=n(966113),r=n(226198);const o=[r.EI,r.SJ,r.KU,r.Ek,r.wV,r.ZQ,r.pI,r.pp,r.fs,r.GY,r.hx,r.tv,r.jh,r.x_,r.Ck,r.L9,r.fS,r.rc,r.e7,r.x2,r.nE,r.qN,r.ZO,r.B_,r.Mq,r.Z_,r.$E,r.Q1,r.x3,r.sy,r.It,r.IV,r.eB,r.Gl,r.oj,r.ls,r.hq,/^offsite_\d+$/,/^SSESS[a-z0-9]+/],a={marketing:[r.WL,r.k5,r.BN,r.cb,r.We],analytic:[r.MO,r.tg,r.JD,r.Mw,r.uq,r.o7,r.su,r.eG,r.th,r.VL,r.aq,/^ajs_$/,/^pinAlert.*$/],personalization:[r.T7,r.t0]};function s(e,t){return t.some((t=>t instanceof RegExp?t.test(e):t.name===e))}function l(e,t,n=!1){return s(e,t)||n&&"unknown"===function(e){const t=["marketing","analytic","personalization"];for(const n of t)if(s(e,a[n]))return n;return s(e,o)?"essential":"unknown"}(e)}const c=new Set(i.Z.settings.EU_COUNTRIES_2020_COOKIE_POLICY),d=i.Z.settings.POLICY_COOKIE_URL;let u=()=>[];function p(e,t){u=()=>{const n=e(),i=t(),r=n.isAuth?n.country:"";if(!(c.has(r)||c.has(i.countryFromIp||"")||c.has(i.countryFromHostName||"")))return[];return["allow_marketing_cookies","allow_analytic_cookies","allow_personalization_cookies"].filter((e=>n.isAuth&&!0!==n[e])).map((e=>{switch(e){case"allow_marketing_cookies":return"marketing";case"allow_analytic_cookies":return"analytic";case"allow_personalization_cookies":return"personalization";default:throw new Error("Unexpected cookie category to block")}}))}}function h(e){return l(e,function(e=[]){return e.reduce(((e,t)=>e.concat(a[t])),[])}(u()))}},231486:(e,t,n)=>{n.d(t,{U2:()=>a,kZ:()=>s,t8:()=>d,zN:()=>u});var i=n(172071),r=n(798748);function o(e){if("undefined"==typeof document)return null;const t=document.cookie.match(new RegExp("\\b"+e+"=.+?($|;)","g"));return t&&t[0]&&unescape(t[0].substring(e.length+1,t[0].length).replace(";",""))||null}function a(e){return o(e.name)}function s(e){const t=1/60;switch(e.duration){case"session":return;case"30s":return.008333333333333333;case"1m":return 1*t;case"5m":return 5*t;case"12h":return 12;case"1d":return 24;case"30d":return 720;case"180d":return 4320;case"1y":return 8760;case"sessionCookie":throw new Error("Cannot set duration to sessionCookie in client");default:throw new Error(`Invalid cookie duration ${String(e.duration)}`)}}const l=e=>String(e).replace(/[^0-9a-zA-Z_-]+/g,"_");function c(e,t,n){if((0,r.tb)(e)){let t=!1;if(o(e)){const n=[`${e}=`,"path=/",`expires=${new Date(0).toUTCString()}`].join(";");document.cookie=n,t=!o(e)}return i.Z.increment("webapp.cookies.blocked.client",.01,{cookieName:l(e),deleted:t}),document.cookie}const a=[e+"="+escape(t),"path=/"],s=function(e){if(isNaN(parseInt(e,10)))return"";{const t=new Date;return t.setTime(Date.now()+60*parseInt(e,10)*60*1e3),t.toUTCString()}}(n);return s&&a.push("expires="+s),a.push("secure"),document.cookie=a.join("; "),i.Z.increment("webapp.cookies.set.client",1e-4,{cookieName:l(e)}),document.cookie}function d(e,t,n){return c(e.name,t,n)}const u=e=>{o(e)&&c(e,"",-100)}},226198:(e,t,n)=>{n.d(t,{$E:()=>A,BN:()=>H,B_:()=>T,Ck:()=>g,EI:()=>i,Ek:()=>L,GS:()=>se,GY:()=>u,Gl:()=>U,IV:()=>N,It:()=>O,JD:()=>C,KU:()=>o,L9:()=>v,MO:()=>G,Mq:()=>E,Mw:()=>$,Q1:()=>k,SJ:()=>r,T7:()=>ne,VL:()=>ee,WL:()=>Z,We:()=>W,Xh:()=>re,ZO:()=>P,ZQ:()=>s,Z_:()=>I,aq:()=>te,cb:()=>V,e7:()=>K,eB:()=>M,eF:()=>ae,eG:()=>J,fS:()=>f,fs:()=>d,hq:()=>j,hx:()=>p,jh:()=>m,k5:()=>B,lq:()=>oe,ls:()=>z,nE:()=>w,o7:()=>Y,oj:()=>F,pI:()=>l,pp:()=>c,qN:()=>S,rc:()=>y,su:()=>X,sy:()=>D,t0:()=>ie,tg:()=>R,th:()=>Q,tv:()=>h,uq:()=>q,wV:()=>a,x2:()=>x,x3:()=>b,x_:()=>_});const i={name:"_auth",purpose:"essential",httpOnly:!0,provenance:"1p",duration:"sessionCookie"},r={name:"_b",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},o={name:"_pinterest_access_token",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},a={name:"_routing_id",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},s={name:"_ss_al",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},l={name:"_ss_at",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},c={name:"_ss_auth",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},d={name:"_ss_country_code",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},u={name:"_ss_la",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},p={name:"_ss_li",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},h={name:"_ss_lo",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},m={name:"_ss_na",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},_={name:"_ss_u",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},g={name:"AUTHSSL",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},v={name:"cm_sub",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"1y"},f={name:"csrftoken",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"1y"},y={name:"daa",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},b={name:"logged_out",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},x={name:"fbalae",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"12h"},w={name:"force_default_pinner_experience",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},S={name:"forced_experiments",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},P={name:"forced_no_experiments",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},T={name:"G_ENABLED_IDPS",purpose:"essential",httpOnly:!1,provenance:"3p",duration:"session"},E={name:"galae",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"12h"},I={name:"hasBeenShownLoginModalInOpen",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"12h"},A={name:"is_in_integration_tests",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},k={name:"languageIsDetected",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},C={name:"_pinterest_referral_source",purpose:"analytic",httpOnly:!1,provenance:"1p",duration:"5m"},R={name:"_pinterest_referrer",purpose:"analytic",httpOnly:!1,provenance:"1p",duration:"5m"},L={name:"_pinterest_sess",purpose:"essential",httpOnly:!0,provenance:"1p",duration:"sessionCookie"},j={name:"_pinterest_sos",purpose:"essential",httpOnly:!0,provenance:"1p",duration:"1d"},D={name:"ls",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},O={name:"r_r",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"180d"},N={name:"SimpleSAMLAuthToken",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},M={name:"SimpleSAMLSessionID",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},U={name:"ss",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},F={name:"tr_rdrct",purpose:"essential",httpOnly:!1,provenance:"unknown",duration:"1y"},z={name:"unauthLocale",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"},Z={name:"_derived_epik",purpose:"marketing",httpOnly:!1,provenance:"1p",duration:"session"},B={name:"_epik",purpose:"marketing",httpOnly:!1,provenance:"1p",duration:"session"},H={name:"_pinterest_ct",purpose:"marketing",httpOnly:!1,provenance:"1p",duration:"session"},V={name:"_pinterest_ct_rt",purpose:"marketing",httpOnly:!1,provenance:"1p",duration:"session"},W={name:"_pinterest_ct_ua",purpose:"marketing",httpOnly:!1,provenance:"1p",duration:"session"},G={name:"_pinterest_cm",purpose:"analytic",httpOnly:!1,provenance:"1p",duration:"session"},$={name:"_sd_redirect",purpose:"analytic",httpOnly:!1,provenance:"1p",duration:"30s"},K={name:"fba",purpose:"essential",httpOnly:!1,provenance:"1p",duration:"30d"},q={name:"ajs_anonymous_id",purpose:"analytic",httpOnly:!1,provenance:"3p",duration:"session"},Y={name:"ajs_group_id",purpose:"analytic",httpOnly:!1,provenance:"3p",duration:"session"},X={name:"ajs_user_id",purpose:"analytic",httpOnly:!1,provenance:"3p",duration:"session"},J={name:"amp-access",purpose:"analytic",httpOnly:!1,provenance:"1p",duration:"session"},Q={name:"amp-experiment",purpose:"analytic",httpOnly:!1,provenance:"1p",duration:"session"},ee={name:"sessionFunnelEventLogged",purpose:"analytic",httpOnly:!1,provenance:"1p",duration:"12h"},te={name:"session_internal",purpose:"analytic",httpOnly:!1,provenance:"1p",duration:"session"},ne={name:"attemptToClaimWebsite",purpose:"personalization",httpOnly:!1,provenance:"1p",duration:"1d"},ie={name:"bxn",purpose:"personalization",httpOnly:!1,provenance:"1p",duration:"session"},re={name:"ujr",purpose:"unknown",httpOnly:!1,provenance:"1p",duration:"session"},oe={name:"BearerToken",purpose:"unknown",httpOnly:!1,provenance:"unknown",duration:"session"},ae={name:"sterling_save_preferences",purpose:"unknown",httpOnly:!1,provenance:"1p",duration:"session"};function se(e){return{name:`offsite_${e}`,purpose:"essential",httpOnly:!1,provenance:"1p",duration:"session"}}},425288:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294),r=n(785893);function o(e,t){let n=e.slice(1);if(n=n.endsWith("Context")?n:`${n}Context`,t){return{hocDisplayName:`with${e[0].toUpperCase()}${n}(${t})`}}return{propsDisplayName:`${e[0].toLowerCase()}${n}`,messageDisplayName:`${e[0].toUpperCase()}${n}`}}function a(e,t){const n=(0,i.createContext)(t),{propsDisplayName:a,messageDisplayName:s}=o(e);n.displayName=s;const l=n.Provider,c=({children:e})=>{const t=(0,i.useContext)(n);if(void 0===t)throw new Error(`${s}Consumer must be used within a ${s}Provider.`);return e(t)},d=()=>(0,i.useContext)(n);function u(t){const{hocDisplayName:n}=o(e,String(t.displayName||t.name)),i=e=>(0,r.jsx)(c,{children:i=>{if(void 0===i)throw new Error(`${n} must be used within a ${s}Provider.`);if(e[a])throw new Error("Parent Component and Context are passing to the component the same variables.");const o={[a]:i};return(0,r.jsx)(t,{...e,...o})}});return i.displayName=n,i}return l.displayName=`${s}Provider`,c.displayName=`${s}Consumer`,u.displayName=`${s}HOC`,{Provider:l,Consumer:c,MaybeConsumer:({children:e})=>e((0,i.useContext)(n)),useMaybeHook:d,useHook:function(){const e=d();if(void 0===e)throw new Error(`use${s} must be used within a ${s}Provider.`);return e},deprecatedHOC:u}}},643010:(e,t,n)=>{n.d(t,{F6:()=>c,Hs:()=>l,Uf:()=>o,Yc:()=>s});var i=n(539497),r=n(957161);const o="theme",a="dark"===(0,r.qn)(o),s=()=>a,l=()=>{(0,r.Nh)(o,"dark"),(0,i.My)("mweb.dark_mode.enable"),window.location.reload()},c=()=>{(0,r.L_)(o),(0,i.My)("mweb.dark_mode.disable"),window.location.reload()}},202139:(e,t,n)=>{n.d(t,{DH:()=>i,F4:()=>a,FS:()=>r,N1:()=>d,N9:()=>l,UK:()=>o,VL:()=>s,v6:()=>c});const i=1e3,r=60*i,o=60*r,a=24*o,s=7*a,l=30*a,c=31*a,d=365*a},81226:(e,t,n)=>{function i(e){const t=Math.round(e/1e3),n=t%60;return Math.floor(t/60)+":"+(n<10?"0":"")+n}n.d(t,{Z:()=>i})},816068:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>Math.floor(new Date(e).getTime()/1e3)},766935:(e,t,n)=>{function i(e,t){let n;return(...i)=>{clearTimeout(n),n=setTimeout((()=>e(...i)),t)}}n.d(t,{Z:()=>i})},966476:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294);const r=()=>{const[e,t]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{t(!0)}),[]),e}},722767:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),r=n(973935);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a extends i.Component{constructor(...e){super(...e),o(this,"observer",null),o(this,"handleVisibilityChanged",((e,t)=>{this.props.onVisibilityChange(e,t)}))}componentDidMount(){const e=r.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return i.Children.only(this.props.children)}}const s=a},780679:(e,t,n)=>{n.d(t,{g:()=>a,t:()=>o});var i=n(667294);const r=(0,i.createContext)(null),o=r.Provider,a=()=>(0,i.useContext)(r)},903095:(e,t,n)=>{n.d(t,{Mi:()=>r,lO:()=>o});var i=n(425288);const{Provider:r,useMaybeHook:o}=(0,i.Z)("pageContext")},375571:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),r=n(172071),o=n(395164);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends i.Component{constructor(...e){super(...e),a(this,"state",{error:null,info:null}),a(this,"resetError",(()=>{this.setState({error:null,info:null})}))}componentDidCatch(e,t){try{var n;const t=this.props.name,i=this.props.type||"secondary";(0,o.T)({extraData:null!==(n=e.extraData)&&void 0!==n?n:{},errorBoundary:t,errorBoundaryType:i,message:e.message,name:e.name,stack:e.stack}),r.Z.increment("react.error_boundary",.1,{component:void 0,name:this.props.name})}catch(i){r.Z.increment("react.error_boundary.error",1,{name:this.props.name})}this.setState({error:e,info:t})}render(){const{renderErrorState:e}=this.props,{error:t,info:n}=this.state;return t&&n?e?e({error:t,info:n,resetError:this.resetError}):null:this.props.children}}},319915:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n(375571).Z},121093:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),r=n(702664),o=n(332611),a=n(242923);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.Component{constructor(...e){super(...e),s(this,"state",{hasCompleted:[],hasDismissed:[]}),s(this,"view",(()=>{const{experience:e,isBackendExperience:t,targeting:n,viewExperience:i,viewExperienceObject:r}=this.props;e&&"viewed"!==e.status&&(t?(e.status="viewed",r(e)):n?i(e.placement_id,e.experience_id,n):i(e.placement_id,e.experience_id))})),s(this,"complete",(e=>{const{completeExperience:t,completeExperienceObject:n,experience:i,isBackendExperience:r,preventRemoval:o,targeting:a}=this.props,s=e||1;if(i&&!this.state.hasCompleted.includes(i.experience_id)){const{placement_id:e,experience_id:l}=i||{},c=o||2===s;(1===s||c)&&e&&l&&(r?n(i,c):a?t(e,l,c,a):t(e,l,c),this.setState((e=>({hasCompleted:[...e.hasCompleted,l]}))))}})),s(this,"dismiss",(()=>{const{dismissExperience:e,dismissExperienceObject:t,experience:n,isBackendExperience:i,preventRemoval:r,targeting:o}=this.props,{placement_id:a,experience_id:s}=n||{};n&&!this.state.hasDismissed.includes(s)&&(i?t(n):o?e(a,s,!!r,o):e(a,s,!!r),this.setState((e=>({hasDismissed:[...e.hasDismissed,s]}))))})),s(this,"shouldRenderExperience",(()=>{const{experience:e}=this.props;if(e){const{eligibleIds:t,eligibleTypes:n,predicate:i,transitionType:r}=this.props,{experience_id:o,type:a}=e;if(t&&t.includes(o))return!0;if(null==t||!t.length){if(i&&i(e))return!0;if(n&&n.includes(a))return!0;if(r&&r===a)return!0}}return!1}))}componentDidMount(){if(this.props.disableAutoView)return;const{experience:e}=this.props;e&&this.shouldRenderExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;const t=e.experience,n=this.props.experience;n&&this.shouldRenderExperience()&&(t&&t.experience_id===n.experience_id||this.view())}render(){const{children:e,experience:t,disableAutoView:n}=this.props;return t&&this.shouldRenderExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...n?{view:this.view}:Object.freeze({})}):i.Children.only(e):null}}s(l,"defaultProps",{eligibleIds:[],eligibleTypes:[]});const c=(0,r.connect)((({experiences:e},t)=>({experience:t.experience||(t.placementId?e[t.placementId]:void 0)})),(e=>({completeExperience:(t,n,i,r)=>e((0,o.CK)(t,n,i,!1,{},r)),completeExperienceObject:(t,n)=>e((0,a.Tl)(t,n)),dismissExperience:(t,n,i,r)=>e((0,o.Qu)(t,n,i,void 0,r)),dismissExperienceObject:t=>e((0,a.CF)(t)),viewExperience:(t,n,i)=>e((0,o.UT)(t,n,!1,!1,void 0,i)),viewExperienceObject:t=>e((0,a.dy)(t))})))(l)},333312:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var i=n(667294),r=n(121093),o=n(570470),a=n(883119),s=n(785893);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.PureComponent{constructor(...e){super(...e),l(this,"onScroll",(()=>{const{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout((()=>{e(),this.dismissed=!0,this.timer=void 0}),3e3))})),l(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){const{anchor:e,text:t,thumbnails:n,idealDirection:i}=this.props,r=n.slice(-3);return(0,s.jsx)(a.J2,{anchor:e,color:"white",idealDirection:i,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,s.jsxs)(a.xu,{display:"flex",alignContent:"center",justifyContent:"between",padding:3,width:"100%",children:[(0,s.jsx)(a.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,s.jsx)(a.xv,{color:"default",weight:"bold",children:t})}),(0,s.jsx)(a.xu,{display:"flex",marginEnd:-2,paddingX:2,children:r.map((e=>(0,s.jsx)(a.xu,{height:60,width:50,paddingX:1,children:(0,s.jsx)(a.zd,{rounding:2,height:60,children:(0,s.jsx)(a.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e)))})]})})}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),d(this,"state",{paused:!1}),d(this,"handlePulsarClick",((e,t)=>{e?this.setState({paused:!0}):t()}))}componentWillUnmount(){clearTimeout(this.timer)}setDefaultPulsarTooltip(e){const t=e=>!(null==e);e.has_pulsar=!t(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!t(e.has_tooltip)||e.has_tooltip}getText(e,t,n){return t&&e.text.replace("{boardName}",t),n?n(e):e.text}render(){const{anchor:e,customWrapper:t,experienceIds:n,boardTextOverride:l,flyoutSize:d,fontSize:u,hasFullWidthButton:p=!0,idealDirection:h,useMasonryFlyout:m,noClickToDismiss:_,onClickComplete:g,onClickDismiss:v,placementId:f,positionRelativeToAnchor:y,shouldTimeoutDismiss:b,showCaret:x,textAlign:w,textOverflow:S,textOverrideFn:P,textWeight:T,customizedComplete:E,pulsarZIndex:I}=this.props,A=t||(({children:e})=>m?(0,s.jsx)(a.mh,{children:e}):e),k="blue";return(0,s.jsx)(r.Z,{eligibleIds:n,placementId:f,eligibleTypes:[8],children:({complete:t,dismiss:n,experience:r})=>{const{display_data:f}=r;if(this.setDefaultPulsarTooltip(f),!f.has_pulsar&&!f.has_tooltip)return t(),null;b&&f.disappearTime&&f.disappearTime>0&&(this.timer=setTimeout((()=>(n(),null)),f.disappearTime));const C=501041===r.experience_id||505086===r.experience_id||503221===r.experience_id;return(0,s.jsxs)(i.Fragment,{children:[f.has_pulsar&&(0,s.jsx)(o.Z,{anchor:e,leftOverride:C?342:void 0,onTouch:()=>this.handlePulsarClick(f.has_tooltip,t),paused:this.state.paused,topOverride:C?-5:void 0,zIndex:I&&I.index()}),f.has_tooltip&&(!f.has_pulsar||this.state.paused)&&(f.thumbnail_urls?(0,s.jsx)(c,{anchor:e,dismiss:n,idealDirection:h||"down",text:f.text,thumbnails:f.thumbnail_urls}):(0,s.jsx)(A,{children:(0,s.jsx)(a.J2,{anchor:e,color:k,idealDirection:h||"down",onDismiss:_?()=>{}:n,positionRelativeToAnchor:!m&&y,shouldFocus:!1,showCaret:x,size:d,children:(0,s.jsxs)(a.xu,{column:12,padding:3,children:[(0,s.jsxs)(a.xv,{align:"right"===w?"end":w,color:"inverse",overflow:S,size:u,weight:T||"bold",children:[this.getText(f,l,P),f.secondary_cta_link&&(0,s.jsx)(a.xu,{display:"inlineBlock",marginStart:1,children:(0,s.jsx)(a.xv,{size:u,weight:"bold",color:"inverse",children:(0,s.jsx)(a.rU,{inline:!0,target:"blank",href:f.secondary_cta_link.url,underline:"hover",children:f.secondary_cta_link.text})})})]}),f.sub_text&&(0,s.jsx)(a.xu,{paddingY:2,children:(0,s.jsx)(a.xv,{color:"inverse",size:u,children:f.sub_text})}),(f.dismiss_button_text||f.complete_button_text)&&(0,s.jsxs)(a.xu,{display:"flex",alignItems:"center",marginTop:2,children:[f.dismiss_button_text&&(0,s.jsx)(a.xu,{marginEnd:1,column:6,children:(0,s.jsx)(a.zx,{fullWidth:p,color:k,onClick:()=>{v&&v(),n()},size:"md",text:f.dismiss_button_text})}),f.complete_button_text&&(0,s.jsx)(a.xu,{column:f.dismiss_button_text?6:12,children:E?(0,s.jsx)(a.iP,{fullHeight:!0,onTap:()=>{t(),g&&g()},rounding:2,children:(0,s.jsx)(a.xu,{display:"flex",color:"default",padding:2,rounding:2,justifyContent:"center",dangerouslySetInlineStyle:{__style:{padding:"10px"}},children:(0,s.jsx)(a.xv,{color:"shopping",weight:"bold",children:f.complete_button_text})})}):(0,s.jsx)(a.kC,{justifyContent:"center",children:(0,s.jsx)(a.zx,{fullWidth:p,color:"white",href:f.complete_button_cta_url,role:f.complete_button_cta_url?"link":"button",size:"md",target:f.complete_button_cta_url?"blank":null,text:f.complete_button_text,onClick:({event:e})=>{e.preventDefault(),e.stopPropagation(),t(),g&&g()}})})})]})]})})}))]})}})}}d(u,"defaultProps",{fontSize:"300",positionRelativeToAnchor:!0})},332611:(e,t,n)=>{n.d(t,{CK:()=>p,N:()=>v,Qu:()=>h,UT:()=>u,YX:()=>g,d9:()=>m,fO:()=>l,kd:()=>_,pz:()=>c});var i=n(6637),r=n(764990),o=n(172071),a=n(957191);let s;const l=(e,t)=>n=>{const r=t?{extra_context:e,targeting:t}:{extra_context:e};return i.Z.create("UserExperiencePlatformResource",r).callGet().then((e=>e.resource_response?n((0,a.OD)(e.resource_response.data)):void 0))},c=(e,t,n,o)=>(l,c)=>{if(t)return Promise.resolve();if(o&&(s=o),1===e.length){const t=e[0],i=c().experiences[t],o=(null==i?void 0:i.extraContext)||null;if(JSON.stringify(o)===JSON.stringify(n)||(0,r.E3)(i)&&!(n&&Object.keys(n).length>0))return Promise.resolve()}return i.Z.create("UserExperienceResource",{placement_ids:e,extra_context:n||null,targeting:o}).callGet().then((e=>e.resource_response?l((0,a.cL)(e.resource_response.data)):void 0))},d=(e,t)=>(n,r,o,c=!1,d,u)=>(p,h)=>{const{experiences:m,experiencesMulti:_}=h();let g=null,v=!0;var f;c||(v=m[n]&&m[n].experience_id===r,g=v?m[n]:Array.isArray(_[n])&&(null===(f=_[n])||void 0===f?void 0:f.find((e=>e.experience_id===r))));if(g&&g.experience_id===r||c&&n&&r){const c=i.Z.create(e,{placed_experience_id:`${n}%3A${r}`,extra_context:null!=d?d:{},targeting:u}),h=v?a.Yb:a.xW;switch(t){case"dismissed":return c.callDelete().then((()=>{p(h(n,r,t)),p(l(void 0,s))}));case"completed":return c.callUpdate().then((()=>{o||(p(h(n,r,t)),p(l(void 0,s)))}));case"viewed":return p(h(n,r,t)),c.callUpdate().then((()=>{1000162===n&&p(l())}));case"completedWithoutHomefeed":return c.callUpdate().then((()=>{o||p(h(n,r,t))}));default:return Promise.resolve()}}return Promise.resolve()},u=d("UserExperienceViewedResource","viewed"),p=d("UserExperienceCompletedResource","completed"),h=d("UserExperienceResource","dismissed"),m=d("UserExperienceCompletedResource","completedWithoutHomefeed"),_=(e,t)=>(n,r)=>{const{experiences:a}=r(),s=a[e];s&&s.triggerable_placed_exps&&s.triggerable_placed_exps.length&&s.triggerable_placed_exps.forEach((n=>{const[,r]=n.split(":");let a=t;s.metadata&&s.metadata[r]&&(a=Object.assign({},t,s.metadata[r])),i.Z.create("UserExperienceTriggerResource",{placed_experience_id:n.replace(":","%3A"),extra_context:a}).callUpdate().then((()=>{((e,t,n={})=>{o.Z.increment(`${e}.${t}`,1,n)})("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:r})}))}))},g=e=>(t,n)=>{t(_(e));const{experiences:i}=n();return i[e]},v=(e,t,n)=>i=>{n&&(s=n),i(_(e,t)),t&&Object.keys(t).length>0&&i(c([e],!1,t,n))}},242923:(e,t,n)=>{n.d(t,{CF:()=>s,Tl:()=>a,dy:()=>l});var i=n(6637),r=n(332611);const o=(e,t)=>(n,o)=>a=>{if(n&&n.id){const s=i.Z.create(e,{placed_experience_id:n.id,extra_context:{}});switch(t){case"dismissed":s.callDelete().then((()=>{a((0,r.fO)())}));break;case"completed":s.callUpdate().then((()=>{o||a((0,r.fO)())}));break;case"viewed":s.callUpdate()}}},a=o("UserExperienceCompletedResource","completed"),s=o("UserExperienceResource","dismissed"),l=o("UserExperienceViewedResource","viewed")},764990:(e,t,n)=>{function i(e){return!!e&&0!==e.type}n.d(t,{A0:()=>o,E3:()=>i,MQ:()=>r});const r=(e,t,n)=>{const r=e[n];return t[n]&&i(r)?r:null};function o(e){var t;return null===(t=e.display_data)||void 0===t?void 0:t.anchor}},131108:(e,t,n)=>{n.d(t,{HI:()=>a,f8:()=>l,hm:()=>s,sH:()=>o});var i=n(883119),r=n(785893);const o=({children:e})=>(0,r.jsx)(i.xu,{padding:4,position:"absolute",bottom:!0,left:!0,right:!0,children:e}),a=({children:e})=>(0,r.jsx)(i.xu,{padding:2,children:e}),s=({children:e})=>(0,r.jsx)(i.xu,{display:"flex",position:"absolute",top:!0,height:"100%",width:"100%",alignItems:"center",justifyContent:"center",children:e}),l=({children:e})=>(0,r.jsx)(i.xu,{padding:4,position:"absolute",top:!0,left:!0,right:!0,children:e})},599997:(e,t,n)=>{n.d(t,{Mf:()=>y,q4:()=>r,zn:()=>i});const i=e=>["feed_card_default","feed_card_video"].includes(e),r=2/3,{LEFT:o,CENTER:a,RIGHT:s}={LEFT:0,CENTER:1,RIGHT:2},l={[o]:"start",[a]:"center",[s]:"end"},{SMALL:c,MEDIUM:d,LARGE:u}={SMALL:0,MEDIUM:1,LARGE:2,EXTRA_LARGE:3},p={web:{[c]:"16",[d]:"20",[u]:"24"},mweb:{[c]:"12",[d]:"16",[u]:"18"}},{ITALICS:h,NORMAL:m}={NORMAL:0,ITALICS:1},_={[h]:"italics",[m]:"normal"},{BOLD:g,NORMAL:v}={NORMAL:0,BOLD:1},f={[g]:"bold",[v]:"normal"},y=({color:e,font_style:t,font_weight:n,horizontal_alignment:i,size:r},o)=>({color:e,fontStyle:_[null!=t?t:0],fontWeight:f[null!=n?n:1],horizontalAlignment:l[null!=i?i:0],fontSize:p[o][null!=r?r:0]+"px"})},207737:(e,t,n)=>{n.d(t,{$S:()=>i,V$:()=>r,_4:()=>a,iY:()=>s,mR:()=>o});const i="REFRESH_ALL_EXPERIENCES_MULTI",r="UPDATE_EXPERIENCE_MULTI",o="FETCH_EXPERIENCES",a="REFRESH_ALL_EXPERIENCES",s="UPDATE_EXPERIENCE"},957191:(e,t,n)=>{n.d(t,{NW:()=>a,OD:()=>l,Yb:()=>s,cL:()=>c,xW:()=>o});var i=n(6637),r=n(207737);const o=(e,t,n)=>({type:r.V$,payload:{placementId:e,experienceId:t,status:n}}),a=e=>t=>i.Z.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then((e=>{return e.resource_response?t((n=e.resource_response.data,{type:r.$S,payload:{experiencesMulti:n}})):void 0;var n})),s=(e,t,n)=>({type:r.iY,payload:{placementId:e,experienceId:t,status:n}}),l=e=>({type:r._4,payload:{experiences:e}}),c=e=>({type:r.mR,payload:{experiences:e}})},570470:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),r=n(883119),o=n(785893);function a({anchor:e,children:t,zIndex:n,leftOverride:a,topOverride:s}){const l=(0,i.useRef)(null),[c,d]=(0,i.useState)(0),[u,p]=(0,i.useState)(0),{height:h,width:m}=e.getBoundingClientRect();(0,i.useEffect)((()=>{const{current:t}=l;if(e&&t){const{height:e,width:n}=t.getBoundingClientRect(),{horizontalOffset:i,verticalOffset:r}=((e,t,n,i)=>({horizontalOffset:-(i/2-t/2),verticalOffset:-(n/2-e/2)}))(h,m,e,n);d(i),p(r)}}));const _=a||c,g=s||u;return(0,o.jsx)(r.xu,{position:"absolute",zIndex:n?new r.Ry(n):void 0,dangerouslySetInlineStyle:{__style:{left:_,top:g}},ref:l,children:t})}const s=function(e){const{anchor:t,leftOverride:n,onTouch:i,onMouseEnter:s,paused:l,size:c,topOverride:d,zIndex:u}=e;return t?(0,o.jsx)(a,{anchor:t,leftOverride:n,topOverride:d,zIndex:u,children:(0,o.jsx)(r.iP,{fullWidth:!1,onTap:({event:e})=>i(e),onMouseEnter:s,rounding:"circle",children:(0,o.jsx)(r.o3,{paused:l,size:c})})}):null}},378518:(e,t,n)=>{n.d(t,{_:()=>c,a:()=>d});var i=n(667294),r=n(702664),o=n(618446),a=n.n(o),s=n(780280),l=n(332611);const c=({extraContext:e,id:t,shouldUsePlacedExperience:n=!0})=>{const o=(0,i.useRef)(),c=(0,r.useDispatch)(),{isBot:d}=(0,s.B)(),u=(0,r.useSelector)((e=>e.experiences[t]));return(0,i.useEffect)((()=>{c((0,l.kd)(t))}),[c,u,t]),(0,i.useEffect)((()=>{n||a()(o.current,e)||(c((0,l.pz)([t],d,e)),o.current=e)}),[c,e,d,t,n]),u},d=e=>(c(e),(0,r.useSelector)((t=>t.experiencesMulti[e.id])))},116303:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(883119),r=n(785893);const o=(e,t)=>{const n=null==e?void 0:e.includes("images/user/default");return Boolean(n&&t)};function a({accessibilityLabel:e,name:t,outline:n,size:a,src:s,verified:l}){return(0,r.jsx)(i.qE,{accessibilityLabel:e,name:t,outline:n,size:a,src:o(s,t)?void 0:s,verified:l})}},920231:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(667294),r=n(319915);function o({flexible:e,gutterWidth:t,id:n,isRTL:i,itemWidth:r,maxColumns:o,minColumns:a}){const s=n.replace(/\:/g,"\\:"),l=r+t;return`\n    .gridCentered {\n      margin-left: auto;\n      margin-right: auto;\n    }\n\n    .gridCentered .static {\n      position: absolute !important;\n      visibility: hidden !important;\n    }\n\n    ${Array.from({length:o+1-a},((e,t)=>t+a)).map((n=>{const c=n===o?null:(n+1)*l-1;return`\n      @media (min-width: ${n===a?0:n*l}px) ${c?`and (max-width: ${c}px)`:""} {\n        #${s} .static:nth-child(-n+${n}) {\n          position: static !important;\n          visibility: visible !important;\n          float: ${i?"right":"left"};\n          display: block;\n        }\n\n        ${e?`\n      #${s} .static {\n        width: calc(100% / ${n}) !important;\n      }\n    `:`\n      #${s} {\n        width: ${n*l}px;\n      }\n\n      #${s} .static {\n        padding: 0 ${t/2}px;\n        width: ${r}px !important;\n      }\n    `}\n      }\n    `})).join("")}\n  `}var a=n(757184),s=n(391254),l=n(50286),c=n(883119),d=n(773285),u=n(780280),p=n(444445),h=n(785893);function m({cacheKey:e,columnWidth:t,gutterWidth:n,id:m,Item:_,items:g,layout:v,loadItems:f,masonryRef:y,minCols:b,scrollContainerRef:x,serverRender:w,resetPositions:S,virtualize:P=!0}){var T;const{isRTL:E}=(0,u.B)(),I="desktop"!==(0,l.ZP)(),A=w?"serverRenderedFlexible":"flexible",k=(0,i.useCallback)((()=>(null==x?void 0:x.current)||window),[x]),C=(0,a.Z)(e),[R,L]=(0,i.useState)(!1);(0,i.useEffect)((()=>{S&&!R&&(null==C||C.reset(),L(!0))}),[C,S,R]);const j=(0,i.useCallback)((e=>(0,h.jsx)(r.Z,{name:"MobileGridItem",children:(0,h.jsx)(_,{...e})})),[_]),{checkExperiment:D}=(0,d.F)(),O=null!==(T={enabled_0_3:"0.3",enabled_0_5:"0.5",enabled_0_9:"0.9",enabled_1_1:"1.1",enabled_1_3:"1.3"}[D("duplo_masonry_virtual_buffer_factor").group])&&void 0!==T?T:.7;return(0,h.jsxs)("div",{id:m,className:"gridCentered",children:[w&&m&&(0,h.jsx)(s.Z,{unsafeCSS:o({flexible:I,gutterWidth:n||0,id:m,isRTL:E,itemWidth:t||p.yF,maxColumns:g.length||p.g5,minColumns:b||p.yc})}),(0,h.jsx)(c.Rk,{columnWidth:t,Item:j,gutterWidth:n||1,layout:I?A:null!=v?v:"basic",items:g,loadItems:f,measurementStore:(0,a.Z)(e),minCols:b||p.yc,ref:e=>{y&&(y.current=e)},scrollContainer:k,virtualize:P,virtualBufferFactor:O})]})}},757184:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119);const r={};function o(e){if(null!=e)return r[e]&&r[e].screenWidth===window.innerWidth||(r[e]={screenWidth:window.innerWidth,cache:i.Rk.createMeasurementStore()}),r[e].cache}},121151:(e,t,n)=>{n.d(t,{ZP:()=>d,b7:()=>s.b7,bN:()=>l,p4:()=>c});var i=n(50286),r=n(883119),o=n(240684),a=n(785893),s=n(968121);const l=(0,o.ZP)({resolved:{},chunkName:()=>"DesktopModal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(51879).then(n.bind(n,373420)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 373420}}),c=(0,o.ZP)({resolved:{},chunkName:()=>"MobileModal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(72430).then(n.bind(n,430322)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 430322}});function d(e){const t=(0,i.ZP)(),n=void 0===e.isOpen||e.isOpen;if("desktop"===t&&n){const{isOpen:t,mobileAccessibilityCloseIconLabel:n,mobileAllowScroll:i,mobileHideCloseIcon:r,mobileIsFullscreen:o,mobileIsSlideUp:s,type:c,...d}=e;return(0,a.jsx)(l,{...d})}const{allowClickAndDrag:r,allowMediaPlay:o,allowScroll:s,role:d,size:u,...p}=e;return(0,a.jsx)(c,{...p,isOpen:n})}},373420:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var i=n(667294),r=n(124580),o=n(223815),a=n(968121),s=n(883119),l=n(785893);function c({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n,allowClickAndDrag:c,allowMediaPlay:d,allowScroll:u,children:p,closeOnOutsideClick:h,footer:m,heading:_,onDismiss:g,role:v,size:f,subHeading:y}){(0,i.useEffect)((()=>(r.Z.pause(),function(){r.Z.resume()})),[]);return(0,l.jsx)(s.mh,{zIndex:a.b7,children:(0,l.jsx)(o.Z,{allowClickAndDrag:c,allowEsc:!0,allowMediaPlay:d,allowScroll:u,children:(0,l.jsx)(s.u_,{_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n,closeOnOutsideClick:h,heading:_,footer:m,onDismiss:()=>{r.Z.resume(),g()},role:v,size:f,subHeading:y,children:p})})})}},430322:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});var i=n(667294),r=n(124580),o=n(283698),a=n(223815),s=n(50286),l=n(898781),c=n(494349),d=n(780280),u=n(883119),p=n(968121),h=n(539497),m=n(785893);function _({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n="center",allowScroll:_=!1,children:g,closeOnOutsideClick:v=!0,footer:f,heading:y,mobileAccessibilityCloseIconLabel:b,mobileHideCloseIcon:x,mobileIsFullscreen:w,isOpen:S,mobileIsSlideUp:P,modalStyle:T,onDismiss:E,overrideZDepth:I,subHeading:A,type:k}){const C=(0,l.ZP)(),{isRTL:R}=(0,d.B)(),L=(0,i.useRef)(!1),[j,D]=(0,i.useState)(!1),{setAppFocusState:O}=(0,c.I)(),N=(0,s.ZP)();(0,i.useEffect)((()=>{(0,h.My)(`mweb_unauth.mobile_modal.${k||"unknown_type"}.did_mount.is_open.${String(!!S)}`)}),[S,k]),(0,i.useEffect)((()=>(L.current=(0,o.Z)((()=>{L.current&&D(!0)})),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&L.current&&(window.cancelAnimationFrame(L.current),L.current=null)})),[]),(0,i.useEffect)((()=>(S?(r.Z.pause(),O(!1)):(r.Z.resume(),O(!0)),()=>{S&&(r.Z.resume(),O(!0))})),[O,S]);const M=S&&!_;(0,i.useEffect)((()=>(M&&(()=>{if(document.body){const{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}})(),()=>{M&&(()=>{if(document.body){const{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}})()})),[M]);const U=(0,p.bf)();if(!S)return null;const F=P?(0,p.Vf)({isFullscreen:w,isTablet:"tablet"===N,isShowing:j,type:k}):(0,p.JN)({isFullscreen:w,isTablet:"tablet"===N,modalStyle:T,type:k});return(0,m.jsx)(a.Z,{children:(0,m.jsx)(u.mh,{children:(0,m.jsxs)(u.xu,{"aria-label":t,display:"inlineBlock",zIndex:I?new u.Ry(I):p.ZM,position:"relative",role:"dialog",children:[(0,m.jsx)(u.iP,{accessibilityLabel:C._('Mobile Signup Modal Mask', 'mweb.signup_modal.mask', 'The acessibility label for the mask of mobile signup modal'),onTap:({event:e})=>{const t=e,n=E?"with":"without",i=k||"unknown_type";(0,h.tj)(`mweb_unauth.mobile_modal.wash_tap.${i}.${n}_dismissal`,{x:t.clientX,y:t.clientY}),v&&E&&E()},tapStyle:"none",children:(0,m.jsx)(u.xu,{position:"fixed",top:!0,left:!0,dangerouslySetInlineStyle:U})}),(0,m.jsxs)(u.xu,{position:"fixed",color:"default",dangerouslySetInlineStyle:F,children:[(0,m.jsxs)(u.kC,{alignItems:"center",justifyContent:"start",width:"100%",gap:{row:2,column:0},children:[b&&!x?(0,m.jsx)(u.xu,{padding:2,children:(0,m.jsx)(u.hU,{accessibilityLabel:b,iconColor:"darkGray",icon:"cancel",onClick:E,padding:4,size:"sm"})}):null,y?(0,m.jsx)(u.kC.Item,{flex:"grow",children:(0,m.jsx)(u.kC,{direction:"column",alignItems:"center",justifyContent:"center",children:(0,m.jsxs)(u.xu,{dangerouslySetInlineStyle:b&&!x?(0,p.ju)(R):{__style:{}},children:[w?y:(0,m.jsx)(u.xv,{align:n,weight:"bold",size:"400",children:y}),A?(0,m.jsx)(u.xv,{align:n,children:A}):null]})})}):null]}),(0,m.jsxs)(u.xu,{overflow:e?"visible":"auto",children:[g,f]})]})]})})})}},968121:(e,t,n)=>{n.d(t,{JN:()=>u,Vf:()=>p,ZM:()=>s,b7:()=>a,bf:()=>d,i_:()=>l,ju:()=>h});var i=n(707853),r=n(643010),o=n(883119);const a=new o.Ry(1e3),s=new o.H3([i.Z]),l=12,c={headingOffset:{__style:{marginLeft:-10,marginRight:50}},RTLheadingOffset:{__style:{marginRight:-10,marginLeft:50}},mask:{baseStyles:{backgroundColor:"rgba(0,0,0, .5)",height:"100%",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out",width:"100%",zIndex:1}},modal:{baseStyles:{border:(0,r.Yc)()?void 0:"1px solid #efefef",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1,left:"0px",bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden"},tabletStyles:{border:void 0,borderRadius:"32px",top:"50%",left:"50%",minWidth:"350px",touchAction:"none",transform:"translate(-50%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1},nonTabletSignUpStyles:{border:void 0,borderRadius:"32px",top:"50%",touchAction:"none",transform:"translate(0%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1,left:"8px",right:"8px",background:"#FFFFFF"},baseStylesSliding:{border:(0,r.Yc)()?void 0:"1px solid #efefef",touchAction:"none",width:"100vw",height:"",zIndex:1,left:0,bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},fullscreenStyles:{touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"90vw",height:"70vh",borderRadius:"8px",zIndex:1,left:"5vw",bottom:"13vh",overflowY:"hidden"},tabletNarrowStyle:{width:425,left:"50%",transform:"translateX(-50%)"}}},d=()=>({__style:c.mask.baseStyles}),u=({isFullscreen:e,isTablet:t,modalStyle:n,type:i})=>{const r=c.modal.fullscreenStyles;let o;return o=e?r:t?c.modal.tabletStyles:"signup"===i?c.modal.nonTabletSignUpStyles:{...c.modal.baseStyles,borderRadius:"32px 32px 0 0"},{__style:n||o}},p=({isFullscreen:e,isTablet:t,isShowing:n,type:i})=>{let r=c.modal.baseStylesSliding,o=n?"translateY(0)":"translateY(100vh)";return r.height=e?"100vh":"",t&&"related_interests_modal"===i&&(r={...r,...c.modal.tabletNarrowStyle},o=n?"translate(-50%, 0)":"translate(-50%, 100vh)"),{__style:{...r,transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:o}}},h=e=>e?c.RTLheadingOffset:c.headingOffset},499128:(e,t,n)=>{n.d(t,{UZ:()=>c,Vg:()=>l,ZP:()=>d});var i=n(667294),r=n(829407),o=n(50286),a=n(883119),s=n(785893);const l=200,c=({deviceType:e,hiding:t,visible:n})=>{const i="desktop"===e;let r=0,o=i?"translateY(200px)":"translateY(-200px)",a="opacity 0.1s ease-in-out",s="hidden";return n&&!t&&(r=1,o="translateY(0)",a="all 0.7s cubic-bezier(.19, 1.15, .48, 1)",s="visible"),n&&t&&(o="scale(1.1)",a="opacity transform 0.2s"),{opacity:r,pointerEvents:"auto",position:"relative",marginTop:i?10:0,transform:o,transition:a,visibility:s}};function d({_dangerouslySetPrimaryAction:e,text:t,primaryAction:n,thumbnailShape:d,variant:u,dataTestId:p,duration:h=2e3,onHide:m,href:_,onClick:g,openNewPage:v,iconThumbnail:f,imageUrl:y}){const b=(0,o.ZP)(),[x,w]=(0,i.useState)(!1),[S,P]=(0,i.useState)(!1),T=(0,i.useRef)(),E=()=>{w(!0),T.current=setTimeout(m,l)},I=()=>{T.current=setTimeout(E,h)},A=()=>{T.current&&clearTimeout(T.current)};let k;(0,r.Z)((()=>(setTimeout((()=>P(!0)),100),I(),A))),f?k=f:y&&(k=(0,s.jsx)(a.xu,{height:48,overflow:"hidden",width:48,children:(0,s.jsx)(a.Ee,{alt:"string"==typeof t?t:`${t[0]} ${t[1]}`,fit:"cover",naturalHeight:1,naturalWidth:1,src:y})}));const C=(0,s.jsx)(a.FN,{_dangerouslySetPrimaryAction:e,primaryAction:n,text:t,thumbnail:k,thumbnailShape:d,variant:u}),{marginTop:R,opacity:L,pointerEvents:j,position:D,transform:O,transition:N,visibility:M}=c({deviceType:b,hiding:x,visible:S});return(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transform:O,transition:N,visibility:M,pointerEvents:j}},"data-test-id":null!=p?p:"toast",onMouseEnter:A,onMouseLeave:I,opacity:L,position:D,marginTop:R,children:_?(0,s.jsx)(a.iP,{role:"link",href:_,onTap:({event:e})=>null==g?void 0:g(e),target:v?"blank":null,rounding:"pill",children:C}):C})}},444445:(e,t,n)=>{n.d(t,{$H:()=>a,$q:()=>v,D6:()=>l,KN:()=>f,Lo:()=>r,P2:()=>m,ZZ:()=>d,g5:()=>u,jC:()=>s,lX:()=>h,nW:()=>p,oX:()=>_,qG:()=>g,tG:()=>o,yF:()=>i,yc:()=>c});const i=236,r=2*i/3,o=175,a=24,s=4,l=2,c=2,d=14,u=16,p=12,h=16,m=24,_=16,g=-1,v=(e=!1,t=!1)=>e?t?h:p:m,f=(e,t,n,i,r=d)=>{const o=e+r;return`\n@media (min-width: ${t*o}px) and (max-width: ${(n+1)*o-1}px) {\n  ${i}\n}\n`}},67223:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294);const r=new Map;let o=null;const a=e=>{e.forEach((e=>{const t=r.get(e.target);t&&t(e)}))};function s({onVisibilityChanged:e,inAdsDesktopVideoExperiment:t,trackFullVisible:n,rootMargin:s}){const l=(0,i.useRef)(null);let c=!1;const d=()=>{var t;l.current instanceof HTMLElement&&(t=l.current,r.has(t))&&(c&&(e(!1),c=!1))},u=(0,i.useCallback)((i=>{l.current instanceof HTMLElement&&((e,t="-64px 0px 0px 0px",n)=>{const i={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};o=o||new window.IntersectionObserver(a,i),r.set(e,n),o.observe(e)})(l.current,i,(i=>{if(!r.has(l.current))return;const o=t?i.intersectionRatio>=.5:i.intersectionRatio>0||i.isIntersecting,a=n?i.intersectionRatio>=1:o,s=n?0===i.intersectionRatio:!a;!c&&a?(t=>{const n=t.intersectionRatio>0||t.isIntersecting;c=n,c&&e(!0)})(i):c&&s&&d()}))}),[l.current]);return(0,i.useEffect)((()=>(u(s),()=>{var e;l.current instanceof HTMLElement&&(d(),e=l.current,o.unobserve(e),r.delete(e))})),[u]),l}},298361:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(898781),r=n(349700),o=n(202139);function a(){const e=(0,i.ZP)();return function(t,n){const i=new Date(t),a=new Date-i,s=Math.floor(a/o.FS),l=Math.floor(a/o.UK),c=Math.floor(a/o.F4),d=Math.floor(a/o.VL),u=Math.floor(a/o.N1),p=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', s, ' - ', ' -- '),h=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', l, ' - ', ' -- '),m=e.ngettext('{{ days }} day ago', '{{ days }} days ago', c, ' - ', ' -- '),_=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', d, ' - ', ' -- '),g=e.ngettext('{{ years }} year ago', '{{ years }} years ago', u, ' - ', ' -- '),v=e.ngettext('{{ minutes }}m', '{{ minutes }}m', s, 'minutes ago abbreviated', 'minutes ago abbreviated'),f=e.ngettext('{{ hours }}h', '{{ hours }}h', l, 'hours ago abbreviated', 'hours ago abbreviated'),y=e.ngettext('{{ days }}d', '{{ days }}d', c, 'days ago abbreviated', 'days ago abbreviated'),b=e.ngettext('{{ weeks }}w', '{{ weeks }}w', d, 'weeks ago abbreviated', 'weeks ago abbreviated'),x=e.ngettext('{{ years }}y', '{{ years }}y', u, 'years ago abbreviated', 'years ago abbreviated');return u>0?(0,r.nk)(n?x:g,{years:u}).join(""):d>0?(0,r.nk)(n?b:_,{weeks:d}).join(""):c>0?(0,r.nk)(n?y:m,{days:c}).join(""):l>0?(0,r.nk)(n?f:h,{hours:l}).join(""):s>0?(0,r.nk)(n?v:p,{minutes:s}).join(""):e._('Just now', ' - ', ' -- ')}}},898781:(e,t,n)=>{n.d(t,{ZP:()=>s,oz:()=>o,q6:()=>r});var i=n(425288);const{Provider:r,Consumer:o,useHook:a}=(0,i.Z)("i18n"),s=a},892819:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(66699),r=n(898781);const o=(e,t)=>{const n=t||0,i=10**n,r=+(n?e*i:e).toFixed(8),o=Math.floor(r),a=r-o,s=a>.5-1e-8&&a<.5+1e-8?o%2==0?o:o+1:Math.round(r);return n?s/i:s},a=e=>{try{(0).toLocaleString([e])}catch(t){return!1}return!0};function s(){const e=(0,r.ZP)();return(t,n,r)=>{let s=0,l=0;const c=r&&r.style||void 0,d=r&&r.shortform||!1,u=r&&r.uplimit||void 0,p=r&&r.currency||void 0,h=!!u&&n>=u,m=u&&h?u:n;if("currency"===c){const{minimumFractionDigits:e,maximumFractionDigits:n}=((e,t)=>{if(t){const{minimumFractionDigits:n,maximumFractionDigits:i}=new Intl.NumberFormat(e,{style:"currency",currency:t}).resolvedOptions();if(void 0!==n&&void 0!==i)return{minimumFractionDigits:n,maximumFractionDigits:i}}return{minimumFractionDigits:2,maximumFractionDigits:2}})(t,p);s=void 0===r||void 0===r.maximum_fraction_digits?n:r.maximum_fraction_digits,l=void 0===r||void 0===r.minimum_fraction_digits?e:r.minimum_fraction_digits}else s=void 0===r||void 0===r.maximum_fraction_digits?0:r.maximum_fraction_digits,l=void 0===r||void 0===r.minimum_fraction_digits?0:r.minimum_fraction_digits;if(d&&m>999&&(s=void 0===r||void 0===r.shortform_maximum_fraction_digits?2:r.shortform_maximum_fraction_digits,l=0),s<l)return String(m);let _=m,g="";const v=[{"100M":{value:1e8,localeKey:e._('', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.')}},{"10k":{value:1e4,localeKey:e._('', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.')}}],f=[{b:{value:1e9,localeKey:e._('B', 'Abbreviation for one billion.', 'Abbreviation for one billion.')}},{m:{value:1e6,localeKey:e._('M', 'Abbreviation for one million.', 'Abbreviation for one million.')}},{k:{value:1e3,localeKey:e._('k', 'Abbreviation for one thousand.', 'Abbreviation for one thousand.')}}],y=/^zh|ja|ko/.test(t);if(d&&m>999){const e=y?v:f;for(let t=0;t<e.length;t+=1){const n=Object.keys(e[t])[0],i=e[t][n].value;if(m>=i){_=o(m/i*Math.pow(10,s))/Math.pow(10,s),g=e[t][n].localeKey;break}}}if(null==_)return"";const b=_.toLocaleString([a(t)&&"ar-SA"!==t?t:"en-US"],(({maximumFractionDigits:e,minimumFractionDigits:t,style:n,currency:i})=>{const r={maximumFractionDigits:e,minimumFractionDigits:t};return n?{...r,style:n,..."currency"===n?{currency:i,currencyDisplay:"symbol"}:{}}:r})({maximumFractionDigits:s,minimumFractionDigits:l,currency:p,style:c}));return g&&g.length>0?(0,i.Z)(e._('{{formattedNumber}}{{numberSuffix}}', 'i18n.usePrettyNumberFormat.prettyNumberFormat', 'String used to concatenate formatted number and localized number suffix'),{formattedNumber:b,numberSuffix:g})+(h?"+":""):b+(h?"+":"")}}},366428:(e,t,n)=>{n.d(t,{F:()=>u,Z:()=>d});var i=n(667294),r=n(983722),o=n(834911),a=n(124580),s=n(407043),l=n(802201);const c={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpressions",idType:"storyIdStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704}};function d({closeupImpressionType:e,closeupNavigationType:t,componentType:n,contextLogData:d,clientTrackingParams:u,elementType:p,impressionAuxFields:h,inImpressionExp:m,impressionType:_,impressionsFramework:g,isPaused:v,loggingId:f,objectIdStr:y,slotIndex:b,trackCarousel:x,viewData:w,viewParameter:S,viewType:P}){const{logContextEvent:T}=(0,s.v)(),E=(0,l.AF)(),I=f?E[f]:{},A=I&&(0,o.Z)({carouselData:I.carousel_data,images:I.images,richMetadata:I.rich_metadata,richSummary:I.rich_summary}),k=g||a.Z,C=(0,i.useRef)(null),R=i=>{const o=c[_],a=o.idType,s={endTime:i.endTime,[a]:f,slotIndex:b,time:i.startTime,renderDuration:i.endTime-i.startTime,type:e,...h,forcedExit:"removed"===i.forcedExit?0:void 0},l={component:n,object_id_str:y,view_type:P,view_data:w||{},view_parameter:S},m=(0,r.Z)(),{checkExperiment:g}=(m||{}).experimentsClient||{},v="function"==typeof g&&g("web_mweb_story_impression_fix").anyEnabled;if(v&&(c.Story={impressionType:"storyImpression",idType:"idStr",eventType:170}),x){if(A){var E,I,k;T({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...s,carouselDataId:Number(A.id),carouselSlotId:(null===(E=A.carousel_slots)||void 0===E?void 0:E[null!==(I=A.index)&&void 0!==I?I:0])&&Number(A.carousel_slots[null!==(k=A.index)&&void 0!==k?k:0].id),slotIndex:A.index}]},...l,aux_data:{...d}})}}else T({clientTrackingParams:u,event_type:o.eventType,...l,element:p,event_data:{[o.impressionType]:"Story"===_&&v?s:[s]},aux_data:{closeup_navigation_type:t,...d}})},L=(0,i.useCallback)((()=>{try{C.current instanceof HTMLElement&&k.start(C.current).onExitViewport(R).setDebugId(f||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),[C.current]);(0,i.useEffect)((()=>(m&&!k.inExperiment&&k.setExperimentStatus(!0),v||L(),()=>{C.current instanceof HTMLElement&&k.stop(C.current)})),[L]);const j=(0,i.useRef)(v);return(0,i.useEffect)((()=>{j.current&&!v&&L(),j.current=v}),[v,L]),C}const u=({children:e,...t})=>e({impressionTrackerRef:d(t)})},12610:(e,t,n)=>{function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z3:()=>p,LU:()=>h,ZP:()=>m});const r=1e6,o=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,a={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},s={},l={background:"#FF8A8A",transform:"scale(.98)"},c={init:e=>({transform:`scale(${s[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[a.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[a.exit]:l,[a.stopped]:l,[a.paused]:l,[a.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class d{constructor(e){i(this,"setMutationObserver",(e=>(this.mutationObserver=e,this))),i(this,"startMutationObserver",(e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)})),i(this,"stopMutationObserver",(()=>{this.mutationObserver&&this.mutationObserver.disconnect()})),i(this,"handleIntersectionChange",(e=>{const t=e.intersectionRatio>0||e.isIntersecting;if(t&&!this.inViewport){const e=Date.now();this.startTime=e,this._debug(a.enter,{startTime:e,node:this.node}),this.enterCallbacks.forEach((e=>e()))}else!t&&this.inViewport&&(this._debug(a.exit,!0),this.exitCallbacks.forEach((e=>e(this.toJSON()))));this.inViewport=t})),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId=""}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,o&&Object.assign(this.node.style,c.init(e)),this}pause(){return this.inViewport&&(this._debug(a.paused,!0),this.exitCallbacks.forEach((e=>e(this.toJSON())))),this}resume(){if(this.inViewport){const e=Date.now();this._debug(a.resumed,{startTime:e}),this.startTime=e}return this}stop(e){return this.inViewport&&(this._debug(a.stopped,!0),this.exitCallbacks.forEach((t=>t(this.toJSON(e))))),this}toJSON(e=""){return{startTime:this.startTime*r,endTime:Date.now()*r,forcedExit:e}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:(Date.now()-this.startTime)/1e3+" seconds"}}_debug(e,t){if(o)switch(window.console.log(` ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),c[e]&&Object.assign(this.node.style,c[e]),e){case a.flushed:case a.paused:case a.exit:s[this.debugId]=!0}}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p=!0,h=!1;class m{constructor(){u(this,"_delegateChange",(e=>{e.forEach((e=>{const t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)}))})),u(this,"_handleMutations",((e,t)=>{const n=this.mutationObservers.get(t);n&&n.offsetHeight<1&&n&&this.stop(n,"removed")})),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=h,this.observer=new window.IntersectionObserver(this._delegateChange),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){const n=this.activeImpressions.get(e);n&&(n.stop(t),this.mutationObservers.delete(n.mutationObserver),n.stopMutationObserver(),this.activeImpressions.delete(e),this.observer.unobserve(e))}start(e){let t=this.activeImpressions.get(e);if(!t){t=new d(e),this.activeImpressions.set(e,t),this.observer.observe(e);const n=(e,t)=>this._handleMutations(e,t);t.setMutationObserver(new window.MutationObserver(n)),this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})}return t}pause(e=p){this.paused||(Array.from(this.activeImpressions.values()).forEach((e=>e.pause())),this.paused=!0,this.pausePriority===h&&(this.pausePriority=e))}resume(e=p){e===h&&this.pausePriority===p||this.paused&&(Array.from(this.activeImpressions.values()).forEach((e=>e.resume())),this.paused=!1,this.pausePriority=h)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){const e=Array.from(this.topObstructions).reduce(((e,t)=>{const{bottom:n}=t.getBoundingClientRect();return n>e?n:e}),0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce(((e,t)=>{const{top:n}=t.getBoundingClientRect();return n<e?n:e}),window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){const n={rootMargin:`${-e}px 0px ${-t}px`};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,n),Array.from(this.activeImpressions.values()).forEach((e=>this.observer.observe(e.node))),this.topHeight=e,this.bottomHeight=t}}}},806584:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294),r=n(124580);const o=({children:e,dependencyValue:t})=>((0,i.useEffect)((()=>{r.Z.updateObstructions()}),[t]),e)},124580:(e,t,n)=>{n.d(t,{Z:()=>i});const i=new(n(12610).ZP)},954571:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e){if(!e)return!1;const t=new Date(e);return t.setDate(t.getDate()+28),(new Date).getTime()<t.getTime()}},349700:(e,t,n)=>{function i(e,t,n){return e.split(n).map((e=>{if(e.match(n)){const n=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,n))return t[n]}return e}))}n.d(t,{Wc:()=>a,bF:()=>l,nk:()=>o});const r=/(\{\{\s*\w+\s*\}\})/g;function o(e,t){return i(e,t,r)}function a(e,t){return i(e,t,r).join("")}const s=/(\{\s*\w+\s*\})/g;function l(e,t){return i(e,t,s)}},995081:(e,t,n)=>{n.d(t,{Rq:()=>i,Vf:()=>r,jd:()=>o,oy:()=>a});const i=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,r=28,o=e=>window.innerHeight>=748&&i(e),a=function(){return!("undefined"==typeof window||!window.navigator)&&(/iPad/.test(navigator.platform)||navigator.maxTouchPoints>1&&"MacIntel"===navigator.platform)}},755742:(e,t,n)=>{n.d(t,{Z:()=>i});const i={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,F5:116,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},313047:(e,t,n)=>{n.r(t),n.d(t,{DEFAULT_HEIGHT:()=>d,DEFAULT_PADDING_Y:()=>u,FixedFooter:()=>m,FixedHeader:()=>h});var i=n(667294),r=n(124580),o=n(643010),a=n(53987),s=n(834256),l=n(883119),c=n(785893);const d=64,u=3;function p({children:e,footerConfig:t,headerConfig:n,height:a,hideOnScroll:s,hideOnScrollState:{isHidden:p,updateHiddenState:h},showDockedNavBar:m,dockNavBarForAuthTablet:_,dockNavBarForUnauthTablet:g,noPadding:v,paddingY:f=u,type:y,zIndex:b}){const{headerLimitedOverflow:x,ignoreObstructions:w,zIndexForGestaltBug:S}=n||{},{appUpsellFooterConfig:P,footerInLego:T,footerWidth:E}=t||{},I=!!P,A="header"===y?"top":"bottom",k=(0,o.Yc)(),C=(0,i.useRef)(null),R=(0,i.useRef)(null);(0,i.useEffect)((()=>{try{if(!w){const e=C.current;R.current=x&&e&&Array.isArray(e.children)?e.children[0]:e,R.current instanceof HTMLElement&&r.Z.addObstruction(A,R.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{w||R.current instanceof HTMLElement&&r.Z.removeObstruction(A,R.current)}}),[w,x,A,k]);const L="top"===A?"relative":"fixed",j=v?0:f,D=(null!=a?a:d)+((null==n?void 0:n.overrideTop)||0),O=s||m||_||g?{transition:T?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...p?{transform:`translateY(${"top"===A?-D:D}px)`,opacity:T?0:1}:Object.freeze({})}:{},N="relative"!==L||null!=n&&n.noGutter?0:2,M=N?-N:0,U=k?"#000":"rgba(255,255,255,.95)";let F,z;return k&&("header"===y?F=-1:z=-1),(0,c.jsx)(l.xu,{ref:C,dangerouslySetInlineStyle:{__style:{top:F,bottomStyle:z,...!b||S?{zIndex:S||1}:Object.freeze({}),...x?{background:"transparent",overflow:"hidden",paddingBottom:100,marginBottom:-100,pointerEvents:"none"}:Object.freeze({}),...null!=n&&n.hasBorder?{borderBottom:"1px solid #efefef"}:Object.freeze({}),...null!=t&&t.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...O}},zIndex:S?void 0:b,"data-test-id":y,display:I?"flex":void 0,height:a&&!T?a:void 0,position:L,bottom:"footer"===y,top:"header"===y,left:!0,right:!0,marginStart:T?"auto":M,marginEnd:T?"auto":M,onTransitionEnd:()=>{(s||m||_||g)&&R.current&&(p?r.Z.removeObstruction(A,R.current):r.Z.addObstruction(A,R.current))},width:T||"fixed"!==L?void 0:"100%",children:(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:(null==n?void 0:n.isTranslucent)&&U||(null==n?void 0:n.isTransparentBackground)&&"transparent"||k&&"var(--color-background-default)"||"white",height:T?I?void 0:null!=a?a:d:"100%",boxShadow:T?"0px 0px 8px rgba(0, 0, 0, 0.1)":void 0,marginBottom:T&&!m?16:void 0,...x?{pointerEvents:"auto"}:Object.freeze({}),...null!=n&&n.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},paddingX:("footer"!==y||v?0:4)+N,paddingY:j,position:"relative",width:T&&E?E:I?void 0:"100%",rounding:T&&!m?"pill":void 0,display:T||null!=t&&t.alignCenter?"flex":void 0,marginStart:T?"auto":void 0,marginEnd:T?"auto":void 0,alignItems:null!=t&&t.alignCenter?"center":void 0,children:"function"==typeof e?e({updateHiddenState:h}):e})})}function h({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:n,isTranslucent:i,isTransparentBackground:r,noGutter:o,overrideTop:a,useRoundedCorners:d,zIndexForGestaltBug:h,...m}){const{noPadding:_,paddingY:g=u,zIndex:v}=m,f=_?0:g;return(0,c.jsx)(l.Le,{top:a||0,height:t?44+2*f*4:void 0,zIndex:v||void 0,children:(0,c.jsx)(s.Z,{hideOnScroll:m.hideOnScroll,children:s=>(0,c.jsx)(p,{...m,hideOnScrollState:s,type:"header",headerConfig:{isTranslucent:i,isTransparentBackground:r,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:n,noGutter:o,overrideTop:a,zIndexForGestaltBug:h,useRoundedCorners:d}})})})}function m({alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,footerWidth:i,forceShow:r,hasTopShadow:o,location:l,showDockedNavBar:d,dockNavBarForAuthTablet:u,dockNavBarForUnauthTablet:h,isModal:m,onScroll:_,...g}){const v=!!l&&(0,a.uM)(l)&&(!!d||!!u||!!h);return(0,c.jsx)(s.Z,{appUpsellFooterConfig:t,forceShow:r,hideOnScroll:g.hideOnScroll,location:l,isDockedNavOnPlp:v,isModal:m,onScroll:_,children:r=>(0,c.jsx)(p,{...g,hideOnScrollState:r,showDockedNavBar:d,dockNavBarForAuthTablet:u,dockNavBarForUnauthTablet:h,type:"footer",footerConfig:{alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,footerWidth:i,hasTopShadow:o}})})}},834256:(e,t,n)=>{n.d(t,{Z:()=>s,m:()=>a});var i=n(667294),r=n(700380);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const a=20;class s extends i.Component{constructor(...e){super(...e),o(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!!this.props.isDockedNavOnPlp}),o(this,"lastScrollPos",0),o(this,"updateHiddenState",(e=>{this.reqAnimationId=window.requestAnimationFrame((()=>{this.setState({isHidden:e})}))})),o(this,"handleScroll",(0,r.Z)((()=>{const{appUpsellFooterConfig:e,isModal:t,onScroll:n,isDockedNavOnPlp:i}=this.props,{isHidden:r}=this.state,o=window.scrollY,s=o-this.lastScrollPos;let l="none";const{scrollHeight:c,clientHeight:d}=document.documentElement||{};if(!Number.isNaN(c)&&!Number.isNaN(d))if(s<0){const e=window.scrollMinY||0;l=o<=Math.abs(e+Math.max(s,a))?"start":"none"}else{l=o>=(window.scrollMaxY||c-d)-Math.max(s,a)?"end":"none"}const u=t?0:55;if(e)if(s>a&&r&&o>=500){e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),n&&n(!1))}else(s<-a&&!r||o<=u)&&(this.updateHiddenState(!0),n&&n(!0));else!this.props.hideOnScroll&&i?"start"===l&&!r||o<=u?(this.updateHiddenState(!0),n&&n(!0)):(o>u||"end"===l)&&r&&(this.updateHiddenState(!1),n&&n(!1)):(s<-a||"start"===l)&&r||o<=u?(this.updateHiddenState(!1),n&&n(!1)):(s>a||"end"===l)&&!r&&(this.updateHiddenState(!0),n&&n(!0));this.lastScrollPos=o}),30))}componentDidMount(){try{(this.props.hideOnScroll||this.props.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){(this.props.hideOnScroll||this.props.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll||!e.isDockedNavOnPlp&&this.props.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||e.isDockedNavOnPlp&&!this.props.isDockedNavOnPlp)&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){const{children:e,forceShow:t}=this.props,{isHidden:n}=this.state;return e({isHidden:!t&&n,updateHiddenState:this.updateHiddenState})}}},166300:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(50286),r=n(883119),o=n(444445),a=n(134879),s=n(785893);const l=({children:e,roundedForLargeDevice:t})=>{const n="phone"!==(0,i.ZP)()&&t;return(0,a.V)()?(0,s.jsx)(r.xu,{marginStart:-o.D6,marginEnd:-o.D6,rounding:n?6:void 0,overflow:n?"hidden":void 0,children:(0,s.jsx)(a.C,{value:!1,children:e})}):e}},542554:(e,t,n)=>{n.r(t),n.d(t,{AMPPageContainer:()=>c,default:()=>d});var i=n(883119),r=n(134879),o=n(444445),a=n(780280),s=n(995081),l=n(785893);const c=({children:e,dataLayoutShiftBoundaryId:t,hasFixedHeader:n=!1,hasGutter:c=!0,height:d,showKeychainError:u=!1,useViewport:p=!1})=>{const h=(0,a.B)(),m=(0,s.jd)(h.userAgent.platform)?s.Vf:0;return(0,l.jsx)(i.xu,{"data-layout-shift-boundary-id":t||"PageContainer",height:p?`calc(100vh - ${m}px)`:d,paddingX:c?o.D6:void 0,paddingY:n||u?void 0:3,children:(0,l.jsx)(r.C,{value:!!c,children:e})})},d=c},134879:(e,t,n)=>{n.d(t,{C:()=>o,V:()=>a});var i=n(667294);const r=(0,i.createContext)(!1),o=r.Provider,a=()=>(0,i.useContext)(r)},48714:(e,t,n)=>{n.d(t,{nS:()=>x,iw:()=>S,gV:()=>y,G3:()=>P,lI:()=>T,Gj:()=>w,Jd:()=>f,$3:()=>b});var i=n(231486),r=n(56641),o=n(768559),a=n(250059);const s=e=>"string"!=typeof e&&e?e.state:null;var l=n(643913),c=n(547239),d=n(508847),u=n(102500),p=n(43760),h=n(579164),m=n(307640),_=n(397066),g=n(623568),v=n(226198);const f=()=>{window&&window.focus(),document.activeElement&&document.activeElement.blur()},y=({isOffsiteUrl:e,event:t})=>!e&&(t.metaKey||t.ctrlKey),b=({location:e,pin:t,surface:n})=>!(0,g.jL)(t)&&(({location:e,pinId:t,surface:n})=>{const i=Boolean(n),r=m.ZF.includes(n),o=e.pathname.includes(t);return i&&!r||o})({location:e,pinId:t.id,surface:n}),x=e=>{const t=Math.round(1e3*Math.random())+"",n=Math.round(1e3*Math.random())+"";i.t8((0,v.GS)(t),n);const r=`${t}-${n}`,{queryParams:o,url:a}=e;let s={token:r,url:a};if(!o){const{pinId:t,csrId:n,clientTrackingParams:i,auxData:r}=e;s={...s,pin:null!=t?t:void 0,csr:n&&!t?n:void 0,client_tracking_params:i,aux_data:r?JSON.stringify(r):void 0}}o&&(s={...s,...o});return`/offsite/?${(0,l.Z)(s)}`},w=e=>{(0,r.Z)(x(e),!0)},S=async({isMounted:e,pin:t,location:n,spamCheckCallback:i,href:r})=>{var a,s;const l=await(0,u.Z)({check_only:!0,client_tracking_params:(0,o.Z)({boardUrl:null==t||null===(a=t.board)||void 0===a?void 0:a.url,callToCreateSourcePinId:null==t?void 0:t.call_to_create_source_pin_id,location:n,pinId:null==t?void 0:t.id,pinnerUserName:null==t||null===(s=t.pinner)||void 0===s?void 0:s.username,storyPinDataId:null==t?void 0:t.story_pin_data_id,trackingParams:null==t?void 0:t.tracking_params,trackingParamsMap:null==t?void 0:t.tracking_params_map}),pin_id:null==t?void 0:t.id,url:r}).callGet({showError:!1});if(!l.resource_response.error&&e){const e=l.resource_response.data||{},{message:t,redirect_status:n,url:r}=e;i({blocked:["blocked","suspicious","porn"].includes(n),message:t,redirectStatus:n,sanitized_url:r})}},P=({event:e,onHistoryChange:t,href:n,history:i,target:o})=>{const l=(0,a.Z)(n),u=s(n),p=(0,c.Z)(l);p===h.Z.TRUSTED_DIFFERENT_ORIGIN||"blank"===o?(0,r.Z)(l,"blank"===o):i&&p===h.Z.SAME_ORIGIN&&(i.push((0,d.Z)({url:l}),null!=u?u:{}),t&&t({event:e}))},T=({href:e,pinId:t,pin:n,location:i,auxData:r,spamCheck:a,queryParams:s},l,c)=>{"undefined"!=typeof window&&window.Windows?(0,p.Z)({url:e,pinId:t,pin:n,location:i,auxData:r}):n?(({spamCheck:e,auxData:t,location:n,pin:i,pinId:r,href:a},s,l)=>{if(null!=e&&e.blocked)null==l||l(e);else{var c,d;if((0,_.b)({href:a,pinId:r,pin:i,location:n,auxData:t},s))return;w({url:a,pinId:r,csrId:null,clientTrackingParams:(0,o.Z)({boardUrl:null===(c=i.board)||void 0===c?void 0:c.url,callToCreateSourcePinId:i.call_to_create_source_pin_id,location:n,pinId:i.id,pinnerUserName:null===(d=i.pinner)||void 0===d?void 0:d.username,storyPinDataId:i.story_pin_data_id,trackingParams:i.tracking_params,trackingParamsMap:i.tracking_params_map}),auxData:t})}})({spamCheck:a,auxData:r,location:i,pin:n,pinId:t,href:e},l,c):w({url:e,pinId:t,queryParams:s})}},102500:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(6637);function r(e){return i.Z.create("ApiResource",{url:"/v3/offsite/",data:e})}},287072:(e,t,n)=>{n.d(t,{Z:()=>d,p:()=>u});var i=n(667294),r=n(250059),o=n(149230),a=n(407043),s=n(643074),l=n(48714),c=n(276775);function d(e){var t;const{externalData:n,href:d,onHistoryChange:u,target:p}=e,{logContextEvent:h}=(0,a.v)(),[m,_]=(0,i.useState)(null),[g,v]=(0,i.useState)(!1),f=(0,c.useHistory)(),y=(0,c.useLocation)(),b=(0,o.Z)({url:(0,r.Z)(d)}),{showWarning:x}=null!==(t=(0,s.s)())&&void 0!==t?t:{};return(0,i.useEffect)((()=>(v(!0),()=>{v(!1)})),[]),(0,i.useEffect)((()=>{b&&null!=n&&n.pin&&null===m&&g&&(0,l.$3)({location:y,pin:n.pin,surface:n.surface})&&(0,l.iw)({isMounted:g,pin:n.pin,location:y,spamCheckCallback:e=>_(e),href:(0,r.Z)(d)})}),[null==n?void 0:n.pin,null==n?void 0:n.surface,d,b,g,y,m]),({event:e})=>{var t;(0,l.gV)({isOffsiteUrl:b,event:e})||(e.preventDefault(),d&&(b||null!=n&&n.dangerouslyForceOffsiteUrl?(0,l.lI)({auxData:null==n?void 0:n.auxData,href:(0,r.Z)(d),pinId:null==n||null===(t=n.pin)||void 0===t?void 0:t.id,pin:null==n?void 0:n.pin,queryParams:null==n?void 0:n.queryParams,location:y,spamCheck:m},h,x):(0,l.G3)({event:e,href:d,history:f,onHistoryChange:u,target:"blank"===p?"blank":null})))}}const u=({children:e,...t})=>e({handleClick:d(t)})},713930:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(172071);function r(e,t){return new Promise(((n,r)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if("FACEBOOK"===t)if(window.FB)n();else{const t=setInterval((()=>{window.FB||20===e?(clearInterval(t),n()):(e+=1,i.Z.increment(`mweb.loadScript.facebook.tries_${e}`,.01))}),100)}else if("GSI"===t)if(window.google)n();else{const t=setInterval((()=>{window.google||20===e?(clearInterval(t),n()):(e+=1,i.Z.increment(`mweb.loadScript.gsi.tries_${e}`,.01))}),100)}else n()}else{const t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",(()=>n())),t.addEventListener("error",r),document.getElementsByTagName("head")[0].appendChild(t)}}))}},53987:(e,t,n)=>{n.d(t,{wy:()=>C,Fw:()=>q,ey:()=>$,dt:()=>f,bo:()=>z,oF:()=>Q,bW:()=>v,AX:()=>p,Fy:()=>u,XE:()=>d,am:()=>a,pD:()=>h,OJ:()=>l,LO:()=>le,Gl:()=>te,PY:()=>b,Ni:()=>y,pV:()=>R,L6:()=>k,bb:()=>ue,b0:()=>g,jC:()=>B,O7:()=>ne,LM:()=>Z,OK:()=>I,mP:()=>x,C$:()=>w,dr:()=>D,gT:()=>j,Fr:()=>G,Xn:()=>S,l4:()=>A,b_:()=>J,J:()=>s,dZ:()=>c,re:()=>T,RU:()=>ie,Ui:()=>m,KY:()=>_,fY:()=>K,uM:()=>W,x7:()=>Y,rk:()=>ce,cD:()=>H,dW:()=>de,Pu:()=>ee,En:()=>L,ej:()=>ae,E0:()=>F,gf:()=>E,mY:()=>re,kY:()=>se,cY:()=>X,$Y:()=>U,Zz:()=>P,$V:()=>M,j8:()=>V,ip:()=>O,tZ:()=>N,YW:()=>oe});const i=new RegExp(/^\/(?!(?:pin|categories|report|search|password|terms|discover|help|email|topics|explore|pw|login|signup|about|business|source|ideas|today|tv))[\w\d\-]+\/(?!(?:following|followers|_tools|_created|_saved|tried))[\w\d\-]+(?=\/|$)/),r=["/BingSiteAuth.xml","/about","/add-account","/ads","/age_verification","/all","/apple-app-site-association","/apple-app-site-association.p7m","/attribution_source","/bot.html","/branded-pins","/browserbutton","/buy-it","/careers","/categories","/close-account","/content-claiming","/convert-business","/convert-personal","/create-business","/create-linked-business","/create-personal","/creation-inspiration","/creator-onboarding-landing","/csrf_error","/ct.html","/deactivate-account","/deed6a3ef3a44d41bb3ae2bad137db84.txt","/developers","/discover","/edit","/email_verification_error","/engagement","/explore","/favicon.ico","/fb.html","/following","/google_gdn.html","/google_search.html","/googlef5dc42d6e03f6e61.html","/guidedsearch","/help","/holidays-celebrations","/homefeed","/idea-pin-builder","/idea-pin-invite","/ideas","/inbox","/install-shuffles","/invited","/jobs","/live-session","/login","/login_redirect","/logout","/manifest.json","/manifest.webapp","/me","/messages","/mobile","/notifications","/oauth","/app-factory-oauth","/appealed-pin","/oembed.json","/offline.html","/offsite","/opensearch.xml","/parent_contact_info","/pin-builder","/pin-editor","/pin_catalog","/pin_redirect","/pinterest-wellbeing","/pinterest-predicts","/pinterestlens","/pinterestlenstryon","/pinterestwellbeing","/policy","/product-catalogs","/recently-viewed","/report","/robots.txt","/safe-redirect","/search","/settings","/signup","/socialmanager","/story-pin-builder","/story-pin-invite","/story_feed","/sw-shell.html","/sw.html","/sw.js","/switch_account","/terms","/today","/topics","/transparent.html","/tv","/unauth-profile","/unlink","/upload-image","/upload-profile-image","/verified","/verify","/videos","/web-mentorship","/welcome","/windows-app-web-link","/your-shop"];var o=n(276775);const a=e=>i.test(e.pathname),s=(e,t)=>{const{pathname:n}=e;return a(e)&&n.match(t||"?")},l=e=>{const{pathname:t}=e;return!!(0,o.matchPath)(t,{path:"/:username/:boardId/:boardSectionId",exact:!0})&&!t.match(/^\/.+\/.+\/(_tools)/i)},c=(e,t)=>{const{pathname:n}=e;return l(e)&&n.match(t||"?")},d=e=>!!(0,o.matchPath)(e.pathname,{path:"/board/:id/edit",exact:!0}),u=e=>!!(0,o.matchPath)(e.pathname,{path:"/board/:id/edit/collaborators",exact:!0}),p=e=>!!(0,o.matchPath)(e.pathname,{path:"/board/:id/edit/add_collaborators",exact:!0}),h=e=>!!(0,o.matchPath)(e.pathname,{path:"/boardsection/:id/edit",exact:!0}),m=e=>!!(0,o.matchPath)(e.pathname,{path:"/pin/:id/comments",exact:!0}),_=e=>!!(0,o.matchPath)(e.pathname,{path:"/pin/:id/edit",exact:!0}),g=e=>!!(0,o.matchPath)(e.pathname,{path:"/conversation/:id",exact:!0}),v=e=>!!(0,o.matchPath)(e.pathname,{path:"/appealed-pin/",exact:!0}),f=e=>e.pathname.startsWith("/age-appeal"),y=e=>e.pathname.startsWith("/business/"),b=e=>e.pathname.startsWith("/business/invite/"),x=e=>!!(0,o.matchPath)(e.pathname,{path:"/pin/:id/visual-search/",exact:!0}),w=e=>"/"===e.pathname,S=e=>e.pathname.startsWith("/login"),P=e=>!!(0,o.matchPath)(e.pathname,{path:"/today",exact:!0}),T=e=>e.pathname.startsWith("/password/reset")||!!(0,o.matchPath)(e.pathname,{path:"/pw/:username",exact:!0}),E=e=>e.pathname.startsWith("/signup"),I=e=>e.pathname.startsWith("/email/subscription"),A=e=>e.pathname.startsWith("/notifications/"),k=e=>!!(0,o.matchPath)(e.pathname,{path:"/pin/:id",exact:!0}),C=e=>k(e)&&void 0===e.state,R=e=>e.pathname.startsWith("/pin_redirect"),L=e=>e.pathname.startsWith("/search"),j=e=>!!(0,o.matchPath)(e.pathname,{path:"/ideas",exact:!0}),D=e=>!!(0,o.matchPath)(e.pathname,{path:"/ideas/:interest/:id",exact:!0}),O=e=>!!(0,o.matchPath)(e.pathname,{path:"/videos/:category/:id",exact:!0}),N=e=>e.pathname.startsWith("/videos"),M=e=>e.pathname.startsWith("/topics"),U=e=>e.pathname.startsWith("/today/article/")||e.pathname.startsWith("/today/best/")||e.pathname.startsWith("/today/trending/"),F=e=>e.pathname.startsWith("/today/shop/"),z=e=>P(e)||U(e)||e.pathname.startsWith("/today/popular/"),Z=e=>/^\/discover\/article\/\S+\/?/i.test(e.pathname),B=e=>e.pathname.startsWith("/pin/create/"),H=e=>!!(0,o.matchPath)(e.pathname,{path:"/:username/",exact:!0})&&!r.includes(e.pathname.replace(/\/$/,"")),V=e=>e.pathname.startsWith("/unauth-profile"),W=e=>e.pathname.startsWith("/pin/"),G=e=>"#imgViewer"===e.hash,$=e=>new RegExp("invite_code").test(e.search),K=e=>!!(0,o.matchPath)(e.pathname,{path:"/pin/:id",exact:!1})&&(e.pathname.includes("/sent/")||e.pathname.includes("/feedback/")),q=e=>$(e)&&((K(e)?"pin":a(e)&&"board")||H(e)&&"profile")||null,Y=e=>e.pathname.includes("/repin/x"),X=e=>e.pathname.startsWith("/_/storyboard"),J=e=>e.pathname.startsWith("/oauth"),Q=e=>e.pathname.startsWith("/app-factory-oauth"),ee=e=>e.pathname.includes("/scheduled-pin/"),te=e=>e.pathname.startsWith("/business/convert"),ne=e=>e.pathname.startsWith("/pin-editor"),ie=e=>e.pathname.startsWith("/pin-builder"),re=e=>e.pathname.startsWith("/story-pin-builder")||e.pathname.startsWith("/idea-pin-builder"),oe=e=>e.pathname.startsWith("/advertiser/quick-promote"),ae=e=>e.pathname.startsWith("/settings"),se=e=>e.pathname.startsWith("/story-pin-invite")||e.pathname.startsWith("/idea-pin-invite"),le=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/business-access/")&&e.pathname.includes("/dashboard/"),ce=e=>void 0!==e.pathname&&e.pathname.startsWith("/tv/studio"),de=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/schedule_call/"),ue=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/commerce-integrations/connect/")},249647:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(968630),r=n.n(i);function o(e,t=!1){return n=>{if(!r()(n))return t&&Array.isArray(n)?n.map(o(e,t)):n;const i={};return Object.keys(n).forEach((a=>{const s=e(n[a],a);r()(n[a])||t&&Array.isArray(n[a])?i[s]=o(e,t)(n[a]):i[s]=n[a]})),i}}function a(e,t=!1){const n=(t,n)=>e(n);return e=>o(n,t)(e)}},567450:(e,t,n)=>{function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>a});const r=new class{constructor(){i(this,"onResumeListeners",[]),i(this,"onPauseListeners",[]),i(this,"inExp",!1)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter((t=>t!==e))}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter((t=>t!==e))}},o=e=>{if(e.isHidden){const{reason:t}=e;r.onPauseListeners.forEach((e=>e(t)))}else r.onResumeListeners.forEach((e=>e()))};setTimeout((()=>{window.addEventListener("beforeunload",(()=>o({isHidden:!0,reason:"beforeunload"}))),window.addEventListener("focus",(()=>o({isHidden:!1}))),window.addEventListener("blur",(()=>o({isHidden:!0,reason:"blur"}))),window.addEventListener("pageshow",(()=>o({isHidden:!1}))),window.addEventListener("pagehide",(()=>o({isHidden:!0,reason:"pagehide"}))),void 0!==document.hidden?document.addEventListener("visibilitychange",(()=>o(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",(()=>o(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})),!1)}),0);const a=r},627995:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(927104),r=n(898781),o=n(903095),a=n(112690),s=n(883119),l=n(785893);const c=(e,t)=>{let n={};if(e){const{pinData:i,viewData:r}=e;n={unauth_click_pin_id:i.id,unauth_click_pin_image_signature:i.imageSignature},3===t?n={...n,unauth_page_pin_id:r.id,unauth_page_pin_image_signature:r.imageSignature}:5===t&&(n={...n,unauth_page_board_id:r.id})}return n},d=({clickLoggingOptions:e,domain:t,link:n,onClick:d})=>{var u;const p=null===(u=(0,o.lO)())||void 0===u?void 0:u.logging,h=(0,r.ZP)(),m=(0,a.Z)(),_=()=>[{event_type:8948},{event_type:12},{event_type:101,element:0,aux_data:c(e.unauthRankingLoggingData,null==p?void 0:p.viewType)}].map((t=>({component:0,element:162,view_type:null==p?void 0:p.viewType,view_parameter:null==p?void 0:p.viewParameter,aux_data:e.auxData,object_id_str:e.auxData.objectId,...t})));return(0,l.jsx)(s.iP,{onTap:({event:e})=>{e.stopPropagation(),_().forEach((e=>m(e))),d(e)},children:(0,l.jsxs)(s.xu,{marginBottom:4,marginStart:4,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",left:!0,bottom:!0,children:[(0,l.jsx)(s.xu,{marginEnd:1,children:(0,l.jsx)(s.JO,{size:9,icon:"arrow-up-right",color:"light",accessibilityLabel:h._('Link', 'unauth.pin.domain.link', 'Link to take them to the source of the iamge')})}),(0,l.jsx)("a",{href:n,onClick:e=>{e.stopPropagation(),_().forEach((e=>m(e))),d(e)},rel:"nofollow noopener noreferrer",target:"_blank",type:"button",children:(0,l.jsx)(s.xv,{size:"200",inline:!0,weight:"bold",lineClamp:1,color:"inverse",children:(0,i.Z)(t,27)})})]})})}},55275:(e,t,n)=>{n.d(t,{P:()=>a,t:()=>s});var i=n(6637);const r=()=>{};const o={complaint:function(e,t){i.Z.create("PinFeedbackResource",e).callUpdate().then((()=>t()))},followBoard:function(e,t){i.Z.create("BoardFollowResource",e).callCreate().then((()=>t()))},followPinner:function(e,t){i.Z.create("UserFollowResource",e).callCreate().then((()=>t()))},followTopic:function(e,t){i.Z.create("InterestFollowResource",e).callCreate().then((()=>t()))},newsHubPinHide:function(e,t){i.Z.create("NewsHubPinFeedbackResource",e).callUpdate().then((()=>t()))},promotedComplaint:function(e,t){i.Z.create("PinFeedbackResource",e).callUpdate().then((()=>t()))},relatedPinHide:function(e,t){i.Z.create("RelatedPinFeedbackResource",e).callUpdate().then((()=>t()))},reportPin:function(e,t){t()},showAdReasons:function(e,t){t()},unfollowBoard:function(e,t){i.Z.create("BoardFollowResource",e).callDelete().then((()=>t()))},unfollowPinner:function(e,t){i.Z.create("UserFollowResource",e).callDelete().then((()=>t()))},unfollowTopic:function(e,t){i.Z.create("InterestFollowResource",e).callDelete().then((()=>t()))},unrelatedSearchPin:function(e,t){i.Z.create("SearchPinFeedbackResource",e).callUpdate().then((()=>t()))}},a=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function s(e,t,n=r){const i=e?o[e]:null;return i?i(t,n):n()}},680046:(e,t,n)=>{n.d(t,{EF:()=>u,XZ:()=>c,ZP:()=>s,nb:()=>d,yl:()=>l});var i=n(966113),r=n(55275),o=n(760372);const a=e=>e.length>32?`${e.substring(0,32).trim()}...`:e,s=({i18n:e,interpolateNamedTemplate:t})=>({getLearnMoreUrl:(e,t)=>{switch(e){case 1:return i.Z.settings.HELP_PROMOTED_PINS_RETARGETED_PIN_URL;case 2:case 3:return i.Z.settings.HELP_PROMOTED_PINS_LOOKALIKE_TARGETING_URL;default:return t?i.Z.settings.HELP_DEFAULT_PROMOTED_PINS_URL:i.Z.settings.HELP_PROMOTED_PINS_URL}},getRecommendationDescription:({ad_match_reason:n,board:i,feedbackType:r,makeNavigateLink:o,pinner:s,promoter:l,recommendationReason:c,sourceInterest:d})=>{switch(r){case"pfy":return e._('This Pin was inspired by your recent activity', 'Pin feedback reason', 'Pin feedback reason');case"pfyBoard":const{name:r,url:u}=c.board,p=o("navigation",u,r);return t(e._('This Pin was inspired by your board {{ boardLink }}', 'Pin feedback - inspired by your board', 'Pin feedback - inspired by your board'),{boardLink:p});case"topic":const{name:h,url_name:m}=d,_=o("topicUrl",`/topics/${m}`,h);return t(e._('This Pin was inspired by {{ formattedTopic }}', 'Pin feedback', 'Pin feedback'),{formattedTopic:_});case"followed":const g=`/${s.username}`,v=o("boardUrl",i.url,a(i.name)),f=o("pinnerUrl",g,a(s.full_name));return s.explicitly_followed_by_me?t(e._('This Pin is from {{ formattedPinner }}, a profile you follow', 'Pin feedback', 'Pin feedback'),{formattedPinner:f}):t(e._('This Pin is from {{ formattedBoard }}, a board you follow', 'Pin feedback', 'Pin feedback'),{formattedBoard:v});case"promoted":switch(n){case 1:case 2:case 3:return e._('This ad was personalized for you using info from one of our partners', 'Pin feedback', 'Pin feedback');default:const{full_name:n,username:i}=l,r=o("promotedLink",i?"/"+i+"/":"/",n);return t(e._('{{ promoterLink }} paid to have this Pin show up where\n          you\u2019d be more likely to notice it', 'Pin feedback', 'Pin feedback'),{promoterLink:r})}default:return null}},getFeedbackType({board:e,feedback:t,viewParameter:n,pin:{promoter:i,is_downstream_promotion:r,recommendation_reason:o},pinner:a}){const s=t&&t.type;return i&&!r?"promoted":s||((e=>!!e&&"FOLLOWED_INTEREST"!==e.reason&&"FOLLOWING_FEED"!==e.reason&&"RECENT_FOLLOWED_BOARD"!==e.reason&&!0)(o)?o.board?"pfyBoard":"pfy":o&&"FOLLOWED_INTEREST"===o.reason?"topic":e&&e.followed_by_me||a&&a.explicitly_followed_by_me?"followed":140===n||144===n||141===n||145===n||139===n||3173===n?"related":92===n?"default":3082===n?"newsHub":null)},getHidePinAction:({feedbackData:e,feedbackType:t,pinId:n,recommendationReasonId:i,pinFeedbackType:r,complaintReason:o,throughId:a,throughProperties:s,clientTrackingParams:l})=>{const c="promoted"===t;let d,u;switch(t){case"promoted":d="promotedComplaint";break;case"search":d="unrelatedSearchPin";break;case"related":d="relatedPinHide";break;case"newsHub":d="newsHubPinHide";break;default:d="complaint"}switch(t){case"search":u={query:e.query,pin_id:n};break;case"related":u={pin:n};break;case"newsHub":u={pinId:n,newsId:e.newsId};break;default:u={complaint_reason:o||0,pin_id:n,...i?{recommendation_reason_id:i}:{},feedback_type:r||1,promoted:c,...a?{through_id:a}:{},...s?{through_properties:s}:{},...l?{client_tracking_params:l}:{}}}return{action:d,actionOptions:u}},getUnfollowAction:({board:n,feedbackType:i,makeNavigateLink:r,pinner:a,sourceInterest:s})=>{if("topic"===i){if(s){const{id:n,name:i,url_name:a}=s,l=r("topicUrl",`/topics/${a}`,i,!0),c=t(e._('We\u2019ll show you less Pins from {{ formattedTopic }} in the future.', 'pin.contextualMenu.feedback.unfollowTopic.subtitle', 'Confirmation text after unfollowing a topic'),{formattedTopic:l});return{action:"unfollowTopic",actionOptions:{interest_id:n,interest_list:o.X},title:"",subTitle:c}}}else if("followed"===i&&n&&a){const{id:i,name:o,url:s}=n||{},{explicitly_followed_by_me:l,full_name:c,username:d}=a,u=`/${d}`,p=r("boardUrl",s,o,!0),h=r("pinnerUrl",u,c,!0);let m=l?t(e._('You\u2019ve unfollowed {{ formattedPinner }}\u2019s Board {{ formattedBoard }}. You can follow it again by searching for it.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedPinner:h,formattedBoard:p}):t(e._('You\u2019ve unfollowed {{ formattedBoard }}. You can follow it again by searching for it.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:p});return m=l?t(e._('You unfollowed {{ formattedPinner }} and won\u2019t see Pins they save anymore.', 'Confirmation text after unfollowing a user', 'Confirmation text after unfollowing a user'),{formattedPinner:h}):t(e._('You unfollowed the board {{ formattedBoard }} and won\u2019t see Pins saved to it anymore.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:p}),{action:"unfollowBoard",actionOptions:{board_id:i},title:"",subTitle:m}}return null}});function l(e){return null!=e&&e.reason_id?e.reason_id:null!=e&&e.board?e.board.id:null!=e&&e.pin?e.pin.id:null!=e&&e.interest?e.interest.id:""}function c(e){return null==e?void 0:e.through_properties}function d(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}function u(e,t,n,i,o,a,s){return()=>{const l={...e,undo:!0};let c=t;"unfollowPinner"===t?c="followPinner":"unfollowBoard"===t?c="followBoard":"unfollowTopic"===t&&(c="followTopic"),(0,r.t)(c,l),a(n),s({event_type:101,component:0,element:11181,view_type:i,view_parameter:o})}}},248975:(e,t,n)=>{function i({embedSrc:e,embedType:t,images:n,preferredResolution:i}){if(!e&&!t&&!n)return"";if("gif"===t)return e||"";const r=n;if(!r)return"";if(i){const e="474x"===i&&r["474x"]||"236x"===i&&r["236x"]||r["736x"];if(e&&e.url)return e.url}const o=Object.keys(r).map((e=>{try{const t=e.split("x")[0];return Number.isNaN(Number(t))?(r[t]=r[e],t):e}catch(t){return""}}));o.sort();const a=o.pop();return r[a]&&r[a].url||""}n.d(t,{Z:()=>i})},958007:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(992750);const r=e=>(e||"").trim().replace(/\s+/g," "),o=({storyPinDataId:e,pinDescription:t,richMetadataDescription:n,richSummaryDisplayName:o,placeSummaryName:a,closeupDescription:s,closeupUnifiedDescription:l})=>!!e?r(t):r((0,i.eK)({richMetadataDescription:n,richSummaryDisplayName:o,placeSummaryName:a,closeupUnifiedDescription:l}).description)||r(l||"")||r(s)||r(t)||r(n)||""},164985:(e,t,n)=>{n.d(t,{Z:()=>i});function i(){let e=800,t=400;return"undefined"!=typeof window&&(e=window.innerHeight,t=window.innerWidth),{windowHeight:e,windowWidth:t}}},623568:(e,t,n)=>{n.d(t,{Js:()=>s,NK:()=>f,Nc:()=>y,VX:()=>l,Zt:()=>g,_J:()=>u,_Q:()=>a,_S:()=>b,cL:()=>m,dZ:()=>S,hb:()=>v,hy:()=>d,iR:()=>o,jL:()=>c,o:()=>x,oN:()=>i,pU:()=>w,rM:()=>_,sV:()=>p,sY:()=>h});const i=5e3,r=["Uploaded by user"],o=e=>!!e&&!!e.video_list,a=e=>!!e.promoted_is_lead_ad,s=(e,t)=>{let n=e&&e.url?e.url.split("/")[1]:"";return t&&t.full_name&&(n=t.full_name),n},l=e=>{var t;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null===(t=e.rich_metadata)||void 0===t?void 0:t.products)&&e.rich_metadata.products.length>0||!1},c=e=>!!e.promoter&&!e.is_downstream_promotion,d=e=>!!e,u=e=>!!e.video_status&&5!==e.video_status,p=e=>["email","messages","deep_linking"].includes(e),h=e=>!!e&&"gif"===e,m=({embedSrc:e,embedSubtype:t,embedType:n})=>!!e&&!h(n)&&!(e=>"pinstory"===e)(t),_=({link:e,mobileLink:t,trackedLink:n})=>!t&&!n&&!e,g=({link:e,mobileLink:t,origImageUrl:n,trackedLink:i})=>t||i||e||n||"",v=({isStoryPin:e,isVideoPin:t})=>e?"storyPin":t?"video":"image",f=(e,t)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:t.state?t.state.trackingParams:""}}});function y(e){var t,n;return!o(e.videos)&&!d(e.story_pin_data_id)&&0!==Object.keys((null===(t=e.aggregated_pin_data)||void 0===t||null===(n=t.creator_analytics)||void 0===n?void 0:n["30d_realtime"])||{}).length}function b(e){for(const t of r)if(e===t)return!1;return!0}function x(e){var t;return 0!==Object.keys((null===(t=e.creator_analytics)||void 0===t?void 0:t["30d_realtime"])||{}).length}function w(e){var t;return 0!==Object.keys((null===(t=e.public_creator_analytics)||void 0===t?void 0:t.all_time_realtime)||{}).length}function S(e){var t,n;return!(null===(t=e.creator_analytics)||void 0===t||null===(n=t["30d_realtime"])||void 0===n||!n.is_realtime)}},992750:(e,t,n)=>{n.d(t,{hP:()=>u,fs:()=>l,eK:()=>c,Ly:()=>d,BY:()=>p,bN:()=>h,RC:()=>a,EU:()=>s});const i=/\s\s+/g,r=e=>e.replace(i," ");var o=n(883561);const a=({storyPinDataMetadataPinTitle:e,pinTitle:t})=>e||t,s=(e,t)=>e?e.trim().length>t?(0,o.ZP)(e.trim(),t).trim():e.trim():"",l=({pinTitle:e,gridTitle:t,richSummaryDisplayName:n,richMetadataTitle:i,storyPinDataId:r,storyPinDataMetadataPinTitle:o,placeSummaryName:a})=>{const l=o||e,c=s(t,200);return c||(n||(a||(i||(r&&l?l:null))))},c=e=>{var t,n,i,a;const{richSummaryDisplayName:s,placeSummaryName:l}=e,c=null!==(t=e.pinJoinVisualAnnotation)&&void 0!==t?t:[],d=null!==(n=e.pinJoinAnnotationsWithLinks)&&void 0!==n?n:{},u=null!==(i=e.richMetadataDescription)&&void 0!==i?i:"",p=null!==(a=e.closeupUnifiedDescription)&&void 0!==a?a:"",h=c.map((e=>(d||{})[e]||{name:e,url:""}));let m="";const _=(({richSummaryDisplayName:e,placeSummaryName:t})=>e||t||"")({richSummaryDisplayName:s,placeSummaryName:l}).toLocaleLowerCase().trim(),g=u.toLocaleLowerCase().trim(),v=p.toLocaleLowerCase().trim();return p&&p.length>3&&v!==_?m=p:u&&u.length>3&&g!==_&&(m=u),m&&(m=r((0,o.ZP)(m,496)).trim()),{description:m,annotationsWithLinks:h}},d=({pinTitle:e,gridTitle:t,richSummaryDisplayName:n,richMetadataTitle:i,storyPinDataId:r,storyPinDataMetadataPinTitle:o,placeSummaryName:a,pinJoinVisualAnnotation:s,pinJoinAnnotationsWithLinks:d})=>{const{annotationsWithLinks:u}=c({pinJoinVisualAnnotation:s,pinJoinAnnotationsWithLinks:d}),p=(u||[]).map((e=>e.name)),h=e=>(e||[])[0]||null;return l({pinTitle:e,gridTitle:t,richSummaryDisplayName:n,richMetadataTitle:i,storyPinDataId:r,storyPinDataMetadataPinTitle:o,placeSummaryName:a})||h(s)||h(p)||e},u=(e,t,n,i)=>{var r;let o=(r=e,"string"==typeof r?r:"").trim();if(!n)return i&&i.trim().length?i:o;i&&i.trim().length&&(o=i);let a=n;return a&&a.length>0&&(a=a.join(", "),o&&(o+=" "),o+=a),o},p=e=>`/pin/${e}/`,h=({pinId:e,seoUrl:t})=>t&&"string"==typeof t?t:p(e)},584595:(e,t,n)=>{n.d(t,{$j:()=>L,Cx:()=>z,D4:()=>k,E:()=>c,E6:()=>E,H9:()=>U,Jt:()=>O,Jw:()=>a,LJ:()=>M,NF:()=>l,OW:()=>u,Pv:()=>j,RL:()=>w,ZP:()=>H,Zn:()=>P,_K:()=>_,aG:()=>m,an:()=>I,at:()=>D,bd:()=>d,cZ:()=>p,dO:()=>h,hE:()=>F,hU:()=>v,iK:()=>b,iZ:()=>R,ik:()=>Z,ky:()=>N,lg:()=>g,nY:()=>y,nf:()=>x,oP:()=>f,pH:()=>r,qF:()=>B,rM:()=>C,rm:()=>A,tL:()=>s,tz:()=>o,xN:()=>T,yV:()=>S});var i=n(817656);const r=101,o=93,a=117,s=116,l=111,c=118,d=9,u=8,p=16,h=12,m=3,_=18,g=105,v=79,f=78,y=77,b=76,x=1402,w=85,S=88,P=1201,T=30,E=84,I=83,A=2901,k=2904,C=2905,R=95,L=19,j=113,D=91,O=2501,N=2915,M=2986,U=3050,F=2,z=[u,d],Z=[u,d,i.Ej],B=new Map([[1,"INVALID_PARAMETERS"],[100,"INVALID_NETWORK_ACCESS_TOKEN"],[g,"FACEBOOK_ACCOUNT_NOT_LINKED"],[h,"API_SERVER_ERROR"],[1202,"LOGIN_MFA_TOKEN_INVALID"],[1203,"MFA_CONNECTION_ERROR"],[13,"API_DOWN"],[181,"GPLUS_CONNECTION_ERROR"],[14,"API_SERVER_SPAM_CONTENT"],[p,"API_REQUEST_TIMEOUT"],[50,"API_ERROR_PIN_NOT_FOUND"],[y,"INVALID_PASSWORD_FB_USER"],[f,"INVALID_PASSWORD_ERROR_CODE"],[v,"INVALID_EMAIL_ERROR_CODE"],[80,"INVALID_EMAIL_OR_PASSWORD"],[82,"LOGIN_DEACTIVATED_USER"],[I,"LOGIN_POLICY_VIOLATION_USER"],[w,"AUTO_PASSWORD_RESET_ERROR_CODE"],[86,"LOGIN_PANICKED_USER"],[87,"LOGIN_SOFT_BANNED_USER"],[o,"API_ERROR_UNDERAGE_REGISTER_ATTEMPT"],[s,"API_ERROR_OVERAGE_REGISTER_ATTEMPT"],[99,"LOGIN_PASSWORD_NOT_CREATED"],[u,"API_LIMIT_EXCEEDED_ERROR"],[d,"API_EVENT_BLOCKED_ERROR"],[L,"USER_IN_SAFE_MODE"],[E,"LOGIN_VOLUNTARILY_DEACTIVATED_USER"],[w,"LOGIN_BAD_PASSWORD_ASK_RESET"],[P,"LOGIN_MFA_REQUIRED"],[T,"LOGIN_USER_NOT_FOUND"],[S,"LOGIN_HARD_BANNED_USER"],[429,"RESPONSE_CODE_TOO_MANY_REQUESTS"],[A,"SAR_DOWNLOAD_LIMIT"],[k,"SAR_EMAIL_UNVERIFIED"],[C,"SAR_EMAIL_MISSING"]]),H=[u,d,L,I,w,S]},467570:(e,t,n)=>{n.d(t,{$:()=>c,GH:()=>l,JF:()=>v,Jb:()=>h,MI:()=>_,a7:()=>g,sl:()=>u,we:()=>p});var i=n(935879),r=n(713930),o=n(816068),a=n(6637),s=n(539497);const l="274266067164",c=["public_profile","email","user_birthday","user_friends"],d=["picture.type(large)","id","first_name","last_name","email","gender","birthday"],u=e=>{e&&(0,s.dy)({event:"load_script_success",provider:"facebook"}),"undefined"!=typeof window&&window.FB?(e&&(0,s.dy)({event:"initialize_library",provider:"facebook"}),window.FB.init({appId:l,status:!0,xfbml:!0,version:"v2.7"})):e&&(0,s.dy)({event:"global_object_not_found",provider:"facebook"})},p=(e,t)=>{t&&(0,s.dy)({event:"load_script_start",provider:"facebook"});return(0,r.Z)((0,i.Z)(e),"FACEBOOK").then((()=>u(t)))},h=()=>new Promise((e=>{"undefined"!=typeof window&&window.FB&&window.FB.getLoginStatus(e)})),m=({userID:e,accessToken:t,data:{birthday:n,email:i,first_name:r,gender:a,last_name:s,picture:l}})=>({type:"facebook",facebook_id:e,facebook_token:t,birthday:n?(0,o.Z)(n):void 0,email:i,first_name:r,gender:a,image_url:l&&!l.data.is_silhouette?l.data.url:void 0,last_name:s});async function _(e){var t;const n=(null===(t=(await a.Z.create("ApiResource",{url:"/v3/facebook/profile_data/",data:{access_token:e,pii_safe_birthday:!0,fields:d.join(",")}}).callCreate()).resource_response)||void 0===t?void 0:t.data)||{};return{access_token:e,birthday:n.birthday,email:n.email,first_name:n.first_name,gender:n.gender,id:n.id,last_name:n.last_name,picture:n.picture}}const g=(e,t)=>new Promise(((n,i)=>{if("connected"!==e.status)return void i({status:e.status||"unknown"});const{userID:r,accessToken:o}=e.authResponse,a=e=>{n({creds:{facebook_id:r,facebook_token:o,facebook_autologin:(null==t?void 0:t.autologin)||!1},signupOptions:m({userID:r,accessToken:o,data:e})})};null!=t&&t.useSDK?window.FB.api(`/me?fields=${d.join(",")}`,a):_(o).then(a,i)})),v=()=>new Promise((e=>{window.FB.login(e,{scope:c.join(",")})})).then((e=>g(e)))},935879:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>`//connect.facebook.net/${(e=>{const t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}})(e)}/sdk.js`},760372:(e,t,n)=>{n.d(t,{X:()=>i});const i="favorited"},773285:(e,t,n)=>{n.d(t,{F:()=>o,a:()=>r});var i=n(425288);const{Provider:r,useHook:o}=(0,i.Z)("ExperimentContext")},30287:(e,t,n)=>{n.d(t,{AJ:()=>b,FB:()=>_,FP:()=>m,Kj:()=>v,Rx:()=>h,So:()=>g,kM:()=>f});var i=n(231486),r=n(567831),o=n(794230),a=n(704177),s=n(826067),l=n(226198);const c="android-app://com.pinterest.twa",d="pwa_hostname",u="pwa_redirected",p="homescreen_icon",h=e=>["twa","cct","browser","webview"].includes(e),m=e=>{var t,n;return!!e&&((i.U2(l.tg)||"").startsWith(c)||(e.document&&e.document.referrer||"").startsWith(c)||!(!(n=null===(t=e.location)||void 0===t?void 0:t.search)||!h((0,s.mB)(n).twa_type)))},_=e=>{var t,n;if(!e)return null;if(e.Windows)return"windows";if((e=>!!e&&(e.document&&e.document.referrer||"").startsWith("app-info://platform/microsoft-store"))(e))return"msft-store";if(m(e))return"android-twa";if(e.matchMedia&&(null!==(t=e.matchMedia("(display-mode: standalone)"))&&void 0!==t&&t.matches||null!==(n=e.matchMedia("(display-mode: minimal-ui)"))&&void 0!==n&&n.matches)&&e.navigator&&e.navigator.userAgent){const t=e.navigator.userAgent;if(t.includes("Chrome"))return"chrome";if(t.includes("Safari"))return"safari"}return"unknown"},g=e=>{const t=_(e);return!(!t||"unknown"===t)},v=(e,t)=>{if("unknown"!==t)switch(t){case"twa":return 3354;case"cct":return 3355;case"browser":return 3356;default:return null}else switch(e){case"chrome":return 3351;case"safari":return 3352;default:return null}};function f(e,t){if(void 0===e)return"notEligible";if(!g(e)&&e.navigator&&e.navigator.userAgent){if(e.navigator.userAgent.includes("Windows NT 10.0"))return"windows";if(t&&t())return"chrome"}return"notEligible"}const y=e=>{if(!e)return;const t=a.Xb.getItem(d)||"";if(t!==e.location.hostname&&!(()=>{const e=Number(a.Xb.getItem(u));return Date.now()-e<6e4})()){const{pathname:n}=e.location,i=(0,o.Z)(n,{utm_source:p}),s=(0,r.Z)(i,void 0,t);a.Xb.setItem(u,Date.now()),e.location.href=s}},b=e=>{if(e)if((e=>{var t;return(0,s.mB)(null===(t=e.location)||void 0===t?void 0:t.search).utm_source===p})(e)){const{hostname:t}=e.location;a.Xb.setItem(d,t)}else e.navigator.userAgent&&e.navigator.userAgent.includes("CrOS")&&y(e)}},813401:(e,t,n)=>{n.d(t,{kf:()=>g,l5:()=>m,of:()=>p,xC:()=>_,yz:()=>h});var i=n(667294),r=n(172071),o=n(829407),a=n(807609),s=n(30287),l=n(425288),c=n(785893);const{Provider:d,useMaybeHook:u}=(0,l.Z)("PwaContext"),p=({children:e,initialContext:t})=>{const[n,a]=(0,i.useState)(null),l=t||{pwaType:"unknown",twaType:null},u=l.pwaType;(0,o.Z)((()=>{const e=(0,s.FB)(window)||"unknown";a(e),u!==e&&r.Z.increment("pwa.type_mismatch",1,{serverPwaType:u,clientPwaType:e,conflict:"unknown"!==u&&"unknown"!==e})}));const p="unknown"===u&&n?n:u,h=l.twaType,m=(0,i.useMemo)((()=>({pwaType:p,twaType:h})),[p,h]);return(0,c.jsx)(d,{value:m,children:e})},h=()=>{var e;const t=u();return null!==(e=null==t?void 0:t.pwaType)&&void 0!==e?e:"unknown"},m=()=>{var e;const t=u();return null!==(e=null==t?void 0:t.twaType)&&void 0!==e?e:null},_=()=>"android-twa"===h(),g=()=>{const e=h(),t=(0,a.Z)();return"unknown"===e&&t?null:"windows"===e}},198462:(e,t,n)=>{n.d(t,{cA:()=>j,fM:()=>D,N5:()=>O});var i=n(667294),r=n(991067),o=n(435851),a=n(172071),s=n(31062),l=n(383434),c=n(482131);const d=(0,l.X)("LayoutShiftDebugger"),u=e=>e instanceof HTMLElement&&e.dataset&&(e.dataset.layoutShiftBoundaryId||e.dataset.testId)||e.parentNode&&u(e.parentNode)||null,p=e=>Math.round(1e3*e);let h=[];const m=({staticContext:e,getCurrentRoute:t,getLastNavigationTime:n})=>{const i=(0,s.Jx)({annotateMarks:["initialAppLoad","RenderReactContainer"],name:"cumulative_layout_shift",pwtStaticContext:e});let r=0;const l=e=>{r=e.timeStamp};window.addEventListener("scroll",l),window.addEventListener("beforeunload",(()=>{window.removeEventListener("scroll",l)}));const m=`${(0,o.Z)(e)}.CLS`,_=()=>(e=>{let t=Object.freeze({}),n=0;h.forEach((({value:e,shift:{sources:i},route:r,hadRecentNavigation:o,hadRecentScroll:a,isAuth:s})=>{if(n+=e,!i||!i.length)return;const l=e/i.length;i.forEach((({node:e})=>{const n=e?u(e)||"ROOT":"NODE_REMOVED",i={route:r,boundaryId:n,hadRecentNavigation:o,hadRecentScroll:a,isAuth:s},c=JSON.stringify(i);t={...t,[c]:{score:((t[c]||{}).score||0)+l,tags:i}}}))})),Object.keys(t).forEach((n=>{const{score:i,tags:r}=t[n];a.Z.count(`${e}.shifts`,p(i),1,{...r})})),d("Debug CLS boundaries",n,t,h),h=[]})(m);let g,v,f=0,y=0,b=0;(0,c.kz)((({entries:i,value:o})=>{if(b=o||0,i.length){g=t(),v=n();const a=i[0].startTime,s=f!==a,l=s?i:i.slice(y);s&&(f=a),h=h.concat(l.map((t=>({value:o,shift:t,route:g,hadRecentNavigation:v>0&&v+500>t.startTime,hadRecentScroll:r>0&&r+500>t.startTime,isAuth:e.isAuthenticated})))),y=i.length}}),!0);const x=setInterval((()=>{if(h.length){_();const t=(e=b)<=.1?"good":e<=.25?"adequate":"poor";a.Z.count(`${m}.${t}`,1,1),i.stop(p(b))}var e}),1e3);window.addEventListener("beforeunload",(()=>{clearInterval(x),0===b&&i.abort("no_shifts_detected")}))};var _=n(311560);var g=n(156381);const v=e=>Number(e.toFixed(2)),f={pin_closeup:{LCP:"pin_closeup_lcp",FID:"pin_closeup_fid"},board:{LCP:"board_lcp",FID:"board_fid"},other_profile:{LCP:"other_profile_lcp",FID:"other_profile_fid"},topic:{LCP:"topic_lcp",FID:"topic_fid"}},y=["CA","GB","DE","FR","AU","JP","BR","MX"],b=({surface:e,isAuthenticated:t})=>{if(t)return[];switch(e){case"pin_closeup":return["mweb_pin_page_ssr_lite"];default:return[]}},x=({pwtStaticContext:e,surface:t})=>{const n="pin_closeup"===t||"board"===t||"other_profile"===t||"topic"===t?(({pwtStaticContext:e,surface:t})=>{const n=(0,s.Jx)({annotateExperiments:b({surface:t,isAuthenticated:e.isAuthenticated}),annotateResourceTimingForSurface:t,annotateMarks:["initialAppLoad","RenderReactContainer",...e.isAuthenticated?[]:["firstClientRenderUnauthPageWrapper","mountUnauthPageWrapper"],..."pin_closeup"===t?["firstClientRenderCloseupPage","firstClientRenderCloseupImage"]:[]],name:f[t].LCP,pwtStaticContext:e}),i=(0,s.Jx)({name:f[t].FID,pwtStaticContext:e});return(e,t)=>{"LCP"===e?n.stop(t):"FID"===e&&i.stop(t)}})({pwtStaticContext:e,surface:t}):null,{isAuthenticated:i,isBot:r,isSocialBot:l,deviceType:d,locale:u}=e,p=u.split("-")[1],h={},m=(s,c,u)=>{if(!h[s]){h[s]=!0;const m=(0,o.Z)(e),g=`${m}.${t}.${s}`,v=`${m}.tags.${t}.${s}`;"LCPCount"===s?(a.Z.count(`${g}.sum`,c,1),a.Z.increment(`${g}.size`,1)):("FID"===s||"FIDStartTime"===s?(a.Z.timing(`${g}`,c,1),a.Z.timing(`${v}`,c,1,{timingBucket:null==u?void 0:u.timingBucket,isAuth:i})):(a.Z.timing(`${g}`,c,1),a.Z.timing(`${v}`,c,1,{isAuth:i})),!i&&y.includes(p)&&(({botType:e,deviceType:t,isChrome:n,region:i})=>{const r=`pwtlogger.${e}.${t}`,o=["all",...i?[i.toLowerCase()]:[]],a=["all",...n?["chrome"]:[]],s=[];return o.forEach((e=>{a.forEach((t=>{s.push(`${r}.region_${e}.browser_${t}`)}))})),s})({botType:(l?"socialBot":r&&"bot")||"nonbot",deviceType:d,isChrome:!0,region:(0,_.Z)(p)}).forEach((e=>{a.Z.timing(`${e}.tags.growthSEO.${t}_${s}`,c,1,{country:p})})),n&&n(s,c))}};(0,c.Tx)((({value:e})=>{const t=(0,g.Af)();let n;n=e<=100?"Good":e>100&&e<=300?"Needs Improvement":"Poor",m("FID",v(e),{timingBucket:n}),t&&m("FIDStartTime",v(t),{timingBucket:n})})),(0,c.Tb)((({value:e})=>{m("LCPCount",(0,g.Kj)()),m("LCP",(e=>10*Math.round(e/10))(e))})),(0,c.Y)((({value:e})=>m("FCP",e)))};var w=n(790348);let S=null;const P=e=>{switch(e){case"/":return"homefeed";case"/pin/:id":return"pin_closeup";case"/pin/:id/visual-search":return"flashlight";case"/:username/:slug":return"board";case"/:username":return"other_profile";case"/search/:scope":return"search";case"/ideas/:interest/:id":return"topic";default:return null}};var T=n(969853),E=n(543059),I=n(7789),A=n(22773),k=n(276775),C=n(785893);const R=(0,i.createContext)(null),L=(0,i.createContext)(null);function j({children:e,immutableLocation:t,resourceTimingCacheSize:n,routerHistoryAction:o,staticContext:a}){const l=(0,i.useRef)(null),c=(0,i.useRef)(null),d=(0,i.useRef)(t),u=(0,i.useRef)(!0),{path:p}=(0,k.useRouteMatch)(),h=(0,i.useRef)(p),_=!a.isCachedRender&&(0,r.Z)(a.deviceType);if((0,i.useEffect)((()=>{h.current=p}),[p]),(0,i.useEffect)((()=>{if((0,A.X_)({size:n||1e3}),(0,g.UQ)(),(0,w.A9)("totalSessionVolume"),window.performance?["clearMarks","clearMeasures","clearResourceTimings","getEntries","getEntriesByName","getEntriesByType","mark","measure","now","setResourceTimingBufferSize"].forEach((e=>{window.performance[e]||(0,w.A9)(`not_supported.window.performance.${e}`)})):(0,w.A9)("not_supported.window.performance"),window.PerformanceObserver||(0,w.A9)("not_supported.window.PerformanceObserer"),(0,T.v)()||(0,w.A9)("not_supported.grid_profiler"),u.current=!1,_&&!I.is){if(((e,t)=>{let n,i=0,r=0,o=null,a=null,l=null,c=null,d=[];const u=()=>{r+=1,l=window.requestAnimationFrame(u)},p=()=>{if(c){const n=d.some((e=>null!==o&&o-e>0&&o-e<=500)),r=t(),{isAuthenticated:l}=e;if(n){const t=(0,s.Jx)({name:"scroll_session",pwtStaticContext:e});if(!t)return;const n={surface:r,isAuthenticated:l};if(null===o||null===a||0===i)if(null===o&&null===a)t.error("no_duration",n);else if(null==o)S=a,t.error("no_start",n);else if(null==a){let e;e=S&&o-S<750?"no_end.outside_window":"no_end.single_event",t.error(e,n)}else t.error("no_frames",n);else{S=a;const e=a-o,s=e/i;0===s?t.error("zero_value",n):s<0?t.error("negative_value",n):(t.addBinaryAnnotation("surface",r,"STRING"),t.addBinaryAnnotation("isAuthenticated",l,"BOOL"),t.addBinaryAnnotation("duration_ms",e,"I32"),t.addBinaryAnnotation("total_frames_rendered",i,"I16"),t.stop(s))}}else(0,w.A9)("WARN.scroll_session.not_user",{tags:{isAuthenticated:l,surface:r}})}window.cancelAnimationFrame(l),i=0,r=0,d=[],a=null,o=null,c=null},h=({timeStamp:e})=>{n&&clearTimeout(n),n=setTimeout(p,500),null===c?(c=100*Math.random()<10,c&&(l=window.requestAnimationFrame(u),o=e)):c&&(a=e,i+=r,r=0)},m=({timeStamp:e})=>{d.push(e)};["wheel","pointerdown","keydown"].forEach((e=>{window.addEventListener(e,m,{passive:!0,capture:!0})})),window.addEventListener("scroll",h,{passive:!0}),window.addEventListener("pagehide",(()=>{window.removeEventListener("scroll",h),["wheel","pointerdown","keydown"].forEach((e=>{window.removeEventListener(e,m)}))}))})(a,(()=>P(h.current)?P(h.current)||"UNKNOWN_SURFACE":h.current||"UNKNOWN_SURFACE")),"Chrome"===a.browserName){m({staticContext:a,getCurrentRoute:()=>h.current,getLastNavigationTime:()=>c.current||0});const e=P(h.current);e&&x({pwtStaticContext:a,surface:e})}}}),[]),d.current!==t){d.current=t,c.current=null!==(v=window.performance)&&void 0!==v&&v.now?window.performance.now():null;const{current:e}=c;if(!u.current){const t=!l.current;(0,w.A9)("routeStart",{tags:{action:o}}),(0,A.Eg)(t),(0,g.Ux)(t),(0,g.on)(),(0,E.tl)();const{customBufferSize:n,defaultBufferSize:i}=(0,A.LH)();e&&((0,w.A9)("routeStart.customBufferSize",{count:n}),(0,w.A9)("routeStart.defaultBufferSize",{count:i}),l.current={time:e,action:o})}}var v;return(0,C.jsx)(R.Provider,{value:_?a:null,children:(0,C.jsx)(L.Provider,{value:l.current,children:e})})}const D=()=>(0,i.useContext)(L),O=()=>(0,i.useContext)(R)},335972:(e,t,n)=>{n.d(t,{Z:()=>Y});var i=n(667294),r=n(317672),o=n(790348);const a=e=>{const t=performance.getEntriesByType("resource").filter((e=>e.name.includes("i.pinimg"))).reduce(((e,t)=>{const n=t.name.replace(".jpg","").split("/");return{[n[n.length-1]]:{downloadSize:t.name.split("/")[3].split("x")[0]},...e}}),{});[...Array.from(document.getElementsByTagName("img")).map((e=>{const n=e.src.replace(".jpg","").split("/"),i=n[n.length-1];if(t[i]){var o;const n=(null===(o=(0,r.rZ)(e))||void 0===o?void 0:o.width)||1,a=t[i].downloadSize;return{fileName:i,renderedSize:n,downloadedSize:a,ratio:a/n}}return{fileName:i,renderedSize:1,downloadedSize:1,ratio:1}})),...Array.from(document.querySelectorAll('div[role="img"]')).map((e=>{const n=e.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),i=n[n.length-1];if(t[i]&&e instanceof HTMLDivElement){var o;const n=(null===(o=(0,r.rZ)(e))||void 0===o?void 0:o.width)||1,a=t[i].downloadSize;return{fileName:i,renderedSize:n,downloadedSize:a,ratio:a/n}}return{fileName:i,renderedSize:1,downloadedSize:1,ratio:1}}))].forEach((t=>{const{ratio:n,fileName:i,downloadedSize:r}=t;t.ratio>1.05&&(0,o.A9)(`checkImageRatio.${e}`,{count:Math.round(10*n)/10,tags:{fileName:`${r}_${i}`}})}))};var s=n(435851),l=n(860273),c=n(543059),d=n(607150);const u=({constraintMap:e,initialNavTiming:t,annotations:n})=>({...n,...(0,d.jh)("constraint_",e),...(0,d.jh)("mark_",(0,c.gQ)()),...(0,d.jh)("browser_",{...t?(0,d.D3)(t):{},...(0,d.rX)()})});var p=n(358864),h=n(505771),m=n(156381);const _=(e,t)=>{const{firstInputDelay:n}=(0,m.v2)();return[...e.map((e=>(0,h.Z)(e,t))).filter(Boolean),...n?[{name:"fid",id:(0,p.Z)(),parentId:t,startTime:n.startTime,endTime:n.endTime,annotationMap:{},binaryAnnotationMap:{}}]:[]]};var g=n(172071),v=n(22773),f=n(453821),y=n(638089);const b=({annotateExperiments:e,annotations:t,binaryAnnotations:n,constraintMap:i,endTime:r,imageTimings:o,metricId:a,pwtStaticContext:c,startTime:d,traceId:p,spans:h})=>{const b=(0,v.Cg)();let x;if("initial_app_load"===a.navigationType&&(x=(0,l.Z)()),"board"===a.surface&&!1===c.isAuthenticated){const e=(0,s.Z)(c),t=(0,m.Bn)();let n;n=t<=2500?"Good":t>2500&&t<=4e3?"Needs Improvement":"Poor";const i=Array.from(b.filter((e=>"number"==typeof e.encodedBodySize&&e.encodedBodySize>=1e4&&e.responseEnd<=r))),o=[],a=[],l=[],d=[];i.forEach((e=>{"img"===e.initiatorType?o.push(e):"css"===e.initiatorType?a.push(e):"script"===e.initiatorType?l.push(e):"xmlhttprequest"===e.initiatorType&&d.push(e)}));const u=(t,i="allResources")=>{const o=t.length;if(o>0&&"object"==typeof t[0]&&!Array.isArray(t[0])){const a=t.sort(((e,t)=>e.fetchStart-t.fetchStart));let s=1;const l=r/5;let c=0;for(;s<=5;){let t=0;for(;c<=o-1&&a[c].fetchStart<=l*s;)c+=1,t+=1;g.Z.gauge(`${e}.tags.board.${i}.fetchStartInterval${s}of5`,t,.2,{lcpTimingBucket:n}),g.Z.gauge(`${e}.board.${i}.fetchStartInterval${s}of5`,t,.2),s+=1}const d={};d.zeroPercentInFlight=a[0].fetchStart,d.twentyFivePercentInFlight=a[Math.floor(o/4)].fetchStart,d.fiftyPercentInFlight=a[2*Math.floor(o/4)].fetchStart,d.seventyFivePercentInFlight=a[3*Math.floor(o/4)].fetchStart,d.hundredPercentInFlight=a[o-1].fetchStart;const u=t.sort(((e,t)=>e.responseEnd-t.responseEnd));d.twentyFivePercentComplete=u[Math.floor(o/4)].responseEnd,d.fiftyPercentComplete=u[2*Math.floor(o/4)].responseEnd,d.seventyFivePercentComplete=u[3*Math.floor(o/4)].responseEnd,d.hundredPercentComplete=u[o-1].responseEnd;for(const t in d)d[t]&&(g.Z.timing(`${e}.tags.board.${i}.${t}`,d[t],.2,{lcpTimingBucket:n}),g.Z.timing(`${e}.board.${i}.${t}`,d[t],.2))}};u(i),u(o,"image"),u(a,"css"),u(l,"scripts"),u(d,"xhr")}const w=o.map((({name:e})=>e)),S=b.map((e=>(0,f.p)(e,w))).filter((({timing:e})=>!(({startTime:e,responseEnd:t},n)=>e>n.endTime||!!t&&t<n.startTime||e<n.startTime-100)(e,{startTime:d,endTime:r})));return{type:"COMPLETE",traceId:p,startTime:d,endTime:r,spans:_(S,p).concat(h),annotationMap:u({constraintMap:i,initialNavTiming:x,annotations:t}),binaryAnnotationMap:(0,y.rA)({annotateExperiments:e,binaryAnnotations:n,entries:b,metricId:a,performanceResources:S,pwtEndTime:r,pwtStaticContext:c})}};let x=!1;const w=(e,t)=>e&&t?x?((0,o.H)("duplicated_initial_app_load_surface_pwt"),(0,p.Z)()):(x=!0,t):(0,p.Z)();var S=n(883119),P=n(226464),T=n(785893);function E({children:e,heading:t}){return(0,T.jsxs)("table",{style:{width:"100%"},cellPadding:4,children:[(0,T.jsx)("thead",{children:(0,T.jsx)("tr",{children:(0,T.jsx)("th",{colSpan:2,style:{background:"#efefef"},children:(0,T.jsx)(S.xv,{weight:"bold",align:"center",children:t})})})}),(0,T.jsx)("tbody",{children:e})]})}function I({name:e,children:t}){return(0,T.jsxs)("tr",{children:[(0,T.jsx)("td",{children:(0,T.jsx)(S.xv,{weight:"bold",children:e})}),(0,T.jsx)("td",{children:"string"==typeof t?(0,T.jsx)(S.xv,{children:t}):t})]})}function A({result:e}){return"ABORT"===e.type?(0,T.jsx)(I,{name:"Abort Reason",children:e.reason}):(0,T.jsxs)(i.Fragment,{children:[(0,T.jsx)(I,{name:"PWT (ms)",children:(0,T.jsx)(S.xv,{align:"end",children:Math.round(e.endTime-e.startTime)})}),(0,T.jsx)(I,{name:"PinTrace",children:(0,T.jsx)(S.xv,{italic:!0,children:(0,T.jsx)(S.rU,{href:`https://pintrace.pinadmin.com/zipkin/traces/${e.traceId.toString(16)}`,target:"blank",inline:!0,onClick:({dangerouslyDisableOnNavigation:e})=>e(),underline:"hover",children:"Open in a new tab"})})})]})}function k({data:e}){const{metricId:t,constraints:n,constraintMap:i,startTime:r,result:o}=e;return(0,T.jsxs)(S.xu,{children:[(0,T.jsxs)(E,{heading:(0,P.KJ)(t),children:[(0,T.jsx)(I,{name:"Thrift Id",children:String((0,P.Rp)(t))}),(0,T.jsx)(I,{name:"Surface",children:t.surface}),(0,T.jsx)(I,{name:"Navigation Type",children:t.navigationType}),(0,T.jsx)(I,{name:"Viewer Authed",children:String(t.isAuthenticated)})]}),(0,T.jsx)(E,{heading:"Constraints",children:n.map((e=>(0,T.jsx)(I,{name:e,children:(0,T.jsx)(S.xv,{align:"end",children:i[e]?Math.round(i[e]-r):"pending..."})},`constraint_${e}`)))}),(0,T.jsx)(E,{heading:"Result",children:o?(0,T.jsx)(A,{result:o}):(0,T.jsx)(I,{name:"result",children:(0,T.jsx)(S.$j,{accessibilityLabel:"profiling PWT",show:!0})})})]})}var C=n(223815);const R=e=>e.result?"COMPLETE"===e.result.type?"darkGray":"red":"gray";function L({data:e}){const[t,n]=(0,i.useState)(!1);return(0,T.jsx)(C.Z,{children:(0,T.jsxs)(S.mh,{children:[(0,T.jsx)(S.xu,{position:"fixed",margin:3,marginBottom:12,bottom:!0,left:!0,width:50,height:50,dangerouslySetInlineStyle:{__style:{zIndex:2e3}},children:(0,T.jsx)(S.hU,{accessibilityLabel:"PwtDebugger",bgColor:"lightGray",iconColor:R(e),icon:"flash",size:"lg",onClick:()=>n(!0)})}),t&&(0,T.jsx)(S.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{zIndex:2e3}},children:(0,T.jsx)(S.u_,{accessibilityModalLabel:"Pinner Wait Time Debugger Details",heading:"Pinner Wait Time",onDismiss:()=>n(!1),footer:null,size:"sm",children:(0,T.jsx)(S.xu,{padding:6,children:(0,T.jsx)(k,{data:e})})})})]})})}var j=n(558775);const D=(e,t)=>{const n=(0,i.useRef)(e);(0,i.useEffect)((()=>{n.current=e}),[e]);const r=(0,i.useRef)(t);(0,i.useEffect)((()=>{r.current=t}),[t]),(0,i.useEffect)((()=>()=>r.current(n.current)),[])},O=(e,t)=>{const[n,r]=(0,i.useState)(t);return{state:n,dispatch:t=>r((n=>e(n,t)))}};var N=n(985271),M=n(7789),U=n(383434),F=n(567450),z=n(276602),Z=n(198462);const B=["initial_app_load","client_route_push"],H=(0,U.X)("PwtSurface"),V="NavigationComplete",W="VisuallyComplete",G=(e,t)=>{e.isSampled&&(0,j.Z)({metricId:e.metricConfig.metricId,pwtStaticContext:e.metricConfig.pwtStaticContext,result:{type:"ABORT",reason:t}})},$=e=>{if(e.metricConfig.constraints.every((t=>e.constraintMap[t]))){const t=Math.max(...e.metricConfig.constraints.map((t=>e.constraintMap[t])));return((e,t)=>{var n;const{metricConfig:{metricId:i,pwtStaticContext:r,annotateExperiments:s},annotations:l,binaryAnnotations:d,constraintMap:u,startTime:p,imageTimings:h,isSampled:m,spans:_}=e;(0,c.L8)(`PWT_Complete_${(0,P.KJ)(i)}`);const g=w("initial_app_load"===i.navigationType,null===(n=r.serverData)||void 0===n?void 0:n.trace_id),v=b({annotateExperiments:s,annotations:l,binaryAnnotations:d,constraintMap:u,endTime:t,imageTimings:h,metricId:i,pwtStaticContext:r,startTime:p,traceId:g,spans:_});m&&(0,j.Z)({metricId:i,pwtStaticContext:r,result:v});try{a(String(v.binaryAnnotationMap["metricId.surface"].value))}catch(f){(0,o.H)("image_ratio_check_error",{error:f})}return{...e,result:v,status:"DONE"}})(e,t)}return e},K=(e,t)=>{const{constraint:n,time:i}=t,r=(0,P.KJ)(e.metricConfig.metricId);return N.Z?e.metricConfig.constraints.find((e=>e===n))?e.constraintMap[n]?(H(`constraint "${n}" is already complete.`),(0,o.H)("duplicated_constraint_complete",{constraint:n,action:r}),e):(H(`marking constraint "${n}" as complete`),(0,c.ZP)(`constraint_${n}_is_complete`),$({...e,constraintMap:{...e.constraintMap,[n]:i||N.Z.now()}})):(H(`marked constraint "${n}" is not a required constraint.`),e):((0,o.H)("missing_window_performance",{action:r}),e)},q=(e,t)=>{if(H("dispatch action",t),"INIT_ROUTE"===t.type)return((e,t)=>{const{metricConfig:n,startTime:i,isSampled:r}=t;if("TIMING"===e.status&&i!==e.startTime&&G(e,"routeUpdatedOnSameSurface"),!n)return{status:"DISABLED",metricConfig:null};const a=(0,P.KJ)(n.metricId);return"TIMING"===e.status&&e.startTime===i&&e.constraintMap.NavigationComplete?((0,o.H)("duplicated_init_route_action",{action:a}),e):("Other"===n.pwtStaticContext.browserName&&!1===n.metricId.isAuthenticated&&"initial_app_load"===n.metricId.navigationType?((0,o.A9)(`TIMING.${a}`,{tags:{userAgent:null===(s=window)||void 0===s||null===(l=s.navigator)||void 0===l?void 0:l.userAgent}}),(0,o.A9)(`TIMING.sampled.${a}`,{tags:{userAgent:null===(c=window)||void 0===c||null===(d=c.navigator)||void 0===d?void 0:d.userAgent},sampleRate:.5})):((0,o.A9)(`TIMING.${a}`),(0,o.A9)(`TIMING.sampled.${a}`,{sampleRate:.5})),K({status:"TIMING",metricConfig:n,startTime:i,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:r,spans:[]},{constraint:V}));var s,l,c,d})(e,t.payload);if("TIMING"!==e.status)return H(`ignoring action due to invalid state ${e.status}`,t),e;switch(t.type){case"ABORT":G(e,t.reason);const n={type:"ABORT",reason:t.reason};return{...e,status:"DONE",result:n};case"ANNOTATE":const{name:i}=t.payload;if(!N.Z)return e;const r=N.Z.now();return H(`adding annotation {${i}: ${r}}`),{...e,annotations:{...e.annotations,[i]:r}};case"BINARY_ANNOTATE":const{name:a,value:s,annotationType:l}=t.payload;return H(`adding binary annotation {${a}: ${s}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[a]:{value:s,type:l}}};case"MARK_CONSTRAINT_COMPLETE":return K(e,t.payload);case"REMOVE_CONSTRAINT":return((e,t)=>{if(!N.Z){const t=(0,P.KJ)(e.metricConfig.metricId);(0,o.H)("missing_window_performance",{action:t})}H(`removing constraint "${t}"`);const n=e.metricConfig.constraints.filter((e=>e!==t)),{[t]:i,...r}=e.constraintMap;return $({...e,constraintMap:r,metricConfig:{...e.metricConfig,constraints:n}})})(e,t.payload);case"SET_SEGMENT":return((e,t)=>{if(!N.Z){const t=(0,P.KJ)(e.metricConfig.metricId);(0,o.H)("missing_window_performance",{action:t})}H(`updating pwt segment to "${t}"`);const n={...e.metricConfig.metricId,segment:t};return{...e,metricConfig:{...e.metricConfig,metricId:n}}})(e,t.payload);case"SET_VISUALLY_COMPLETE_RESULT":{const{payload:{imageTimings:n}}=t;if(0===n.length){G(e,"visuallyComplete_noImages");const t={type:"ABORT",reason:"visuallyComplete_noImages"};return{...e,status:"DONE",result:t}}const i=Math.max(...n.map((e=>e.responseEnd||0)));return K({...e,imageTimings:n},{constraint:W,time:i})}case"ADD_SUBSPAN":const{startTime:c}=e,{payload:{name:d,startTime:u,endTime:h,annotations:m,binaryAnnotations:_,parentId:g}}=t;return{...e,spans:[...e.spans,{name:d,id:(0,p.Z)(),startTime:u||c,endTime:h,annotationMap:{...m},binaryAnnotationMap:{..._},parentId:g}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:t.payload.name,id:(0,p.Z)(),startTime:N.Z?N.Z.now():0,endTime:1/0,annotationMap:{...t.payload.annotations},binaryAnnotationMap:{...t.payload.binaryAnnotations},parentId:t.payload.parentId}]};case"STOP_SUBSPAN":const v=e.spans.findIndex((e=>e.name===t.payload.name));return v>-1?(e.spans[v].endTime=N.Z?N.Z.now():0,t.payload.annotations&&(e.spans[v].annotationMap={...e.spans[v].annotationMap,...t.payload.annotations}),t.payload.binaryAnnotations&&(e.spans[v].binaryAnnotationMap={...e.spans[v].binaryAnnotationMap,...t.payload.binaryAnnotations})):(0,o.H)("invalid_subspan_stop_name",{name:t.payload.name}),e;default:const f=(0,P.KJ)(e.metricConfig.metricId);return(0,o.H)("invalid_pwt_surface_action",{action:f}),e}};function Y({children:e,...t}){var n;const r=(0,Z.fM)(),a=(e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}})(r),s=["seo_web_react18_render","web_react18_render_auth","web_react18_render_unauth",...null!==(n=t.annotateExperiments)&&void 0!==n?n:[]],l={...t,annotateExperiments:s,navigationInfo:{navigationType:a,clientNavigation:r}},{state:c,context:d}=(({surface:e,constraints:t,segment:n,measureGridVisuallyComplete:r,annotateExperiments:o,customEnabledNavigationTypes:a,navigationInfo:{clientNavigation:s,navigationType:l},sampleRate:c})=>{const d=(0,i.useRef)("NOT_SET"),u=(0,Z.N5)(),{state:p,dispatch:h}=O(q,{status:"DISABLED",metricConfig:null});if(d.current!==s&&(d.current=s,u)){const{isAuthenticated:i}=u,d=a||B,p=e&&l&&d.includes(l)?{metricId:{type:"surface",surface:e,navigationType:l,isAuthenticated:i,segment:n},annotateExperiments:o,constraints:[V,...t||[],...r?[W]:[]],pwtStaticContext:u}:null;h({type:"INIT_ROUTE",payload:{metricConfig:p,startTime:s?s.time:0,isSampled:!c||Math.random()<c}})}if((0,i.useEffect)((()=>{const e=e=>{h({type:"ABORT",reason:e})};F.Z.onSessionPause(e);const t=()=>{window.removeEventListener("resize",t),h({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",t),()=>{F.Z.removePauseListener(e),window.removeEventListener("resize",t)}}),[]),D(p,(e=>{H("handling unmount",e),"TIMING"===e.status&&G(e,"unmount")})),"TIMING"!==p.status||!p.constraintMap.NavigationComplete)return{state:p,context:null};const{startTime:m,metricConfig:_}=p;return{state:p,context:{id:m,metricId:_.metricId,abort:e=>h({type:"ABORT",reason:e}),addAnnotation:e=>h({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,t,n)=>h({type:"BINARY_ANNOTATE",payload:{name:e,value:t,annotationType:n}}),setVisuallyCompleteResult:_.constraints.includes(W)?e=>h({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,markConstraintComplete:e=>h({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:N.Z?N.Z.now():0}}),removeConstraint:e=>h({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>h({type:"SET_SEGMENT",payload:e}),addSubspan:(e,t,n,i={},r={},o=null)=>h({type:"ADD_SUBSPAN",payload:{name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:r,parentId:o}}),startSubspan:(e,t={},n={},i=null)=>h({type:"START_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:i}}),stopSubspan:(e,t={},n={},i=null)=>h({type:"STOP_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:i}})}}})(l);return(()=>{const e=(0,z.EV)(),t=!!e;(0,i.useEffect)((()=>{if(t){const t=null!=e&&e.metricId?(0,P.KJ)(e.metricId):null;(0,o.H)("nested_pwt_surface",{action:t})}}),[t])})(),(0,T.jsxs)(i.Fragment,{children:[(0,T.jsx)(z.Sb,{value:d,children:e}),M.DQ&&"DISABLED"!==c.status&&(0,T.jsx)(L,{data:{metricId:c.metricConfig.metricId,constraints:c.metricConfig.constraints,constraintMap:c.constraintMap,startTime:c.startTime,result:"DONE"===c.status?c.result:null}})]})}},276602:(e,t,n)=>{n.d(t,{EV:()=>a,Sb:()=>o,gD:()=>r});var i=n(425288);const{Consumer:r,Provider:o,useMaybeHook:a}=(0,i.Z)("pwtSurfaceContext")},991067:(e,t,n)=>{n.d(t,{Z:()=>a});const i=()=>{var e;return!(null===(e=window.performance)||void 0===e||!e.timing)};var r=n(985271),o=n(969853);function a(e){return!("desktop"===e&&!i())&&(!!r.Z&&(0,o.v)())}},7789:(e,t,n)=>{n.d(t,{DQ:()=>o,eD:()=>i,is:()=>r});const i=window.location.search.includes("debug_tracing"),r=window.location.search.includes("debug_lab_tracing"),o=i||r},226464:(e,t,n)=>{n.d(t,{KJ:()=>d,Rp:()=>c});const i={id:14,name:"own_profile"},r={id:15,name:"other_profile"},o={initial_app_load:{unauth:{board:{id:114,name:"board_page_interactive"},pin_closeup:{id:113,name:"pin_page_interactive"},other_profile:{id:115,name:"user_page_interactive"},topic:{id:119,name:"topic_page_interactive"},sterling_signup:{id:201,name:"sterling_signup_main_pageload"},sterling_login:{id:202,name:"sterling_login_main_pageload"}},auth:{bizhub:{id:607,name:"bizhub_pinteractive"},homefeed:{id:19,name:"home_feed_pinteractive"},sterling_reporting_details:{id:218,name:"sterling_reporting_details_pageload"},sterling_reporting_overview:{id:219,name:"sterling_reporting_overview_pageload"},sterling_ads_create:{id:221,name:"sterling_adscreate_main_pageload"},sterling_ads_duplicate:{id:206,name:"sterling_adsduplication_main_pageload"},sterling_ads_edit:{id:204,name:"sterling_adsedit_main_pageload"},sterling_billing_profile:{id:203,name:"sterling_billingprofile_main_pageload"},sterling_bulk_editor:{id:205,name:"sterling_bulkeditor_main_pageload"},sterling_pin_builder:{id:222,name:"sterling_adscreate_pinbuilder_pageload"},sterling_recommendations:{id:223,name:"sterling_recommendations_pageload"},product_details:{id:120,name:"product_details_interactive"}}},client_route_push:{unauth:{},auth:{bizhub:{id:608,name:"bizhub_page_render"},homefeed:{id:2,name:"home_feed_render"},search:{id:3,name:"search_feed_render"},search_tab:{id:25,name:"search_tab_render"},pin_closeup:{id:13,name:"pin_closeup_details"},product_details:{id:37,name:"product_details_render"},your_shop:{id:36,name:"your_shop_feed_render"},own_profile:i,other_profile:r}},client_route_replace:{unauth:{},auth:{own_profile:i,other_profile:r,product_details:{id:37,name:"product_details_render"}}}},a={client_route_push:{auth:{pin_closeup:{story_pin:{id:700,name:"story_pin_closeup"}}}}},s={board_picker:16,grid_bottom_spinner:12,facebook_autologin:500,google_autologin:501,story_pin_step:701},l=e=>{var t,n;const{navigationType:i,isAuthenticated:r,segment:s,surface:l}=e,c=r?"auth":"unauth",d=null===(t=a[i])||void 0===t||null===(n=t[c])||void 0===n?void 0:n[l];return s&&d&&d[s]||o[i][c][l]},c=e=>{if("stopwatch"===e.type)return s[e.name]||null;const t=l(e);return t?t.id:null},d=e=>{if("stopwatch"===e.type)return e.name;const{navigationType:t,isAuthenticated:n,segment:i,surface:r}=e,o=n?"auth":"unauth",a=l(e);return a?a.name:`${t}_${o}_${r}${i?"_"+i:""}`}},383434:(e,t,n)=>{n.d(t,{X:()=>o,v:()=>r});var i=n(7789);const r=(e,t)=>{i.DQ&&(e.style.outline=`10px solid ${t}`,e.style.outlineOffset="-30px")},o=e=>(t,...n)=>{i.DQ&&console.log("string"==typeof t?`[PWT:${e}] ${t}`:t,...n)}},317254:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(969853),r=n(667294),o=n(276602),a=n(543059);var s=n(198462);function l({children:e,isAtEndOfFeed:t,pinData:n,itemCount:l,includeBackgroundImages:c=!1,includeVideos:d=!1,includeSections:u=!1}){var p;return(null===(p=(0,s.N5)())||void 0===p?void 0:p.isAuthenticated)||(u=!0),(0,i.Z)({pinData:n,isAtEndOfFeed:t,includeBackgroundImages:c,includeVideos:d,includeSections:u}),function(e){const t=(0,o.EV)(),n=(0,r.useRef)(null);(0,r.useEffect)((()=>{e!==n.current&&(n.current=e,t&&(0,a.ZP)(a.at))}),[!!t,e])}(l),e}},317672:(e,t,n)=>{n.d(t,{F9:()=>d,LM:()=>l,VZ:()=>o,cQ:()=>u,rZ:()=>a});var i=n(790348),r=n(91885);const o=()=>"number"==typeof window.innerHeight&&"number"==typeof window.pageYOffset&&!!document.querySelector&&!!document.querySelectorAll,a=e=>e instanceof HTMLDivElement||e instanceof HTMLVideoElement?e.getBoundingClientRect():e.parentElement instanceof HTMLElement?e.parentElement.getBoundingClientRect():null,s=e=>{if(e instanceof HTMLImageElement)return e.src;if(e instanceof HTMLVideoElement)return e.attributes.poster.value;const t=((e.style||{}).backgroundImage||"").match(/^url\(["'](.*)["']\)$/);return t&&t[1]||null},l=()=>document.querySelector?document.querySelectorAll(r.wc).length:((0,i.H)("missing_document_query_selector"),0),c=(e,t)=>{const n=a(e);if(!n)return(0,i.H)("missing_client_rect"),!1;if(n.width<100&&n.height<100){if(e instanceof HTMLImageElement)return!1;const t=s(e);if(null!=t&&t.endsWith("svg"))return!1}return(({top:e,height:t},{foldY:n,pageYOffset:i})=>{const r=e+i;if(r>=n)return!1;const o=Math.min(t,n-r);return o>.5*t||o>.2*n})(n,t)},d=()=>{const e=(()=>{if(!document.querySelector)return(0,i.H)("missing_document_query_selector"),null;const e=document.querySelectorAll(r.wc);return e[e.length-1]||null})();if(!e)return!1;const t=window.innerHeight||0,n=window.pageYOffset||0;return e.getBoundingClientRect().top+n>=t},u=(e,t,n)=>{if(!document.querySelector)return(0,i.H)("missing_document_query_selector"),[];const o={foldY:window.innerHeight||0,pageYOffset:window.pageYOffset||0},a=[r.Wf,...e?[r.fF]:[],...t?[r.$N]:[]].join(","),l=[...document.querySelectorAll(a)];if(n){const e=[...document.querySelectorAll('div[data-test-id="board-section"]')],t=e=>{const n=[...e.children];!n.length&&e.style.backgroundImage?l.push(e):n.length&&n.forEach((e=>{t(e)}))};e.forEach((e=>{t(e)}))}return l.reduce(((e,n)=>{if((n instanceof HTMLImageElement||n instanceof HTMLDivElement||n instanceof HTMLVideoElement&&t)&&c(n,o)){const t=s(n);if(t){const i=(t||"").replace(/.*\//,"");return e.concat([{element:n,fileName:i}])}}return e}),[])}},91885:(e,t,n)=>{n.d(t,{$N:()=>l,Kb:()=>i,Wf:()=>a,fF:()=>s,wc:()=>o});const i="pwt-grid-item",r=['div[data-grid-item="true"]',"div.Grid__Item",`div[data-test-id="${i}"]`],o=r.join(","),a=r.map((e=>`${e} img`)).join(","),s=r.map((e=>`${e} div[style*=background-image]`)).join(","),l=r.map((e=>`${e} video`)).join(",")},969853:(e,t,n)=>{n.d(t,{Z:()=>m,v:()=>h});var i=n(667294),r=n(543059),o=n(35954),a=n(226464),s=n(22773),l=n(790348),c=n(276602),d=n(317672),u=n(383434);const p=(0,u.X)("GridProfiler"),h=()=>!!window.addEventListener&&!!window.removeEventListener&&(0,d.VZ)();function m({isAtEndOfFeed:e,pinData:t,includeBackgroundImages:n,includeVideos:h=!1,includeSections:m}){const _=(0,c.EV)(),g=null==_?void 0:_.id,v=null==_?void 0:_.setVisuallyCompleteResult,[f,y]=(0,i.useState)({status:"DISABLED"});(0,i.useEffect)((()=>{y(v?{status:"LAYOUT",failedCount:0,numOfItemsChecked:0}:{status:"DISABLED"})}),[g,v]),(0,i.useEffect)((()=>{if("DISABLED"!==f.status&&(0,r.ZP)(`GridVisuallyCompleteProfiler_${f.status}`),p("new status",f),"LAYOUT"===f.status){const e=((e,t)=>{const n=()=>{window.removeEventListener(e,n),t()};return window.addEventListener(e,n),()=>window.removeEventListener(e,n)})("scroll",(()=>{(0,r.ZP)("scrollDuringLayout")}));return()=>{e()}}return()=>{}}),[f.status]),(0,o.Z)((()=>{if(!_||!v)return;const{abort:i,metricId:r}=_;switch(f.status){case"LAYOUT":{const t=((e,t)=>{if(!t){const t=(0,d.LM)();if(t===e)return p("No new items, so skip the viewport-fill check."),{complete:!1,numOfItemsChecked:e};if(!(0,d.F9)())return p("Viewport may not be filled yet."),{complete:!1,numOfItemsChecked:t}}return{complete:!0}})(f.numOfItemsChecked,e);t.complete?y({status:"TIMING",failedCount:0,pinElements:(0,d.cQ)(n,h,m)}):500*f.failedCount>6e4?((0,l.A9)(`images.${(0,a.KJ)(r)}.visuallyComplete.maxLayoutAttempt`),i("visuallyComplete_layoutTimeout"),y({status:"DISABLED"})):y({...f,failedCount:f.failedCount+1,numOfItemsChecked:t.numOfItemsChecked});break}case"TIMING":{const e=(0,s.Cg)(),n=f.pinElements.length,o=[];let c=0,d=0,h=0;if(f.pinElements.forEach((({element:t,fileName:n})=>{const i=e.find((e=>e.name.endsWith(n)));i?i.responseEnd?(o.push(i),(0,u.v)(t,"green")):(h+=1,(0,u.v)(t,"blue")):t instanceof HTMLImageElement&&t.complete?(d+=1,(0,u.v)(t,"red")):(c+=1,(0,u.v)(t,"greenyellow"))})),c||h)100*f.failedCount>6e4?((0,l.A9)(`images.${(0,a.KJ)(r)}.visuallyComplete.maxAttempt`,{tags:{totalImageCount:n,incompleteCount:c,noTimingCount:d,noTimingResponseEndCount:h}}),i("visuallyComplete_timingTimeout"),y({status:"DISABLED"})):y({...f,failedCount:f.failedCount+1});else{if(p(`All ${o.length} images are fetched`),t&&t.length){const e=((e,t)=>{let n=0,i=0,r=0,o=0,a=0;return e=e.filter((e=>"pin"===e.type)),t.forEach(((t,s)=>{var l,c,d,u,p,h;const m=t.fileName.split(".")[0];let _;_=e[s],m!==(null===(l=_)||void 0===l?void 0:l.image_signature)&&(_=e.find((e=>m===(null==e?void 0:e.image_signature)))),void 0===_?a+=1:_.is_promoted||"PROMOTED_PIN"===(null===(c=_.recommendation_reason)||void 0===c?void 0:c.reason)||null!==(d=_)&&void 0!==d&&null!==(u=d.promoter)&&void 0!==u&&u.length?r+=1:null!==_.story_pin_data_id&&void 0!==_.story_pin_data_id?n+=1:null!==(p=_)&&void 0!==p&&null!==(h=p.videos)&&void 0!==h&&h.video_list?i+=1:o+=1})),{storyPinCount:n,videoCount:i,adCount:r,imageCount:o,unknownCount:a}})(t,f.pinElements);Object.entries(e).forEach((([e,t])=>{_.addBinaryAnnotation(e,t,"I16")})),(0,l.A9)(`${(0,a.KJ)(r)}.pinTypes`,{tags:e})}v({imageTimings:o}),y({status:"DISABLED"}),(0,l.A9)(`images.${(0,a.KJ)(r)}.visuallyComplete.complete`,{tags:{totalImageCount:n,noTimingCount:d}})}break}}}),(e=>("LAYOUT"===e.status?500:"TIMING"===e.status&&100)||null)(f))}},790348:(e,t,n)=>{n.d(t,{A9:()=>p,DG:()=>d,H:()=>h,S$:()=>m,iF:()=>u});var i=n(172071),r=n(383434),o=n(50286),a=n(7789);const s=(0,r.X)("logPwtStats");let l=null,c=!0;function d(e){l={browserName:e.userAgent.browserName,browserVersion:e.userAgent.browserVersion,deviceType:(0,o.Mq)(e),isAuthenticated:e.isAuthenticated,isBot:e.isBot,isSocialBot:e.isSocialBot}}const u=e=>{l&&(l.historyAction=e)},p=(e,t={sampleRate:1},n=!0)=>{const r=a.DQ?1:t.sampleRate;if(!l)return s("pwt.metrics_quality.no_context"),void i.Z.increment("pwt.metrics_quality.no_context",r,{eventName:e});const{browserName:o,browserVersion:c,deviceType:d,isBot:u,isSocialBot:p}=l,h=`pwt.${(p?"socialBot":u&&"bot")||"nonbot"}.metrics_quality.${d}.${e}`,m={...t.tags||{},browserName:o,browserVersion:(null==c?void 0:c.split(".")[0])||"0"},_=t.count;n&&(s(`${h}: ${"number"==typeof _?_:1}`),t.tags&&s(Object.entries(t.tags))),a.is||i.Z.count(h,"number"==typeof _?_:1,r,m)},h=(e,t)=>p(`ERROR.${null!=t&&t.action?t.action+".":""}${e}`,{tags:t}),m=({appLoadName:e,clientNavName:t},n)=>{if(l){const i="APP_VOLUME.";c?(p(i.concat(e),{tags:{browserSupportsPwtProfiler:!!n}}),c=!1):"PUSH"===l.historyAction&&p(i.concat(t),{tags:{browserSupportsPwtProfiler:!!n}})}else i.Z.increment("pwt.metrics_quality.no_context",1,{eventName:e.concat(`.${t}`)})}},543059:(e,t,n)=>{n.d(t,{Ao:()=>l,BA:()=>c,L8:()=>u,ZP:()=>p,at:()=>r,gQ:()=>s,tl:()=>d});var i=n(985271);const r="masonryPagination";let o={};const a=e=>` ${e}`,s=()=>{const e={};return Object.keys(o).forEach((t=>{(o[t]||[]).slice(0,3).forEach(((n,i)=>{e[i?`${t}_${i+1}`:t]=n}))})),e},l=(e,t)=>(o[e]||[]).filter((e=>e<t)).length,c=(e,t)=>l(e,t)>0,d=()=>{i.Z&&Object.keys(o).forEach((e=>((e,t)=>{const n=a(t);e.clearMarks(n),e.clearMeasures(n)})(i.Z,e))),o={}},u=e=>{i.Z&&(o[e]=(o[e]||[]).concat([i.Z.now()]),((e,t,n,i)=>{const r=a(t);e.measure(r,n,i)})(i.Z,e))},p=e=>{i.Z&&(o[e]=(o[e]||[]).concat([i.Z.now()]),((e,t)=>{const n=a(t);e.mark(n)})(i.Z,e))}},528961:(e,t,n)=>{n.d(t,{cC:()=>o,jy:()=>r,qr:()=>s,sk:()=>a});const i=e=>"number"==typeof e?Math.round(e):e,r=e=>({type:"I16",value:i(e)}),o=e=>({type:"I32",value:i(e)}),a=e=>({type:"STRING",value:e}),s=e=>({type:"BOOL",value:e})},607150:(e,t,n)=>{n.d(t,{D3:()=>o,Hd:()=>l,jh:()=>s,rX:()=>a});var i=n(672115),r=n(156381);const o=e=>({...(0,i.Z)(e),domComplete:e.domComplete||0,domContentLoadedEventEnd:e.domContentLoadedEventEnd||0,domContentLoadedEventStart:e.domContentLoadedEventStart||0,domInteractive:e.domInteractive||0,loadEventEnd:e.loadEventEnd||0,loadEventStart:e.loadEventStart||0}),a=()=>{const{firstInputDelay:e,largestContentfulPaint:t}=(0,r.v2)();return{firstInputDelayStart:(null==e?void 0:e.startTime)||0,firstInputDelayEnd:(null==e?void 0:e.endTime)||0,largestContentfulPaint:t||0}},s=(e,t)=>Object.keys(t).reduce(((n,i)=>({...n,[`${e}${i}`]:t[i]})),{}),l=(e,t)=>Object.keys(e).reduce(((n,i)=>t.includes(i)?{...n,[i]:e[i]}:n),Object.freeze({}))},638089:(e,t,n)=>{n.d(t,{ng:()=>v,rA:()=>y});var i=n(602738),r=n(226464),o=n(22773),a=n(156381),s=n(543059),l=n(528961);const c=(e,t)=>(e||[]).reduce(((e,n)=>({...e,[`experiment.${n}`]:(0,l.sk)(t(n))})),{}),d=(e,t)=>"number"==typeof t?e(t):null,u=e=>e.reduce(((e,t)=>e+t),0),p=(e,t)=>Object.keys(t).reduce(((n,i)=>({...n,[`${e}${i}`]:t[i]})),{}),h=e=>{if(!e.length)return{};const t=e.map((({startTime:e,requestStart:t,responseStart:n,responseEnd:i})=>{const r=t||e;return{startTime:e,requestStart:r,responseStart:n||r,responseEnd:i}})),n=u(t.map((e=>e.requestStart-e.startTime))),i=u(t.map((e=>e.responseStart-e.requestStart))),r=u(t.map((e=>e.responseEnd-e.responseStart))),o=n+i+r,a=u(e.map((e=>e.decodedBodySize||0)));return{decodedBodySize:(0,l.cC)((s=a,Number(Number(s/1024).toFixed(3)))),"duration.all":(0,l.cC)(o),"duration.requestStartToResponseStart":(0,l.cC)(i),"duration.responseStartToResponseEnd":(0,l.cC)(r),"duration.startToRequestStart":(0,l.cC)(n)};var s},m=e=>{const t=e.filter((e=>!!e.responseEnd));return{...e.length?{...h(t),"count.completed":(0,l.cC)(t.length)}:{},"count.all":(0,l.cC)(e.length)}},_=e=>{const t=["timeSecond1","timeSecond2","timeSecond3"],n={timeSecond1:{start:0,end:0,count:0},timeSecond2:{start:0,end:0,count:0},timeSecond3:{start:0,end:0,count:0}},i={script_deferred:[],external:[],visually_complete:[],script:[],css:[],video:[],image:[],xmlhttprequest:[],other:[]};if(e.length){const{requestStart:r,startTime:o}=e[0].timing,a=r||o;n.timeSecond1.start=a,n.timeSecond1.end=a+1e3,n.timeSecond2.start=a+1e3,n.timeSecond2.end=a+2e3,n.timeSecond3.start=a+2e3,n.timeSecond3.end=a+3e3,e.forEach((e=>{const{timing:r}=e;i[e.category]=i[e.category].concat([r]),e.isDeferred&&(i.script_deferred=i.script_deferred.concat([r])),e.isExternal&&(i.external=i.external.concat([r])),e.isVisuallyCompleteRequired&&(i.visually_complete=i.visually_complete.concat([r]));const{requestStart:o,startTime:a,responseEnd:s}=r,l=o||a;t.forEach((e=>{const{start:t,end:i}=n[e];(l>=t&&l<i||l<t&&s>t)&&(n[e].count+=1)}))}))}const r={...p("concurrentRequests.",Object.keys(n).reduce(((e,t)=>e={...e,[t]:(0,l.cC)(n[t].count)}),{}))};return{...Object.keys(i).reduce(((e,t)=>({...e,...p(`resource.${t}.`,m(i[t]))})),r)}},g=(e,t,n)=>{var a;const{devicePixelRatio:s,navigator:c,innerWidth:u,innerHeight:p,performance:h}=window,{deviceMemory:m,hardwareConcurrency:_,platform:g,userAgent:v,connection:f}=c,{memory:y}=h,{appType:b,appVersion:x,browserName:w,browserVersion:S,deviceType:P,isAppShell:T,isAuthenticated:E,isBot:I,isSocialBot:A,locale:k,osName:C,stageName:R}=t,L="desktop"===P?b||5:b||6;let j;const{navigationType:D}=e;let O=null;if("initial_app_load"===D){var N;j=1;const e=null===(N=(0,i.Z)("navigation")[0])||void 0===N?void 0:N.transferSize;O=e?parseFloat((.001*e).toFixed(1)):null}else j=4;return{"app.type":(0,l.jy)(L),"app.version":(0,l.sk)(x),"browser.name":(0,l.sk)(w),"browser.version":(0,l.sk)(S),"cpu.speed":(0,l.jy)(_),"device.memory":(0,l.jy)(m),"device.type":(0,l.jy)(0),"device.typeName":(0,l.sk)(P),"device.version":(0,l.sk)("unknown"),"pwt.cause":(0,l.jy)(j),"net.effectiveType":(0,l.sk)((null==f?void 0:f.effectiveType)||null),"net.downlink":(0,l.cC)(d((e=>10*Math.round(e/10)),null==f?void 0:f.downlink)),"net.downlinkMax":(0,l.cC)(d((e=>10*Math.round(e/10)),null==f?void 0:f.downlinkMax)),"net.rtt":(0,l.cC)(d((e=>10*Math.round(e/10)),null==f?void 0:f.rtt)),"net.speed":(0,l.cC)((0,o.Hv)(n,!1)),"pwt.result":(0,l.jy)(1),"view.type":(0,l.cC)(0),"viewport.height":(0,l.cC)(p||0),"viewport.width":(0,l.cC)(u||0),devicePixelRatio:(0,l.cC)(s||0),isAppShell:(0,l.qr)(T),isAuthenticated:(0,l.qr)(E),isBot:(0,l.qr)(I),isSocialBot:(0,l.qr)(A),locale:(0,l.sk)(k),osName:(0,l.sk)(C),...null!==O&&{htmlResponseSize:(0,l.cC)(O)},nextHopProtocol:(0,l.sk)((null===(a=(0,i.Z)("navigation")[0])||void 0===a?void 0:a.nextHopProtocol)||null),platform:(0,l.sk)(g||null),profilerVersion:(0,l.sk)("3"),pwtActionName:(0,l.jy)((0,r.Rp)(e)),stageName:(0,l.sk)(R),userAgent:(0,l.sk)(v),usedJSHeapSize:(0,l.cC)((null==y?void 0:y.usedJSHeapSize)||0),totalJSHeapSize:(0,l.cC)((null==y?void 0:y.totalJSHeapSize)||0),jsHeapSizeLimit:(0,l.cC)((null==y?void 0:y.jsHeapSizeLimit)||0)}},v=({annotateExperiments:e,metricId:t,pwtStaticContext:n,binaryAnnotations:i={},performanceResourceTimings:r=[]})=>({...c(e,n.getExperimentGroup),...g(t,n,r),...i,stopwatchVersion:(0,l.jy)(1)}),f=(e,t)=>{var n;const{navigator:i}=window,{serviceWorker:r}=i,{surface:o,navigationType:c,isAuthenticated:d}=e,{cumulativeLayoutShiftScore:p,longTaskDurations:h}=(0,a.v2)();return{...h.length?{"longTask.count":(0,l.cC)(h.length),"longTask.maxDuration":(0,l.cC)(Math.max(...h)),"longTask.totalDuration":(0,l.cC)(u(h))}:{},cumulativeLayoutShiftScore:(0,l.cC)(100*p),"masonry.paginationMarkCount":(0,l.cC)((0,s.Ao)(s.at,t)),"metricId.isAuthenticated":(0,l.qr)(d),"metricId.navigationType":(0,l.sk)(c),"metricId.surface":(0,l.sk)(o),resourceBufferClearedCount:(0,l.jy)((0,s.Ao)("resourceBufferCleared",t)),scrollDuringLayout:(0,l.qr)((0,s.BA)("scrollDuringLayout",t)),serviceWorker:(0,l.qr)(r?!!r.controller:null),serviceWorkerState:(0,l.sk)((null==r||null===(n=r.controller)||void 0===n?void 0:n.state)||null)}},y=({annotateExperiments:e,binaryAnnotations:t={},entries:n,metricId:i,performanceResources:r,pwtEndTime:o,pwtStaticContext:a})=>({...t,..._(r),...c(e,a.getExperimentGroup),...g(i,a,n),...f(i,o)})},860273:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(985271);const r=()=>{const[e]=i.Z?i.Z.getEntriesByType("navigation"):[];return e}},453821:(e,t,n)=>{n.d(t,{i:()=>i,p:()=>a});const i=({name:e,initiatorType:t})=>{switch(t){case"xmlhttprequest":return"xmlhttprequest";case"img":return"image";case"video":return"video";default:{const t=e.split("."),n=(t.length>1&&t.pop()||"").toLowerCase();return["js","mjs"].includes(n)?"script":"css"===n?"css":["mp4","m4v","mov","ts","m3u8"].includes(n)?"video":["bmp","gif","jpg","jpeg","png","tiff","webp","svg"].includes(n)?"image":"other"}}},r=e=>{const t=e.replace(new RegExp(`^${window.location.origin||""}`),""),n=document&&document.querySelector(`head > script[src='${t}']`);return!!n&&n.hasAttribute("defer")},o=e=>["pinimg","pinterest","pinterdev"].every((t=>!e.includes(`${t}`))),a=(e,t)=>{const n=i(e),{name:a}=e;return{category:n,isDeferred:"script"===n&&r(a),isExternal:o(a),isVisuallyCompleteRequired:"image"===n&&t.includes(a),timing:e}}},558775:(e,t,n)=>{n.d(t,{Z:()=>x});let i=null;const r=(e,t)=>(i=i||{results:[],context:t},i.results.push(e),i);var o=n(176532),a=n(7789),s=n(383434),l=n(226464),c=n(790348),d=n(860273),u=n(358864),p=n(602738),h=n(528961);const m=(e,t)=>Object.keys(e).reduce(((n,i)=>{const r=e[i];return r&&(n[i]={timestamp:t+r}),n}),{}),_=({span:e,timeOrigin:t})=>{return{id:e.id,parent_id:e.parentId||null,result:1,name:e.name,timestamp:t+e.startTime,duration:e.endTime-e.startTime,annotations:m(e.annotationMap,t),binary_annotations:(n=e.binaryAnnotationMap,Object.keys(n).reduce(((e,t)=>{const i=n[t];if(!i)return e;const{value:r,type:o}=i;return null==r?e:e.concat({name:t,value:r,annotation_type:o})}),[]))};var n},g=(e,{startTime:t,endTime:n,annotationMap:i,binaryAnnotationMap:r,parentId:o,traceId:a})=>({name:`pwt/${e}`,startTime:t,endTime:n,annotationMap:i,binaryAnnotationMap:r,parentId:o,id:a}),v=({annotations:e})=>e.reduce(((e,{key:t,timestamp:n})=>({...e,[`server_${t}`]:{timestamp:n}})),{}),f=(e,t)=>({...e,annotations:{...v(t),...e.annotations},binary_annotations:[...t.binary_annotations,...e.binary_annotations]}),y=({traceId:e,actionName:t,result:n,timeOrigin:i,serverDataToJoin:r})=>{let o=_({span:g(t,n),timeOrigin:i}),a=null;return r&&(o=f(o,r),a=((e,t,n)=>{var i;const r=(0,d.Z)();return(null==r?void 0:r.responseEnd)?f(_({span:{name:"html",startTime:0,endTime:(null==r?void 0:r.responseEnd)||1,annotationMap:{},binaryAnnotationMap:{nextHopProtocol:(0,h.sk)((null===(i=(0,p.Z)("navigation")[0])||void 0===i?void 0:i.nextHopProtocol)||null)},id:e.server_span_id||(0,u.Z)(),parentId:t},timeOrigin:n}),e):null})(r,e,i)),{trace_id:e,spans:[o,...a?[a]:[],...n.spans.map((e=>_({span:e,timeOrigin:i})))]}},b=(0,s.X)("reportResult");function x({metricId:e,pwtStaticContext:t,result:n,isAuth:i}){const{serverData:s}=t,d=(0,l.KJ)(e),u=`${n.type}.${d}`,p=`${n.type}.sampled.${d}`,h=void 0!==i&&{tags:{isAuth:i}}||void 0;if((0,c.A9)(n.reason?u.concat(`.${n.reason}`):u,h),(0,c.A9)(n.reason?p.concat(`.${n.reason}`):p,{...h,sampleRate:.5}),"COMPLETE"!==n.type)return void b(`Abort metric ${d}`,n);const m=null!==(_=window.performance)&&void 0!==_&&_.now?Date.now()-window.performance.now():"unknown";var _,g;if("unknown"===m)return b(`Unable to convert to absolute times for ${d} due to missing time origin`),void(0,c.A9)(`missingTimeOrigin.${d}`,h);if(a.is&&(window.PWT_LAB_DATA=r(n,t)),n.spans.length&&(n.spans=n.spans.map((e=>(e.parentId||e.id===n.traceId||"network_resources"===e.name||(e.parentId=n.traceId),e)))),!a.is){const i=e.navigationType&&"initial_app_load"===e.navigationType,r=n.traceId,l=y({traceId:r,actionName:d,result:n,timeOrigin:m,serverDataToJoin:i&&s||null});(0,o.Z)({type:"POST",url:"/_/_/trace/trace/",data:{report_data:JSON.stringify(l),report_context:JSON.stringify((g=t,{debugTrace:a.eD,locale:g.locale,stageName:g.stageName}))}}),b(`PinTrace ${d} will be available shortly: https://pintrace.pinadmin.com/zipkin/traces/${r.toString(16)}`,{duration:n.endTime-n.startTime,result:n,pwtStaticContext:t})}}},672115:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>({connectEnd:e.connectEnd||0,connectStart:e.connectStart||0,domainLookupEnd:e.domainLookupEnd||0,domainLookupStart:e.domainLookupStart||0,fetchStart:e.fetchStart||0,requestStart:e.requestStart||0,redirectEnd:e.redirectEnd||0,redirectStart:e.redirectStart||0,responseEnd:e.responseEnd||0,responseStart:e.responseStart||0,secureConnectionStart:e.secureConnectionStart||0,startTime:e.startTime||0,workerStart:e.workerStart||0,unloadEventStart:e.unloadEventStart||0,unloadEventEnd:e.unloadEventEnd||0})},505771:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(358864),r=n(672115),o=n(528961);const a=({category:e,isDeferred:t,isExternal:n})=>[e].concat(t?["deferred"]:[]).concat(n?["external"]:[]).join("_");function s(e,t){const{category:n,timing:s,isDeferred:l,isExternal:c,isVisuallyCompleteRequired:d}=e;return s.responseEnd&&("image"!==n||d)?{name:a(e),id:(0,i.Z)(),parentId:t,startTime:s.startTime,endTime:s.responseEnd,annotationMap:(0,r.Z)(s),binaryAnnotationMap:{category:(0,o.sk)(n),decodedBodySize:(0,o.cC)(s.decodedBodySize||0),initiatorType:(0,o.sk)(s.initiatorType),isDeferred:(0,o.qr)(l),isExternal:(0,o.qr)(c),name:(0,o.sk)(s.name),nextHopProtocol:(0,o.sk)(s.nextHopProtocol),transferSize:(0,o.cC)(s.transferSize||0)}}:null}},31062:(e,t,n)=>{n.d(t,{ku:()=>T,Jx:()=>w,PY:()=>P});var i=n(860273),r=n(156381);const o=()=>(0,r.PJ)().reduce(((e,{identifier:t,loadTime:n,renderTime:i})=>e[`${t}_loadTime`]?e[`${t}_dupe_loadTime`]?{...e,[`${t}_dupe_loadTime`]:n,[`${t}_dupe_renderTime`]:i}:e:{...e,[`${t}_loadTime`]:n,[`${t}_renderTime`]:i}),Object.freeze({}));var a=n(672115),s=n(607150),l=n(22773),c=n(464609);const d=e=>{switch(e){case"pin_closeup":{const e=(0,c.Z)();return(e=>{const t=(0,l.y0)();return e.reduce(((e,{name:n,match:i})=>t.filter((e=>i(e))).slice(0,2).reduce(((e,t,i)=>({...e,...(0,s.jh)(`${n}${i?"_dupe1":""}_`,(0,a.Z)(t))})),e)),Object.freeze({}))})([{name:"mainImage",match:({name:t})=>t===e},{name:"PinResource",match:({name:e})=>e.includes("PinResource")}])}default:return{}}};var u=n(169213),p=n(358864),h=n(558775),m=n(505771),_=n(383434),g=n(543059),v=n(453821),f=n(638089),y=n(790348);const b=(0,_.X)("LightStopwatch"),x={},w=({annotateExperiments:e,annotateMarks:t,annotateResourceTimingForSurface:n,name:r,pwtStaticContext:a})=>{const l=(()=>{let e=[],t=null;if(window.PerformanceObserver){const n=1e3;t=(0,u.Z)({entryTypes:["resource"]},(t=>{e=e.concat(t.getEntries()),e.length>n&&(e=e.slice(-n))}))}return{get:()=>e,disconnect:()=>{t&&t.disconnect()}}})();let c=!0,_={};(0,y.A9)(`TIMING.${r}`,{tags:{isAuth:a.isAuthenticated}});const w={type:"stopwatch",name:r,navigationType:"initial_app_load"},S={abort:e=>{c?(c=!1,(0,h.Z)({metricId:w,pwtStaticContext:a,result:{type:"ABORT",reason:e}})):(0,y.H)("duplicate_abort_action",{action:r})},error:(e,t)=>{const n={...t,action:r};c?(e&&(0,y.H)(e,n),l&&l.disconnect(),c=!1):(0,y.H)("duplicate_error_action",n)},stop:u=>{if(!c)return void(0,y.H)("duplicate_stop_action",{action:r});c=!1,l.disconnect();const b=(0,p.Z)(),x=(0,i.Z)(),S=l.get(),P={type:"COMPLETE",traceId:(0,p.Z)(),startTime:0,endTime:u,spans:[{name:"network_resources",id:b,startTime:0,endTime:u,annotationMap:{},binaryAnnotationMap:{},parentId:null},...S.map((e=>(0,m.Z)((0,v.p)(e,[]),b))).filter(Boolean)],annotationMap:{...(0,s.jh)("resource_",n?d(n):{}),...(0,s.jh)("element_",o()),...(0,s.jh)("mark_",t&&t.length?(0,s.Hd)((0,g.gQ)(),t):{}),...(0,s.jh)("browser_",x?(0,s.D3)(x):{})},binaryAnnotationMap:(0,f.ng)({annotateExperiments:e,metricId:w,pwtStaticContext:a,performanceResourceTimings:S,binaryAnnotations:_})};(0,h.Z)({metricId:w,pwtStaticContext:a,result:P,isAuth:a.isAuthenticated})},addBinaryAnnotation:(e,t,n)=>{b(`adding binary annotation {${e}: ${String(t)}}`),_={..._,[e]:{value:t,type:n}}}};return x[r]=S,S},S=e=>x[e],P=e=>!!S(e),T=({stopwatchName:e,binaryAnnotationName:t,value:n,annotationType:i})=>{const r=S(e);r&&r.addBinaryAnnotation(t,n,i)}},156381:(e,t,n)=>{n.d(t,{Af:()=>g,Bn:()=>m,Kj:()=>p,PJ:()=>l,UQ:()=>v,Ux:()=>c,on:()=>a,v2:()=>d});var i=n(581341),r=n(169213);const o={cumulativeLayoutShiftScore:0,firstInputDelay:null,longTaskDurations:[],largestContentfulPaint:null,elementTimings:[]},a=()=>{o.longTaskDurations=[]},s=(0,i.Z)((()=>o.elementTimings)),l=()=>s.get(),c=e=>{e&&s.save(),o.elementTimings=[]},d=()=>o;let u=0;const p=()=>u;let h;const m=()=>h;let _;const g=()=>_,v=()=>{(0,r.Z)({type:"element",buffered:!0},(e=>{o.elementTimings=o.elementTimings.concat(e.getEntries().reduce(((e,{identifier:t,loadTime:n,renderTime:i})=>e.concat("string"==typeof t&&"number"==typeof n&&"number"==typeof i?[{identifier:t,loadTime:n,renderTime:i}]:[])),[]))})),(0,r.Z)({entryTypes:["longtask"]},(e=>{e.getEntries().map((e=>o.longTaskDurations.push(e.duration)))}),(()=>a())),(0,r.Z)({type:"first-input",buffered:!0},((e,t)=>{const n=e.getEntries()[0];n&&n.startTime&&n.processingStart&&(o.firstInputDelay={startTime:n.startTime,endTime:n.processingStart},_=o.firstInputDelay.startTime),t.disconnect()}),(()=>{o.firstInputDelay=null})),(0,r.Z)({type:"largest-contentful-paint",buffered:!0},(e=>{const t=e.getEntries(),n=t.length,i=t[n-1];i&&(u=n,o.largestContentfulPaint=i.renderTime||i.loadTime||null,h=i.renderTime||i.loadTime||null)})),(0,r.Z)({type:"layout-shift",buffered:!0},(e=>{e.getEntries().forEach((e=>{e.hadRecentInput||(o.cumulativeLayoutShiftScore+=e.value)}))}))}},311560:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";default:return"OTHER"}}},581341:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>{let t=null;return{get:()=>t||e(),save:()=>{t=e()}}}},435851:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>{const{deviceType:t,isBot:n,isSocialBot:i}=e;return`coreWebVitalsLite.v1.${(i?"socialBot":n&&"bot")||"nonbot"}.${t}`}},169213:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(e,t,n)=>{if(!window.PerformanceObserver)return null;try{const i=new window.PerformanceObserver(t);return i.observe(e),window.addEventListener("beforeunload",(()=>{i.disconnect()})),n&&window.addEventListener("popstate",(()=>{n()})),i}catch(i){return null}}},464609:(e,t,n)=>{n.d(t,{Z:()=>r,f:()=>i});const i="closeupImage",r=()=>{if(!document.querySelector)return null;const e=document.querySelector('head>link[rel="preload"][as="image"][href^="https://i.pinimg.com/"]');return e instanceof HTMLLinkElement?e.href:null}},358864:(e,t,n)=>{function i(){let e="";for(let t=0;t<15;t+=1){e+="0123456789"[Math.floor(10*Math.random())]}return Number(e)}n.d(t,{Z:()=>i})},22773:(e,t,n)=>{n.d(t,{Cg:()=>_,Eg:()=>v,Hv:()=>y,LH:()=>f,MM:()=>b,X_:()=>p,y0:()=>g});var i=n(581341),r=n(169213),o=n(543059),a=n(602738),s=n(7789),l=n(453821),c=n(790348);let d;function u(){window.performance&&window.performance.clearResourceTimings&&((0,o.ZP)("resourceBufferCleared"),s.DQ&&console.info("Warning: Clearing resource timings in default buffer."),(0,c.A9)("resourceBufferSize",{count:(0,a.Z)("resource").length}),window.performance.clearResourceTimings())}const p=({size:e})=>{if(window.performance){window.PerformanceObserver?(d=(0,a.Z)("resource"),(0,r.Z)({entryTypes:["resource"]},(t=>{d=(d||[]).concat(t.getEntries()),d.length>e&&(d=d.slice(-e))}))):(window.addEventListener("popstate",(()=>{(0,a.Z)("resource").length>e&&u()})),window.performance.setResourceTimingBufferSize&&window.performance.setResourceTimingBufferSize(e));try{window.performance.onresourcetimingbufferfull=()=>{d||u()}}catch(t){}}},h=()=>d||(0,a.Z)("resource"),m=(0,i.Z)(h),_=h,g=()=>m.get(),v=e=>{e&&m.save(),d&&((0,c.A9)("customBufferSize",{count:d.length}),d=[]),u()},f=()=>({customBufferSize:d?d.length:0,defaultBufferSize:(0,a.Z)("resource").length}),y=(e,t=!0)=>{let n=0,i=0;const r=(o=e.filter((e=>t?!("image"!==(0,l.i)(e)||(e.responseEnd||(n+=1),e.transferSize||(i+=1),!e.responseEnd||!e.transferSize)):!!e.responseEnd&&!!e.transferSize)).map((e=>8*(e.transferSize||0)/((e.responseEnd-e.responseStart)/1e3)/1e3))).length?o.reduce(((e,t)=>e+t),0)/o.length:null;var o;return t&&(n>0&&(0,c.A9)("images.downloadSpeed.noResponseEnd",{tags:{count:n}},!1),i>0&&(0,c.A9)("images.downloadSpeed.transferSize",{tags:{count:i}},!1)),r},b=e=>{if(!e)return"unknown";const t=Math.floor(e/1e3);return t<1?"0-1":t<5?"1-5":t<10?"5-10":t<20?"10-20":t<40?"20-40":t<80?"40-80":"80_or_above"}},602738:(e,t,n)=>{function i(e){var t,n;return(null===(t=window)||void 0===t||null===(n=t.performance)||void 0===n?void 0:n.getEntriesByType)&&window.performance.getEntriesByType(e)||[]}n.d(t,{Z:()=>i})},985271:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(r=window.performance)&&r.clearMarks&&r.clearMeasures&&r.clearResourceTimings&&r.getEntries&&r.getEntriesByName&&r.getEntriesByType&&r.mark&&r.measure&&r.now&&r.setResourceTimingBufferSize?r:null;var r},561195:(e,t,n)=>{n.d(t,{A:()=>l,Z:()=>c});var i=n(667294),r=n(498913),o=n.n(r),a=n(883119),s=n(785893);const l=({fill:e,width:t,color:n})=>{const r="half"===e?(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(a.xu,{position:"absolute",children:(0,s.jsx)(a.JO,{accessibilityLabel:"",color:"default",icon:"star-half",size:12})}),(0,s.jsx)(a.JO,{accessibilityLabel:"",color:"subtle",icon:"star",size:12})]}):(0,s.jsx)(a.JO,{accessibilityLabel:"",color:"full"===e?"default":"subtle",icon:"star",size:12});return(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},display:"inlineBlock","data-test-id":`rating-star-${e}`,children:r})};function c({max_rating:e,rating:t,width:n,color:r}){const a=[],c=function(e,t){return 5*(t=t<=e?t:e)/e}(parseFloat(e)||5,parseFloat(t)||0);if(Number.isNaN(c))return null;const d=Math.floor(c),u=c-d;return o()(d,(e=>a.push((0,s.jsx)(l,{color:r,fill:"full",width:n},e)))),u>=.75?a.push((0,s.jsx)(l,{color:r,fill:"full",width:n},a.length)):u>=.25&&a.push((0,s.jsx)(l,{color:r,fill:"half",width:n},a.length)),o()(5-a.length,(()=>a.push((0,s.jsx)(l,{color:r,fill:"empty",width:n},a.length)))),(0,s.jsx)(i.Fragment,{children:a})}},923297:(e,t,n)=>{function i({m:e=0,h:t=0}){let n;return n=t<=0?t:e>45?t+1:e>15?t+.5:t,{m:e,h:t,rm:t>0?0:e,rh:n}}function r(e){const t=Math.floor(e/3600);return i({m:Math.floor(e%3600/60),h:t})}n.d(t,{X:()=>i,u:()=>r})},886858:(e,t,n)=>{n.d(t,{Z:()=>a,k:()=>o});const i=new Set(["bookmarks","client_tracking_params","get_page_metadata","in_nux","invite_code","original_referrer","source","top_level_source","top_level_source_depth"]),r=e=>!i.has(e)&&!e.startsWith("__track__");function o(e){return e.split(/([^=]+=[^=]+),/).filter(Boolean).reduce(((e,t)=>{const[n,i]=t.split("=");return e[n]=JSON.parse(i),e}),{})}const a=e=>e?Object.keys("object"==typeof e&&e||{}).filter((e=>"string"==typeof e)).filter(r).sort().map((t=>`${t}=${JSON.stringify(null==e[t]?null:e[t])}`)).join(","):""},932995:(e,t,n)=>{function i(e,t,n){const i=[...e],r=i.splice(t,1)[0];return i.splice(n,0,r),i}n.d(t,{Z:()=>i})},505920:(e,t,n)=>{n.d(t,{UZ:()=>u,Z8:()=>p,my:()=>h});var i=n(667294),r=(n(702664),n(6637)),o=n(425288),a=n(785893);function s(e,t,n){var i;const r=[...null!==(i=t[e][n.payload.name])&&void 0!==i?i:[],n.payload.handler],o={...t};return o[e]={...t[e],[n.payload.name]:r},o}function l(e,t,n){if(!t[e][n.payload.name])return t;const i=t[e][n.payload.name].filter((e=>e!==n.payload.handler)),r={...t};return r[e]={...t[e],[n.payload.name]:i},r}const{Provider:c,useHook:d}=(0,o.Z)("ResourceContext");function u({children:e}){const[{listeners:t,moreListeners:n},o]=(0,i.useReducer)(((e,t)=>{switch(t.type){case"addListener":return s("listeners",e,t);case"addMoreListener":return s("moreListeners",e,t);case"removeListener":return l("listeners",e,t);case"removeMoreListener":return l("moreListeners",e,t);default:return e}}),{listeners:{},moreListeners:{}});r.Z.fetchCompleteCallback=({resource:e,options:n,response:i,normalizedResponse:r,refresh:o,resourceSchema:a})=>{t[e]&&t[e].forEach((t=>t({isRefresh:o,normalizedResponse:r,options:n,schema:a,resource:e,response:i})))},r.Z.fetchMoreCompleteCallback=({resource:e,options:t,response:i,normalizedResponse:r,refresh:o,resourceSchema:a})=>{n[e]&&n[e].forEach((n=>n({isRefresh:o,normalizedResponse:r,options:t,schema:a,resource:e,response:i})))};const d=(0,i.useMemo)((()=>({listenerDispatch:o})),[]);return(0,a.jsx)(c,{value:d,children:e})}function p(e,t){const{listenerDispatch:n}=d();(0,i.useEffect)((()=>(n({type:"addListener",payload:{name:e,handler:t}}),()=>{n({type:"removeListener",payload:{name:e,handler:t}})})))}function h(e,t){const{listenerDispatch:n}=d();(0,i.useEffect)((()=>(n({type:"addMoreListener",payload:{name:e,handler:t}}),()=>{n({type:"removeMoreListener",payload:{name:e,handler:t}})})))}},379725:(e,t,n)=>{n.d(t,{U:()=>l,b:()=>c});var i=n(886858),r=n(6637),o=n(414327),a=n(718368);function s({fetchOptions:e,resource:t,retry:n}){return(l,c)=>{var d,u,p;const{bookmark:h,headers:m,options:_,refresh:g,schema:v}=e,f=(0,i.Z)(_);if(null!==(d=c().resources)&&void 0!==d&&null!==(u=d[t])&&void 0!==u&&null!==(p=u[f])&&void 0!==p&&p.fetching&&!n)return Promise.resolve();const y=n?n.bookmark:h,b=y?{..._,bookmarks:[y]}:_;return l((0,o.LQ)(t,_,!0)),r.Z.create(t,b).callGet(void 0,m).then((i=>{var c,d,u;const p=null===(c=i.resource_response)||void 0===c?void 0:c.data,[m]=i.bookmarks||[];if(Array.isArray(p)&&0===p.length&&m&&m!==a.q){const i=n?n.count:0;if(!(i>=a.s))return l(s({resource:t,fetchOptions:e,retry:{count:i+1,bookmark:m}}))}null===(d=r.Z.customDataManipulations)||void 0===d||d.call(r.Z,t,p);const{normalizedResponse:f,resourceSchema:y}=(null===(u=r.Z.normalizeResponse)||void 0===u?void 0:u.call(r.Z,{data:p,opts:{bookmark:h,options:_,schema:v},resource:t}))||{normalizedResponse:null,resourceSchema:void 0};return h?(l((0,o.Dm)(t,_,i,f,y)),r.Z.fetchMoreCompleteCallback&&r.Z.fetchMoreCompleteCallback({resource:t,options:_,response:i,normalizedResponse:f,refresh:g,resourceSchema:y})):(l((0,o.Sr)(t,_,i,f,g,y)),r.Z.fetchCompleteCallback&&r.Z.fetchCompleteCallback({resource:t,options:_,response:i,normalizedResponse:f,refresh:g,resourceSchema:y})),Promise.resolve()}),(e=>{l((0,o.Tl)(t,_,e))}))}}const l=(e,{bookmark:t,headers:n,options:i,schema:r})=>s({resource:e,fetchOptions:{bookmark:t,headers:n,options:i,refresh:!1,schema:r}}),c=(e,{headers:t,options:n,schema:i})=>s({resource:e,fetchOptions:{headers:t,options:n,refresh:!0,schema:i}})},718368:(e,t,n)=>{n.d(t,{q:()=>i,s:()=>r});const i="-end-",r=10},204088:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(704115),r=n(826067),o=n(314880);function a({experimentHash:e,windowIsInFocus:t}){try{const n={"X-Pinterest-AppState":t?"active":"background"};e&&(n["X-Pinterest-ExperimentHash"]=e);const a=(0,i.Z)();a.force_country&&(n["X-Force-Country"]=a.force_country);const s=(0,r.JJ)();if(s&&(n["X-Pinterest-Source-Url"]=s),"undefined"!=typeof window){const e=(0,o.H)();e&&(n["X-Pinterest-PWS-Handler"]=e)}return n}catch(n){return{}}}},338739:(e,t,n)=>{n.d(t,{AF:()=>i,KK:()=>r,aW:()=>s,cR:()=>o,se:()=>l,zP:()=>a});const i="CREATE_COMPLETE",r="FETCHING",o="FETCH_ERROR",a="FETCH_COMPLETE",s="FETCH_MORE_COMPLETE",l="RESOURCE_INVALIDATE"},414327:(e,t,n)=>{n.d(t,{Dm:()=>l,LQ:()=>o,Sr:()=>s,Tl:()=>a,XM:()=>r,jB:()=>c});var i=n(338739);function r(e,t,n,r){return{type:i.AF,payload:{resource:e,options:t,response:n,normalizedResponse:r}}}function o(e,t,n){return{type:i.KK,payload:{resource:e,options:t,isFetching:n}}}const a=(e,t,n)=>({type:i.cR,payload:{resource:e,options:t,error:n}});function s(e,t,n,r,o,a){return{type:i.zP,payload:{isRefresh:o,normalizedResponse:r,options:t,resource:e,response:n,schema:a}}}function l(e,t,n,r,o){return{type:i.aW,payload:{resource:e,options:t,response:n,normalizedResponse:r,schema:o}}}function c(e,t){return{type:i.se,payload:{resource:e,optionsOrOptionsKey:t}}}},784590:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),r=n(702664),o=n(886858),a=n(718368),s=n(276775),l=n(780280),c=n(379725);const d={};function u(e){const{enabledRouteRefresh:t,__unstableEnableSuspenseSupport:n,headers:u,name:p,noCache:h,options:m,schema:_}=null!=e?e:{name:"DisabledResource",options:null},g=!e,v=(0,r.useDispatch)(),f=(0,o.Z)(m),y=(0,i.useRef)(null),b=(0,i.useRef)(),x=(0,s.useHistory)(),w=x&&"POP"!==x.action,S=e=>(e[p]||d)[f]||d,P=(0,r.useSelector)((({resources:e})=>S(e).nextBookmark)),T=(0,r.useSelector)((({resources:e})=>S(e).data)),E=(0,r.useSelector)((({resources:e})=>S(e).auxData)),I=(0,r.useSelector)((({resources:e})=>S(e).error)),A=(0,r.useSelector)((({resources:e})=>Boolean(S(e).fetching))),k=Boolean(I)||void 0!==T,C=k&&!A&&P===a.q,R=Boolean(k&&t&&w&&!g),[L,j]=(0,i.useState)(R),D=(0,i.useCallback)((e=>{y.current=v((0,c.U)(p,{options:m,schema:_,bookmark:e,headers:u}))}),[v,p,f,_,u]),O=()=>{y.current=v((0,c.b)(p,{options:m,schema:_,headers:u}))},{isBot:N}=(0,l.B)(),M=()=>{if(!g&&b.current!==f){const e=void 0===b.current;b.current=f,!k&&!A||e&&I&&(({httpStatus:e})=>!e||e>=500)(I)?D():(!N&&h||R)&&O()}};(0,i.useEffect)((()=>{n||M()})),n&&M();const U=(0,i.useCallback)((()=>{g||(O(),j(!0))}),[g,c.b,p,f,u,j]),F=(0,i.useCallback)((()=>{!P||C||A||g||D(P)}),[g,D,P,C,A]);if(y.current)if(k&&!A)y.current=null;else if(n)throw y.current;const z=(0,i.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:F,isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,nextBookmark:void 0,refresh:U}),Z={auxData:E,data:T,error:I,fetchMore:F,isAtEnd:C,isFetching:A,isLoaded:k,isRefreshing:L,nextBookmark:P,refresh:U};return(0,r.shallowEqual)(Z,z.current)||(!L||!z.current.data&&R||(0,r.shallowEqual)(Z.data,z.current.data)||(Z.isRefreshing=!1,j(!1)),z.current=Z),z.current}},817656:(e,t,n)=>{n.d(t,{AB:()=>i,Ej:()=>r,Sf:()=>o});const i=412,r=429,o=500},134185:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(785893);const r=e=>{const t=e.itemType?{itemScope:!0,itemType:e.itemType}:{};return(0,i.jsx)("div",{...t,children:e.children||null})}},578661:(e,t,n)=>{n.d(t,{G:()=>i});const i="https://schema.org/Recipe"},857079:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),r=n(785893);function o({accessibilityLabel:e}){return(0,r.jsx)(i.kC,{alignItems:"center",justifyContent:"center",children:(0,r.jsx)(i.$j,{accessibilityLabel:e,show:!0})})}},995228:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),r=n(966476),o=n(464228),a=n(785893);function s({children:e,fallback:t,dangerouslyServerRenderForGraphQL:n=!1}){const s=t||null,l=(0,r.Z)(),c=(0,o.P)();return c&&"legacy"!==c?n||l?(0,a.jsx)(i.Suspense,{fallback:s,children:e}):s:(0,a.jsx)(i.Suspense,{fallback:s,children:e})}},947599:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n(995228).Z},740990:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(0,n(667294).createContext)("undefined"!=typeof window?window:null)},909499:(e,t,n)=>{n.d(t,{Hd:()=>a,_R:()=>r,lw:()=>i,wF:()=>o});const i={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",USERS:"users",IDEA_PINS:"idea_pins"},r=e=>{switch(e){case i.PINS:return 43;case i.PINS_MINE:return 107;case i.PINS_BUYABLE:return 254;case i.PINS_VIDEO:return 3306;case i.BOARDS:return 44;case i.USERS:return 45;default:return null}},o=e=>{switch(e){case i.PINS:return 60;case i.PINS_MINE:return 63;case i.PINS_BUYABLE:return 3800;case i.PINS_VIDEO:return 64;case i.BOARDS:return 61;case i.USERS:return 62;default:return null}},a=e=>{switch(e){case i.USERS:return 1000392;case i.PINS_BUYABLE:return 1000391;case i.PINS:default:return 29}}},940589:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(643913);function r(e){const{query:t,rs:n,scope:r,guideAdded:o,filters:a,user:s}=e;if(!t)return"/";const l={q:t,rs:n};if(a&&(l.filters=a),s&&(l.user=s),o&&o.term&&(l.add_refine=`${o.term}|guide|word|${o.index}`),window.location.pathname.startsWith("/explore"))return`/search/pins/?${(0,i.Z)(l)}`;let c=r;return["pins","buyable_pins","my_pins","boards","users","idea_pins"].includes(c)||(c="pins"),c?`/search/${c}/?${(0,i.Z)(l)}`:`${window.location.pathname}?${(0,i.Z)(l)}`}},644658:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(940589);function r(e,t,n,r,o){return(0,i.Z)({query:e,rs:r,scope:o,guideAdded:{term:t,index:n}})}},700226:(e,t,n)=>{function i({category:e,domains:t,maxPrice:n,minPrice:i}){return[e,t,n,i].map((e=>null!=e?e:"")).join("-")}n.d(t,{Z:()=>i})},862628:(e,t,n)=>{function i(e){return(e||"").trim().replace(/\s+/g," ")}n.d(t,{Z:()=>i})},648284:(e,t,n)=>{function i({appliedProductFilters:e,autoCorrectionDisabled:t,filters:n,query:i,scope:r,selectedPinImgSig:o,user:a}){const s=[r,n,e,a,o,i].map((e=>null!=e?e:"")).join(":");return t?"auto-correction-disabled:"+s:s}function r(e){const{autoCorrectionDisabled:t,appliedProductFilters:n,appliedFilters:i,filters:r,selectedPinImgSig:o,query:a,rs:s,scope:l,bubbleId:c,user:d}=e;return{name:"BaseSearchResource",options:function({autoCorrectionDisabled:e=!1,appliedFilters:t=null,appliedProductFilters:n=null,bubbleId:i=null,filters:r=null,query:o=null,rs:a="direct_navigation",scope:s="pins",selectedPinImgSig:l=null,sourceId:c=null,user:d}){return{article:i,applied_filters:t,appliedProductFilters:n,auto_correction_disabled:e,corpus:l?"personalize":null,customized_rerank_type:l?"manas_graph_sage_only_wand_rewrite":null,filters:r,query:o,query_pin_sigs:l,redux_normalize_feed:!0,rs:a,scope:s,source_id:c,user:d}}({autoCorrectionDisabled:!!t,appliedProductFilters:n,appliedFilters:i,filters:r,query:a,rs:s,scope:l,selectedPinImgSig:o,bubbleId:c,user:d})}}n.d(t,{Ht:()=>r,Tb:()=>i})},622739:(e,t,n)=>{n.d(t,{NZ:()=>d,Wd:()=>c,c0:()=>h,nz:()=>p});var i=n(667294),r=n(794230),o=n(276775),a=n(826067);const s=["filters","category","domains","price_min","price_max","rs"],l={query:"",queryParamStrings:{}};function c(e){const[t,n]=(0,i.useState)(l),{action:c}=(0,o.useHistory)();return(0,i.useEffect)((()=>{["PUSH","POP"].includes(c)&&n(l)}),[c]),{getFullUrlForTab:(0,i.useCallback)((({currentQueryParamString:i,currentTabIndex:o,incomingTabIndex:l,baseUrl:c})=>{n((t=>({query:t.query||e,queryParamStrings:{...t.queryParamStrings,[o]:i}})));const d=t.queryParamStrings[l];return(0,r.Z)(c,(0,a.mB)(d||(0,a.Gw)(i,s)))}),[e,t])}}function d(e,t){return(0,r.Z)(e,(0,a.mB)((0,a.Gw)(t,s)))}const u={explore:{href:"/search/pins/",loggingData:{element:11733},name:"explore",scope:"pins"},shop:{href:"/search/buyable_pins/",loggingData:{element:11734},name:"shop",scope:"buyable_pins"},profiles:{href:"/search/users/",loggingData:{element:12447},name:"profiles",scope:"users"}};function p(e){return(null==e?void 0:e.map((e=>({...u[e.tab_type],text:e.name}))))||[]}function h(e,t){return e.findIndex((e=>e.scope===t))}},706922:(e,t,n)=>{n.d(t,{Z:()=>o});const i=Object.prototype.hasOwnProperty;function r(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function o(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(let a=0;a<n.length;a+=1)if(!i.call(t,n[a])||!r(e[n[a]],t[n[a]]))return!1;return!0}},835209:(e,t,n)=>{function i({richPinData:e={}}){return((null==e?void 0:e.products)||[])[0]}n.d(t,{Z:()=>i})},458882:(e,t,n)=>{n.d(t,{l:()=>o,r:()=>a});var i=n(667294);const r=(0,i.createContext)(null),o=()=>(0,i.useContext)(r),a=r.Provider},667679:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(458882),r=n(780679);const o=()=>{const e=(0,r.g)(),t=(0,i.l)();return n=>{const{mobileOptions:i,desktopOptions:r,reason:o,attributionLabel:a}=n;e?e.showDesktopSignupModal({signupFlow:"login"===(null==r?void 0:r.modalType)?{type:"login"}:{type:"signup"},reason:o,attributionLabel:a,...null==r?void 0:r.modalOptions}):t&&t.showMobileSignupModal({reason:o,attributionLabel:a,headingType:null==i?void 0:i.headingType})}}},90771:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(785893);function r({size:e=56}){return(0,i.jsxs)("svg",{fill:"none",height:e,width:e,viewBox:"0 0 56 56",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{fill:"#1a73e8",height:"56",rx:"28",width:"56"}),(0,i.jsx)("path",{d:"m37.086 39.782h-18.454c-2.624 0-4.914-1.983-4.914-4.607v-.028 1.536c0 2.624 2.29 4.913 4.914 4.913h18.454c2.653 0 4.914-2.317 4.914-4.913v-1.536c0 2.624-2.29 4.635-4.914 4.635zm-23.395-13.234v-2.094l-3.434-5.667c-.196-.307-.28-.586-.252-.866v2.401c0 .224.084.447.223.698z",fill:"#185abc"}),(0,i.jsx)("path",{d:"m37.086 17h-25.853c-1.033 0-1.619.893-.92 1.843l3.377 5.863v10.469c0 2.68 1.955 4.914 4.607 4.914h18.761c2.653 0 4.914-2.262 4.914-4.914v-13.233c.028-2.68-2.234-4.942-4.886-4.942z",fill:"#fff"}),(0,i.jsx)("path",{d:"m36.78 24.39h-17.842c-.782 0-1.535-.474-1.535-1.228 0-.753.753-1.228 1.535-1.228h17.84c.782 0 1.536.475 1.536 1.228 0 .754-.754 1.229-1.536 1.229zm0 4.915h-17.842c-.782 0-1.535-.475-1.535-1.229s.753-1.228 1.535-1.228h17.84c.782 0 1.536.474 1.536 1.228s-.754 1.229-1.536 1.229zm-4.942 4.941h-12.928c-.782 0-1.535-.474-1.535-1.228s.753-1.229 1.535-1.229h12.927c.781 0 1.535.475 1.535 1.229s-.754 1.228-1.535 1.228z",fill:"#8ab4f8"})]})}},31149:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(785893);function r({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#EFEFEF"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.1106 19.6408C18.2759 19.551 18.4653 19.5 18.6667 19.5H37.3333C37.5535 19.5 37.7594 19.561 37.9351 19.667C37.9351 19.667 37.9352 19.667 37.9352 19.667L28.7395 27.2024C28.3095 27.5547 27.6905 27.5547 27.2605 27.2024L18.0648 19.667C18.0799 19.6579 18.0951 19.6492 18.1106 19.6408ZM14 20.8611V20.6667C14 18.0893 16.0893 16 18.6667 16H37.3333C39.9107 16 42 18.0893 42 20.6667V20.8611V34.6667C42 37.244 39.9107 39.3333 37.3333 39.3333H18.6667C16.0893 39.3333 14 37.244 14 34.6667V20.8611ZM38.5 23.7292V34.6667C38.5 35.311 37.9777 35.8333 37.3333 35.8333H18.6667C18.0223 35.8333 17.5 35.311 17.5 34.6667V23.7292L25.0422 29.9095C26.7622 31.319 29.2378 31.319 30.9578 29.9096L38.5 23.7292Z",fill:"black"})]})}},659522:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(785893);function r({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("path",{d:"M56 28C56 12.536 43.464 0 28 0S0 12.536 0 28c0 13.975 10.24 25.56 23.625 27.66V36.094h-7.11V28h7.11v-6.169c0-7.017 4.18-10.893 10.576-10.893 3.064 0 6.268.546 6.268.546v6.891h-3.53c-3.479 0-4.564 2.159-4.564 4.373V28h7.766l-1.242 8.094h-6.524V55.66C45.761 53.56 56 41.975 56 28Z",fill:"#1877F2"}),(0,i.jsx)("path",{d:"M38.9 36.094 40.14 28h-7.765v-5.252c0-2.215 1.085-4.373 4.563-4.373h3.53v-6.89s-3.203-.547-6.267-.547c-6.396 0-10.576 3.876-10.576 10.893V28h-7.11v8.094h7.11V55.66a28.206 28.206 0 0 0 8.75 0V36.094h6.524Z",fill:"#fff"})]})}},214680:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(785893);function r({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"url(#paint0_linear_4144_9512)"}),(0,i.jsx)("path",{d:"M27.7512 13C23.3085 13 19.0478 14.47 15.9063 17.0867C12.7649 19.7033 11 23.2522 11 26.9526C11.004 29.3596 11.7556 31.7247 13.1816 33.8182C14.6076 35.9117 16.6595 37.6624 19.138 38.9C18.4779 40.3778 17.4878 41.7636 16.2089 43C18.6891 42.5646 21.0173 41.65 23.0123 40.3273C24.5505 40.708 26.1465 40.9027 27.7512 40.9053C32.1939 40.9052 36.4546 39.4352 39.5961 36.8186C42.7375 34.202 44.5024 30.6531 44.5024 26.9526C44.5024 23.2522 42.7375 19.7033 39.5961 17.0867C36.4546 14.47 32.1939 13 27.7512 13Z",fill:"white"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{id:"paint0_linear_4144_9512",x1:"28.4444",y1:"52.2827",x2:"28.4444",y2:"6.94986",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#0CBD2A"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#5BF675"})]})})]})}},331744:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(785893);function r({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("path",{d:"M28 56c15.464 0 28-12.536 28-28S43.464 0 28 0 0 12.536 0 28s12.536 28 28 28Z",fill:"#00B900"}),(0,i.jsx)("path",{d:"M46.625 26.32c0-8.335-8.354-15.115-18.625-15.115-10.267 0-18.625 6.78-18.625 15.115 0 7.471 6.627 13.73 15.578 14.91.606.13 1.432.401 1.642.92.187.47.122 1.208.06 1.684l-.265 1.596c-.08.471-.373 1.843 1.615 1.003 1.988-.835 10.724-6.314 14.634-10.812 2.693-2.964 3.986-5.969 3.986-9.3Z",fill:"#fff"}),(0,i.jsx)("path",{d:"M24.215 22.293H22.91c-.201 0-.364.163-.364.364v8.115c0 .2.163.364.364.364h1.306c.2 0 .364-.163.364-.364v-8.12a.363.363 0 0 0-.364-.36ZM33.208 22.293H31.9c-.2 0-.364.163-.364.364v4.82l-3.72-5.02c-.009-.015-.018-.024-.027-.038l-.005-.005-.023-.023c-.005 0-.005-.005-.005-.005-.005-.005-.014-.01-.019-.014l-.009-.01c-.005-.004-.014-.008-.019-.013-.004-.005-.009-.005-.009-.005a.036.036 0 0 0-.019-.01c-.004 0-.009-.004-.009-.004-.005-.004-.014-.004-.019-.01-.004 0-.009-.004-.014-.004l-.023-.01c-.005 0-.01 0-.014-.004-.01 0-.014-.005-.019-.005h-.014c-.004 0-.014 0-.018-.004H26.212c-.2 0-.364.163-.364.364v8.115c0 .2.164.364.364.364h1.307c.2 0 .364-.163.364-.364v-4.82l3.724 5.03a.283.283 0 0 0 .093.089s.005 0 .005.005c.01.004.014.009.023.014.005 0 .005.004.01.004.004.005.01.005.018.01.005.004.01.004.02.009.004 0 .008.005.008.005.01.004.02.004.024.009h.004c.028.01.061.014.094.014h1.306c.201 0 .364-.163.364-.364v-8.125a.37.37 0 0 0-.368-.36ZM21.065 29.097h-3.551v-6.445c0-.2-.164-.364-.364-.364h-1.307c-.2 0-.364.163-.364.364v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306a.358.358 0 0 0-.359-.364ZM40.422 24.323c.201 0 .364-.163.364-.364v-1.307c0-.2-.163-.364-.364-.364h-5.217a.353.353 0 0 0-.252.103l-.005.005c0 .004-.004.004-.004.004a.373.373 0 0 0-.103.252v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55c.201 0 .364-.164.364-.364v-1.307c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55v.005Z",fill:"#00B900"})]})}},757146:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(785893);function r({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#fff"}),(0,i.jsx)("rect",{x:".5",y:".5",width:"55",height:"55",rx:"27.5",stroke:"#767676",strokeOpacity:".4"}),(0,i.jsx)("path",{d:"M28 12c-9.012 0-16 6.604-16 15.52 0 4.664 1.912 8.696 5.024 11.48.26.232.42.56.428.912l.088 2.848c.028.908.964 1.5 1.796 1.132l3.176-1.4c.268-.12.572-.14.856-.064 1.46.4 3.012.616 4.632.616 9.012 0 16-6.604 16-15.52S37.012 12 28 12Z",fill:"url(#paint0_radial_3730_649)"}),(0,i.jsx)("path",{d:"m18.392 32.06 4.7-7.456a2.401 2.401 0 0 1 3.472-.64l3.74 2.804a.96.96 0 0 0 1.156-.004l5.048-3.832c.672-.512 1.552.296 1.104 1.012l-4.704 7.452a2.401 2.401 0 0 1-3.472.64l-3.74-2.804a.96.96 0 0 0-1.156.004l-5.048 3.832c-.672.512-1.552-.292-1.1-1.008Z",fill:"#fff"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("radialGradient",{id:"paint0_radial_3730_649",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(18.16 43.826) scale(34.8672)",children:[(0,i.jsx)("stop",{stopColor:"#09F"}),(0,i.jsx)("stop",{offset:".61",stopColor:"#A033FF"}),(0,i.jsx)("stop",{offset:".935",stopColor:"#FF5280"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#FF7061"})]})})]})}},862960:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(785893);function r({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"url(#paint0_linear_4401_2673)"}),(0,i.jsx)("path",{d:"M22.452 39.991c-.907 0-.753-.342-1.066-1.206l-2.667-8.779 20.533-12.181",fill:"#C8DAEA"}),(0,i.jsx)("path",{d:"M22.452 39.991c.7 0 1.01-.32 1.4-.7l3.734-3.63-4.657-2.808",fill:"#A9C9DD"}),(0,i.jsx)("path",{d:"m22.928 32.854 11.284 8.336c1.288.71 2.217.343 2.538-1.195l4.593-21.645c.47-1.885-.719-2.74-1.95-2.181l-26.971 10.4c-1.841.738-1.83 1.765-.336 2.223l6.921 2.16 16.024-10.109c.757-.458 1.45-.212.881.294",fill:"url(#paint1_linear_4401_2673)"}),(0,i.jsxs)("defs",{children:[(0,i.jsxs)("linearGradient",{id:"paint0_linear_4401_2673",x1:"37.352",y1:"9.352",x2:"23.352",y2:"42",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#37AEE2"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#1E96C8"})]}),(0,i.jsxs)("linearGradient",{id:"paint1_linear_4401_2673",x1:"31.096",y1:"27.16",x2:"35.466",y2:"37.116",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#EFF7FC"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#fff"})]})]})]})}},464240:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(785893);function r({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#1DA1F2"}),(0,i.jsx)("path",{d:"M24.34 42c11.37 0 17.591-9.429 17.591-17.591 0-.265 0-.53-.012-.796a12.596 12.596 0 0 0 3.087-3.207c-1.11.494-2.303.82-3.557.976a6.22 6.22 0 0 0 2.725-3.424 12.299 12.299 0 0 1-3.93 1.495 6.17 6.17 0 0 0-4.51-1.953 6.19 6.19 0 0 0-6.186 6.185c0 .483.06.953.157 1.411-5.136-.253-9.694-2.725-12.744-6.463a6.184 6.184 0 0 0-.832 3.111 6.2 6.2 0 0 0 2.749 5.148 6.254 6.254 0 0 1-2.797-.771v.084a6.196 6.196 0 0 0 4.955 6.065 6.028 6.028 0 0 1-1.628.217c-.397 0-.783-.036-1.157-.109a6.182 6.182 0 0 0 5.775 4.293 12.4 12.4 0 0 1-7.68 2.652c-.494 0-.989-.024-1.471-.084A17.587 17.587 0 0 0 24.34 42Z",fill:"#fff"})]})}},89396:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(785893);function r({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#7360F2"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.362 31.327s.57.05.875-.33l.597-.75c.288-.374.984-.61 1.665-.232.902.509 2.067 1.309 2.866 2.054.44.371.542.918.242 1.495l-.002.012a6.278 6.278 0 0 1-1.243 1.53l-.012.009c-.587.489-1.261.773-1.983.538l-.013-.018c-1.296-.367-4.405-1.952-6.386-3.532-3.242-2.558-5.546-6.776-6.183-9.038l-.02-.013c-.235-.724.052-1.398.539-1.984l.01-.01a6.224 6.224 0 0 1 1.53-1.243l.012-.003c.576-.3 1.122-.198 1.494.243.49.505 1.408 1.721 2.054 2.865.378.68.141 1.377-.231 1.664l-.752.598c-.379.306-.33.876-.33.876s1.113 4.207 5.271 5.269Zm6.543-3.488a.405.405 0 0 1-.406-.403c-.018-2.44-.752-4.384-2.178-5.776-1.43-1.393-3.236-2.108-5.37-2.122a.403.403 0 0 1-.4-.408.403.403 0 0 1 .403-.402h.003c2.35.016 4.344.808 5.93 2.352 1.586 1.55 2.402 3.687 2.422 6.35a.406.406 0 0 1-.401.409h-.003Zm-2.127-.832h-.01a.405.405 0 0 1-.395-.414c.032-1.384-.364-2.503-1.208-3.425-.84-.918-1.993-1.42-3.527-1.532a.406.406 0 0 1-.374-.433.406.406 0 0 1 .433-.375c1.725.127 3.093.73 4.065 1.794.977 1.066 1.456 2.409 1.42 3.989a.406.406 0 0 1-.404.396Zm-2.077-.696a.404.404 0 0 1-.404-.386c-.068-1.373-.716-2.045-2.036-2.117a.404.404 0 1 1 .043-.808c1.744.093 2.712 1.092 2.8 2.886a.403.403 0 0 1-.383.423l-.02.002Zm9.09 4.625c-.808 6.503-5.563 6.913-6.44 7.195-.374.12-3.843.982-8.203.698 0 0-3.251 3.92-4.266 4.94-.158.159-.344.223-.469.194-.175-.043-.223-.251-.22-.553l.027-5.354v-.001c-6.35-1.764-5.98-8.394-5.908-11.864.072-3.47.724-6.315 2.661-8.227 3.48-3.152 10.65-2.681 10.65-2.681 6.054.027 8.955 1.85 9.628 2.46 2.234 1.912 3.371 6.49 2.54 13.193Zm-.87-14.817c-.796-.73-4.01-3.064-11.167-3.096 0 0-8.44-.51-12.554 3.267-2.29 2.29-3.096 5.64-3.181 9.797-.085 4.157-.195 11.944 7.311 14.056l.008.002-.005 3.221s-.047 1.306.812 1.572c1.039.322 1.648-.669 2.641-1.738a88.708 88.708 0 0 0 1.863-2.107c5.135.43 9.082-.556 9.532-.701 1.036-.337 6.902-1.088 7.857-8.876.984-8.03-.477-13.106-3.117-15.397Z",fill:"#fff"})]})}},22641:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(785893);function r({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#25D366"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39.206 16.65A15.75 15.75 0 0 0 27.99 12c-8.74 0-15.854 7.113-15.857 15.855a15.821 15.821 0 0 0 2.117 7.927L12 44l8.406-2.205a15.837 15.837 0 0 0 7.577 1.93h.007c8.74 0 15.853-7.114 15.856-15.857a15.76 15.76 0 0 0-4.64-11.218ZM27.99 41.047h-.005c-2.365 0-4.684-.636-6.708-1.837l-.482-.286-4.988 1.309 1.331-4.864-.313-.499a13.146 13.146 0 0 1-2.015-7.014c.003-7.266 5.915-13.178 13.185-13.178a13.09 13.09 0 0 1 9.318 3.865 13.098 13.098 0 0 1 3.856 9.324c-.003 7.267-5.915 13.18-13.179 13.18Zm7.23-9.871c-.397-.199-2.345-1.157-2.708-1.289-.364-.132-.628-.198-.891.198-.264.397-1.024 1.29-1.255 1.554-.231.264-.462.297-.858.099-.396-.199-1.673-.617-3.187-1.966-1.178-1.051-1.973-2.348-2.204-2.745-.231-.397-.024-.611.173-.808.178-.178.397-.463.595-.695.198-.23.264-.396.396-.66.132-.265.066-.496-.033-.695-.098-.198-.89-2.148-1.221-2.941-.322-.773-.649-.668-.892-.68a16.01 16.01 0 0 0-.759-.014c-.264 0-.693.099-1.057.495-.363.397-1.387 1.356-1.387 3.305 0 1.95 1.42 3.835 1.618 4.1.199.264 2.794 4.265 6.769 5.982.945.409 1.683.653 2.259.835.948.302 1.812.26 2.495.157.76-.114 2.344-.958 2.674-1.884.33-.925.33-1.719.23-1.884-.098-.166-.362-.266-.758-.464Z",fill:"#fff"})]})}},619277:(e,t,n)=>{n.d(t,{o$:()=>r,ty:()=>o,vE:()=>a});var i=n(425288);const{Provider:r,MaybeConsumer:o,useMaybeHook:a}=(0,i.Z)("inviteContext")},867060:(e,t,n)=>{n.d(t,{c:()=>i,y:()=>r});const i={10:13098,11:13099,6:13100,5:13101,14:13102,12:13103,15:13104,8:13105,4:13106,1:13107,18:13108,19:13109,20:13110,21:13111,22:13112,23:13113,26:13114,27:13115,29:13116},r={pin:1,board:2,did_it:6,pinner:3,user:3,today_article:8}},223815:(e,t,n)=>{n.d(t,{U:()=>a,Z:()=>s});var i=n(755742),r=n(785893);const o=()=>{},a=e=>{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()};function s({allowClickAndDrag:e,allowEsc:t,allowMediaPlay:n,allowScroll:s,children:l}){const c=e=>function(e,t){t&&e.keyCode===i.Z.ESCAPE||a(e)}(e,t);return(0,r.jsx)("div",{onAbort:a,onAnimationEnd:a,onAnimationIteration:a,onAnimationStart:a,onBlur:o,onCanPlay:n?o:a,onCanPlayThrough:a,onChange:a,onClick:e?o:a,onCompositionEnd:a,onCompositionStart:a,onCompositionUpdate:a,onContextMenu:a,onCopy:a,onCut:a,onDoubleClick:a,onDurationChange:a,onEmptied:a,onEncrypted:a,onEnded:a,onError:a,onFocus:o,onInput:a,onInvalid:a,onKeyDown:c,onKeyPress:c,onKeyUp:c,onLoad:a,onLoadedData:a,onLoadedMetadata:a,onLoadStart:a,onMouseDown:a,onMouseEnter:a,onMouseLeave:a,onMouseMove:e?o:a,onMouseOut:a,onMouseOver:a,onMouseUp:e?o:a,onPaste:a,onPause:a,onPlay:a,onPlaying:a,onProgress:a,onRateChange:a,onScroll:s?o:a,onSeeked:a,onSeeking:a,onSelect:a,onStalled:a,onSubmit:a,onSuspend:a,onTimeUpdate:a,onTouchCancel:a,onTouchEnd:e?o:a,onTouchMove:e?o:a,onTouchStart:e?o:a,onTransitionEnd:a,onVolumeChange:a,onWaiting:a,onWheel:a,children:l})}},704177:(e,t,n)=>{n.d(t,{Tl:()=>c,Xb:()=>u,ZP:()=>p,y7:()=>d});var i=n(231486),r=n(226198);class o{constructor(e){this._cookie=e}length(){const e=i.U2(this._cookie),t=e?JSON.parse(e):{};return Object.keys(t).length}getItem(e){const t=i.U2(this._cookie);return(t?JSON.parse(t):{})[e]}setItem(e,t){const n=i.U2(this._cookie),r=n?JSON.parse(n):{};r[e]=t,i.t8(this._cookie,JSON.stringify(r))}removeItem(e){const t=i.U2(this._cookie),n=t?JSON.parse(t):{};delete n[e],i.t8(this._cookie,JSON.stringify(n))}prependItem(e,t,n=1/0){const i=this.getItem(e),r=Array.isArray(i)?i:[];r.unshift(t),r.length>n&&r.pop(),this.setItem(e,r)}clear(){i.zN(this._cookie.name)}}class a{length(){return window.sessionStorage.length}getItem(e){const t=window.sessionStorage.getItem(e);return null!==t?JSON.parse(t):null}setItem(e,t){window.sessionStorage.setItem(e,JSON.stringify(t))}removeItem(e){window.sessionStorage.removeItem(e)}prependItem(e,t,n=1/0){const i=window.sessionStorage.getItem(e),r=i?JSON.parse(i):[];r.unshift(t),r.length>n&&r.pop(),window.sessionStorage.setItem(e,JSON.stringify(r))}clear(){window.sessionStorage.clear()}}class s{length(){return window.localStorage.length}getItem(e){const t=window.localStorage.getItem(e);return null!==t?JSON.parse(t):t}setItem(e,t){window.localStorage.setItem(e,JSON.stringify(t))}removeItem(e){window.localStorage.removeItem(e)}prependItem(e,t,n=1/0){const i=window.localStorage.getItem(e),r=i?JSON.parse(i):[];r.unshift(t),r.length>n&&r.pop(),window.localStorage.setItem(e,JSON.stringify(r))}clear(){window.localStorage.clear()}}const l=function(e){let t;try{t=e?window.sessionStorage:window.localStorage}catch(c){t=null}const n=e?r.Gl:r.sy;let i=!1;const l=t;if(l)try{l.setItem("testing","test"),l.removeItem("testing")}catch(c){if(c.code!==window.DOMException.QUOTA_EXCEEDED_ERR||0!==l.length)throw c;i=!0}else i=!0;return i?new o(n):e?new a:new s},c=function(e,t=[]){return[...t,e].join("_")},d=l(!0),u=l(!1),p={sessionStorage:d,localStorage:u,createKey:c}},957161:(e,t,n)=>{n.d(t,{L_:()=>r,Nh:()=>o,qn:()=>i});const i=(e,t=null)=>{try{return"undefined"!=typeof window&&window.localStorage.getItem(e)||t}catch(n){return console.error("Cannot access localStorage."),t}},r=e=>{try{if("undefined"==typeof window)return;window.localStorage.removeItem(e)}catch(t){console.error("Cannot access localStorage.")}},o=(e,t)=>{try{if("undefined"==typeof window)return;window.localStorage.setItem(e,t)}catch(n){console.error("Cannot access localStorage.")}}},622096:(e,t,n)=>{n.d(t,{L_:()=>r,Nh:()=>o,qn:()=>i});const i=(e,t)=>{if("undefined"==typeof window)return t;try{return window.sessionStorage.getItem(e)}catch(n){return window.console.error("Cannot access sessionStorage."),t}},r=e=>{if("undefined"!=typeof window)try{window.sessionStorage.removeItem(e)}catch(t){window.console.error("Cannot access sessionStorage.")}},o=(e,t)=>{if("undefined"!=typeof window)try{window.sessionStorage.setItem(e,t)}catch(n){window.console.error("Cannot access sessionStorage.")}}},940882:(e,t,n)=>{n.d(t,{J:()=>i,Z:()=>r});const i=-1;function r(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},985913:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(858142);const r=/\{\{\s*(\w+)\s*\}\}/g,o=(e,t)=>(0,i.Z)(r,e,t)},858791:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},936776:(e,t,n)=>{n.d(t,{Z:()=>r});const i=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,r=e=>i.test(e)},927104:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(e,t)=>e.length>t?e.substr(0,t-3).trim()+"":e},858142:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(e,t,n)=>t?t.replace(e,((e,t)=>n&&Object.prototype.hasOwnProperty.call(n,t)?n[t]:"")):""},66699:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(985913),r=n(858791);const o=(e,t)=>{const n={};return Object.keys(t).forEach((e=>{n[e]=t[e]?(0,r.Z)(t[e].toString()):""})),(0,i.Z)(e,n)}},883561:(e,t,n)=>{n.d(t,{ZP:()=>i});function i(e,t=80,n="",i=false){let r;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||i)r=e.substring(0,t);else{const n=e.lastIndexOf(" ",t);r=e.substring(0,n)}return r=r.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""),r+n}},70061:(e,t,n)=>{function i(e){return e.replace(/[_.-](\w|$)/g,((e,t)=>t.toUpperCase()))}n.d(t,{Z:()=>i})},966113:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(401060);const r={settings:{TAG_MANAGER_URL:`${(0,i.Z)({site:"sterling",path:"/conversions/tag"})}`,TAG_MANAGER_REDIRECT_URL:`${(0,i.Z)({site:"sterling",path:"/?redirect=PINTEREST_TAG"})}`,VERIFIED_MERCHANT_PROGRAM_URL:"https://business.pinterest.com/verified-merchant-program",LINK_SHOPIFY_AND_PINTEREST_GUIDE_URL:"https://help.pinterest.com/en/business/article/link-your-shopify-and-pinterest-accounts",LINK_SHOPIFY_HELP_CENTER_MAKE_PRODUCTS_AVAILABLE:"https://help.shopify.com/manual/products/add-update-products#make-products-available-to-your-sales-channels",LINK_SHOPIFY_HELP_CENTER_BULK_EDITING_PRODUCTS:"https://help.shopify.com/manual/shopify-admin/productivity-tools/bulk-editing-products",LINK_SHOPIFY_HELP_CENTER_MULTILINGUAL_ONLINE_STORE:"https://help.shopify.com/manual/cross-border/multilingual-online-store",CALENDLY_DOMAIN:"https://calendly.com",CALENDLY_PINTEREST_CA_SMB_SALES_TEAM:"ca-smb-pm",CALENDLY_PINTEREST_US_SMB_SALES_TEAM:"us-smb-pm",CALENDLY_PINTEREST_BR_SMB_SALES_TEAM:"br-smb-pms",CALENDLY_PINTEREST_LATAM_SP_SMB_SALES_TEAM:"sp-smb-pms",CALENDLY_PINTEREST_AUNZ_DIRECT_SALES_TEAM:"au-direct-pms",CALENDLY_PINTEREST_JP_DIRECT_SALES_TEAM:"jp-smb-direct-pms",CALENDLY_PINTEREST_UKI_DIRECT_SALES_TEAM:"uk-direct-pms",CALENDLY_PINTEREST_NL_DIRECT_SALES_TEAM:"nl-direct-pms",CALENDLY_PINTEREST_DE_DIRECT_SALES_TEAM:"de-direct-pms",CALENDLY_PINTEREST_ND_DIRECT_SALES_TEAM:"nd-direct-pms",CALENDLY_PINTEREST_FR_DIRECT_SALES_TEAM:"fr-direct-pms",CALENDLY_PINTEREST_IT_DIRECT_SALES_TEAM:"it-direct-pms",CALENDLY_PINTEREST_ES_DIRECT_SALES_TEAM:"es-direct-pms",CALENDLY_PINTEREST_CEE_DIRECT_SALES_TEAM:"ce-direct-pms",CALENDLY_PINTEREST_EXPORT_DIRECT_SALES_TEAM:"ex-direct-pms",CALENDLY_PINTEREST_DISCOVERY_CALL:"discovery-call-inapp",CALENDLY_PINTEREST_DISCOVERY_CALL_SHORT:"discovery-call-in-app-clone",CALENDLY_PINTEREST_DISCOVERY_CALL_CREDITS_100:"pinterest-discovery-call-credits-100",CALENDLY_PINTEREST_EMEA_DISCOVERY_CALL:"discovery-call-in-app",CALENDLY_PINTEREST_EMEA_UTM_MEDIUM:"discovery-call-in-app",CALENDLY_PINTEREST_LATAM_DISCOVERY_CALL:"discovery-call-in-app",CALENDLY_PINTEREST_LATAM_UTM_MEDIUM:"discovery-call-in-app",CALENDLY_PINTEREST_LATAM_PLUS_DISCOVERY_CALL:"discovery-call-1-in-app",CALENDLY_PINTEREST_LATAM_PLUS_UTM_MEDIUM:"discovery-call-1-in-app",CALENDLY_PINTEREST_AUNZ_DISCOVERY_CALL:"discovery-call-in-app",CALENDLY_PINTEREST_AUNZ_UTM_MEDIUM:"discovery-call-in-app",CALENDLY_PINTEREST_JP_DISCOVERY_CALL:"discovery-call-in-app",CALENDLY_PINTEREST_JP_UTM_MEDIUM:"discovery-call-in-app",CALENDLY_PINTEREST_EX_CHINA_DISCOVERY_CALL:"discovery-call-china-in-app",CALENDLY_PINTEREST_EX_CHINA_UTM_MEDIUM:"discovery-call-china-in-app",CALENDLY_PINTEREST_EX_OTHERS_DISCOVERY_CALL:"discovery-call-others-in-app",CALENDLY_PINTEREST_EX_OTHERS_UTM_MEDIUM:"discovery-call-others-in-app",CONVERT_BUSINESS_PAGE:"/convert-business",CONVERT_BUSINESS_URL:"https://www.pinterest.com/convert-business",CONVERT_PERSONAL_PAGE:"/convert-personal",CLOSE_ACCOUNT:"/close-account",INSTALL_PINTEREST_APP_ON_SHOPIFY_URL:"https://apps.shopify.com/pinterest-1",INSTALL_PINTEREST_APP_ON_WOOCOMMERCE_URL:"https://woocommerce.com/products/pinterest-for-woocommerce/",SHOPPING_CATALOGS_BASE_PATH:"/product-catalogs/",SHOPPING_CATALOGS_URL:"https://www.pinterest.com/product-catalogs",SHOPPING_CATALOGS_DATA_SOURCE_URL:"https://www.pinterest.com/product-catalogs/data-source/",SHOPPING_CATALOGS_PRODUCT_GROUPS_URL:"https://www.pinterest.com/product-catalogs/product-groups/",SHOPPING_CATALOGS_FEED_VALIDATION_DEBUGGER_URL:"https://www.pinterest.com/product-catalogs/feed-debugger/",PARTNER_CONVERT_ACCOUNT:"/business/convert/",HELP_RELATIVE_URL:"/_/_/help/",RELATIVE_PARTNER_SITE_URL:"/_/_/business/",HELP_ESTIMATED_CONVERSIONS:"https://help.pinterest.com/business/article/report-offline-conversion-events",HELP_MODELED_CONVERSIONS:"https://help.pinterest.com/business/article/modeled-conversions",HELP_SHOPPING_WITH_PINTEREST:"https://help.pinterest.com/article/merchant-details",HELP_TRACKING_URL_LINK:"https://www.pinterest.com/_/_/help/business/article/third-party-and-dynamic-tracking",HELP_PROMOTED_PINS_INTEREST_TARGETING_URL:"https://www.pinterest.com/_/_/help/business/article/interest-targeting",SIGNUP_URL:"/join/",HELP_BOARDS_INVITE_URL_SRC_CREATE:"https://www.pinterest.com/_/_/help/article/group-boards?source=board_create",ABOUT_URL:"https://www.pinterest.com/_/_/about/",HELP_BOARDS_SECRET_URL_SRC_PROFILE:"https://www.pinterest.com/_/_/help/article/change-board-privacy?source=profile",HELP_PROMOTED_PINS_CPC_BID_URL:"https://www.pinterest.com/_/_/help/business/article/create-ad-group",HELP_COMMON_BUSINESS_QUESTIONS_URL:"https://help.pinterest.com/en/business/article/promoted-pins-overview?qa=6",HELP_CENTER_CAMPAIGN_STRUCTURE_LINK:"https://www.pinterest.com/_/_/help/business/article/campaign-structure",HELP_CONTACT_US_VMP:"https://help.pinterest.com/contact?current_page=about_you_page&business_issues=visual_search_shopping&visual_search_shopping_issue=shop_issue_vmp",HELP_IDEA_PIN_CREATION:"https://www.pinterest.com/_/_/help/article/create-idea-pins",PASSWORD_CHANGE_URL:"/settings/account-settings/",PASSWORD_RESET_URL:"/password/reset/",POLICY_PRIVACY_URL:"https://www.pinterest.com/_/_/policy/privacy-policy/",POLICY_COPYRIGHT_URL:"https://www.pinterest.com/_/_/policy/copyright/",POLICY_TRADEMARK_URL:"https://www.pinterest.com/_/_/policy/trademark/",PRIVACY_SETTINGS_URL:"https://www.pinterest.com/settings/privacy/",HELP_MESSAGES_URL:"https://www.pinterest.com/_/_/help/article/send-messages/",BUSINESS_BUY_IT_URL:"https://www.pinterest.com/_/_/business/advertise/#ad-formats",ABOUT_GOODIES_URL:"https://www.pinterest.com/_/_/about/goodies/",HELP_ABOUT_PINTEREST_URL:"https://www.pinterest.com/_/_/help/guide/all-about-pinterest/",PINTEREST_CAREERS_URL:"https://www.pinterestcareers.com/",POLICY_TERMS_URL:"https://www.pinterest.com/_/_/policy/terms-of-service/",HELP_LENS_URL:"https://www.pinterest.com/_/_/help/article/pinterest-lens",VIRTUAL_TRY_ON_NEWSROOM_POST_URL:"https://pinterest.com/_/_/newsroom/post/pinterests-new-ar-tech-lets-you-try-on-makeup-before-you-buy",POLICY_IMPRESSUM_URL:"https://policy.pinterest.com/de/impressum/",CONFIRM_WEBSITE:"/website/confirm",PARTNER_SITE_SIGNUP:"/business/create/",PARTNER_SITE_LOGIN:"/business/login/",PIN_ANALYTICS_LEARN_MORE_URL:"https://www.pinterest.com/_/_/help/articles/pin-stats",CLAIM_YOUR_WEBSITE_LEARN_MORE_URL:"https://www.pinterest.com/_/_/help/articles/claim-your-website",CLAIM_YOUR_WEBSITE_SETTINGS:"https://www.pinterest.com/settings/claim",RSS_AUTO_PUBLISH_LEARN_MORE_URL:"https://www.pinterest.com/_/_/help/business/article/auto-publish-pins-from-your-rss-feed",BULK_UPLOAD_VIDEO_PINS_URL:"https://www.pinterest.com/_/_/help/business/article/bulk-upload-video-pins",DEBUG:!1,HELP_WEBSITE_CONVERSION_INSIGHTS:"https://www.pinterest.com/_/_/help/business/article/conversion-insights",HELP_WEBSITE_CONVERSION_TRACKING_URL:"https://www.pinterest.com/_/_/help/business/article/pinterest-tag-implementation-overview",HELP_PINTEREST_CRAWLER:"https://www.pinterest.com/_/_/help/articles/about-pinterest-crawler-0",HELP_WEBSITE_CONVERSION_CAMPAIGNS:"https://www.pinterest.com/_/_/help/business/article/conversions-campaigns",HELP_WEBSITE_CONVERSION_TRACKING_THIRD_PARTY_URL:"https://www.pinterest.com/_/_/help/business/article/third-party-and-dynamic-tracking",HELP_WEBSITE_CONVERSION_TRACKING_BASE_URL:"https://www.pinterest.com/_/_/help/business/article/install-the-base-code",HELP_WEBSITE_CONVERSION_TRACKING_EVENTS_URL:"https://www.pinterest.com/_/_/help/business/article/event-code",HELP_WEBSITE_CONVERSION_ENHANCED_MATCH_URL:"https://www.pinterest.com/_/_/help/business/article/enhanced-match",HELP_WEBSITE_CONVERSION_AUTOMATIC_ENHANCED_MATCH_URL:"https://www.pinterest.com/_/_/help/business/article/automatic-enhanced-match",HELP_WEBSITE_CONVERSION_METADATA_ENRICHMENT:"https://help.pinterest.com/business/article/install-the-base-code#section-16051",HELP_WEBSITE_CONVERSION_TRACKING_HOWTO_URL:"https://www.pinterest.com/_/_/help/articles/website-conversion-tracking",HELP_WEBSITE_CONVERSION_EVENTS:"https://help.pinterest.com/business/article/add-event-codes",HELP_WEBSITE_PINTEREST_CHECKOUT:"https://help.pinterest.com/business/article/checkout-on-pinterest",HELP_PROMOTED_PINS_LOOKALIKE_TARGETING_URL:"https://www.pinterest.com/_/_/help/articles/personalized-ads-pinterest",HELP_BUSINESS_SET_YOUR_BID:"https://pinterest.com/_/_/help/business/article/set-your-bid",HELP_BUSINESS_CONVERSIONS_CAMPAIGNS_URL:"https://pinterest.com/_/_/help/business/article/conversions-campaigns",HELP_BUSINESS_ACCESS_URL:"https://www.pinterest.com/_/_/help/business/article/share-and-manage-access-to-your-ad-accounts",HELP_BUSINESS_ACCESS_PROFILE_PERMISSIONS_URL:"https://www.pinterest.com/_/_/help/business/article/profile-permissions-in-business-access",HELP_BUSINESS_ACCESS_TEAM_ADD_EMPLOYEE_URL:"https://help.pinterest.com/business/article/share-and-manage-access-to-your-ad-accounts#section-17351",HELP_BUSINESS_ACCESS_TEAM_ASSIGN_PERMISSIONS_URL:"https://help.pinterest.com/business/article/share-and-manage-access-to-your-ad-accounts#section-17366",HELP_BUSINESS_ACCESS_TEAM_EDIT_PERMISSIONS_URL:"https://help.pinterest.com/business/article/share-and-manage-access-to-your-ad-accounts#section-17381",HELP_BUSINESS_ACCESS_TEAM_MANAGE_ROLES_URL:"https://help.pinterest.com/business/article/share-and-manage-access-to-your-ad-accounts#section-17396",HELP_BUSINESS_ACCESS_TEAM_REMOVE_EMPLOYEE_URL:"https://help.pinterest.com/business/article/share-and-manage-access-to-your-ad-accounts#section-17411",HELP_BUSINESS_ACCESS_PARTNER_ADD_URL:"https://help.pinterest.com/business/article/share-and-manage-access-to-your-ad-accounts#section-17431",HELP_BUSINESS_ACCESS_PARTNER_REQUEST_URL:"https://help.pinterest.com/business/article/share-and-manage-access-to-your-ad-accounts#section-17446",HELP_BUSINESS_ACCESS_PARTNER_PERMISSIONS_URL:"https://help.pinterest.com/business/article/share-and-manage-access-to-your-ad-accounts#section-17461",HELP_BUSINESS_ACCESS_PARTNER_AD_ACCOUNT_ACCESS_URL:"https://help.pinterest.com/business/article/share-and-manage-access-to-your-ad-accounts#section-17476",HELP_BUSINESS_ACCESS_PARTNER_AD_ACCOUNT_PERMISSIONS_URL:"https://help.pinterest.com/business/article/share-and-manage-access-to-your-ad-accounts#section-17491",HELP_BUSINESS_ACCESS_PARTNER_REMOVE_URL:"https://help.pinterest.com/business/article/share-and-manage-access-to-your-ad-accounts#section-17506",HELP_BUSINESS_ACCESS_MIGRATION_URL:"https://help.pinterest.com/business/article/ad-account-permission-updates",HELP_UPDATED_REPORTING_METRICS:"https://www.pinterest.com/_/_/help/business/article/review-new-and-updated-reporting-metrics#section-15861",PARTNER_SITE_URL:"https://www.pinterest.com/_/_/business/",PARTNER_SITE_SUPPORT_URL:"https://www.pinterest.com/_/_/help/business/topics/advertise-on-pinterest",PARTNER_SITE_EARN_MONEY_URL:"https://www.pinterest.com/_/_/business/how-to-make-money-on-pinterest",BUSINESS_COMMUNITY_URL:"https://community.pinterest.biz/",HELP_PAID_PARTNERSHIPS_URL:"https://www.pinterest.com/_/_/help/business/article/paid-partnerships-for-creators",AUDIENCE_INSIGHTS_SUPPORT_URL:"https://www.pinterest.com/_/_/help/articles/audience-insights",ANALYTICS_SUPPORT_URL:"https://www.pinterest.com/_/_/help/articles/pinterest-analytics",ANALYTICS_HELP_PIN_PERFORMANCE_URL:"https://help.pinterest.com/business/article/pin-performance-and-distribution",ANALYTICS_MWEB_SUPPORT_URL:"https://help.pinterest.com/business/article/pinterest-analytics",CLAIM_YOUR_ACCOUNTS_LEARN_MORE_URL:"https://www.pinterest.com/_/_/help/articles/claim-your-instagram-etsy-or-youtube-account",HELP_CLAIM_YOUR_WEBSITE_ADD_HTML_TAG:"https://www.pinterest.com/_/_/help/articles/claim-your-website#section-12101",HELP_CLAIM_YOUR_WEBSITE_UPLOAD_HTML_FILE:"https://www.pinterest.com/_/_/help/articles/claim-your-website#section-12106",HELP_CLAIM_YOUR_WEBSITE_ADD_TXT_RECORD:"https://www.pinterest.com/_/_/help/articles/claim-your-website#section-14291",FACEBOOK_API_KEY:"274266067164",LINE_CLIENT_ID:"1655662257",GOOGLE_CHROME_ARAPI_ORIGIN_TRIAL_TOKEN:"Ag7Wi0OQXjQ+tVcRojthhAkhFNw26ltaBuXd0XybdAzWueFP1PC9Y3R5iOn3r8T7qgZ7eJGkcQPBlw01qNBN1AAAAABveyJvcmlnaW4iOiJodHRwczovL3BpbnRlcmVzdC5jb206NDQzIiwiZmVhdHVyZSI6IlByaXZhY3lTYW5kYm94QWRzQVBJcyIsImV4cGlyeSI6MTY2OTc2NjM5OSwiaXNTdWJkb21haW4iOnRydWV9",ADS_DOMAIN:"ads.pinterest.com",ADS_SITE_URL:`${(0,i.Z)({site:"sterling"})}`,APPSFLYER_ORIGIN:"https://pinterest.onelink.me",APPSFLYER_IOS_DESKTOP_LINK:"https://pinterest.onelink.me/TVSr/dwebios",APPSFLYER_ANDROID_DESKTOP_LINK:"https://pinterest.onelink.me/TVSr/dwebandroid",CANONICAL_BUSINESS_HUB:"https://www.pinterest.com/business/hub/",CANONICAL_ENGAGEMENT_URL:"https://www.pinterest.com/engagement/",CANONICAL_HOMEFEED_URL:"https://www.pinterest.com/homefeed/",CANONICAL_MAIN_DOMAIN:"www.pinterest.com",CANONICAL_HELP_CENTER_URL:"https://help.pinterest.com",CANONICAL_MAIN_URL:"https://www.pinterest.com",CANONICAL_POLICY_URL:"https://policy.pinterest.com",CANONICAL_DEVELOPERS_URL:(0,i.Z)({site:"developers"}),CANONICAL_ADS_URL:`${(0,i.Z)({site:"sterling"})}`,CANONICAL_ANALYTICS_URL:`${(0,i.Z)({site:"analytics"})}`,ADS_SITE_CPC_URL:`${(0,i.Z)({site:"sterling",path:"/traffic/"})}`,RELATIVE_ABOUT_URL:"/_/_/about/",INSTALL_SHUFFLES_URL:"https://apps.apple.com/us/app/shuffles-by-pinterest/1573869498",EXTENSION_PINIT_CHROME_URL:"https://chrome.google.com/webstore/detail/gpdjojdkbbmdfjfahjcgigfpmkopogic",HELP_BLOCKING:"https://www.pinterest.com/_/_/help/articles/block-or-unblock-someone",PUBLIC_API_URL:"https://api.pinterest.com",CONVERSION_TRACKING_DOMAIN:"ct.pinterest.com",ABOUT_DMCA_PIN_URL:"/about/copyright/dmca-pin/",ABOUT_TRADEMARK_FORM:"/about/trademark/form/",ABOUT_LEGAL_COUNTER_NOTICE_URL:"/about/copyright/counter-notice/",AUTHENTICATION_ORIGIN:"https://www.pinterest.com",TRUSTED_HOSTNAME_ENDING:"pinterest.com",PINTERGRATION_HOSTNAME_ENDING:"pintergration.com",PINTERDEV_DOMAIN:"pinterdev.com",GOOGLE_TAG_MANAGER_URL:"https://tagmanager.google.com",GOOGLE_TAG_MANAGER_SETUP_AND_INSTALL_SUPPORT_URL:"https://support.google.com/tagmanager/answer/6103696",GOOGLE_TAG_MANAGER_CLIENT_ID:"694505692171-fg39es9kkarvoc4jlp3qv58a0u7shd5t.apps.googleusercontent.com",GOOGLE_TAG_MANAGER_TEST_CLIENT_ID:"694505692171-vv8ttc4li4kmgnuo3ik4uqte1igek5c4.apps.googleusercontent.com",GPLUS_CLIENT_ID:"694505692171-31closf3bcmlt59aeulg2j81ej68j6hk.apps.googleusercontent.com",HELP_URL:"https://www.pinterest.com/_/_/help/",HELP_UNDERSTAND_PRIVACY:"https://www.pinterest.com/_/_/help/articles/change-your-privacy-settings",BUSINESS_SITE_URL:"https://business.pinterest.com",CREATORS_SITE_URL:"https://creators.pinterest.com",GPLUS_SCOPE:"profile email",REPORTED_CONTENT_PLACEHOLDER_URL:"https://www.pinterest.com/pin/12345/",POLICY_COOKIE_URL:"https://www.pinterest.com/_/_/policy/cookies/",PARTNER_SITE_CREATORS_URL:"https://www.pinterest.com/_/_/business/creators",PARTNER_SITE_MAKE_GREAT_PINS_URL:"https://www.pinterest.com/_/_/business/content/creative-best-practices",PARTNER_SITE_CREATOR_CODE_URL:"https://www.pinterest.com/_/_/business/creator-code",LOGIN_URL:"/login/",LOGOUT_URL:"/logout/",HELP_WHY_BLOCKED_FOR_INAPPROPRIATE_URL:"https://www.pinterest.com/_/_/help/entries/21436306",HELP_LOGIN_TROUBLES:"https://www.pinterest.com/_/_/help/articles/login-trouble",HELP_PASSWORD_RESET_URL:"https://www.pinterest.com/_/_/help/articles/trouble-pinterest-emails",PARTNER_SITE_ADS_SUPPORT_URL:"https://help.pinterest.com/contact",ACCOUNT_SUSPENSION_APPEAL_URL:"https://help.pinterest.com/contact?current_page=about_you_page&appeals=account_suspension",DEVELOPER_DOC_CONVERSION_TAG_LINK:"https://developers.pinterest.com/docs/tags/pinterest-conversion-tag/",DEVELOPER_DOC_CONVERSION_MANAGEMENT_LINK:"https://developers.pinterest.com/docs/conversions/conversion-management/",HELP_PROMOTED_PINS_BUYABLE_PIN:"https://www.pinterest.com/_/_/help/articles/selling-on-pinterest",HELP_MERCHANT_POLICY_URL:"https://policy.pinterest.com/merchant-guidelines",HELP_PERSONALIZATION_AND_DATA:"https://www.pinterest.com/_/_/help/articles/personalization-and-data",ADS_SITE_CREATE:`${(0,i.Z)({site:"sterling",path:"/promoted_pin_v2/campaign/"})}`,HELP_REPORT_PERSON_URL:"https://www.pinterest.com/_/_/help/entries/22163668",COPYRIGHT_YEAR:"2019",HELP_SHOWCASE:"https://www.pinterest.com/_/_/help/articles/showcase",HELP_PROMOTED_PINS_REJECTED_PIN_URL:"https://www.pinterest.com/_/_/help/articles/creating-and-editing-promoted-pins?qa=9",HELP_AUDIENCE_WEBSITE_URL:"https://www.pinterest.com/_/_/help/articles/confirm-your-website",ANALYTICS_SITE_URL:`${(0,i.Z)({site:"analytics"})}`,AUDIENCE_INSIGHTS_URL:`${(0,i.Z)({site:"analytics",path:"/audience-insights/"})}`,TRENDS_URL:"https://trends.pinterest.com",TRENDS_INTERNAL_URL:"https://trends-internal.pinadmin.com",PINTEREST_PREDICTS_URL:"https://business.pinterest.com/content/pinterest-predicts/",ANALYTICS_MONTHLY_VIEWERS_URL:`${(0,i.Z)({site:"analytics",path:"/?primary_metric=TOTAL_AUDIENCE"})}`,ANALYTICS_MONTHLY_ENGAGERS_URL:`${(0,i.Z)({site:"analytics",path:"/?primary_metric=ENGAGERS"})}`,QUICK_PROMOTE_WWW_URL:`${(0,i.Z)({site:"www"})}/advertiser/quick-promote`,HELP_PROMOTED_PINS_BILLING_URL:"https://www.pinterest.com/_/_/help/articles/billing-and-payment",HELP_CREDITS_BILLING_URL:"https://www.pinterest.com/_/_/help/business/article/billing-credits",HELP_BILLING_ACCEPTED_PAYMENTS_URL:"https://www.pinterest.com/_/_/help/business/article/accepted-payments",HELP_PROMOTED_PINS_RETARGETED_PIN_URL:"https://www.pinterest.com/_/_/help/articles/personalized-ads-pinterest",PARTNER_SITE_BEST_PRACTICES_GUIDE_URL:"https://www.pinterest.com/_/_/business/using-ads-manager",VERIFIED_MERCHANT_STATUS_PAGE_URL:"https://www.pinterest.com/business/verified-merchant/status",POLICY_PRIVACY_PLAIN_URL:"/_/_/policy/privacy-policy/",ABOUT_CAREERS_URL:"https://careers.pinterest.com/",PARTNER_SITE_TOS_URL:"https://www.pinterest.com/_/_/business/business-terms-of-service/",ADVERTISER_TOS_NA_URL:"https://business.pinterest.com/en/pinterest-advertising-services-agreement",ADVERTISER_TOS_FR_URL:"https://business.pinterest.com/fr/pinterest-advertising-services-agreement",ADVERTISER_TOS_BR_URL:"https://business.pinterest.com/pt-br/pinterest-advertising-services-agreement",ADVERTISER_TOS_MX_URL:"https://business.pinterest.com/es/pinterest-advertising-services-agreement/mexico/",ADVERTISER_TOS_AR_URL:"https://business.pinterest.com/es/pinterest-advertising-services-agreement/argentina/",ADVERTISER_TOS_CL_URL:"https://business.pinterest.com/es/pinterest-advertising-services-agreement/chile/",ADVERTISER_TOS_CO_URL:"https://business.pinterest.com/es/pinterest-advertising-services-agreement/colombia/",ADVERTISER_TOS_JP_URL:"https://business.pinterest.com/ja/pinterest-advertising-services-agreement/",ADVERTISER_TOS_ROW_URL:"https://business.pinterest.com/en-gb/pinterest-advertising-services-agreement",HELP_CENTER_URL:"https://www.pinterest.com/_/_/help/",HELP_CENTER_BUSINESS_URL:"https://help.pinterest.com/?context=business",DEFAULT_HELP_URL:"//help.pinterest.com/",DEVELOPER_SITE_URL:"https://developers.pinterest.com",ASSETS_SITE_URL:"https://assets.pinterest.com",HELP_ADS_BULK_EDITOR_URL:"https://www.pinterest.com/_/_/help/articles/bulk-editor",HELP_ADS_CONVERSION_EXPORT_SAFARI11_URL:"https://www.pinterest.com/_/_/help/articles/bulk-editor",HELP_ADS_ONE_TAP_MIGRATION_URL:"https://www.pinterest.com/_/_/help/articles/one-tap-migration",HELP_BOARDS_SECRET_URL_SRC_CREATE:"https://www.pinterest.com/_/_/help/article/change-board-privacy?source=secret_create",HELP_PROMOTED_PINS_URL:"https://www.pinterest.com/_/_/help/articles/promoted-pins",HELP_DEFAULT_PROMOTED_PINS_URL:"https://help.pinterest.com/article/promoted-pins",HELP_QUICK_PROMOTE_URL:"https://www.pinterest.com/_/_/help/business/article/quick-promote",POLICY_TERMS_PLAIN_URL:"/_/_/policy/terms-of-service/",HELP_AD_GROUPS_SETUP_URL:"https://www.pinterest.com/_/_/help/articles/ad-groups/?qa=3",POLICY_ADS_GUIDELINES:"https://policy.pinterest.com/advertising-guidelines",POLICY_ADS_GUIDELINES_DATA_USAGE:"https://policy.pinterest.com/advertising-guidelines#section-be-careful-with-any-data-usage",POLICY_ADS_GUIDELINES_PROHIBITED_PRODUCTS:"https://policy.pinterest.com/advertising-guidelines#section-prohibited-content-guidelines",POLICY_ADS_DATA_TERMS:"https://policy.pinterest.com/ad-data-terms",POLICY_ADS_TARGETING_GUIDELINES:"https://policy.pinterest.com/advertising-guidelines#section-be-respectful-with-your-targeting",POLICY_COMMUNITY_GUIDELINES:"https://policy.pinterest.com/community-guidelines",POLICY_COMMUNITY_GUIDELINES_SAFETY:"https://policy.pinterest.com/community-guidelines#section-safety",POLICY_COMMUNITY_GUIDELINES_SPAM_AND_QUALITY:"https://policy.pinterest.com/community-guidelines#section-spam",POLICY_NETZDG:"https://policy.pinterest.com/netzdg",POLICY_KOPLG:"/about/koplg",BUSINESS_TERMS_OF_SERVICE:"https://business.pinterest.com/business-terms-of-service",CORS_HANDSHAKE_DOMAINS:["https://www.pinterest.info","https://www.pinterest.at","https://www.pinterest.com.au","https://www.pinterest.ca","https://www.pinterest.ch","https://www.pinterest.cl","https://www.pinterest.de","https://www.pinterest.dk","https://www.pinterest.es","https://www.pinterest.fr","https://www.pinterest.co.uk","https://www.pinterest.ie","https://www.pinterest.it","https://www.pinterest.jp","https://www.pinterest.co.kr","https://www.pinterest.com.mx","https://www.pinterest.nz","https://www.pinterest.se","https://www.pinterest.ph","https://www.pinterest.pt","https://www.pinterest.ru"],ADMO_TV_WEB_PIXEL_URL:"https://pinterest-uk-web.admo.tv/server/pixel.php",ADMO_TV_WEB_REZ_LOGIN_URL:"https://pinterest-uk-web.admo.tv/server/pixel.php?act=tag&a=page_load&l=resurrection_login&v=1",ADMO_TV_LOGIN_EVENT_PIXEL_URL:"https://pinterest-uk-web.admo.tv/server/pixel.php?act=tag&a=page_load&l=login_customer&v=1",ADMO_TV_REGISTRATION_EVENT_PIXEL_URL:"https://pinterest-uk-web.admo.tv/server/pixel.php?act=tag&a=page_load&l=customer_registration&v=1",ADMO_TV_BILLING_ACCOUNT_CONVERSION_EVENT_PIXEL_URL:"https://pinterest-uk-web.admo.tv/server/pixel.php?act=tag&a=page_load&l=business_registration&v=1",ADMO_TV_DEFAULT_LOGGED_IN_USERS_PIXEL_URL:"https://pinterest-uk-web.admo.tv/server/pixel.php?act=tag&a=page_load&l=logged_users&v=1",DATA_PLUS_MATH_WEB_PIXEL:"https://p.tvpixel.com/i?aid=pinterest-aac27acd-90e7-48ad-9f38-60b7bf197c22&e=pv&p=web&tv=1x1",DATA_PLUS_MATH_EVENT_PIXEL:"https://p.tvpixel.com/i?aid=pinterest-aac27acd-90e7-48ad-9f38-60b7bf197c22&e=se&p=web&tv=1x1&se_ca=conversion&se_ac=",FLASHTALKING_DWEB_SESSION_PIXEL_START:"https://servedby.flashtalking.com/container/19112;123474;13378;iframe/?spotName=Desktop_Web_Session&ftXCurrency=A&ftXName=A&ftXNumItems=A&ftXRef=A&ftXType=A&ftXValue=A&U1=A&U2=A&U3=A&U4=A&U5=A&cachebuster=",FLASHTALKING_DWEB_SESSION_PIXEL_END:"__;WyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV0rKw!!N96JrnIq8IfO5w!3OqZ065GjRFlcxmjnVAQoMbP5zuw_9E57X2k7VKfgLzeMs11kSYtkrw8mpha-Zx62--R$",FLASHTALKING_MWEB_SESSION_PIXEL_START:"https://servedby.flashtalking.com/container/19112;123473;13378;iframe/?spotName=Mobile_Web_Session&ftXCurrency=A&ftXName=A&ftXNumItems=A&ftXRef=A&ftXType=A&ftXValue=A&U1=A&U2=A&U3=A&U4=A&U5=A&cachebuster=",FLASHTALKING_MWEB_SESSION_PIXEL_END:"__;WyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV0rKw!!N96JrnIq8IfO5w!3OqZ065GjRFlcxmjnVAQoMbP5zuw_9E57X2k7VKfgLzeMs11kSYtkrw8mpha-aC5fNCn$",FLASHTALKING_DWEB_LOGIN_PIXEL_START:"https://servedby.flashtalking.com/container/19112;123477;13378;iframe/?spotName=Desktop_Web_Login&ftXCurrency=A&ftXName=A&ftXNumItems=A&ftXRef=A&ftXType=A&ftXValue=A&U1=A&U2=A&U3=A&U4=A&U5=A&cachebuster=",FLASHTALKING_DWEB_LOGIN_PIXEL_END:"__;WyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV0rKw!!N96JrnIq8IfO5w!3OqZ065GjRFlcxmjnVAQoMbP5zuw_9E57X2k7VKfgLzeMs11kSYtkrw8mpha-UP9cLAD$",FLASHTALKING_MWEB_LOGIN_PIXEL_START:"https://servedby.flashtalking.com/container/19112;123460;13378;iframe/?spotName=Mobile_Web_Login&ftXCurrency=A&ftXName=A&ftXNumItems=A&ftXRef=A&ftXType=A&ftXValue=A&U1=A&U2=A&U3=A&U4=A&U5=A&cachebuster=",FLASHTALKING_MWEB_LOGIN_PIXEL_END:"__;WyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV0rKw!!N96JrnIq8IfO5w!3OqZ065GjRFlcxmjnVAQoMbP5zuw_9E57X2k7VKfgLzeMs11kSYtkrw8mpha-dZEP4zq$",FLASHTALKING_DWEB_REGISTER_PIXEL_START:"https://servedby.flashtalking.com/container/19112;123459;13378;iframe/?spotName=Desktop_Web_Registration&ftXCurrency=A&ftXName=A&ftXNumItems=A&ftXRef=A&ftXType=A&ftXValue=A&U1=A&U2=A&U3=A&U4=A&U5=A&cachebuster=",FLASHTALKING_DWEB_REGISTER_PIXEL_END:"__;WyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV0rKw!!N96JrnIq8IfO5w!3OqZ065GjRFlcxmjnVAQoMbP5zuw_9E57X2k7VKfgLzeMs11kSYtkrw8mpha-bBBO_93$",FLASHTALKING_MWEB_REGISTER_PIXEL_START:"https://servedby.flashtalking.com/container/19112;123472;13378;iframe/?spotName=Mobile_Web_Registration&ftXCurrency=A&ftXName=A&ftXNumItems=A&ftXRef=A&ftXType=A&ftXValue=A&U1=A&U2=A&U3=A&U4=A&U5=A&cachebuster=",FLASHTALKING_MWEB_REGISTER_PIXEL_END:"__;WyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV0rKw!!N96JrnIq8IfO5w!3OqZ065GjRFlcxmjnVAQoMbP5zuw_9E57X2k7VKfgLzeMs11kSYtkrw8mpha-QIr-gzV$",FLASHTALKING_DWEB_BUSINESS_PIXEL_START:"https://servedby.flashtalking.com/container/19112;123475;13379;iframe/?spotName=Desktop_Business_Billing&ftXCurrency=A&ftXName=A&ftXNumItems=A&ftXRef=A&ftXType=A&ftXValue=A&U1=A&U2=A&U3=A&U4=A&U5=A&cachebuster=",FLASHTALKING_DWEB_BUSINESS_PIXEL_END:"__;WyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV1bJSVdWyUlXVslJV0rKw!!N96JrnIq8IfO5w!3OqZ065GjRFlcxmjnVAQoMbP5zuw_9E57X2k7VKfgLzeMs11kSYtkrw8mpha-UtxgWP6$",FLASHTALKING_BILLING_FIRST_SPENDERS_URL:"https://servedby.flashtalking.com/container/19112;130299;13379;iframe/?spotName=First_Time_Spenders&U7=",FLASHTALKING_BILLING_ALL_SPENDERS_URL:"https://servedby.flashtalking.com/container/19112;130301;13379;iframe/?spotName=All_Spenders&U7=",FLASHTALKING_BILLING_RESURRECTIONS_URL:"https://servedby.flashtalking.com/container/19112;130300;13379;iframe/?spotName=Resurrected_Spenders&U7=",FLASHTALKING_BILLING_SHOPPING_URL:"https://servedby.flashtalking.com/container/19112;126331;13379;iframe/?spotName=Shopping_Advertisers&U6=&U7=",FLASHTALKING_BILLING_CATALOG_FEED_URL:"https://servedby.flashtalking.com/container/19112;126604;13379;iframe/?spotName=Catalog_Uploads&U7=",FLASHTALKING_BUSINESS_BILLING_COMPLETE_URL:"https://servedby.flashtalking.com/container/19112;126329;13379;iframe/?spotName=Billing_Completion&U7=",FLASHTALKING_NO_MICRO_CATALOG_FEED_REALTIME_URL:"https://servedby.flashtalking.com/container/19112;130191;13379;iframe/?spotName=No_micro_catalog_feed&U7=",FLASHTALKING_CATALOG_FEED_REALTIME_URL:"https://servedby.flashtalking.com/container/19112;130294;13379;iframe/?spotName=Catalog_Feeds&U7=",FLASHTALKING_CATALOG_FEED_PAGE_VIEW_URL:"https://servedby.flashtalking.com/container/19112;130295;13379;iframe/?spotName=Catalog_Feeds_Starting_Page_Unique_Visitors&U7=",FLASHTALKING_BUSINESS_SITE_CATALOG_UPLOAD_BUTTON_PIXEL_URL:"https://servedby.flashtalking.com/container/19112;130298;13379;iframe/?spotName=Catalog_Upload_Button_Click_on_Biz_Site&U7=",FLASHTALKING_BUSINESS_SITE_NO_MICRO_CATALOG_UPLOAD_BUTTON_PIXEL_URL:"https://servedby.flashtalking.com/container/19112;130297;13379;iframe/?spotName=No_Micro_Catalog_Upload_Button_Click_on_Biz_Site&U7=",FLASHTALKING_BUSINESS_SITE_PAGE_VIEW_URL:"https://servedby.flashtalking.com/container/19112;130446;13379;iframe/?spotName=Biz_site_shopping_page_unique_visitors&U7=",DENTSU_STADIA_PIXEL:"https://pp.d2-apps.net/v1/impressions/log?client_id=644&c_1=pintrest&c_2=",ABOUT_BROWSER_BUTTON_URL:"/_/_/about/browser-button/",ABOUT_GUIDED_SEARCH_URL:"/_/_/about/guidedsearch/",HELP_PROMOTED_PINS_APP_INSTALL_URL:"https://www.pinterest.com/_/_/help/articles/promote-app-install-pins",PARTNER_PROPEL_BLOG_POST:"https://www.pinterest.com/_/_/business/blog/introducing-pinterest-propel-for-successful-advertising",PARTNER_SITE_HOW_TO:"https://www.pinterest.com/_/_/business/how-pinterest-works",UNAUTH_PIXEL_EXCLUSION_US_STATES:["CA","VA"],EU_COUNTRIES:["AT","BE","BG","HR","CH","CY","CZ","DK","EE","FI","FR","DE","GB","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE"],EU_COUNTRIES_2020_COOKIE_POLICY:["AT","BE","BG","CY","CZ","DE","DK","EE","ES","FI","FR","GB","GR","HR","HU","IE","IS","IT","LI","LT","LU","LV","MT","NL","NO","PL","PT","RO","SE","SI","SK"],MINIMUM_AGE_BY_EU_COUNTRY:{AT:14,BE:13,BG:16,HR:16,CY:14,CZ:15,DK:13,EE:14,FI:13,FR:15,DE:16,GR:15,HU:16,IE:16,IT:14,LV:13,LT:14,LU:16,MT:13,NL:16,PL:16,PT:13,RO:16,SK:16,SI:15,ES:14,SE:13,GB:13},MINIMUM_AGE_GLOBAL:13,MINIMUM_VALID_AGE_INPUT:5,EN_COUNTRIES_WITH_MANDATORY_AGE:["US","CA","NZ","AU"],PRIVACY_DATA_PERSONALIZATION_REGULATORY_COUNTRIES:["GB","IE"],LATAM_AGE_COLLECTION:new Set(["BR","MX","AR","CL","CO","PE"]),LATAM_CALENDLY_COUNTRIES:["BR","MX"],CALENDLY_EXPORT_CHINA_COUNTRIES:["CN","TW","HK","MO"],CALENDLY_EXPORT_APAC_COUNTRIES:["BN","TL","BD","BT","ID","KH","KR","KW","LA","LK","MM","MN","MV","MY","NP","PH","PK","SG","TH","VN","IN"],CALENDLY_EXPORT_MENA_COUNTRIES:["DZ","BH","EG","IQ","JO","KW","LB","LY","MR","MA","OM","PS","QA","SA","SD","TN","TR","AE","YE","KM","DJ","ER","ET","SO","AF","AM","AZ","BF","CV","TD","GM","GE","KZ","KG","ML","NE","SN","SO","SS","TJ","TM","UZ","ZA","KE","GA","NG"],TRENDS_VALID_COUNTRIES:["US","GB","IE","NZ","AU","CA","FR","DE","AT","IT","ES","NL","BE","PT","CH","DK","SE","NO","FI","MT","LU","CY","HU","PL","SK","RO","GR","CZ","AR","BR","CL","CO","JP","MX"],TRENDS_COUNTRIES_WITH_DATA:["US","GB","CA"],ACCOUNTS_PINTEREST_URL:"https://accounts.pinterest.com",GPLUS_APP_PACKAGE_NAME:"com.pinterest",HELP_CONTACT_URL:"https://www.pinterest.com/_/_/help/contact",API_MAX_PAGE_SIZE:250,BLOG_URL:"https://www.pinterest.com/_/_/blog/",HELP_PROMOTED_PINS_AUDIENCE_TARGETING_URL:"https://www.pinterest.com/_/_/help/articles/targeting?qa=4",HELP_CAMPAIGN_CREATION_ONE_TAP_URL:"https://www.pinterest.com/_/_/help/articles/creating-and-editing-promoted-pins?qa=3",HELP_AD_GROUP_CREATION_URL:"https://www.pinterest.com/_/_/help/business/article/create-ad-group",HELP_AD_GROUP_EXPANDED_TARGET_URL:"https://www.pinterest.com/_/_/help/articles/targeting?qa=5",HELP_PROMOTED_PINS_ARCHIVING:"https://www.pinterest.com/_/_/help/articles/promoted-pin-tips?qa=6",PERSONALIZED_ADS_URL:"https://www.pinterest.com/_/_/help/articles/personalized-ads-pinterest",HELP_AD_DELIVERY_URL:"https://www.pinterest.com/_/_/help/business/article/create-ad-group",HELP_VIDEO_FORMAT_URL:"https://www.pinterest.com/_/_/help/business/article/promoted-video-with-autoplay",INSTALL_TAG_BASE_CODE:"https://www.pinterest.com/_/_/help/business/article/base-code",INSTALL_TAG_PARTNER:"https://www.pinterest.com/_/_/help/business/article/track-conversions-with-pinterest-tag",PINTEREST_TAG_HELPER_EXTENSION_CHROME_WEBSTORE_URL:"https://chrome.google.com/webstore/detail/pinterest-tag-helper/gmlcbajhgoaaegmlbaclmmmhpmfdajmp",HELP_GDPR_CHILD_POLICY_URL:"https://www.pinterest.com/_/_/help/articles/age-requirements-using-pinterest",SSIO_TERMS_LEARN_MORE_URL:"https://www.pinterest.com/_/_/business/pinterest-advertising-services-agreement",SSIO_ORDER_MANAGEMENT_EMAIL:"ordermanagement@pinterest.com",PARTNER_PRODUCT_SPECS_URL:"https://www.pinterest.com/_/_/business/Pinterest-product-specs",PRODUCT_SPECS_URL:"https://www.pinterest.com/_/_/help/business/article/pinterest-product-specs",STORY_PINS_SPEC_URL:"https://www.pinterest.com/_/_/help/business/article/story-pins",HELP_PUBLISH_YOUR_CONTENT:"https://www.pinterest.com/_/_/help/business/article/publish-your-content",HELP_BUILD_PIN_URL:"https://www.pinterest.com/_/_/help/business/article/build-a-pin",HELP_PICK_PINS_TO_PROMOTE:"https://help.pinterest.com/business/article/pick-pins-to-promote",PIN_PRIVACY:{SECRET:"secret",PUBLIC:"public",PROTECTED:"protected"},HELP_AUDIENCE_TARGETING_URL:"https://help.pinterest.com/business/article/audience-targeting",HELP_AUDIENCE_CUSTOMER_LIST_REQUIREMENTS:"https://help.pinterest.com/business/article/audience-targeting#section-13341",HELP_KEYWORD_TARGETING_URL:"https://www.pinterest.com/_/_/help/business/article/keyword-targeting",HELP_LOCATION_TARGETING_URL:"https://www.pinterest.com/_/_/help/business/article/location-language-device-and-gender-targeting",HELP_PLACEMENT_TARGETING_URL:"https://www.pinterest.com/_/_/help/business/article/placement",HELP_PLANNING_MOMENTS_TARGETING_URL:"https://help.pinterest.com/_/business/article/planning-moments",HELP_DEVICE_TARGETING_URL:"https://help.pinterest.com/business/article/set-up-device-targeting",ENGAGEMENT_URL:"/engagement/",HELP_PROMOTED_APP_PINS_URL:"https://www.pinterest.com/_/_/help/business/article/promoted-app-pins",HELP_AD_BIDDING_URL:"https://www.pinterest.com/_/_/help/business/article/set-your-bid",HELP_ADS_USE_BULK_EDITOR_URL:"https://www.pinterest.com/_/_/help/business/article/use-the-bulk-editor",BOOKMARKLET_LOGGING_URL:"https://log.pinterest.com/",APPS_LEARN_MORE:"https://pinterest.com/_/_/help/article/connect-to-other-apps-with-pinterest",DATA_YOU_REQUEST_URL:"https://pinterest.com/_/_/help/article/download-your-pinterest-data",SECURITY_DEVICES_LEARN_MORE:"https://pinterest.com/_/_/help/article/see-recent-logins",SECURITY_TWO_FACTOR_LEARN_MORE:"https://pinterest.com/_/_/help/article/two-factor-authentication",SECURITY_TWO_FACTOR_DOWNLOAD_AUTHY:"https://authy.com/download",SEARCH_PRIVACY:"https://pinterest.com/_/_/help/article/your-privacy-and-data-settings",SEARCH_PRIVACY_V2:"https://pinterest.com/_/_/help/article/update-your-search-privacy",PRIVACY_AND_DATA:"https://pinterest.com/_/_/help/article/personalization-and-data#info-ad",THIRD_PARTY_ADVERTISING_PRIVACY:"https://www.pinterest.com/_/_/help/article/third-party-analytics-or-advertising-providers-pinterest-uses-or-allows",CCPA_DATA_SHARING:"https://www.pinterest.com/_/_/help/article/ads-performance-reporting",PARTNER_PROFILE:"https://pinterest.com/_/_/help/business/article/feature-boards-on-your-profile",LOGIN_LEARN_MORE:"https://pinterest.com/_/_/help/article/link-your-social-media?source=settings_page",MERGE_ACCOUNTS:"https://pinterest.com/_/_/help/article/merge-accounts",HELP_ABOUT_CATALOGS:"https://help.pinterest.com/business/article/about-catalogs",HELP_CATALOGS_DATA_SOURCE_SETUP:"https://help.pinterest.com/business/article/data-source-setup",HELP_CENTER_DATA_SOURCE_INGESTION:"https://help.pinterest.com/business/article/data-source-ingestion",HELP_CATALOGS_DATA_SOURCE_ERROR_MESSAGES:"https://help.pinterest.com/business/article/catalog-data-source-error-messages",HELP_CATALOGS_CREATE_PRODUCT_GROUPS:"https://help.pinterest.com/business/article/create-product-groups",HELP_CATALOGS_PROMOTE_PRODUCT_GROUPS:"https://help.pinterest.com/en/business/article/promote-your-product-groups",HELP_SHOPPING_ADS_OVERVIEW:"https://www.pinterest.com/_/_/help/business/article/shopping-ads-overview",HELP_SHOPPING_ADS:"https://help.pinterest.com/business/article/shopping-ads",HELP_SHOPPING_TRACK_COLLECTIONS_AD:"https://www.pinterest.com/_/_/help/business/article/track-a-collections-ad",SHOPPING_BUSINESS_BLOG:"https://business.pinterest.com/basics/#shopping",HELP_CENTER_REQUEST_A_FEATURE:"https://pinterest.com/_/_/help/landing/request-a-feature",HELP_AD_BILLING_VAT:"https://pinterest.com/_/_/help/business/article/vat/",HOMEFEED:"/homefeed/",HELP_VIDEO_PINS:"https://www.pinterest.com/_/_/help/business/article/video-pins",IOS_APPSTORE_ID:"429047995",GOOGLEPLAY_ID:"com.pinterest",PINTEREST_DOWNLOAD_ITUNES_STORE_URL:"http://itunes.com/apps/Pinterest/",WINDOWS_STORE_URL:"ms-windows-store://pdp/?productid=9PFHDSF91B9R",DEFAULT_NEWSROOM_URL:"https://www.pinterest.com/_/_/newsroom/",DEFAULT_POLICY_URL:"https://www.pinterest.com/_/_/policy/",ENGINEERING_BLOG:"https://medium.com/pinterest-engineering",VIDEO_ON_PINTEREST:"https://pinterest.com/_/_/help/article/video-on-pinterest",CONVERSION_SETTINGS_CONVERSION_WINDOW_LEARN_MORE_URL:"https://help.pinterest.com/business/article/report-offline-conversion-events",CONVERSION_SETTINGS_CONVERSION_TIME_LEARN_MORE_URL:"https://help.pinterest.com/business/article/report-offline-conversion-events",CONVERSION_SETTINGS_CONVERSION_SOURCE_LEARN_MORE_URL:"https://help.pinterest.com/business/article/report-offline-conversion-events",CREATE_NEW_PIN:"https://pinterest.com/pin-builder",HELP_MAKE_NEW_PINS:"https://business.pinterest.com/basics/how-to-make-pins/#best-practices",HELP_CAMPAIGN_OBJECTIVES_URL:"https://help.pinterest.com/business/article/campaign-objectives",HELP_SETUP_CAMPAIGN_BUDGETS:"https://www.pinterest.com/_/_/help/business/article/set-up-campaign-budgets",HELP_ADVERTISER_LINK:"https://business.pinterest.com/advertise/",HELP_CREATE_ADVERTISER_ACCOUNT:"https://www.pinterest.com/_/_/help/business/article/create-an-advertiser-account",HELP_SETUP_PINTEREST_TAG:"https://www.pinterest.com/_/_/help/business/article/set-up-the-pinterest-tag",HELP_INSTALL_PINTEREST_TAG:"https://www.pinterest.com/_/_/help/business/article/install-the-pinterest-tag",HELP_INSTALL_PINTEREST_TAG_GTM:"https://www.pinterest.com/_/_/help/business/article/google-tag-manager-and-pinterest-tag",HELP_INSTALL_PINTEREST_TAG_SQUARESPACE:"https://www.pinterest.com/_/_/help/business/article/squarespace-and-pinterest-tag",HELP_INSTALL_PINTEREST_TAG_BIGCOMMERCE:"https://www.pinterest.com/_/_/help/business/article/bigcommerce-and-pinterest-tag",HELP_ARCHIVE_RESTORE_PINTEREST_TAG:"https://help.pinterest.com/en-gb/business/article/archive-or-restore-the-pinterest-tag",HELP_GETTING_STARTED_WITH_CATALOGS:"https://help.pinterest.com/business/article/before-you-get-started-with-catalogs",HELP_VERIFIED_MERCHANT:"https://help.pinterest.com/business/article/verified-merchant-program",HELP_VERIFIED_MERCHANT_CONNECT_CATALOG:"https://help.pinterest.com/business/article/verified-merchant-program#section-10866",HELP_VERIFIED_MERCHANT_INSTALL_TAG:"https://help.pinterest.com/business/article/verified-merchant-program#section-10871",TAG_HEALTH_URL:`${(0,i.Z)({site:"sterling",path:"/conversions/tag-health"})}`,VIEW_CATALOG_ISSUES_URL:"https://www.pinterest.com/product-catalogs/data-source/",TAKEDOWN_FORM_HELP:"https://help.pinterest.com/contact?current_page=about_you_page&reporting=harassment&harassment_issue=harass_private_info",PINTEREST_PROFILE:"https://www.pinterest.com/pinterest",PINTEREST_BRAND_GUIDELINES:"https://business.pinterest.com/pinterest-brand-guidelines",PINTEREST_ACADEMY:"https://business.pinterest.com/pinterest-academy",PINTEREST_PARTNERS:"https://business.pinterest.com/en/pinterest-partners",PINTEREST_PARTNERS_DIRECTORY:"https://business.pinterest.com/pinterest-partners-directory",INVESTOR_OVERVIEW:"https://investor.pinterestinc.com/investor-overview/default.aspx",BUSINESS_BLOG:"https://business.pinterest.com/blog",BUSINESS_COMMUNITY:"http://community.pinterest.biz",PINTEREST_STORY_PIN_INVITE:"https://www.pinterest.com/story-pin-invite",HELP_CONVERSION_ANALYSIS_MATCH_RATE:"https://help.pinterest.com/business/article/conversion-analysis-match-rates",HELP_BUSINESS_CUSTOM_REPORTS_URL:"https://help.pinterest.com/business/article/create-edit-and-review-custom-reports",BUSINESS_ACCESS_URL:"https://pinterest.com/business/business-access/",CONVERSION_INSIGHTS_URL:`${(0,i.Z)({site:"analytics",path:"/conversion-insights/"})}`,CONTENT_CLAIMING_FAQ:"https://help.pinterest.com/article/get-started-with-the-content-claiming-portal",CONTENT_CLAIMING_TERMS_OF_SERVICE:"https://policy.pinterest.com/pinterest-content-claiming-portal-terms-of-service",CONTENT_CLAIMING_API_HELP_CENTER:"https://policy.pinterest.com/pinterest-content-claiming-portal-terms-of-service",HELP_SWITCH_TO_PERSONAL_ACCOUNT:"https://pinterest.com/_/_/help/article/switch-back-to-personal-account",HELP_LINKED_BUSINESS_ACCOUNTS:"https://pinterest.com/_/_/help/article/manage-your-linked-business-account",ADD_SECONDARY_ACCOUNT_PAGE:"/add-account",ADD_SECONDARY_PERSONAL_ACCOUNT_PAGE:"/create-personal",ADD_SECONDARY_BUSINESS_ACCOUNT_PAGE:"/create-business",ADD_LINKED_BUSINESS_ACCOUNT_PAGE:"/create-linked-business",SIGNUP_URL_MOBILE:"/signup/step1/",ACCOUNT_SETTINGS:"/settings/account-settings/",ACCOUNT_EDIT_TUNER:"edit/",ACCOUNT_CHANGES:"/settings/account-settings/?message=account_switch_to_settings#account-changes-section",RECOMMENDATIONS_PAGE_URL:`${(0,i.Z)({site:"sterling",path:"/recommendations"})}`,BUSINESS_HUB_PAGE:"/business/hub",HELP_ZERO_FILL:"https://help.pinterest.com/en/business/article/reporting-dashboard-overview#section-12881",PROTECT_YOUR_ACCOUNT_HELP_ARTICLE:"https://pinterest.com/_/_/help/article/protect-your-account"}}},700380:(e,t,n)=>{function i(e,t){let n;const i=(...i)=>{n||(e(...i),n=setTimeout((()=>n=null),t))};return i.cancel=()=>{void 0!==n&&clearTimeout(n)},i}n.d(t,{Z:()=>i})},430323:(e,t,n)=>{n.d(t,{Z:()=>f});var i=n(667294),r=n(722767),o=n(706922),a=n(245474),s=n(558068),l=n(802201),c=n(780280),d=n(790123),u=n(425288);const{Provider:p,useMaybeHook:h}=(0,u.Z)("timeSpentContext");var m=n(785893);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends i.Component{constructor(e){super(e),_(this,"componentWillUnmount",(()=>{this.unregisterComponent()})),_(this,"getContext",(()=>{const{clientTrackingParams:e,component:t,element:n,objectId:i,timeSpentContext:r,view:o,viewParameter:a}=this.props;return{view:o||r&&r.view,viewParameter:a||r&&r.viewParameter,component:t||r&&r.component,element:n,objectId:i||r&&r.objectId,clientTrackingParams:e||r&&r.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}})),_(this,"getLoggerContext",(()=>{const e={...this.getContext()};return delete e.getParentUuid,e})),_(this,"getParentId",(()=>{const{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){const t=e.getGrandparentUuid();if(t)return t}return e&&e.getParentUuid?e.getParentUuid():void 0})),_(this,"getUuid",(()=>this.state.timedPair?this.state.timedPair.uuid:void 0)),_(this,"getTimedPair",(()=>this.state.timedPair)),_(this,"setTimedPair",(e=>this.setState({timedPair:e}))),_(this,"isRegistered",!1),_(this,"registerComponent",(()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0})),_(this,"unregisterComponent",(()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)})),_(this,"handleVisibilityChange",(e=>{const{intersectionRatio:t}=e[0],{bottom:n,left:i,right:r,top:o}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===n&&0===i&&0===r&&0===o?this.unregisterComponent():this.registerComponent())})),this.state={timedPair:new a.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,o.Z)(e.auxData,this.props.auxData)&&(0,o.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){const{children:e}=this.props;return(0,m.jsx)(p,{value:this.getContext(),children:(0,m.jsx)(r.Z,{options:{threshold:0},onVisibilityChange:this.handleVisibilityChange,children:i.Children.only(e)})})}}function v(e){var t;const n=(0,s.Hv)(),r=h(),o=(0,d.w)(),a=(0,l.H0)(),{requestIdentifier:u=""}=(0,c.B)(),p={app_instance_id:u.slice(0,8),...null!==(t=e.auxData)&&void 0!==t?t:{}};return(0,i.useEffect)((()=>{null==o||o.setHistoryStackContext(n)}),[n,o]),(0,i.useEffect)((()=>{null==o||o.setPins(null!=a?a:{})}),[a,o]),o?(0,m.jsx)(g,{...e,auxData:p,timeSpentContext:r,timeSpentManager:o,children:e.children}):e.children}v.displayName="TimeSpent";const f=v},790123:(e,t,n)=>{n.d(t,{j:()=>u,w:()=>d});var i=n(829407),r=n(19121),o=n(407043),a=n(50286),s=n(425288),l=n(785893);const{Provider:c,useMaybeHook:d}=(0,s.Z)("TimeSpentManagerContext");function u({children:e,value:t}){const n=(0,o.v)(),s=(0,a.HG)(),{isAuth:d}=(0,r.Z)(),u=s&&d;return(0,i.Z)((()=>{document.hasFocus()&&t(n,u).registerApp(),t(n,u).addEventListeners()})),(0,l.jsx)(c,{value:t(n,u),children:e})}},245474:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(172045),r=n(17314);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const a="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor(1e6*window.performance.now()):()=>1e6*Date.now();const s=class{constructor(e){o(this,"start",(()=>(this.startTime=a(),this.startTime))),o(this,"end",(()=>(this.endTime=a(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration)));try{this.uuid=(0,i.Z)()}catch(t){this.uuid=(0,r.Z)()}e&&Object.assign(this,e)}}},784641:(e,t,n)=>{n.d(t,{E5:()=>c,T7:()=>i,Y_:()=>d,Yj:()=>a,d9:()=>p,nx:()=>u,pe:()=>s,xt:()=>l});n(883119);function i(e,t,n,i){const r=function(e,t){return t?"shop":0===e||2===e?"trending":1===e?"best":"article"}(e,t),o=function(e){return e.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\'"]/g,"").trim().replace(/\s+/g,"-")}(n);return`/today/${r}/${encodeURIComponent(o)}/${i}/`}const r={"www.pinterest.com":"US","www.pinterest.co.uk":"GB","www.pinterest.ca":"CA","www.pinterest.com.au":"AU","br.pinterest.com":"BR","www.pinterest.com.mx":"MX","ar.pinterest.com":"AR","www.pinterest.cl":"CL","co.pinterest.com":"CO","www.pinterest.de":"DE","www.pinterest.at":"AT","www.pinterest.ch":"CH","www.pinterest.fr":"FR","in.pinterest.com":"IN","id.pinterest.com":"ID","www.pinterest.jp":"JP"},o={US:"en",GB:"en",CA:"en",AU:"en",BR:"pt",MX:"es",AR:"es",CL:"es",CO:"es",PE:"es",DE:"de",AT:"de",CH:"de",FR:"fr",IN:"en",ID:"id",JP:"ja",IT:"it"},a=(e,t)=>{const n=o[e];return!(null===n||n!==t&&!t.startsWith(n))},s=e=>r[e],l=(e,t,n)=>e||(t||n||""),c=(e,t)=>e||((null==t?void 0:t.origin_pinner)||(null==t?void 0:t.pinner)),d=e=>"todayarticle"===e.type,u=e=>Array.isArray(e)&&e.length>0&&e.every((e=>"story"===e.type)),p=e=>{var t,n;return(null!==(t=e.height)&&void 0!==t?t:1)/(null!==(n=e.width)&&void 0!==n?n:1)}},657292:(e,t,n)=>{n.d(t,{X0:()=>r,ZP:()=>a,iT:()=>o,v0:()=>i});const i="unauthHistories",r="authHistories",o="trackHistoryClickInternalUrl";function a(e,t){if("undefined"!=typeof window)try{const n=new URL(window.location.href).searchParams.get("consoleTra");if(window.PINTEREST_DEV_LOG||n){const n=window.PINTEREST_DEV_REGEX||"";n&&!(e||"").match(n)||(t&&"object"==typeof t&&Object.keys(t).length?console.log(e+": %O",t):console.log(e))}}catch(n){}}},539497:(e,t,n)=>{n.d(t,{De:()=>b,LW:()=>x,My:()=>m,NC:()=>g,Nc:()=>v,SB:()=>y,an:()=>f,dy:()=>w,qJ:()=>p,tj:()=>h,yl:()=>d});var i=n(6637),r=n(826067),o=n(657292),a=n(622096),s=n(53987);let l=[];let c;function d(e){l.length&&(i.Z.create("UserRegisterTrackActionResource",{actions:l}).callUpdate({showError:!1,async:!e}),l=[],c=null)}function u(e,t){const n=(0,a.qn)(o.iT);if((0,a.L_)(o.iT),n)return;let i=(0,a.qn)(e);if(i=i?i.split(","):[],i.length){const e=`${t}.${i.reduce(((e,t)=>e+"-"+t))}`;l.push({name:e,aux_data:{}})}(0,a.L_)(e)}const p=e=>{u(o.v0,e),u(o.X0,`${e}_auth`),l.length&&d(!0)};function h(e,t){let n="undefined"!=typeof window&&window.encodeURIComponent&&encodeURIComponent(e)||e;t||(t={}),-1!==n.indexOf("%")&&(t.invalid_action&&(t.invalid_action_original=t.invalid_action),t.invalid_action=n,n="track_register_action.web.invalid_action.with_percent"),l.push({name:n,aux_data:t}),c||(c=setTimeout((()=>d()),5e3)),(0,o.ZP)(e,t)}function m(e,t){h(e,{tags:t?{...t}:Object.freeze({})})}function _(e,t,n=!1){if("undefined"==typeof window)return;let i=(0,a.qn)(e);i=i?i.split(","):[],i.push(t),(0,a.Nh)(e,i.join()),e!==o.X0&&m(`lex.${t}`),n&&(0,a.Nh)(o.iT,!0)}function g(e,t=!1){_(o.v0,e,t)}function v(e,t=!1){_(o.X0,e,t)}const f=()=>{const e=(0,r.mB)(window.location.search);if("31"===e.utm_source)return"email";if(e.utm_pai)return"paid";const t=document.referrer;return t?t.includes("/t.co/")?"twitter":t.includes("cdn.ampproject.org")?"amp":t.includes("google.")?"google":t.includes("bing.")?"bing":t.includes("facebook.")?"facebook":"other":"direct"},y=e=>(0,s.L6)(e)?"pin":(0,s.am)(e)?"board":(0,s.Xn)(e)?"login":(0,s.C$)(e)?"home":(0,s.cD)(e)?"profile":(0,s.dr)(e)?"ideas":(0,s.gT)(e)?"ideas-root":(0,s.tZ)(e)?"videos":(0,s.$Y)(e)?"article":(0,s.E0)(e)?"shopping-spotlight":(0,s.Zz)(e)?"today":(0,s.j8)(e)?"unauth-profile":"other",b=e=>{e.action&&e.event?m("pinner_conversion",{...e,type:e.type||"none",trigger:e.trigger||"other",referrer:f()}):m("pinner_conversion.missing_tags")},x=({action:e,item:t,pageLocation:n,within:i})=>{m(`logged_out_product.interaction.${y(n)}.${e}`,{item:t||"none",within:i||"none"})},w=({event:e,provider:t})=>{m(`pinner_conversion.autologin.${t}.${e}`)}},200310:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),r=n(116303),o=n(898781),a=n(112690),s=n(719626),l=n(349700),c=n(591042),d=n(883119),u=n(785893);function p({color:e="default",pinId:t,title:n,user:p,startsAt:h,isEpisodeUpcoming:m,isEpisodeReplay:_,viewParameterType:g=3582,viewType:v=1}){const f=(0,o.ZP)(),y=(0,a.Z)(),{referrer:b}=(0,c.iH)(),[x,w]=(0,i.useState)({});if((0,i.useEffect)((()=>{w((0,s.p)(h))}),[h]),!p)return null;const S=e=>{y({event_type:102,view_type:v,view_parameter:g,component:0,...e})};return(0,u.jsxs)(d.xu,{dangerouslySetInlineStyle:{__style:{padding:"8px 6px 16px"}},children:[!!n&&(m||_)&&(0,u.jsx)(d.xu,{marginBottom:2,children:(0,u.jsxs)(d.iP,{href:`/tv/${t}/?referrer=${b}`,onTap:()=>S(),role:"link",children:[m&&(0,u.jsxs)(d.xu,{children:[(0,u.jsx)(d.xv,{size:"200",weight:"bold",lineClamp:2,children:n}),(0,u.jsx)(d.xv,{size:"100",color:"default",lineClamp:2,children:(0,l.nk)(f._('Live on {{ date }} {{ time }}', 'episodeAttribution.formattedDateTime.text', 'When the episode will go live'),{date:x.shortDate,time:x.time})})]}),_&&(0,u.jsxs)(d.xu,{children:[(0,u.jsx)(d.xv,{size:"200",weight:"bold",lineClamp:2,children:n}),(0,u.jsx)(d.xv,{size:"100",color:"default",lineClamp:2,children:(0,l.nk)(f._('Aired on {{ mmddyyy }}', 'episodeAttribution.formattedDateTime.text', 'When the episode was aired'),{mmddyyy:x.mmddyyy})})]})]})}),(0,u.jsx)(d.iP,{href:`/${p.username}`,onTap:()=>S({element:11619}),role:"link",children:(0,u.jsxs)(d.kC,{alignItems:"center",children:[(0,u.jsx)(d.xu,{marginStart:-2,paddingX:2,children:(0,u.jsx)(r.Z,{name:"",size:"sm",src:p.image_medium_url})}),(0,u.jsx)(d.xv,{color:e,size:"200",lineClamp:1,children:p.full_name||""})]})})]})}},447635:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(667294),r=n(200310),o=n(218672),a=n(898781),s=n(112690),l=n(349700),c=n(591042),d=n(883119),u=n(582637),p=n(785893);const h=16/9;function m({feedItem:e,gridIndex:t}){const n=(0,a.ZP)(),m=(0,s.Z)(),{gridItemWidth:_,referrer:g}=(0,c.iH)(),{creator_class:v,creator_class_instance:f,id:y}=e,{creator:b,hero_images:x}=v,{title:w,starts_at:S,hero_images:P}=f,T=P?P["312x"]:x?x["312x"]:{},E=(0,u.Zz)(f),I=(0,u.oi)(f),A=(e=>{const{duration:t}=e&&e.video_list&&e.video_list.V_HLSV4||{};if(!t)return"";const n=Math.trunc(t/1e3),i=Math.trunc(t/6e4),r=Math.trunc(t/36e5),o=i-60*r,a=n-60*o-60*r*60;let s=r>0?`${r}:${o.toString().padStart(2,"0")}`:`${o}`;return s+=`:${a.toString().padStart(2,"0")}`,s})(f.replay_video),k=A.length>0?A:n._('Processing video', 'EpisodeGridRep.pillText.fallback', 'A label indicating that the video is still processing.'),C=new d.Ry(1),R=n._('Watch', 'EpisodeGridRep.button.text', 'A label indicating that button can be interacted with to watch the video.'),[L,j]=(0,i.useState)(_?_*h:void 0);return(0,p.jsx)(d.xu,{children:T.url&&(0,p.jsxs)(i.Fragment,{children:[L?(0,p.jsxs)(d.xu,{alignItems:"center",direction:"column",display:"flex",height:L,justifyContent:"between",position:"relative",rounding:3,width:_,children:[(0,p.jsx)(d.xu,{position:"absolute",left:!0,top:!0,paddingX:3,paddingY:3,zIndex:C,children:(0,p.jsx)(o.Z,{text:k,backgroundColor:"black"})}),(0,p.jsx)(d.iP,{fullHeight:!0,fullWidth:!0,href:`/tv/${y}/?referrer=${g}`,onTap:()=>{var e;return m({event_type:102,view_type:1,view_parameter:3582,component:0,aux_data:{content_ids:{pin:y},grid_index:t,referrer:g,story_id:null===(e=v.recap_pin)||void 0===e?void 0:e.id}})},role:"link",children:(0,p.jsx)(d.zd,{width:"100%",height:"100%",rounding:3,wash:!0,children:(0,p.jsx)(d.Ee,{alt:w,color:"gray",fit:"cover",naturalHeight:T.height,naturalWidth:T.width,src:T.url})})}),(0,p.jsx)(d.xu,{position:"absolute",bottom:!0,marginBottom:4,children:(0,p.jsx)(d.zx,{text:R,role:"link",href:`/tv/${y}/?referrer=${g}`,accessibilityLabel:(0,l.nk)(n._('Watch {{episodeTitle}}', 'webapp.app.pinTv.watchBtn.a11yText', 'episodeTitle: a11y text for watch button for the episode'),{episodeTitle:w}).join("")})})]}):(0,p.jsx)(d.xu,{ref:e=>{if(e){const t=e.offsetWidth;j(t*h)}},width:"100%",dangerouslySetInlineStyle:{__style:{paddingBottom:"calc(100% * 16 / 9)"}}}),(0,p.jsx)(r.Z,{isEpisodeReplay:I,isEpisodeUpcoming:E,pinId:y,startsAt:S,title:w,user:b})]})})}},218672:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),r=n(785893);function o({text:e,backgroundColor:t}){return(0,r.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:t}},display:"flex",paddingX:2,paddingY:1,rounding:"pill",children:[(0,r.jsx)(i.xu,{color:"primary"===t?"default":"primary",dangerouslySetInlineStyle:{__style:{marginRight:5}},height:6,rounding:"circle",width:6}),(0,r.jsx)(i.xv,{color:"inverse",size:"100",weight:"bold",children:e})]})}},591042:(e,t,n)=>{n.d(t,{J1:()=>s,iH:()=>l,xs:()=>a});var i=n(667294),r=(n(883119),n(425288)),o=n(273712);const a=({pinId:e})=>{const[t,n]=(0,i.useState)({}),[r,a]=(0,i.useState)(e),[s,l]=(0,i.useState)(0);return{activePinId:r,getSubscription:e=>{if(!t)return o.d0.UNKNOWN;switch(t[e]){case!0:return o.d0.TRUE;case!1:return o.d0.FALSE;default:return o.d0.UNKNOWN}},setSubscription:(e,t)=>{n((n=>n&&n[e]!==t?{...n,[e]:t}:n))},setActivePinId:a,setVolume:l,volume:s}},{Provider:s,useHook:l}=(0,r.Z)("LiveSessionContext")},38530:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(6637),r=n(898781),o=n(112690),a=n(19121),s=n(883119),l=n(273712),c=n(591042),d=n(785893);function u({color:e="white",componentType:t,creatorClassId:n,pinId:u,size:p,viewParameterType:h,viewType:m}){const _=(0,r.ZP)(),g=(0,o.Z)(),{isAuth:v}=(0,a.Z)(),{getSubscription:f,referrer:y,setSubscription:b,showSignup:x}=(0,c.iH)(),w=f(u);if(w===l.d0.UNKNOWN)return null;const S=w?{text:_._('Attending', 'liveSession.button.attending', 'Button indicating user is subscribed to reminders; click to unsubscribe')}:{text:_._('Remind me', 'liveSession.button.remindMe', 'Button to subscribe to reminders')};return(0,d.jsx)(s.zx,{color:e,onClick:({event:e})=>{if(e.preventDefault(),e.stopPropagation(),g({event_type:102,view_type:m,view_parameter:h,component:t,element:w?12384:12383,aux_data:{content_ids:{pin:u},referrer:y}}),v){const e=i.Z.create("ApiResource",{url:`/v3/classes/${n}/subscription/`,data:{id:u}});w?e.callDelete():e.callUpdate(),b(u,!w)}else x&&x()},selected:w,size:p,text:S.text})}},585112:(e,t,n)=>{n.d(t,{Z:()=>_,t:()=>h});var i=n(667294),r=n(218672),o=n(38530),a=n(898781),s=n(112690),l=n(349700),c=n(591042),d=n(666842),u=n(883119),p=n(785893);const h={grid:2,closeup:6},m=16/9;function _({creatorClass:e,creatorClassInstance:t,pinId:n,variant:h="grid",width:_,height:g}){const v=(0,s.Z)(),{referrer:f}=(0,c.iH)(),y=(0,a.ZP)(),{id:b}=e,{starts_at:x,title:w,hero_images:S}=t,{url:P,width:T,height:E}=S["624x"],{V_HLSV4:I}=t.preview_video&&t.preview_video.video_list||{},A="closeup"===h,k=()=>{const e=function(e){const t=new Date(e)-new Date;return Math.floor(t/864e5)}(x),t=function(e){const t=new Date(e)-new Date;return Math.floor(t/36e5)}(x),n=function(e){const t=new Date(e)-new Date;return Math.floor(t/36e5)}(x);return e>=1?(0,l.nk)(y.ngettext('{{ numDaysUntilEvent }} day', '{{ numDaysUntilEvent }} days', e, 'upcomingEpisode.badge.daysUntil', 'Number of days remaining until the event'),{numDaysUntilEvent:e}):t>=1?(0,l.nk)(y.ngettext('{{ numHoursUntilEvent }} hour', '{{ numHoursUntilEvent }} hours', t, 'upcomingEpisode.badge.hoursUntil', 'Number of hours remaining until the event'),{numHoursUntilEvent:t}):n>1?(0,l.nk)(y.ngettext('{{ numMinutesUntilEvent }} minute', '{{ numMinutesUntilEvent }} minutes', n, 'upcomingEpisode.badge.minutesUntil', 'Number of minutes remaining until the event'),{numMinutesUntilEvent:n}):y._('Live soon', 'liveSession.badge.liveSoon', 'A label indicating event is happening soon.')},{gridItemWidth:C}=(0,c.iH)(),R=_||C,L=g||(R?R*m:void 0),j=new u.Ry(1),D=(0,p.jsx)(o.Z,{componentType:200,creatorClassId:b,pinId:n,size:A?"lg":"md",viewParameterType:3582,viewType:1}),[O,N]=(0,i.useState)(g||(R?R*m:void 0)),M=e=>{if(e){const t=e.offsetWidth;N(t*m)}};return L?A?(0,p.jsxs)(u.xu,{rounding:3,position:"relative",alignItems:"center",direction:"column",display:"flex",justifyContent:"between",width:R,height:L||O,children:[(0,p.jsx)(u.xu,{position:"absolute",left:!0,top:!0,paddingX:3,paddingY:3,zIndex:j,children:(0,p.jsx)(r.Z,{text:k(),backgroundColor:"black"})}),I?(0,p.jsx)(u.xu,{width:"100%",height:"100%",rounding:3,children:(0,p.jsx)(d.Z,{autoplay:!0,format:d.k.CLOSEUP,height:L,video:I,width:R,bgImgUrl:P})}):(0,p.jsx)(u.zd,{width:"100%",height:"100%",rounding:3,wash:!0,children:(0,p.jsx)(u.Ee,{src:P,alt:w,naturalWidth:T,naturalHeight:E,color:"gray",fit:"cover"})})]}):(0,p.jsxs)(u.xu,{rounding:3,position:"relative",alignItems:"center",direction:"column",display:"flex",justifyContent:"between",width:R,height:L,"data-test-id":`upcoming-episode-${n}`,children:[(0,p.jsx)(u.xu,{position:"absolute",left:!0,top:!0,paddingX:3,paddingY:3,zIndex:j,children:(0,p.jsx)(r.Z,{text:k(),backgroundColor:"black"})}),(0,p.jsx)(u.iP,{href:`/tv/${n}/?referrer=${f}`,onTap:()=>{var t;return v({event_type:102,view_type:1,view_parameter:3582,component:200,aux_data:{content_ids:{pin:n},referrer:f,story_id:null===(t=e.recap_pin)||void 0===t?void 0:t.id,story_type:"upcoming_creator_classes"}})},role:"link",fullHeight:!0,fullWidth:!0,children:(0,p.jsx)(u.zd,{width:"100%",height:"100%",rounding:3,wash:!0,children:(0,p.jsx)(u.Ee,{src:P,alt:w,naturalWidth:T,naturalHeight:E,color:"gray",fit:"cover"})})}),(0,p.jsx)(u.xu,{position:"absolute",bottom:!0,marginBottom:4,children:D})]}):(0,p.jsx)(u.xu,{ref:M,width:"100%",dangerouslySetInlineStyle:{__style:{paddingBottom:"calc(100% * 16 / 9)"}}})}},666842:(e,t,n)=>{n.d(t,{Z:()=>c,k:()=>l});var i=n(667294),r=n(898781),o=n(591042),a=n(883119),s=n(785893);const l={GRID:"grid",HERO:"hero",HEAD:"head",CLOSEUP:"closeup"};function c({autoplay:e=!1,children:t,controls:n,height:c,format:d,video:u,width:p,bgImgUrl:h}){const{volume:m,setVolume:_,renderTvVideo:g}=(0,o.iH)(),[v,f]=(0,i.useState)(e),y=(0,r.ZP)();if(!u)return null;const{height:b,url:x,width:w}=u,S=p/c;return(0,s.jsx)(a.zd,{height:c,rounding:d===l.HEAD?"circle":d===l.CLOSEUP?0:4,width:p,children:d===l.GRID?(0,s.jsx)(a.Ee,{alt:"",color:"",naturalHeight:b,naturalWidth:w,src:h,children:(0,s.jsx)(a.xu,{height:"100%",position:"relative",width:"100%",children:t})}):g&&g({autoplay:e,accessibilityMaximizeLabel:y._('Maximize', 'Video.accessibilityMaximizeLabel', 'Maximize accessibility Label'),accessibilityMinimizeLabel:y._('Minimize', 'Video.accessibilityMinimizeLabel', 'Minimize accessibility Label'),accessibilityMuteLabel:y._('Mute', 'Video.accessibilityMuteLabel', 'Mute accessibility Label'),accessibilityPauseLabel:y._('Pause', 'Video.accessibilityPauseLabel', 'Pause accessibility Label'),accessibilityPlayLabel:y._('Play', 'Video.accessibilityPlayLabel', 'Play accessibility Label'),accessibilityProgressBarLabel:y._('Progress bar', 'Video.accessibilityProgressBarLabel', 'Video progress bar accessibility label'),accessibilityUnmuteLabel:y._('Unmute', 'Video.accessibilityUnmuteLabel', 'Unmute accessibility Label'),aspectRatio:S,captions:"",controls:n,loop:!0,onPlay:()=>{},onPlayError:()=>{},playing:v,playsInline:!0,poster:h,src:x,volume:m,setPlaying:f,setVolume:_,children:(0,s.jsx)(a.xu,{height:"100%",position:"relative",width:"100%",children:t})})})}},273712:(e,t,n)=>{n.d(t,{$J:()=>i,Ct:()=>p,Ff:()=>u,Md:()=>l,My:()=>a,Rp:()=>s,ak:()=>o,d0:()=>h,jm:()=>c,oo:()=>r,vw:()=>d});const i={SMALL:"SMALL",MEDIUM:"MEDIUM",LARGE:"LARGE",MOBILE_SMALL:"MOBILE_SMALL",MOBILE_LARGE:"MOBILE_LARGE"},r=2,o=6,a=3,s=1.5,l=16,c=8,d=16/9,u=25,p={PRE_LIVE:1,OFFLINE:2,LIVE:3,POST_LIVE:4},h={TRUE:!0,FALSE:!1,UNKNOWN:void 0}},582637:(e,t,n)=>{n.d(t,{Zz:()=>a,fN:()=>o,oi:()=>r});var i=n(273712);const r=e=>e.live_status===i.Ct.POST_LIVE,o=e=>e.live_status===i.Ct.LIVE,a=e=>e.live_status===i.Ct.PRE_LIVE},719626:(e,t,n)=>{n.d(t,{Z:()=>a,p:()=>o});var i=n(926467),r=n(273712);function o(e){return{date:e?(0,i.Z)(new Date(e),"eeee, MMMM do,"):"",shortDate:e?(0,i.Z)(new Date(e),"eee, MMM do,"):"",formalDate:e?(0,i.Z)(new Date(e),"d MMM yyy"):"",dayOfWeek:e?(0,i.Z)(new Date(e),"EEEE"):"",time:e?(0,i.Z)(new Date(e),"h:mm aaa"):"",mmddyyy:e?(0,i.Z)(new Date(e),"MM/dd/yyyy"):"",Emmmdd:e?(0,i.Z)(new Date(e),"E, MMM dd"):""}}function a(e){var t,n;const i=e.creator_class_instance.live_status===r.Ct.POST_LIVE;return{pinId:e.id,classId:e.creator_class.id,storyId:null===(t=e.creator_class.recap_pin)||void 0===t?void 0:t.id,creatorClassInstance:e.creator_class_instance,creatorClassInstanceId:e.creator_class_instance.id,title:e.creator_class_instance.title,isLive:e.creator_class_instance.live_status===r.Ct.LIVE,postLive:i,path:`/tv/${e.id}/?referrer=${e.referrer||0}`,recapPath:`/pin/${(null===(n=e.creator_class.recap_pin)||void 0===n?void 0:n.id)||e.id}/?referrer=${e.referrer||0}`,creator:{avatar:e.creator_class.creator.image_medium_url,host:e.creator_class.creator.full_name||e.creator_class.creator.username,path:`/${e.creator_class.creator.username}`},video:i&&e.creator_class_instance.replay_video?e.creator_class_instance.replay_video.video_list.V_720P:e.creator_class_instance.preview_video?e.creator_class_instance.preview_video.video_list.V_720P:e.creator_class_instance.hero_video?e.creator_class_instance.hero_video.video_list.V_720P:null,subscriberCount:e.creator_class.subscriber_count,subscribers:e.creator_class.subscribers}}},758127:(e,t,n)=>{n.d(t,{U:()=>o,Z:()=>a});var i=n(883119),r=n(785893);const o=", ";function a(){return(0,r.jsx)(i.xu,{display:"visuallyHidden",children:o})}},477802:(e,t,n)=>{n.d(t,{W:()=>a,Z:()=>o});var i=n(883119),r=n(785893);function o({data:e}){return(0,r.jsx)(i.xu,{overflow:"auto",dangerouslySetInlineStyle:{__style:{border:"2px solid red"}},"data-test-id":"debug-info",children:(0,r.jsx)("pre",{children:JSON.stringify(e,null,2).replace(/\\n/g,"\n")})})}const a=e=>(0,r.jsx)(i.xu,{width:236,dangerouslySetInlineStyle:{__style:{marginTop:10}},children:(0,r.jsx)(o,{...e})})},948618:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),r=n(785893);function o({ariaHidden:e=!1,color:t="darkGray",size:n}){return(0,r.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,r.jsx)(i.xv,{color:t,inline:!0,size:null!=n?n:"200",children:""})})}},343341:(e,t,n)=>{n.d(t,{F9:()=>a,Zo:()=>r,nE:()=>o});var i=n(425288);const{Provider:r,Consumer:o,useHook:a}=(0,i.Z)("toastManagerContext")},753311:(e,t,n)=>{n.d(t,{M:()=>a,Q:()=>o});var i=n(667294);const r=(0,i.createContext)(null),o=()=>(0,i.useContext)(r),a=r.Provider},690035:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(753311);const r=()=>{const e=(0,i.Q)();return t=>{if(e){const{pinId:n,location:i,seoPlacementConfig:r}=t;e.showUnauthContextMenu({pinId:n,location:i,seoPlacementConfig:r})}}}},579164:(e,t,n)=>{n.d(t,{Z:()=>i});const i=Object.freeze({SAME_ORIGIN:1,TRUSTED_DIFFERENT_ORIGIN:2,UNTRUSTED:3,INVALID:4})},567831:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(e,t,n)=>e.match(/^https{0,1}:\/\//)?e:(void 0===t&&(t=window.location.protocol),void 0===n&&(n=window.location.hostname,window.location.port&&(n+=":"+window.location.port)),""!==n&&"/"!==e.charAt(0)&&(e="/"+e),t+"//"+n+e)},794230:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(643913),r=n(704115),o=n(441609),a=n.n(o);const s=(e,t)=>{if(!a()(t)){const n=e.split("?"),o=n[0],a=n[1],s=a?(0,r.Z)(a):{},l=Object.assign({},s,t);return o+"?"+(0,i.Z)(l)}return e}},123906:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(e,t)=>{const n=new URL(e,"https://pinterest.com");return n.search=new URLSearchParams(t).toString(),n.toString().substring(n.origin.length)}},250059:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>e?"string"==typeof e?e:e.pathname?e.pathname:"":""},643913:(e,t,n)=>{function i(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=n,o=e[n];if(void 0!==o){let e;e=Array.isArray(o)?encodeURIComponent(r)+"=["+o.map((e=>encodeURIComponent(e))).join(",")+"]":"object"==typeof o?i(o):encodeURIComponent(r)+"="+encodeURIComponent(o),t.push(e)}}return t.join("&")}n.d(t,{Z:()=>i})},704115:(e,t,n)=>{function i(e){null==e&&"undefined"!=typeof window&&(e=window.location.search);const t={};if(e){"?"===e[0]&&(e=e.substring(1));const n=/\+/g,i=/([^&=]+)=?([^&]*)/g,r=function(e){let t=e.replace(n," ");try{t=decodeURIComponent(t)}catch(i){t=unescape(t)}return t};let o=i.exec(e);for(;o;){t[r(o[1])]=r(o[2]),o=i.exec(e)}}return t}n.d(t,{Z:()=>i})},547239:(e,t,n)=>{n.d(t,{Z:()=>s});const i=(e,t)=>-1!==e.indexOf(t,e.length-t.length);var r=n(89254),o=n(966113),a=n(579164);const s=e=>{if("undefined"==typeof window)return a.Z.INVALID;const t=(0,r.Z)(e);let n="",s="";try{n=window.location.origin,s=window.location.hostname}catch(l){}if(t.origin===n)return a.Z.SAME_ORIGIN;if(t.hostname===s)return a.Z.TRUSTED_DIFFERENT_ORIGIN;if(t.hostname){const e=[o.Z.settings.TRUSTED_HOSTNAME_ENDING,o.Z.settings.PINTERDEV_DOMAIN];for(const n of e)if(t.hostname===n||i(t.hostname||"","."+n))return a.Z.TRUSTED_DIFFERENT_ORIGIN}return t.origin&&t.origin===o.Z.settings.AUTHENTICATION_ORIGIN?a.Z.TRUSTED_DIFFERENT_ORIGIN:"https"!==t.protocol||"pinterest.onelink.me"!==t.host||e!==o.Z.settings.APPSFLYER_IOS_DESKTOP_LINK&&e!==o.Z.settings.APPSFLYER_ANDROID_DESKTOP_LINK?t.origin?a.Z.UNTRUSTED:a.Z.INVALID:a.Z.TRUSTED_DIFFERENT_ORIGIN}},401060:(e,t,n)=>{n.d(t,{Z:()=>i});new RegExp(/\bdev\b.*/);function i({site:e,path:t=""}){const n="sterling"===e?"ads":e;if(t&&!t.startsWith("/"))throw new Error(`${t} needs to start with '/' -- hostForSite() does not append a trailing slash to the host, so all paths should start with '/'`);return`https://${n}.pinterest.com${t}`}},826067:(e,t,n)=>{n.d(t,{Gw:()=>p,JJ:()=>c,Jx:()=>l,OM:()=>r.Z,Qc:()=>a.Z,Qg:()=>s.Z,XP:()=>u,mB:()=>d,ru:()=>i.Z,sD:()=>h,vx:()=>o.Z});var i=n(794230),r=n(547239),o=n(579164),a=n(89254),s=n(954931);const l=e=>{if(!e)return"";try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return""}},c=()=>{const{pathname:e,search:t}=window.location;return e+("?"===t?"":t)},d=(e,t={shouldDecode:!0})=>e?("?"===e[0]&&(e=e.substr(1)),e.split("&").reduce(((e,n)=>{const[i,r]=n.split(/=(.+)/);return null!=t&&t.shouldDecode?e[l(i)]=l(r):e[i]=r,e}),{})):{},u=e=>Object.keys(e).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&"),p=(e,t)=>{if(0===t.length)return e;const[n,r]=e.split("?"),o=Object.entries(d(r)).filter((([e,n])=>!t.includes(e))).reduce(((e,[t,n])=>({...e,[t]:n})),{});return(0,i.Z)(n,o)},h=e=>/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)},149230:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(954931);const r=({url:e})=>!(!e||!e.match(/^https{0,1}:\/\//)||(0,i.Z)(e))},954931:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(547239),r=n(579164);const o=e=>[r.Z.SAME_ORIGIN,r.Z.TRUSTED_DIFFERENT_ORIGIN].includes((0,i.Z)(e))},508847:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(567831);const r=(e,t)=>0===e.lastIndexOf(t,0),o=({url:e})=>{const t=(0,i.Z)("/");return r(e,t)?e.substr(t.length-1):e}},188682:e=>{function t(e){for(var n=t.options,i=n.parser[n.strictMode?"strict":"loose"].exec(e),r={},o=14;o--;)r[n.key[o]]=i[o]||"";return r[n.q.name]={},r[n.key[12]].replace(n.q.parser,(function(e,t,i){t&&(r[n.q.name][t]=i)})),r}t.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:(?<!\\)@]*)(?::([^:@]*))?)?@)?([^:\/?#\\]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},t.options.strictMode=!0,e.exports=t},89254:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(188682),r=n.n(i);const o=(e,t)=>{let n,i;const o=r()(e);switch(o.protocol){case"http":case"https":o.userInfo&&(o.userInfo.endsWith("%23")||o.userInfo.endsWith("#"))?(n=o.protocol+"://"+o.userInfo,i=""):o.userInfo?(n=o.protocol+"://"+o.host,i=o.host):(n=o.protocol+"://"+o.authority,i=o.host);break;case"":if(0===o.source.indexOf("//")){if(t)n=null;else try{n=window.location.protocol+"//"+o.authority}catch(a){n=null}i=o.host}else if(t)n=null,i=null;else try{n=window.location.protocol+"//"+window.location.hostname,i=window.location.hostname}catch(a){n=null,i=null}break;default:n=null,i=o.host}return{...o,origin:n,hostname:i}}},829407:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294);const r=e=>{(0,i.useEffect)(e,[])}},198125:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294);function r(){const[e,t]=(0,i.useState)(!1);return{isHovering:e,handleMouseEnter:(0,i.useCallback)((()=>t(!0)),[t]),handleMouseLeave:(0,i.useCallback)((()=>t(!1)),[t])}}},35954:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294);const r=(e,t)=>{const n=(0,i.useRef)((()=>{}));(0,i.useEffect)((()=>{n.current=e}),[e]),(0,i.useEffect)((()=>{if(null===t)return()=>{};const e=setInterval((()=>n.current()),t);return()=>clearInterval(e)}),[t])}},807609:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(411465),r=n(966476);const o=()=>{const e=(0,i.Z)(),t=(0,r.Z)();return e&&!t}},411465:(e,t,n)=>{n.d(t,{G:()=>s,Z:()=>l});var i=n(667294),r=n(276775),o=n(785893);const a=(0,i.createContext)(!0);function s({children:e}){const t=(0,r.useLocation)(),[n,s]=(0,i.useState)(!0),l=(0,i.useRef)(t);return(0,i.useEffect)((()=>{l.current!==t&&(l.current=t,s(!1))}),[t]),(0,o.jsx)(a.Provider,{value:n,children:e})}function l(){return(0,i.useContext)(a)}},19121:(e,t,n)=>{n.d(t,{$:()=>r,Z:()=>a});var i=n(425288);const{Provider:r,useHook:o}=(0,i.Z)("viewer"),a=o},562559:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(667294),r=n(867631),o=n.n(r),a=n(112690),s=n(19121),l=n(494349),c=n(773285),d=n(780280),u=n(883119),p=n(969315),h=n(179888),m=n(785893);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g=(e,t)=>{if(t){const n="control"===t?"v3.pinimg.com":"v2.pinimg.com";return e.replace("v.pinimg.com",n)}return e},v=(e,t)=>"string"==typeof e?g(e,t):Array.isArray(e)?((e,t)=>e[0].src&&t?[{...e[0],src:g(e[0].src,t)}]:e)(e,t):e;class f extends i.PureComponent{constructor(...e){super(...e),_(this,"state",{canPlayVideo:!1,isManifestParsed:!1,playbackState:h.Cy.DEFAULT}),_(this,"errorRetryCount",1),_(this,"firstFragBuffered",!1),_(this,"hasPlaybackStarted",!1),_(this,"hasVideoSessionStarted",!1),_(this,"hasVideoSessionEnded",!1),_(this,"hls",null),_(this,"fragStartupTime",{}),_(this,"lastLevelSwitchKbps",null),_(this,"lastStallTime",null),_(this,"lastPauseTime",null),_(this,"logSessionStartOnNextPlay",!1),_(this,"playerId",""),_(this,"videoSessionId",""),_(this,"videoVisibleTime",null),_(this,"playbackPerformance",{canPlayTime:null,detailedErrors:"",downloadedKiloBytes:0,errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numberOfStalls:0,numberOfSeeks:0,playbackStartTimestamp:null,segments:[],srcString:"string"==typeof this.props.src?g(this.props.src,this.props.quicExpGroup):g(this.props.src[0].src,this.props.quicExpGroup),totalStallDurationMs:0,totalPauseDurationMs:0,videoCreatedTime:null}),_(this,"initializeHls",(()=>{this.destroyHls();const{src:e,hlsConfig:t,quicExpGroup:n}=this.props,i=new(o())(t),r=v(e,n);i.loadSource(r),this.videoPlayerRef&&i.attachMedia(this.videoPlayerRef.video),i.on(o().Events.FRAG_BUFFERED,this.handleHlsFragBuffered),i.on(o().Events.FRAG_CHANGED,this.handleHlsFragChanged),i.on(o().Events.FRAG_LOADING,this.handleHlsFragLoading),i.on(o().Events.FRAG_LOADED,this.handleHlsFragLoaded),i.on(o().Events.MANIFEST_PARSED,(()=>{this.setState({isManifestParsed:!0})})),i.on(o().Events.LEVEL_SWITCHED,this.handleHlsLevelSwitched),i.on(o().Events.ERROR,this.handleHlsError),this.hls=i})),_(this,"destroyHls",(()=>{const{hls:e}=this;e&&e.destroy()})),_(this,"addSegment",(e=>{const{segments:t}=this.playbackPerformance,n=t&&t[t.length-1];if(this.hls&&t.length&&n&&n.uri!==e.url){this.updateWatchDurationForCurrentSegment();const n=this.videoPlayerRef&&this.videoPlayerRef.video,i=this.hls&&this.hls.levels||{},r="number"==typeof e.level?i[e.level]:{},o=this.fragStartupTime[e.url];let a=-1;o&&o.startLoadTime&&o.endLoadTime&&(a=o.endLoadTime-o.startLoadTime);const s={indicatedKbps:r.bitrate/h.bR,duration:e.duration,level:e.level,lastStartPlayTime:this.getCurrentVideoTime(),numServerAddressChange:-1,observedKbps:this.hls&&this.hls.bandwidthEstimate/h.bR||-1,playbackStartDate:Date.now(),serverAddress:"",sn:e.sn,sourceWidth:r.width,sourceHeight:r.height,startupTimeMs:a,switchBitrateKbps:this.lastLevelSwitchKbps||-1,uri:e.url,viewportWidth:n&&n.clientWidth||-1,viewportHeight:n&&n.clientHeight||-1,watchedDurationMs:0};t.push(s)}})),_(this,"initializeSegments",(e=>{const{contextLogData:t={}}=this.props,{is_closeup_video:n=!1}=t,{segments:i}=this.playbackPerformance;if(!i.length)if(this.hls&&this.videoPlayerRef&&this.videoPlayerRef.video&&e){if(!i.length&&"number"==typeof e.level){const t=this.videoPlayerRef&&this.videoPlayerRef.video,n=this.hls.levels,r="number"==typeof e.level?n[e.level]:{},o=this.fragStartupTime[e.url];let a=-1;o&&o.startLoadTime&&o.endLoadTime&&(a=o.endLoadTime-o.startLoadTime),this.lastLevelSwitchKbps=this.hls.bandwidthEstimate/h.bR;const s={indicatedKbps:r.bitrate/h.bR,duration:e.duration,level:e.level,lastStartPlayTime:null,numServerAddressChange:-1,observedKbps:this.hls.bandwidthEstimate/h.bR||-1,playbackStartDate:null,serverAddress:"",sn:e.sn,sourceWidth:r.width,sourceHeight:r.height,startupTimeMs:a,switchBitrateKbps:this.lastLevelSwitchKbps||-1,uri:e.url,viewportWidth:t.clientWidth,viewportHeight:t.clientHeight,watchedDurationMs:0};i.push(s)}}else(0,p.tE)("initializeSegmentsFailed",!0,n)})),_(this,"getCurrentVideoTime",(()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*h.gJ:null)),_(this,"handleCanPlayVideo",(e=>{const{contextLogData:t={},onReady:n,playing:i}=this.props,{is_closeup_video:r=!1}=t,{canPlayVideo:o}=this.state;(0,p.tE)("handleCanPlayVideo",!0,r,{firstCanPlayEvent:!o,playing:i}),this.playbackPerformance.hasFatalError=!1,o||(this.playbackPerformance.canPlayTime=new Date),this.setState({canPlayVideo:!0}),n&&n(e)})),_(this,"handleEnded",(e=>{const{loop:t,onEnded:n}=this.props,{segments:i}=this.playbackPerformance,r=i&&i[i.length-1];t&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDurationForCurrentSegment(),r&&(r.lastStartPlayTime=0),this.fragStartupTime={}):t||this.logPlaybackPerformance(h.$f,{initiator:"videoEnded",loop:t}),this.setState({playbackState:h.Cy.ENDED}),n&&n(e)})),_(this,"handleHlsError",((e,t)=>{var n;const{contextLogData:i={}}=this.props,{is_closeup_video:r=!1}=i;if(this.playbackPerformance.detailedErrors+=`${this.playbackPerformance.detailedErrors.length>0?", ":""}${t.details}`,t.fatal){var a,s,l,c;this.playbackPerformance.hasFatalError=!0,this.playbackPerformance.errorName=t.type,this.playbackPerformance.errorReason=t.details,this.playbackPerformance.errorCode=t.response&&t.response.code?t.response.code:0;const e={errorName:t.type,errorReason:t.details,errorRetryCount:this.errorRetryCount,errorMessage:(null===(a=t.err)||void 0===a||null===(s=a.message)||void 0===s?void 0:s.slice(0,50))||"unknown",errorResponse:(null===(l=t.response)||void 0===l||null===(c=l.text)||void 0===c?void 0:c.slice(0,50))||"unknown",playbackState:this.state.playbackState};if((0,p.tE)("fatalError",!0,r,e),this.errorRetryCount>0)switch(this.errorRetryCount-=1,t.type){case o().ErrorTypes.NETWORK_ERROR:if(t.details===o().ErrorDetails.MANIFEST_LOAD_ERROR||t.details===o().ErrorDetails.MANIFEST_LOAD_TIMEOUT||t.details===o().ErrorDetails.MANIFEST_LOAD_PARSING_ERROR){var d;const{src:e,quicExpGroup:t}=this.props,n=v(e,t);null===(d=this.hls)||void 0===d||d.loadSource(n)}else{var u;null===(u=this.hls)||void 0===u||u.startLoad()}break;case o().ErrorTypes.MEDIA_ERROR:null===(n=this.hls)||void 0===n||n.recoverMediaError()}}this.updateWatchDurationForCurrentSegment(),this.setState({playbackState:h.Cy.FAILED})})),_(this,"handleHlsFragBuffered",((e,t)=>{this.firstFragBuffered||(this.initializeSegments(t.frag),this.firstFragBuffered=!0)})),_(this,"handleHlsFragChanged",((e,t)=>{this.addSegment(t.frag)})),_(this,"handleHlsFragLoading",((e,t)=>{var n;const i=null===(n=t.frag)||void 0===n?void 0:n.url;i&&!this.fragStartupTime[i]&&(this.fragStartupTime[i]={startLoadTime:new Date})})),_(this,"handleHlsFragLoaded",((e,t)=>{var n;t.frag&&t.frag.loaded&&(this.playbackPerformance.downloadedKiloBytes+=t.frag.loaded/h.Fm);const i=null===(n=t.frag)||void 0===n?void 0:n.url;i&&this.fragStartupTime[i]&&this.fragStartupTime[i].startLoadTime&&(this.fragStartupTime[i].endLoadTime=new Date)})),_(this,"handleHlsLevelSwitched",(()=>{this.hls&&this.hls.bandwidthEstimate&&(this.lastLevelSwitchKbps=this.hls.bandwidthEstimate/h.bR)})),_(this,"handleLoadedMetadata",(()=>{this.setState({playbackState:h.Cy.LOADED_METADATA})})),_(this,"handleLoadStart",(()=>{this.playbackPerformance.loadStartTime=new Date,this.setState({playbackState:h.Cy.LOAD_START})})),_(this,"handleLoadedData",(()=>{this.setState({playbackState:h.Cy.LOADED_DATA})})),_(this,"handlePlaying",(()=>{this.playbackPerformance.hasFatalError=!1,this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.updateStallDuration(),this.updatePauseDuration(),this.setState({playbackState:h.Cy.PLAYING})})),_(this,"handleUserPause",(e=>{const{onControlsPause:t}=this.props;this.lastPauseTime=new Date,t&&t(e)})),_(this,"handleVideoPause",(()=>{this.state.playbackState!==h.Cy.STALLING&&this.state.playbackState!==h.Cy.SEEKING&&(this.updateWatchDurationForCurrentSegment(),this.lastPauseTime||this.updateStallDuration()),this.setState({playbackState:h.Cy.PAUSED})})),_(this,"handleSeeking",(()=>{this.playbackPerformance.numberOfSeeks+=1;const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&(t.lastStartPlayTime=null),this.state.playbackState!==h.Cy.ENDED&&this.setState({playbackState:h.Cy.SEEKING})})),_(this,"handleStalled",(()=>{null===this.lastStallTime&&this.state.playbackState!==h.Cy.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numberOfStalls+=1),this.setState({playbackState:h.Cy.STALLING})})),_(this,"handleTimeUpdate",(e=>{const{onTimeChange:t}=this.props;t&&t(e),this.state.playbackState===h.Cy.PLAYING&&(this.updateWatchDurationForCurrentSegment(),this.setLastSegmentStartPlayTime())})),_(this,"resetPlaybackMetrics",(()=>{this.hasPlaybackStarted=!1,this.hasVideoSessionStarted=!1,this.hasVideoSessionEnded=!0,this.lastLevelSwitchKbps=null,this.lastStallTime=null,this.lastPauseTime=null,this.videoSessionId="",this.videoVisibleTime=null,this.logSessionStartOnNextPlay=!1;const e={...this.playbackPerformance.segments[this.playbackPerformance.segments.length-1],lastStartPlayTime:null,playbackStartDate:null,switchBitrateKbps:-1,watchedDurationMs:0};this.playbackPerformance.detailedErrors="",this.playbackPerformance.downloadedKiloBytes=0,this.playbackPerformance.errorCode=0,this.playbackPerformance.errorName="",this.playbackPerformance.errorReason="",this.playbackPerformance.hasFatalError=!1,this.playbackPerformance.numberOfStalls=0,this.playbackPerformance.numberOfSeeks=0,this.playbackPerformance.playbackStartTimestamp=null,this.playbackPerformance.totalStallDurationMs=0,this.playbackPerformance.segments=[e]})),_(this,"setLastSegmentStartPlayTime",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.lastStartPlayTime&&(t.lastStartPlayTime=this.getCurrentVideoTime())})),_(this,"setLastSegmentPlaybackStartDate",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.playbackStartDate&&(t.playbackStartDate=Date.now())})),_(this,"setPlaybackStartTime",(()=>{this.hasPlaybackStarted||(this.playbackPerformance.playbackStartTimestamp=Date.now(),this.hasPlaybackStarted=!0)})),_(this,"setVideoPlayerRef",(e=>{const{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){const e=this.videoPlayerRef.video;e.addEventListener("loadedmetadata",this.handleLoadedMetadata),e.addEventListener("loadeddata",this.handleLoadedData),e.addEventListener("pause",this.handleVideoPause),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}})),_(this,"updateStallDuration",(()=>{null!==this.lastStallTime&&(this.playbackPerformance.totalStallDurationMs+=new Date-this.lastStallTime,this.lastStallTime=null)})),_(this,"updatePauseDuration",(()=>{if(null!==this.lastPauseTime){const e=this.lastPauseTime;this.playbackPerformance.totalPauseDurationMs+=new Date-e,this.lastPauseTime=null}})),_(this,"updateWatchDurationForCurrentSegment",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1],n=t?t.lastStartPlayTime:null,i=this.getCurrentVideoTime();if(t&&null!==n&&"number"==typeof i&&"number"==typeof n){const e=i-n;e>0&&(t.watchedDurationMs+=e,t.lastStartPlayTime=null)}})),_(this,"logPlaybackPerformance",((e,t)=>{const{contextLogData:n={},userId:i,isAutoPlay:r,logContextEvent:o}=this.props,{is_closeup_video:a=!1}=n,{canPlayTime:s,detailedErrors:l,downloadedKiloBytes:c,errorCode:d,errorName:u,errorReason:m,hasFatalError:_,playbackStartTimestamp:g,totalPauseDurationMs:v,totalStallDurationMs:f,segments:y,srcString:b,loadStartTime:x,numberOfStalls:w,numberOfSeeks:S}=this.playbackPerformance,P=this.videoPlayerRef&&this.videoPlayerRef.video,T=e===h.DR,E=T&&!this.hasVideoSessionStarted,I=!T&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(this.hls&&P&&(E||I)){var A;let E=-1;s&&x&&(E=s>x?s-x:0);let I=-1;s&&this.videoVisibleTime&&(I=s>this.videoVisibleTime?s-this.videoVisibleTime:0),T&&(this.videoSessionId=(0,h.Y7)(i),this.playerId=this.playerId||(0,h.EB)());const k={autoplaying:r,averageVideoKbps:-1,detailedErrors:l,downloadedKiloBytes:c,isCellular:!1,errorCode:d,errorName:u,errorReason:m,fatalError:_,nativeVideoDurationMs:P.duration*h.gJ||-1,numberOfStalls:w,numberOfSeeks:S,overallPausedDurationMs:v,overallBufferDurationMs:f,overallWatchedDurationMs:-1,rebufferRate:-1,playbackSessionId:this.videoSessionId,playbackStartTimestamp:g||-1,segments:[],sessionMark:e,screenPixelScale:null!==(A=window)&&void 0!==A&&A.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:P.clientWidth,startupPlayerHeight:P.clientHeight,startupTimeMs:E,startupLatencyMs:I,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:P.videoWidth,startupVariantHeight:P.videoHeight,videoUrl:b};if(!T&&y.length){const e=this.hls.levels,t=y[0];this.updateWatchDurationForCurrentSegment(),this.updateStallDuration();const n=y.reduce(((t,n)=>{if(n&&"number"==typeof n.level&&e&&e.length>0){return t+(e[n.level]||{}).bitrate*(n.watchedDurationMs||0)/h.gJ}return t}),0),i=y.reduce(((e,t)=>e+(t.watchedDurationMs||0)),0);let r=null,o=0,a=0;do{o+=y[a].watchedDurationMs,r=r||y[a].level,a+=1}while(a<y.length&&y[a].level===r);k.startupVariantKbps=t.indicatedKbps,k.startupVariantWatchedDurationMs=o,k.startupVariantWidth=t.sourceWidth,k.startupVariantHeight=t.sourceHeight,k.startupPlayerWidth=t.viewportWidth,k.startupPlayerHeight=t.viewportHeight,k.overallWatchedDurationMs=i,i>0?(k.averageVideoKbps=n/(i/h.gJ),k.rebufferRate=this.playbackPerformance.totalStallDurationMs/i):0===i&&(k.averageVideoKbps=-1,k.rebufferRate=-1,k.errorName="invalid_watch_duration"),k.segments=y}else k.errorName="invalid_watch_duration";(0,p.ZP)(k,!0,a,{playbackState:this.state.playbackState,...t});const{clientTrackingParams:C,component:R,durationNs:L,element:j,objectId:D,pairId:O,viewData:N,view:M,viewParameter:U,...F}=n;o({aux_data:{...F,is_closeup_video:a,playback_session_id:this.videoSessionId},clientTrackingParams:C,component:R,duration_ns:L,element:j,event_data:{videoPerformanceData:k},event_type:3606,object_id_str:D,pair_id:O,view_data:N,view_parameter:U,view_type:M}),T?(this.hasVideoSessionStarted=!0,this.hasVideoSessionEnded=!1):this.resetPlaybackMetrics(),(0,p.tE)(T?"sessionStart":"sessionEnd",!0,a,{playbackState:this.state.playbackState,...t})}}))}componentDidMount(){const{contextLogData:e={},playing:t}=this.props,{is_closeup_video:n=!1}=e;this.playbackPerformance.videoCreatedTime=new Date,this.initializeHls(),(0,p.tE)("videoMounted",!0,n),t&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(h.DR,{initiator:"mount"}))}componentDidUpdate(e){const{loop:t,playing:n,src:i,visible:r,appInFocus:o}=this.props;var a,s;(typeof(a=e.src)!=typeof(s=i)||(Array.isArray(s)?a.length!==s.length||s.some(((e,t)=>!Array.isArray(a)||e.type!==a[t].type||e.src!==a[t].src)):s!==a))&&this.initializeHls(),e.appInFocus&&!o&&(this.logPlaybackPerformance(h.$f,{initiator:"update",loop:t}),this.logSessionStartOnNextPlay=!0),e.visible&&!1===r&&(this.logSessionStartOnNextPlay=!1,this.updatePauseDuration(),this.logPlaybackPerformance(h.$f,{initiator:"update",loop:t})),!1===e.visible&&!0===r&&(this.videoVisibleTime=this.videoVisibleTime||new Date,n?(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(h.DR,{initiator:"update"})):this.logSessionStartOnNextPlay=!0),n&&o&&this.logSessionStartOnNextPlay&&(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(h.DR,{initiator:"update"}),this.logSessionStartOnNextPlay=!1)}componentWillUnmount(){const{loop:e}=this.props;this.updatePauseDuration(),this.logPlaybackPerformance(h.$f,{initiator:"unmount",loop:e}),this.destroyHls()}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:r,accessibilityProgressBarLabel:o,accessibilityUnmuteLabel:a,aspectRatio:s,backgroundColor:l,captions:c,controls:d,loop:p,loopOverride:h,onDurationChange:_,onFullscreenChange:g,onLoadedChange:f,onControlsPlay:y,onPlayheadDown:b,onPlayheadUp:x,onSeek:w,onVolumeChange:S,playbackRate:P,playing:T,playsInline:E,poster:I,preload:A,quicExpGroup:k,src:C,volume:R}=this.props,{canPlayVideo:L,isManifestParsed:j}=this.state,D=v(C,k);return(0,m.jsx)(u.nk,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:r,accessibilityProgressBarLabel:o,accessibilityUnmuteLabel:a,aspectRatio:s,backgroundColor:l,captions:c,controls:d,loop:void 0===h?p:h,onDurationChange:_,onEnded:this.handleEnded,onFullscreenChange:g,onLoadStart:this.handleLoadStart,onLoadedChange:f,onControlsPause:this.handleUserPause,onControlsPlay:y,onPlaying:this.handlePlaying,onPlayheadDown:b,onPlayheadUp:x,onReady:this.handleCanPlayVideo,onSeek:w,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:S,onWaiting:this.handleStalled,playbackRate:P,onPlay:()=>{},onPlayError:()=>{},playing:j&&L&&T,playsInline:E,poster:I,preload:A,ref:this.setVideoPlayerRef,src:D,volume:R})}}const y=(0,i.memo)((function(e){const{country:t,isAuthenticated:n,isBot:i,isSocialBot:r,unauthId:o,userAgent:u}=(0,d.B)(),h=(0,a.Z)(),_=(0,s.Z)(),{browserName:g,browserVersion:v,isMobile:y}=u,{contextLogData:b={}}=e,{is_closeup_video:x=!1,view:w,viewParameter:S}=b,{checkExperiment:P}=(0,c.F)();let T=null;n&&(T=P("web_video_quic").group.length?P("web_video_quic").group:null);const{appUI:E}=(0,l.I)(),I=P("web_video_fail_to_start_fix").anyEnabled?E.appInFocus:e.appInFocus,A={browserName:g,browserVersion:v,country:t,isAuthenticated:n,isBot:i,is_closeup_video:x,isMobile:y,isSocialBot:r,view:w,viewParameter:S};return(0,p.r$)(A),(0,m.jsx)(f,{...e,userId:_.id||o,appInFocus:I,quicExpGroup:T,logContextEvent:h})}))},964082:(e,t,n)=>{function i(e,t){const{organicVideosAutoplaying:n,promotedVideosAutoplaying:i}=t,r={...n,...i};for(const o in r){const{paused:t}=r[o];if(o!==e&&!t)return!1}return!0}n.d(t,{Z:()=>i})},36971:(e,t,n)=>{function i(e,t){const{organicVideosAutoplaying:n,promotedVideosAutoplaying:i}=t,r={...n,...i};return r[e]&&r[e].currentTime}n.d(t,{Z:()=>i})},463045:(e,t,n)=>{function i(e,t){const{organicVideosAutoplaying:n,promotedVideosAutoplaying:i}=t,r={...n,...i};return!!r[e]&&!r[e].paused}n.d(t,{Z:()=>i})},969315:(e,t,n)=>{n.d(t,{ZP:()=>u,r$:()=>c,tE:()=>d});var i=n(311560),r=n(172071),o=n(179888);const a=["isCellular","videoUrl","sessionMark"];let s={},l="";const c=e=>{const{browserName:t,browserVersion:n,country:r,isAuthenticated:o,isBot:a,isMobile:c,isSocialBot:d,view:u="unknown",viewParameter:p="unknown"}=e;l=(d?"socialBot":a&&"bot")||"nonbot";const h=(0,i.Z)(r);s={browserName:t,browserVersion:(null==n?void 0:n.split(".")[0])||"0",isAuthenticated:o,isMobile:c,region:h,view:u,viewParameter:p}};function d(e,t,n,i={}){const o=n?"closeup":"nonCloseup",a=t?"hls":"nonHls",c={...i,...s},d=`web.video.${a}.${l}.${o}.${e}`;r.Z.increment(d,1,c)}function u(e,t,n,i={}){const c=n?"closeup":"nonCloseup",d=t?"hls":"nonHls",u=e.sessionMark===o.DR?"sessionStart":"sessionEnd",p={...i,...s};if(Object.entries(e).forEach((([t,n])=>{const i=`web.video.${d}.${l}.${c}.${u}.${t}`,o=parseInt(n,10),s="number"==typeof o?o:-1;var h;if(!a.includes(t))if(t.includes("fatalError")&&!0===n){const{errorCode:t,errorName:n,errorReason:o}=e;r.Z.increment(i,1,{errorCode:t,errorName:n,errorReason:o,...p})}else if(t.includes("Width")||t.includes("Height")){const e=(h=s)<0?"negative":0===h?"zero":h<200?"xs":h<400?"s":h<600?"m":h<800?"l":h<1e3?"xl":h<1200?"xxl":"over1200";r.Z.increment(i,1,{dimensionBucket:e,...p})}else if("numberOfStalls"===t){let e=n;s>1e3?e="over1000":s>10?e="over10":s<0&&(e="negative"),r.Z.increment(i,1,{numberOfStalls:e,...p})}else"screenPixelScale"===t?r.Z.increment(i,1,{screenPixelScale:n||-1,...p}):s>=0?(0===s&&r.Z.increment(`${i}.zero`,1,p),r.Z.timing(i,s,1),r.Z.timing(`${i}_with_tags`,s,1,p)):s<0&&r.Z.increment(`${i}.negative`,1,p)})),e.sessionMark!==o.DR){const{rebufferRate:t,screenPixelScale:n,startupLatencyMs:i,startupVariantWidth:o,startupPlayerWidth:a}=e,s=`web.video.${d}.${l}.${c}.${u}`;if("number"==typeof o&&"number"==typeof a&&"number"==typeof n){const e=1.5*o>n*a;r.Z.increment(`${s}.upscaled.${e?"good":"bad"}`,1,p)}"number"==typeof i&&r.Z.increment(`${s}.startupLatency.${i<500?"good":"bad"}`,1,p),"number"==typeof t&&r.Z.increment(`${s}.rebufferRate.${t<.01?"good":"bad"}`,1,p)}}},179888:(e,t,n)=>{n.d(t,{$f:()=>o,Cy:()=>c,DR:()=>r,EB:()=>p,Fm:()=>l,Y7:()=>u,bR:()=>s,gJ:()=>a,lG:()=>d});var i=n(172045);const r=1,o=2,a=1e3,s=1e3,l=1e3,c=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),d=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4});function u(e){return e+"-"+(0,i.Z)()}function p(){return(0,i.Z)()}},121630:(e,t,n)=>{n.d(t,{Z:()=>o,e:()=>r});var i=n(81226);const r=e=>{if("undefined"==typeof window)return"";let t=0;const n=document.querySelector('[data-test-id="header"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}switch(e){case"AuthHomefeed":const e=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==e){const{height:n}=e.getBoundingClientRect();t+=n}break;case"SearchItem":const n=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}const i=document.querySelector('[data-test-id="search-tab-bar"],[data-root-margin="search-one-bar"]');if(null!==i){const{height:e}=i.getBoundingClientRect();t+=e}}return-1*t+"px 0px 0px 0px"},o=e=>{var t,n,r,o,a;return(0,i.Z)((null===(t=e.videos)||void 0===t?void 0:t.duration)||(null===(n=e.videos)||void 0===n||null===(r=n.video_list)||void 0===r||null===(o=r.V_HLSV4)||void 0===o?void 0:o.duration)||(null===(a=e.story_pin_data)||void 0===a?void 0:a.total_video_duration)||0)}},43760:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(768559),r=n(102500),o=n(48714);function a({url:e,pinId:t,pin:n,location:a,auxData:s}){var l,c;const d={check_only:!0,client_tracking_params:n?(0,i.Z)({boardUrl:null===(l=n.board)||void 0===l?void 0:l.url,callToCreateSourcePinId:n.call_to_create_source_pin_id,location:a,pinId:n.id,pinnerUserName:null===(c=n.pinner)||void 0===c?void 0:c.username,storyPinDataId:n.story_pin_data_id,trackingParams:n.tracking_params,trackingParamsMap:n.tracking_params_map}):void 0,pin_id:n?n.id:t,url:e,aux_data:JSON.stringify(s)};(0,r.Z)(d).callGet().then((r=>{if(r&&r.resource_response&&!r.resource_response.error){const{resource_response:e}=r,{redirect_status:t,url:n}=e.data;if(!["blocked","suspicious","porn"].includes(t)){if(window.Windows.Foundation&&window.Windows.System&&window.Windows.System.Launcher&&window.Windows.System.Launcher.launchUriAsync){const e=new window.Windows.Foundation.Uri(n);window.Windows.System.Launcher.launchUriAsync(e)}return}}if(n){var l,c;const r=(0,i.Z)({boardUrl:null===(l=n.board)||void 0===l?void 0:l.url,callToCreateSourcePinId:n.call_to_create_source_pin_id,location:a,pinId:n.id,pinnerUserName:null===(c=n.pinner)||void 0===c?void 0:c.username,storyPinDataId:n.story_pin_data_id,trackingParams:n.tracking_params,trackingParamsMap:n.tracking_params_map});(0,o.Gj)({url:e,pinId:t,csrId:null,clientTrackingParams:r,auxData:s})}else(0,o.Gj)({url:e,pinId:t})}))}},494349:(e,t,n)=>{n.d(t,{g:()=>h,I:()=>p});var i=n(667294),r=n(567450),o=n(150361),a=n.n(o);const s={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},l=(e=s,t)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type)return{...e,showTypeaheadOverlay:t.payload};if("SET_CURRENT_VIDEO"===t.type){const{payload:n}=t,{pinId:i,isPromoted:r,currentTime:o,inVideoGridAutoplayExp:s}=n,{videosAutoplaying:l}=e,{currentlyPlayingOrganicVideoId:c,promotedVideosAutoplaying:d,organicVideosAutoplaying:u}=l,p=a()(d),h=a()(u);return!r&&c&&s?e:(r?p[i]={pinId:i,currentTime:o,paused:!1}:h[i]={pinId:i,currentTime:o,paused:!1},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:r?c:i,promotedVideosAutoplaying:p,organicVideosAutoplaying:h}})}if("SET_IS_AUTOPLAY"===t.type)return{...e,isAutoplay:t.payload};if("PAUSE_CURRENT_VIDEO"===t.type){const{payload:n}=t,{pinId:i,isPromoted:r,currentTime:o}=n,{videosAutoplaying:s}=e,{promotedVideosAutoplaying:l,organicVideosAutoplaying:c}=s,d=a()(l),u=a()(c);return r?d[i]={...d[i],paused:!0,currentTime:o}:u[i]={...u[i],paused:!0,currentTime:o},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:d,organicVideosAutoplaying:u}}}return"SET_APP_FOCUS_STATE"===t.type?{...e,appInFocus:t.payload}:"SET_VIEWPORT_SIZE"===t.type?{...e,viewportSize:t.payload}:"SET_FOOTER_VISIBILITY_STATE"===t.type?{...e,footerPlusButtonVisible:t.payload}:e};var c=n(425288),d=n(785893);const{Provider:u,useHook:p}=(0,c.Z)("AppUI");function h({children:e}){const[t,n]=(0,i.useReducer)(l,s),o=(0,i.useCallback)((e=>n({type:"PAUSE_CURRENT_VIDEO",payload:e})),[]),a=(0,i.useCallback)((e=>n({type:"SET_APP_FOCUS_STATE",payload:e})),[]),c=(0,i.useCallback)((e=>n({type:"SET_CURRENT_VIDEO",payload:e})),[]),p=(0,i.useCallback)((e=>n({type:"SET_FOOTER_VISIBILITY_STATE",payload:e})),[]),h=(0,i.useCallback)((e=>n({type:"SET_IS_AUTOPLAY",payload:e})),[]),m=(0,i.useCallback)((e=>n({type:"SET_VIEWPORT_SIZE",payload:e})),[]),_=(0,i.useCallback)((e=>n({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e})),[]),g=(0,i.useMemo)((()=>({pauseAutoplay:o,setCurrentVideo:c,setFooterPlusButtonVisible:p,setIsAutoplay:h,setViewportSize:m,toggleTypeaheadOverlay:_,setAppFocusState:a,appUI:t})),[o,c,p,h,m,_,a,t]);return(0,i.useEffect)((()=>{r.Z.onSessionResume((()=>{a(!0)})).onSessionPause((()=>{a(!1)}))}),[a]),(0,d.jsx)(u,{value:g,children:e})}},639758:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(898781),r=n(883119),o=n(785893);const a={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},s={__path:"M17.496 14.572a1 1 0 0 1-1 1h-.001a1.001 1.001 0 0 1-.999-1.001l.002-4.652-7.29 7.288a.995.995 0 0 1-.707.293.999.999 0 0 1-.707-1.707l7.293-7.29L9.428 8.5a1 1 0 0 1 .001-2h.001l8.071.005-.005 8.067zM12 0C5.373 0 0 5.373 0 12c0 6.628 5.373 12 12 12 6.628 0 12-5.372 12-12 0-6.627-5.372-12-12-12z"},l={overlay:{__style:{backgroundColor:"#000"}}};function c({backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:c,pinTitle:d,pin:u}){const p=(0,i.ZP)(),{id:h}=u;return(0,o.jsxs)(r.Ee,{alt:d||p._('pin image', 'image of a pin', 'image of a pin'),naturalHeight:t,naturalWidth:n,src:e,children:[(0,o.jsx)(r.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:l.overlay}),(0,o.jsxs)(r.xu,{justifyContent:"center",direction:"column",display:"flex",position:"absolute",height:"100%",width:"100%","data-test-id":`video-end-card-${h}`,children:[(0,o.jsx)(r.iP,{rounding:2,children:(0,o.jsxs)(r.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,o.jsx)(r.JO,{accessibilityLabel:p._('Visit site', 'Button when pressed goes to pin\'s website', 'Button when pressed goes to pin\'s website'),color:"light",dangerouslySetSvgPath:s,size:25}),(0,o.jsx)(r.xu,{margin:1}),(0,o.jsx)(r.xv,{color:"light",lineClamp:1,weight:"bold",children:p._('Visit site', 'Button when pressed goes to pin\'s website', 'Button when pressed goes to pin\'s website')})]})}),(0,o.jsx)(r.xu,{margin:3}),(0,o.jsx)(r.iP,{onTap:c,rounding:2,children:(0,o.jsxs)(r.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,o.jsx)(r.JO,{accessibilityLabel:p._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video'),color:"light",dangerouslySetSvgPath:a,size:25}),(0,o.jsx)(r.xu,{margin:1}),(0,o.jsx)(r.xv,{color:"light",lineClamp:1,weight:"bold",children:p._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video')})]})})]})]})}},307640:(e,t,n)=>{n.d(t,{UP:()=>s,Wv:()=>r,ZF:()=>i,zI:()=>o,zl:()=>a});const i=["AuthHomefeed","CloseupRelatedProducts","FollowingFeedGrid","RelatedPinGrid","RelatedProductsFeed","SearchItem"],r=["ArticleProductsStory","CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","RelatedProductsFeed","UserProfilePinGrid","ShoppingGridShippedMetadataWithVisitButton"],o=[...r,"ShoppingGridShippedMetadata","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ProductPinsFeed","ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid"],a=["ShoppingSquareGridDomain","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingGridShippedMetadataWithVisitButton"],s=["BaseBoardPinGrid"]},479301:(e,t,n)=>{n.d(t,{i5:()=>b,sX:()=>S,aX:()=>x,Z5:()=>y,NG:()=>w,MT:()=>P,iu:()=>T});var i=n(667294),r=n(6637),o=n(802201),a=n(682492),s=n.n(a);const l=(e,t)=>e.data[t]&&e.data[t].messages||[];function c(e,t){const n={};return e.filter((e=>!!e)).reduce(((e,i)=>{const r=t(i);return n[r]?(s()(n[r],i),e):(n[r]=i,e.concat([i]))}),[])}function d(e){return[...e].sort(((e,t)=>new Date(e.created_ms||e.created_at)-new Date(t.created_ms||t.created_at)))}function u(e,t,n){let i=l(e,t).concat(n);return i=c(i,(e=>e.id)),d(i)}const p={conversationsUnseenCount:0,data:{},newsHubCount:0,open:null,objectAttachment:null,showConversationsDropdown:!1,showNewMessageView:!1,ui:{},unread:0};function h(e=p,t){if("CONVERSATION_OPEN"===t.type)return{...e,open:t.payload.id,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:t.payload.isPreview}}};if("CONVERSATION_CLOSE"===t.type)return{...e,open:null,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:!1,isDeclined:t.payload.isDeclined}}};if("CONVERSATION_CREATE"===t.type){const{id:n}=t.payload;return{...e,data:{...e.data,[n]:{...e.data[n]||{},...t.payload}}}}if("CONVERSATION_DELETE"===t.type){const n={...e,data:{...e.data}},{id:i}=t.payload;return delete n.data[i],n}if("FETCH_COMPLETE"===t.type){const{options:n,resource:i,response:r}=t.payload,o=r.resource_response.data;if("ConversationMessagesResource"===i){const t=o||[],i=(null==n?void 0:n.conversation_id)||"",r=u(e,i,t),a=r[r.length-1];return{...e,data:{...e.data,[i]:{...e.data[i],id:i,messages:r,unread:0,last_message:a}}}}if("ConversationsResource"===i){const t=o||[],n={...e,data:{...e.data}};return t.forEach((e=>{const{id:t,created_at:i,name:r,board:o,emails:a,unread:s,users:l,last_message:c}=e,d=u(n,t,[c]);n.data[t]={...n.data[t],id:t,created_at:i,name:r,board:o,emails:a||[],unread:s||0,users:l||[],last_message:c,messages:d}})),n}if("ConversationResource"===i){const t=o||{},{id:n}=t,i={...e,data:{...e.data}};return n&&(i.data[n]={...i.data[n],...t}),i}if("NewsHubBadgeResource"===i){if(o){const t=o.conversations_unseen_count||0;return{...e,unread:t}}return e}}else{if("MESSAGE_SEND_PENDING"===t.type){const{id:n,message:i}=t.payload;return e.data[n]?{...e,data:{...e.data,[n]:{...e.data[n],id:n,messages:[...e.data[n].messages,i]}}}:e}if("MESSAGE_SEND_PENDING_SUCCESS"===t.type){const{id:n,tempMessage:i,newMessage:r}=t.payload;if(e.data[n]){if(l(e,n).find((e=>e.id===i.id&&e.created_ms===i.created_ms))){let t=l(e,n).filter((e=>e.id!==i.id)).concat([r]);return t=c(t,(e=>e.id)),t=d(t),{...e,data:{...e.data,[n]:{...e.data[n],last_message:r,messages:t}}}}}return e}if("MESSAGE_SEND_PENDING_FAILURE"===t.type){const{id:n,tempMessageId:i}=t.payload;if(e.data[n]){const t=l(e,n).filter((e=>e.id!==i));return{...e,data:{...e.data,[n]:{...e.data[n],messages:t}}}}return e}if("OPEN_NEW_MESSAGE"===t.type){const{objectAttachment:n}=t.payload||null;return{...e,showNewMessageView:!0,open:null,objectAttachment:n}}if("CLOSE_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!1,objectAttachment:null,showNewMessageView:!1};if("OPEN_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!0};if("UPDATE_NEWSHUB_COUNT"===t.type)return{...e,newsHubCount:t.payload};if("UPDATE_UNREAD_COUNT"===t.type)return{...e,conversationsUnseenCount:t.payload};if("CLEAR_MESSAGE_BADGE"===t.type){const{id:n}=t.payload;return{...e,data:{...e.data,[n]:{...e.data[n],unread:0}}}}}return e}var m=n(425288),_=n(505920),g=n(785893);const v=(()=>{let e=0;return()=>e++})(),{Provider:f,useHook:y}=(0,m.Z)("Conversations");function b({children:e}){const[t,n]=(0,i.useReducer)(h,p),o=(0,i.useCallback)((e=>n({type:"FETCH_COMPLETE",payload:e})),[]);(0,_.Z8)("ConversationMessagesResource",o),(0,_.my)("ConversationMessagesResource",o),(0,_.Z8)("ConversationsResource",o),(0,_.Z8)("ConversationResource",o),(0,_.Z8)("NewsHubBadgeResource",o);const a=(0,i.useCallback)(((e,t=!1,i="")=>n({type:"CONVERSATION_OPEN",payload:{id:e,isPreview:t,contactRequestId:i}})),[]),s=(0,i.useCallback)(((e,t="",i=!1)=>n({type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:t,isDeclined:i}})),[]),l=(0,i.useCallback)((e=>n({type:"CONVERSATION_CREATE",payload:e})),[]),c=(0,i.useCallback)((e=>n({type:"CONVERSATION_DELETE",payload:{id:e}})),[]),d=(0,i.useCallback)(((e,t,i)=>{r.Z.create("ConversationsResource",{user_ids:e,emails:t,text:""}).callCreate().then((e=>{const t=e&&e.resource_response.data;n({type:"CONVERSATION_OPEN",payload:{id:t.id}})})).catch((e=>{const t=e.message_detail||e.message||"";i(t)}))}),[]),u=(0,i.useCallback)((()=>{n({type:"CLOSE_DROPDOWN"})}),[]),m=(0,i.useCallback)((()=>{n({type:"OPEN_DROPDOWN"})}),[]),v=(0,i.useCallback)((e=>{n({type:"OPEN_NEW_MESSAGE",payload:{objectAttachment:e}})}),[]),y=(0,i.useCallback)(((e,t)=>n({type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}})),[]),b=(0,i.useCallback)(((e,t,i)=>n({type:"MESSAGE_SEND_PENDING_SUCCESS",payload:{id:e,tempMessage:t,newMessage:i}})),[]),x=(0,i.useCallback)(((e,t)=>n({type:"MESSAGE_SEND_PENDING_FAILURE",payload:{id:e,tempMessageId:t}})),[]),w=(0,i.useCallback)((e=>n({type:"UPDATE_NEWSHUB_COUNT",payload:e})),[]),S=(0,i.useCallback)((e=>n({type:"UPDATE_UNREAD_COUNT",payload:e})),[]),P=(0,i.useCallback)((e=>n({type:"CLEAR_MESSAGE_BADGE",payload:{id:e}})),[]),T=(0,i.useMemo)((()=>({clearMessageBadge:P,conversationOpen:a,conversationClose:s,conversationCreate:l,conversationDelete:c,conversationGet:d,dropdownClose:u,dropdownOpen:m,newMessageOpen:v,pendingMessageSend:y,pendingMessageSuccess:b,pendingMessageFailure:x,updateNewsHubCount:w,updateUnreadCount:S,conversations:t})),[P,a,s,l,c,d,u,m,v,y,b,x,w,S,t]);return(0,g.jsx)(f,{value:T,children:e})}function x(){const{conversationCreate:e}=y();return async t=>{let n;const i=r.Z.create("ConversationsResource",t);try{var o;const t=null===(o=(await i.callCreate()).resource_response)||void 0===o?void 0:o.data;t&&(e(t),n=t)}catch(a){throw new Error(a.message)}return n}}function w(){const{conversations:e,conversationCreate:t,pendingMessageSend:n,pendingMessageSuccess:i,pendingMessageFailure:a}=y(),s=(0,o.AF)();return async(o,l,c,d)=>{const{text:u,pinId:p,boardId:h,userId:m,didItId:_}=l;async function g(){const e=r.Z.create("ConversationMessagesResource",{conversation_id:o,text:u,pin:p,board:h,user:m,user_did_it_data:_,source:c}),t=`${v()}`,l={text:u,sender:d,created_at:(new Date).toString(),created_ms:Date.now(),id:t,pin:p?s[p]:null,type:"tempMessage"};n(o,l);try{var g;const t=null===(g=(await e.callCreate()).resource_response)||void 0===g?void 0:g.data;t&&i(o,l,t)}catch(f){throw a(o,t),new Error(f.message)}}if(e.data[o])await g();else{const e=r.Z.create("ConversationResource",{conversation_id:o});try{var f;const n=null===(f=(await e.callGet()).resource_response)||void 0===f?void 0:f.data;n&&(t(n),await g())}catch(y){throw new Error(y.message)}}}}function S(e){const{conversations:t}=y();return t.data[e]}function P(e){const{conversations:t}=y();return t.ui[e]||{contactRequestId:"",isDeclined:!1,isPreview:!1}}function T(){const{conversations:{data:e}}=y(),t=(n=e,Object.keys(n).map((e=>n[e]))).filter((e=>e.users&&e.last_message));var n,i;return i=t,Array.from(i).sort(((e,t)=>new Date((t.last_message||t).created_at)-new Date((e.last_message||e).created_at)))}},70598:(e,t,n)=>{n.d(t,{Z:()=>S});var i=n(829407),r=n(898781),o=n(112690),a=n(728214),s=n(602574),l=n(667679),c=n(19121),d=n(957314),u=n(755506),p=n(773285),h=n(802201),m=n(281180),_=n(50286),g=n(276775),v=n(343341),f=n(687999),y=n(539497),b=n(883119),x=n(785893);const w=({children:e,pulsar:t,testId:n})=>t.show?(0,x.jsx)(b.xu,{position:"relative","data-test-id":n,children:(0,x.jsxs)(b.iP,{tapStyle:"none",onTap:t.onClick,children:[(0,x.jsx)(b.xu,{position:"absolute",marginTop:-5,dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},children:e}),(0,x.jsx)(b.xu,{position:"absolute",marginTop:-12,dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},children:(0,x.jsx)(b.o3,{})})]})}):(0,x.jsx)(b.xu,{"data-test-id":n,children:e});function S({auxData:e,disabled:t,disableLog:n,followEventType:S,id:P,inline:T,invertColors:E,isFollowed:I,isIdeaPin:A,isLegoEnabled:k,isSecondaryButton:C,isUserFollowButton:R,isUserMe:L,onFollow:j,onUnfollow:D,pinId:O,shouldUseLegoColors:N,showPulsar:M,size:U,textType:F="FollowFollowing",unfollowEventType:z,viewParameter:Z,viewType:B}){const H=(0,r.ZP)(),V=(0,g.useLocation)(),W=(0,_.HG)(),{showToast:G}=(0,v.F9)(),$=(0,o.Z)(),K=(0,l.Z)(),{checkExperiment:q}=(0,p.F)(),Y=(0,a.Z)(),X=(0,c.Z)(),J=X&&X.isAuth,{unauthFollowUserId:Q,setUnauthFollowUserId:ee}=(0,f.f)(),te=(0,m.mN)()(P),ne=(0,h.S6)()(null!=O?O:""),ie=(0,u.wS)(ne),re=null!=te?te:ie;(0,i.Z)((()=>{!W&&J&&Q&&P&&Q===P&&j(P)}));const oe=Y({fn:()=>{J?I?(D(P),n||$({event_type:z,view_type:B,view_parameter:Z,object_id_str:P,aux_data:e})):(j(P),R&&G((({hideToast:e})=>{if(!re)return null;const t=re.username?`/${re.username}/`:"";return(0,x.jsx)(s.Z,{handleHide:e,text:(0,x.jsx)(b.xv,{children:H._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow')}),userId:P,href:t,imageUrl:re.image_medium_url})})),n||$({event_type:S,view_type:B,view_parameter:Z,object_id_str:P,aux_data:e})):((0,y.My)(`mweb_unauth_follow_button.tap.${String(B)}`),5===B&&26===S&&(0,y.My)("mweb_unauth_board_page_follow_button.tap"),(0,y.NC)(I?"press_profile_unfollow":"press_profile_follow"),(0,y.LW)({action:"click",pageLocation:V,item:"board-follow-button"}),K({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:A?"tap.unauth_idea_pin.follow_button":"tap.unauth.follow_button",desktopOptions:{modalType:"signup",modalOptions:W&&q("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!W&&q("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0}),W||ee(null!=P?P:""),(0,y.NC)("clickthrough"))},modalHeader:(0,d.N4)({i18n:H,toFollow:!I})}),ae=!I&&!!M,se=()=>{if(L)return H._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===F)return I?H._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow'):H._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow');const e="FollowUnfollow"===F?H._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):H._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return I?e:H._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')};return(0,x.jsx)(w,{pulsar:ae?{show:!0,onClick:oe}:{show:!1},testId:L||I?"board-unfollow-button":"board-follow-button",children:(0,x.jsx)(b.zx,{color:N||"AddRemove"===F||!k&&C||I?"gray":"red",disabled:L||t,fullWidth:T,onClick:ae?void 0:({event:t})=>{t.preventDefault(),t.stopPropagation(),n||$({event_type:101,component:13672,element:11951,object_id_str:P,view_type:B,view_parameter:Z,aux_data:e}),oe()},selected:E?!I:N&&I||!!I&&C,size:U,text:se(),accessibilityLabel:se()})})}},52395:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),r=n(785893);function o({text:e}){return(0,r.jsx)(i.xu,{display:"visuallyHidden",children:(0,r.jsx)(i.X6,{accessibilityLevel:1,children:e})})}},904411:(e,t,n)=>{n.d(t,{bn:()=>s,fJ:()=>c,gC:()=>l});var i=n(702664),r=n(425288),o=n(785893);const{Provider:a,useHook:s}=(0,r.Z)("Boards");function l(){const e=s();return t=>e[t]}function c({children:e}){const t=(0,i.useSelector)((({boards:e})=>e),i.shallowEqual);return(0,o.jsx)(a,{value:t,children:e})}},802201:(e,t,n)=>{n.d(t,{AF:()=>s,H0:()=>l,S6:()=>c,_S:()=>d});var i=n(702664),r=n(425288),o=n(785893);const{Provider:a,useHook:s,useMaybeHook:l}=(0,r.Z)("Pins");function c(){const e=s();return t=>e[t]}function d({children:e}){const t=(0,i.useSelector)((({pins:e})=>e),i.shallowEqual);return(0,o.jsx)(a,{value:t,children:e})}},281180:(e,t,n)=>{n.d(t,{Tt:()=>d,kW:()=>l,kY:()=>u,mN:()=>c});var i=n(702664),r=n(19121),o=n(425288),a=n(785893);const{Provider:s,useHook:l}=(0,o.Z)("Users");function c(){const e=l();return t=>e[t]}function d(){const{id:e}=(0,r.Z)();return l()[null!=e?e:""]}function u({children:e}){const t=(0,i.useSelector)((({users:e})=>e),i.shallowEqual);return(0,a.jsx)(s,{value:t,children:e})}},643074:(e,t,n)=>{n.d(t,{Z:()=>v,s:()=>g});var i=n(667294),r=n(121151),o=n(966113),a=n(608575),s=n(898781),l=n(349700),c=n(883119),d=n(785893);const u=()=>{var e;const t=(0,s.ZP)(),{dismissWarning:n}=null!==(e=g())&&void 0!==e?e:{};return(0,d.jsx)(c.xu,{paddingX:3,children:(0,d.jsx)(c.zx,{fullWidth:!0,color:"red",onClick:n,text:t._('Okay', 'Dismiss a modal stating that clicking through to a link has been blocked', 'Dismiss a modal stating that clicking through to a link has been blocked')})})},p=()=>{const e=(0,s.ZP)();return(0,d.jsx)(c.xv,{inline:!0,weight:"bold",children:(0,d.jsx)(c.rU,{target:"blank",href:o.Z.settings.POLICY_COMMUNITY_GUIDELINES_SPAM_AND_QUALITY,inline:!0,underline:"hover",children:e._('Learn more', 'Link text leading to policy website', 'Link text leading to policy website')})})},h=({message:e,sanitized_url:t})=>{var n;const i=(0,s.ZP)(),{dismissWarning:o}=null!==(n=g())&&void 0!==n?n:{};return(0,d.jsx)(r.ZP,{accessibilityModalLabel:i._('We have blocked this link', 'Modal label when clicking a spammy link', 'Modal label when clicking a spammy link'),onDismiss:o,heading:i._('Heads up!', 'Modal heading when clicking through to a link has been blocked', 'Modal heading when clicking through to a link has been blocked'),footer:(0,d.jsx)(u,{}),children:(0,d.jsxs)(c.xu,{padding:6,children:[(0,d.jsx)(c.xv,{children:(0,l.nk)("{{ message }} {{ learnMore }}",{message:e,learnMore:(0,d.jsx)(p,{},"learnMoreLink")})}),(0,d.jsxs)(c.xu,{alignItems:"center",display:"flex",marginTop:4,children:[(0,d.jsx)(c.xu,{marginEnd:3,children:(0,d.jsx)(c.JO,{accessibilityLabel:i._('Blocked link address', 'Icon label preceding a block url', 'Icon label preceding a block url'),color:"error",icon:"report",inline:!0,size:24})}),(0,d.jsx)(c.xv,{inline:!0,lineClamp:1,weight:"bold",children:a.parse(t).hostname})]})]})})};var m=n(425288);const{Provider:_,useMaybeHook:g}=(0,m.Z)("SpammyClickthrough");function v({children:e}){const[t,n]=(0,i.useState)(null),r=(0,i.useCallback)((()=>{n(null)}),[n]),o=(0,i.useCallback)((e=>{n(e)}),[n]),a=(0,i.useMemo)((()=>({dismissWarning:r,showWarning:o})),[r,o]);return(0,d.jsxs)(_,{value:a,children:[t&&(0,d.jsx)(h,{...t}),e]})}},98207:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(757141),r=n(198125),o=n(50286),a=n(883119),s=n(785893);const l=({imageUrls:e,subtitle:t,subtitleSize:n,subtitleWeight:l,title:c,titleSize:d})=>{var u;const p=(0,o.HG)(),{isHovering:h,handleMouseEnter:m,handleMouseLeave:_}=(0,r.Z)();return!e||e.length<=0?null:(0,s.jsxs)(a.xu,{borderStyle:"shadow",color:"default",overflow:"hidden",position:"relative",rounding:8,dangerouslySetInlineStyle:{__style:{paddingTop:"75%"}},onMouseEnter:p?m:void 0,onMouseLeave:p?_:void 0,children:[h&&(0,s.jsx)(i.Z,{}),(0,s.jsx)(a.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:(0,s.jsx)(a.Ee,{alt:c,color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!==(u=e[0])&&void 0!==u?u:"",children:(0,s.jsx)(a.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4) 100%)"}},display:"flex",alignItems:"end",paddingY:6,paddingX:5,children:(0,s.jsxs)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",width:"100%",children:[t&&(0,s.jsx)(a.xu,{marginBottom:1,children:(0,s.jsx)(a.xv,{color:"light",size:n,align:"center",weight:l,children:t})}),(0,s.jsx)(a.X6,{color:"light",size:d,align:"center",children:c})]})})})})]})}},235626:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(609943),r=n(757141),o=n(510552),a=n(198125),s=n(825077),l=n(50286),c=n(276775),d=n(883119),u=n(785893);const p=function({articleId:e,creatorId:t,creatorFullName:n,creatorImgSrc:p,creatorIsVerified:h,gridIndex:m,imageHeight:_,imageWidth:g,imageUrl:v,pinId:f,showCreator:y,trackingParams:b,title:x,viewParameter:w,viewType:S}){const P=(0,c.useLocation)(),{isHovering:T,handleMouseEnter:E,handleMouseLeave:I}=(0,a.Z)(),A=(0,l.HG)();return(0,u.jsxs)(d.xu,{borderStyle:"shadow",position:"relative",color:"default",onMouseEnter:A?E:void 0,onMouseLeave:A?I:void 0,overflow:"hidden",rounding:8,children:[T&&(0,u.jsx)(r.Z,{}),(0,u.jsx)(s.dL,{auxData:{grid_index:m,today_article_id:e},loggingId:f,objectIdStr:f,slotIndex:m,impressionData:{imageURL:v},component:13525,trackingParams:(0,i.Z)((P.state||{}).trackingParams,b),viewParameter:w,viewType:S,children:({impressionTrackerRef:e})=>(0,u.jsx)(d.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingTop:"number"==typeof _&&"number"==typeof g?_/g*100+"%":"100%"}},ref:e,children:(0,u.jsx)(d.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:(0,u.jsx)(d.Ee,{alt:x,color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!=v?v:""})})})}),(0,u.jsxs)(d.xu,{paddingX:6,paddingY:4,display:"flex",justifyContent:"center",direction:"column",children:[(0,u.jsx)(d.X6,{align:"center",size:"400",children:x}),y&&(t||n)&&(0,u.jsx)(d.xu,{display:"flex",marginTop:3,justifyContent:"center",children:(0,u.jsx)(o.Z,{userId:t,creatorFullName:n,creatorImgSrc:p,creatorIsVerified:h})})]})]})}},775007:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(116303),r=n(609943),o=n(252745),a=n(825077),s=n(276775),l=n(883119),c=n(785893);const d=({articleId:e,gridIndex:t,hasPinnerAttribution:n,imageHeight:d,imageWidth:u,imageUrl:p,pageCount:h,pinId:m,pinnerImageSrc:_,pinnerName:g,pinTrackingParams:v,title:f,viewParameter:y,viewType:b})=>{const x=(0,s.useLocation)();return(0,c.jsxs)(l.xu,{borderStyle:"shadow",color:"default",overflow:"hidden",paddingY:6,rounding:8,children:[(0,c.jsx)(l.xu,{paddingX:6,display:"flex",justifyContent:"center",children:(0,c.jsx)(l.X6,{align:"center",size:"400",children:f})}),(0,c.jsx)(a.dL,{auxData:{grid_index:t,today_article_id:e},loggingId:m,objectIdStr:m,slotIndex:t,impressionData:{imageURL:p},component:13525,trackingParams:(0,r.Z)((x.state||{}).trackingParams,v),viewParameter:y,viewType:b,children:({impressionTrackerRef:e})=>(0,c.jsxs)(l.xu,{marginTop:4,paddingX:12,ref:e,children:[(0,c.jsx)(l.zd,{rounding:8,children:(0,c.jsx)(l.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingTop:"number"==typeof d&&"number"==typeof u?d/u*100+"%":"100%"}},children:(0,c.jsx)(l.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:(0,c.jsx)(l.Ee,{alt:"",color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!=p?p:"",children:(0,c.jsx)(l.xu,{position:"relative",marginStart:1,marginTop:1,children:(0,c.jsx)(o.Z,{icon:"idea-pin",text:h.toString()})})})})})}),n&&(0,c.jsxs)(l.xu,{alignItems:"center",display:"flex",marginTop:2,maxWidth:"100%",children:[(0,c.jsx)(l.xu,{flex:"none",height:44,width:44,marginEnd:2,children:(0,c.jsx)(i.Z,{name:"",outline:!0,size:"fit",src:_})}),(0,c.jsx)(l.xv,{lineClamp:1,children:g})]})]})})]})}},588979:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(609943),r=n(757141),o=n(510552),a=n(198125),s=n(139463),l=n(825077),c=n(50286),d=n(276775),u=n(883119),p=n(785893);const h=function({articleId:e,creatorId:t,creatorFullName:n,creatorImgSrc:h,creatorIsVerified:m,gridIndex:_,height:g,pinDescription:v,pinImageHeight:f,pinImageUrl:y,pinImageWidth:b,showCreator:x,thumbnail:w,title:S,trackingParams:P,url:T,videoPinId:E,viewParameter:I,viewType:A,width:k}){const C=(0,d.useLocation)(),R=(0,c.HG)(),{isHovering:L,handleMouseEnter:j,handleMouseLeave:D}=(0,a.Z)();return(0,p.jsxs)(u.xu,{borderStyle:"shadow",color:"default",direction:"column",display:"flex",flex:"none",overflow:"hidden",rounding:8,dangerouslySetInlineStyle:{__style:{transform:"translate3d(0, 0, 0)"}},onMouseEnter:R?j:void 0,onMouseLeave:R?D:void 0,children:[L&&(0,p.jsx)(r.Z,{}),(0,p.jsx)(l.dL,{auxData:{grid_index:_,today_article_id:e},loggingId:E,objectIdStr:E,slotIndex:_,impressionData:{imageURL:y},component:13525,trackingParams:(0,i.Z)((C.state||{}).trackingParams,P),viewParameter:I,viewType:A,children:({impressionTrackerRef:e})=>(0,p.jsx)(u.xu,{ref:e,children:(0,p.jsx)(s.Z,{height:g,thumbnail:w,url:T,width:k,pinDescription:v,pinImageUrl:y,pinImageHeight:f,pinImageWidth:b})})}),(0,p.jsxs)(u.xu,{paddingX:6,paddingY:4,display:"flex",justifyContent:"center",direction:"column",children:[(0,p.jsx)(u.X6,{align:"center",size:"400",children:S}),x&&(t||n)&&(0,p.jsx)(u.xu,{display:"flex",marginTop:3,justifyContent:"center",children:(0,p.jsx)(o.Z,{userId:t,creatorFullName:n,creatorImgSrc:h,creatorIsVerified:m})})]})]})}},452985:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(757141),r=n(198125),o=n(50286),a=n(276602),s=n(883119),l=n(785893);function c({imageUrls:e,rounding:t,subtitle:n,subtitleSize:c,title:d,titleSize:u}){const p=(0,o.HG)(),h=(0,a.EV)();let m=0;const _=()=>{m-=1,0===m&&(null==h||h.markConstraintComplete("idea_module_loaded"))},{isHovering:g,handleMouseEnter:v,handleMouseLeave:f}=(0,r.Z)();if(!e||e.length<=0)return null;const y=e.slice(0,3);return h&&(m=y.length),(0,l.jsxs)(s.xu,{borderStyle:"shadow",color:"default",overflow:"hidden",position:"relative",rounding:null!=t?t:8,dangerouslySetInlineStyle:{__style:{paddingTop:"75%"}},onMouseEnter:p?v:void 0,onMouseLeave:p?f:void 0,children:[g&&(0,l.jsx)(i.Z,{}),(0,l.jsxs)(s.xu,{display:"flex",direction:"column",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[(0,l.jsx)(s.kC,{alignItems:"stretch",justifyContent:"start",height:"100%",width:"100%",children:y.map(((e,t)=>(0,l.jsx)(s.xu,{width:100/y.length+"%",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:(0,l.jsx)(s.Ee,{alt:"",color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:null!=e?e:"",onLoad:_})},t)))}),(0,l.jsxs)(s.xu,{flex:"none",paddingX:5,paddingY:6,width:"100%",children:[n&&(0,l.jsx)(s.xu,{marginBottom:1,children:(0,l.jsx)(s.xv,{size:c,align:"center",weight:p?"bold":"normal",children:n})}),(0,l.jsx)(s.X6,{size:u,align:"center",children:d})]})]})]})}},465110:(e,t,n)=>{n.d(t,{i:()=>P,y:()=>x});var i,r=n(458843),o=n(98207),a=n(235626),s=n(775007),l=n(588979),c=n(452985),d=n(112690),u=n(825077),p=n(539497),h=n(50286),m=n(780280),_=n(784641),g=n(883119),v=n(167912),f=n(276775),y=n(785893);const b=new Set([3,2,6]),x=({ArticleModule:e,clientTrackingParams:t,id:n,displayType:i,gridIndex:o,isTodayArticlePage:a=!1,onArticleTapUrl:s,pinId:l,viewParameter:c,viewType:m})=>{const _=(0,f.useHistory)(),v=(0,f.useLocation)(),x=(0,d.Z)(),S=(0,h.HG)();return(0,y.jsx)(u.Y4,{auxData:{grid_index:o.toString(),today_article_id:n},loggingId:n,objectIdStr:n,slotIndex:o,viewParameter:c||3372,viewType:m||1,children:({impressionTrackerRef:d})=>(0,y.jsx)(g.xu,{ref:d,"data-test-id":"suggested-articles-link",children:(0,y.jsx)(w,{href:s,isTodayArticlePage:a,onTap:()=>{x({event_type:S?101:102,view_type:m||1,view_parameter:c||3372,component:13525,aux_data:{today_article_id:n,grid_index:o.toString()}}),(0,p.LW)({action:"click",pageLocation:v,item:"suggested-articles-link"}),"number"==typeof i&&b.has(i)&&t&&l&&x({event_type:S?101:102,view_type:m||1,view_parameter:c||3372,object_id_str:l,clientTrackingParams:t,aux_data:{today_article_id:l,grid_index:o.toString(),cosmic_ray_count:"4",closeup_navigation_type:(0,r.Z)(_)}}),_.push(s)},children:e})})})},w=({children:e,href:t,isTodayArticlePage:n,onTap:i})=>{const{isAuthenticated:r}=(0,m.B)(),o=(0,h.HG)();return r?(0,y.jsx)(g.iP,{onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),i({event:e})},tapStyle:"compress",children:o?(0,y.jsx)(g.xu,{width:n?void 0:408,minHeight:n?void 0:306,children:e}):e}):(0,y.jsx)(g.iP,{href:t,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),i({event:e})},role:"link",children:o?(0,y.jsx)(g.xu,{width:n?void 0:408,minHeight:n?void 0:306,children:e}):e})},S=void 0!==i?i:i=n(584818),P=({containerKey:e,gridIndex:t,subtitleSize:n,titleSize:i,viewParameter:r,viewType:d})=>{var u,p,h,m,g,f,b,w,P,T,E,I,A,k,C,R;const{contentPinOfficialUser:L,contentPin:j,displayType:D,feedSource:O,headerPinId:N,id:M,imageUrls:U,isProductPinFeed:F,showCreator:z,subtitle:Z,title:B,videoPin:H}=(0,v.useFragment)(S,e);let V=null,W=(0,_.T7)(null!=O?O:0,null!=F&&F,null!=B?B:"",null!=M?M:"");const{description:G,images170x:$,images236x:K,images736x:q,pinner:Y,storyPinData:X,trackingParams:J}=null!=j?j:{},Q=null!==(u=null!==(p=null!==(h=null==q?void 0:q.url)&&void 0!==h?h:null==K?void 0:K.url)&&void 0!==p?p:null==$?void 0:$.url)&&void 0!==u?u:"",ee=null!==(m=null!==(g=null==q?void 0:q.width)&&void 0!==g?g:null==K?void 0:K.width)&&void 0!==m?m:null==$?void 0:$.width,te=null!==(f=null!==(b=null==q?void 0:q.height)&&void 0!==b?b:null==K?void 0:K.height)&&void 0!==f?f:null==$?void 0:$.height,{originPinner:ne}=null!=j?j:{},ie=L||ne||Y;switch(D){case 0:V=(0,y.jsx)(o.Z,{imageUrls:U,subtitle:null!=Z?Z:"",subtitleSize:n||"300",title:null!=B?B:"",titleSize:i||"500"});break;case 1:V=(0,y.jsx)(c.Z,{imageUrls:U,subtitle:null!=Z?Z:"",subtitleSize:n||"300",title:null!=B?B:"",titleSize:i||"500"});break;case 2:const{entityId:e,videos:u}=null!=H?H:{},p=null!==(w=null==u||null===(P=u.videoList)||void 0===P?void 0:P.v720P)&&void 0!==w?w:{};var re;if(e)V=(0,y.jsx)(l.Z,{articleId:null!=M?M:"",creatorFullName:null==ie?void 0:ie.fullName,creatorImgSrc:(null==ie?void 0:ie.imageMediumUrl)||(null==ie?void 0:ie.imageSmallUrl),creatorIsVerified:Boolean(null==ie||null===(re=ie.verifiedIdentity)||void 0===re?void 0:re.verified),gridIndex:t,height:p.height,pinDescription:G,pinImageUrl:Q,pinImageHeight:te,pinImageWidth:ee,showCreator:Boolean(z),thumbnail:p.thumbnail,title:null!=B?B:"",trackingParams:J,url:p.url,videoPinId:e,viewParameter:r,viewType:d,width:p.width}),W=`/pin/${e}`;break;case 3:if(!Q)return null;V=(0,y.jsx)(a.Z,{articleId:null!=M?M:"",creatorFullName:null==ie?void 0:ie.fullName,creatorImgSrc:(null==ie?void 0:ie.imageMediumUrl)||(null==ie?void 0:ie.imageSmallUrl),creatorIsVerified:Boolean(null==ie||null===(T=ie.verifiedIdentity)||void 0===T?void 0:T.verified),imageUrl:Q,imageHeight:null!=te?te:0,imageWidth:null!=ee?ee:0,gridIndex:t,pinId:null!==(E=null==j?void 0:j.entityId)&&void 0!==E?E:"",showCreator:Boolean(z),title:null!=B?B:"",trackingParams:J,viewParameter:r,viewType:d}),W=N?`/pin/${N}`:W;break;case 6:if(!Q)return null;const h=null!==(I=null!==(A=null==Y?void 0:Y.imageMediumUrl)&&void 0!==A?A:null==Y?void 0:Y.imageSmallUrl)&&void 0!==I?I:"",m=null!==(k=null==Y?void 0:Y.fullName)&&void 0!==k?k:"",_=Boolean(h||m);return(0,y.jsx)(s.Z,{articleId:null!=M?M:"",gridIndex:t,hasPinnerAttribution:_,imageUrl:Q,imageHeight:null!=te?te:0,imageWidth:null!=ee?ee:0,pageCount:null!==(C=null==X?void 0:X.pageCount)&&void 0!==C?C:"",pinId:null!==(R=null==j?void 0:j.entityId)&&void 0!==R?R:"",pinnerImageSrc:h,pinnerName:m,pinTrackingParams:J,title:null!=B?B:"",viewParameter:r,viewType:d});default:V=null}return V?(0,y.jsx)(x,{ArticleModule:V,displayType:D,gridIndex:t,id:null!=M?M:"",onArticleTapUrl:W,viewParameter:r,viewType:d}):null}},757141:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(883119),r=n(785893);const o=new i.Ry(1);function a(){return(0,r.jsx)(i.xu,{opacity:.1,color:"transparentDarkGray",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,zIndex:o})}},510552:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),r=n(116303),o=n(993786),a=n(281180),s=n(883119),l=n(785893);const c=function({userId:e,creatorFullName:t,creatorImgSrc:n,creatorIsVerified:c}){var d;const u=null!==(d=(0,a.mN)()(null!=e?e:""))&&void 0!==d?d:{},{fullNameFromStore:p,imgSrcFromStore:h,isVerifiedFromStore:m}=function(e){const{full_name:t,image_medium_url:n,image_small_url:i,verified_identity:r}=e;return{fullNameFromStore:t,imgSrcFromStore:n||i,isVerifiedFromStore:Boolean(null==r?void 0:r.verified)}}(u),_=e?p:t,g=e?h:n,v=e?m:c;return(0,l.jsx)(s.kC,{alignContent:"center",alignItems:"center",flex:"none",justifyContent:"center",width:"100%",children:_&&(0,l.jsxs)(i.Fragment,{children:[(0,l.jsx)(s.xu,{paddingX:1,children:(0,l.jsx)(r.Z,{name:_,size:"sm",src:null!=g?g:""})}),(0,l.jsx)(s.xu,{minWidth:0,paddingX:1,children:(0,l.jsx)(s.xv,{lineClamp:1,size:"300",weight:"bold",children:_})}),v&&(0,l.jsx)(s.xu,{paddingX:1,children:(0,l.jsx)(o.Z,{hasVerifiedIdentity:v,iconOnly:!0,size:"xs"})})]})})}},687999:(e,t,n)=>{n.d(t,{f:()=>s,w:()=>l});var i=n(667294),r=n(425288),o=n(785893);const{Provider:a,useHook:s}=(0,r.Z)("Session");function l({children:e}){const[t,n]=(0,i.useState)(void 0),r=(0,i.useCallback)((()=>n(void 0)),[]),s=(0,i.useMemo)((()=>({unauthFollowUserId:t,setUnauthFollowUserId:n,removeUnauthFollowUserId:r})),[t,r]);return(0,o.jsx)(a,{value:s,children:e})}},97008:(e,t,n)=>{n.d(t,{wy:()=>y,N$:()=>v,M:()=>_});var i=n(667294),r=n(566167),o=n(304614);const a=(e,t)=>t&&(0,o.nZ)(t,e)?"modified":(0,o.B1)(e)?"cleared":"applied";function s(e,t){switch(t.type){case"RESET_FILTERS":return{models:t.payload,appliedFilters:{},filters:{},status:"cleared"};case"CLEAR_FILTERS":const n={};return{...e,filters:n,status:a(e.appliedFilters,n)};case"UPDATE_FILTER":const{payload:i}=t,r={...e.filters,[i.id]:i};return(0,o.ph)(i)&&delete r[i.id],{...e,filters:r,status:a(e.appliedFilters,r)};case"SUBMIT_FILTER":return{...e,status:"fetching"};case"SUBMIT_FAILED":return{...e,status:"failed"};case"SUBMIT_COMPLETE":const{filters:s}=e;return{...e,appliedFilters:s,status:a(s)};default:return e}}var l,c=n(784590),d=n(745859),u=n(425288),p=n(167912),h=n(785893);const{Provider:m,useMaybeHook:_}=(0,u.Z)("UnifiedFiltersContext"),g=({children:e,filterModels:t,filters:n,isFetching:r})=>{const[a,l]=(0,i.useReducer)(s,{models:t,appliedFilters:n||{},filters:n||{},status:(0,o.B1)(n||{})?"cleared":"applied"}),[c,d]=(0,i.useState)(t);(0,i.useEffect)((()=>{(0,o.a$)(c,t)&&(l({type:"RESET_FILTERS",payload:t}),d(t))}),[t,c]);const u=(0,i.useMemo)((()=>({filterState:a,dispatch:l,isFetching:r})),[a,r]);return(0,h.jsx)(m,{value:u,children:e})},v=({bookmark:e,children:t,generateInitFilterCb:n,shouldWaitUnifiedFiltersRequest:i})=>{const r=(0,c.Z)({name:"ApiResource",options:{url:"/v3/filters/",data:{bookmark_string:e}}}),{data:o=null,isLoaded:a,error:s}=r;return i&&!a?null:a&&(!o||0===o.length)||s?(0,h.jsx)(m,{value:null,children:t}):(0,h.jsx)(g,{filterModels:o||[],filters:n?n(o||[]):null,isFetching:!a,children:t})};const f=void 0!==l?l:l=n(830574),y=({children:e,oneBarModulesKeys:t})=>{var n;const{data:i}=(0,d.Z)(),{oneBarModules:o}=i||{},a=(0,p.useFragment)(f,null==t?void 0:t[0]),s=a?[a]:o&&(0,r.Z)(o),l=null==s?void 0:s.find((e=>0===e.moduleType)),c=null==l||null===(n=l.action)||void 0===n?void 0:n.filters;if(!l||!c)return(0,h.jsx)(m,{value:null,children:e});const{filterModels:u,filters:_}=function(e){var t,n;const i=(null===(t=e.action)||void 0===t?void 0:t.filters)||[],r=e.id||"";return{filterModels:[{filter_component_type:2,filter_options:i.map((e=>{var t,n;return{label:(null==e||null===(t=e.display)||void 0===t?void 0:t.displayText)||"",id:(null==e?void 0:e.id)||"",string_value:(null==e||null===(n=e.action)||void 0===n?void 0:n.feedUrl)||""}})),id:r,title:""}],filters:{[r]:{id:r,selectedOptionId:null===(n=i.find((e=>null==e?void 0:e.isSelected)))||void 0===n?void 0:n.id,type:"single"}}}}(l);return(0,h.jsx)(g,{filterModels:u,filters:_,children:e})}},304614:(e,t,n)=>{n.d(t,{Ax:()=>p,B1:()=>c,a$:()=>s,i7:()=>d,nZ:()=>a,ph:()=>l,rc:()=>u});var i=n(618446),r=n.n(i);const o=e=>e.map((({filter_component_type:e,filter_options:t,title:n})=>({filter_component_type:e,filter_options:t.map((({label:e,count:t,image_url:n,is_verified:i,numeric_value:r,string_value:o,unit:a})=>({label:e,count:t,image_url:n,is_verified:i,numeric_value:r,string_value:o,unit:a}))),title:n}))),a=(e,t)=>!r()(e,t),s=(e,t)=>!r()(o(e),o(t)),l=e=>{if("single"===e.type)return!e.selectedOptionId;if("multi"===e.type)return 0===e.selectedOptionIds.size;if("range"===e.type)return!1;throw new Error("Filter type specific return must be specified")},c=e=>{try{for(const t in e){const n=e[t];if(!l(n))return!1}return!0}catch(t){return!0}},d=({priceMin:e,priceMax:t,domains:n,unifiedFilterModels:i})=>{const r={};for(const{filter_component_type:s,filter_options:l,id:c}of i){if(0===s&&("number"==typeof e||"number"==typeof t)){var o,a;const[n,i,s,d]=l,u=null!==(o=null!=e?e:null==s?void 0:s.numeric_value)&&void 0!==o?o:null==n?void 0:n.numeric_value,p=null!==(a=null!=t?t:null==d?void 0:d.numeric_value)&&void 0!==a?a:null==i?void 0:i.numeric_value;r[c]={min:u,max:p,id:c,type:"range"}}if(1===s&&n&&n.length>0){const e=n.map((e=>{const t=l.find((({string_value:t})=>t===e));return t?t.id:null})).filter(Boolean);r[c]={type:"multi",id:c,selectedOptionIds:new Set(e)}}}return r},u=({filterMap:e,models:t})=>{let n=null,i=null,r=null;for(const o in e){const a=e[o],s=t.find((e=>e.id===a.id));if(s&&("range"===a.type&&(n=a.min,i=a.max),"multi"===a.type)){r=s.filter_options.filter((e=>a.selectedOptionIds.has(e.id))).map((e=>e.string_value)).filter(Boolean)}}return{min:n,max:i,domains:r}},p=(e,t)=>{const n=[];for(const i in e){const r=e[i],o=t.find((e=>e.id===r.id));if(!o)continue;let a;if("range"===r.type){const[e,t]=o.filter_options;a=[{filter_option_id:e.id,numeric_value:r.min},{filter_option_id:t.id,numeric_value:r.max}]}if("single"===r.type){const e=o.filter_options.find((e=>e.id===r.selectedOptionId));if(!e)continue;a=[{filter_option_id:e.id,string_value:e.string_value}]}if("multi"===r.type){a=o.filter_options.filter((e=>r.selectedOptionIds.has(e.id))).map((e=>({filter_option_id:e.id,string_value:e.string_value})))}n.push({filter_id:i,filter_options:a})}return n&&0!==n.length?{filters:[...n]}:null}},705834:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),r=n(618446),o=n.n(r),a=n(674806),s=n(385740),l=n(785893);class c extends i.Component{componentDidMount(){const{setCurrentPageData:e,viewData:t,viewParameter:n,viewType:i}=this.props;e({viewData:t,viewParameter:n,viewType:i})}componentDidUpdate(e){const{setCurrentPageData:t,viewData:n,viewParameter:i,viewType:r}=this.props;i===e.viewParameter&&r===e.viewType&&o()(n,e.viewData)||t({viewData:n,viewParameter:i,viewType:r})}componentWillUnmount(){this.props.clearCurrentPageData()}render(){const{auxData:e,children:t,component:n,objectIdStr:i,viewData:r,viewParameter:o,viewType:s,clientTrackingParams:c}=this.props;return(0,l.jsx)(a.Z,{auxData:e,component:n,objectIdStr:i,clientTrackingParams:c,viewData:r,viewParameter:o,viewType:s,children:t})}}function d(e){const{setViewContextData:t,clearViewContextData:n}=(0,s.sV)();return(0,l.jsx)(c,{...e,clearCurrentPageData:n,setCurrentPageData:t})}},674806:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),r=n(112690),o=n(539497);const a=({viewType:e,viewParameter:t,viewData:n,auxData:i,objectIdStr:r,component:a,clientTrackingParams:s,element:l},c)=>{const d=(u={event_type:13,view_type:e,view_parameter:t,view_data:n,aux_data:i,object_id_str:r,component:a,clientTrackingParams:s,element:l},Object.keys(u).reduce(((e,t)=>(void 0!==u[t]&&(e[t]=u[t]),e)),{}));var u;-1===Object.keys(d).indexOf("view_type")&&(0,o.My)("mweb.logging.null_view_type"),c(d)};function s(e){const{auxData:t,clientTrackingParams:n,children:o,component:s,element:l,objectIdStr:c,viewData:d,viewParameter:u,viewType:p}=e,h=(0,r.Z)(),m=JSON.stringify(t),_=JSON.stringify(d);return(0,i.useEffect)((()=>{a(e,h)}),[h,m,n,s,l,c,_,u,p]),i.Children.only(o)}},14254:(e,t,n)=>{n.d(t,{Z:()=>w});var i=n(667294),r=n(948618),o=n(70598),a=n(298361),s=n(112690),l=n(892819),c=n(19121),d=n(349700),u=n(539497),p=n(773285),h=n(50286),m=n(758127),_=n(322937),g=n(898781),v=n(808058),f=n(883119),y=n(785893);function b(e,t){const{full_name:n,username:i}=e,r=(0,y.jsx)(f.rU,{href:`/${i}`,inline:!0,underline:"hover",children:n});return(0,d.nk)(t._('{{ linkToUser }} invited you to join this board', 'boardRep.invite.invitationText', 'Indicating that another user invited the viewer to this board'),{linkToUser:r})}const x=({children:e})=>{const t=(0,c.Z)(),n=(0,h.HG)(),i=t&&t.isAuth;return n&&i?(0,y.jsx)(f.X6,{accessibilityLevel:2,size:"400",lineClamp:1,children:e}):(0,y.jsx)(f.xv,{lineClamp:1,weight:"bold",children:e})};function w({archivedDate:e,boardUrl:t,canEdit:n,collaborators:c,collaboratorsCount:w=0,containerBackgroundColor:S,coverPhoto:P,followedByMe:T,fullSizeDrawer:E,sensitivityScreen:I,handleInviteResponse:A,hideMeta:k,id:C,invite:R,imagesLego:L=[],isBoardInviteAccepted:j,isActive:D,isAuthenticated:O,isCollaborative:N,isCollaborator:M,isOwner:U,isSecret:F,lastModifiedDate:z,layout:Z,locale:B,name:H,numCols:V,onEditClick:W,onFollow:G,onUnfollow:$,owner:K,pinCount:q=0,sectionCount:Y,showFollowButton:X,viewParameter:J,viewType:Q,viewerId:ee}){const te=(0,g.ZP)(),ne=(0,a.Z)(),ie=(0,l.Z)(),re=(0,s.Z)(),oe=(0,h.HG)(),ae=oe&&O,se="square"===Z?v.M0:v.z9,le=L.map((e=>({url:e.url,name:H}))),ce=!!K&&!n&&X,{checkExperiment:de}=(0,p.F)(),ue=!U&&!M&&de("mweb_board_sensitivity_screen").anyEnabled,pe=!(null==I||!I.show_warning)&&ue,he={board_id:C,reason:null==I?void 0:I.reason};(0,i.useEffect)((()=>{pe&&re({event_type:13,component:13861,view_type:215,aux_data:he})}),[]);const me=K?K.id:void 0,_e=[...c.filter((({id:e})=>e===me)),...c.filter((({id:e})=>e===ee&&e!==me)),...c.filter((({id:e})=>![me,ee].includes(e)))].map((e=>{var t,n;return{name:null!==(t=ae?e.full_name:e.username)&&void 0!==t?t:"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":null!==(n=e.image_medium_url)&&void 0!==n?n:""}}));let ge=w>=_e.length?w-_e.length:0;ge=ge>99?100:ge;const ve=[..._e,...Array(ge).fill({name:"",src:""})],fe=ae?24:16,ye=fe/3*(2*(_e.length>2?3:_e.length)+1);return(0,y.jsxs)(f.xu,{"data-test-id":`boardCard-${H}`,position:"relative",height:ce?"max(calc(25vh + 10px), 220px)":"100%",width:ae?se:"100%",children:[(0,y.jsx)(_.Z,{canEdit:n,containerBackgroundColor:S,coverPhoto:P,images:le,isSecret:F,fullSize:E,showSensitivityScreen:pe,isActive:D,onEditClick:W,layout:Z}),!k&&(0,y.jsx)(i.Fragment,{children:R?(0,y.jsxs)(i.Fragment,{children:[(0,y.jsxs)(f.xu,{padding:2,alignItems:"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,y.jsxs)(f.xu,{width:"100%",children:[(0,y.jsx)(f.rU,{href:null!=t?t:"",children:(0,y.jsx)(f.xu,{marginTop:0,marginBottom:1,children:(0,y.jsx)(x,{children:H})})}),j?(0,y.jsx)(f.xv,{size:"200",lineClamp:1,children:te._('You\u2019ve joined', 'boardRep.invite.invitationAcceptedText', 'Text shown after accepting collaborator board invitations')}):(0,y.jsx)(f.xv,{size:"200",children:b(R.invited_by_user,te)})]}),(0,y.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1}},marginStart:2,width:ye,minWidth:ye,height:fe,children:(0,y.jsx)(f.HE,{accessibilityLabel:m.U+(te._('Board has collaborators', 'BoardCard.AvatarGroup.Collaborators', 'Board description: title, number of pins, date, and it has collaborators or not.')),collaborators:ve})})]}),j?(0,y.jsx)(f.xu,{direction:"row",display:"flex",paddingX:2,children:(0,y.jsx)(f.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,y.jsx)(f.zx,{role:"link",href:null!=t?t:"",fullWidth:!0,size:"lg",text:te._('See board', 'boardRep.invite.seeBoardButton', 'Button text to see board after accepting collaborator invite')})})}):(0,y.jsxs)(f.kC,{direction:"row",flex:"grow",justifyContent:"start",wrap:!0,children:[(0,y.jsx)(f.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,y.jsx)(f.zx,{fullWidth:!0,onClick:()=>{null==A||A(!1)},size:"lg",text:te._('Decline', 'boardRep.invite.declineButton', 'Button text to decline board collaborator invite or request')})}),(0,y.jsx)(f.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,y.jsx)(f.zx,{fullWidth:!0,color:"red",onClick:()=>{null==A||A(!0)},size:"lg",text:te._('Accept', 'boardRep.invite.acceptButton', 'Button text to accept board collaborator invite or request')})})]})]}):(0,y.jsxs)(f.xu,{height:ae?void 0:v.s0,marginTop:ae?0:1,paddingX:2,paddingY:ae?2:0,children:[(0,y.jsxs)(f.xu,{alignItems:"center","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,y.jsx)(x,{children:H}),N&&(0,y.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1}},marginStart:2,width:ye,minWidth:ye,height:fe,children:(0,y.jsx)(f.HE,{accessibilityLabel:m.U+(te._('Board has collaborators', 'BoardCard.AvatarGroup.Collaborators', 'Board description: title, number of pins, date, and it has collaborators or not.')),collaborators:ve})})]}),(0,y.jsxs)(f.xu,{alignItems:oe?"center":"start",direction:oe?"row":"column",display:"flex",marginTop:1,children:[(0,y.jsxs)(f.xv,{size:"100",lineClamp:1,children:[(0,y.jsx)(m.Z,{}),(0,d.nk)(te.ngettext('{{ count }} Pin', '{{ count }} Pins', q, 'profile.ProfilePage.board.BoardCard.PinsCount', 'label for n amount of pins'),{count:ie(B,q,{})}),!!Y&&(0,y.jsxs)(i.Fragment,{children:[(0,y.jsx)(r.Z,{ariaHidden:!0}),(0,y.jsx)(m.Z,{}),(0,d.nk)(te.ngettext('{{ count }} section', '{{ count }} sections', Y, 'profile.ProfilePage.board.BoardCard.SectionsCount', 'label for n amount of sections'),{count:Y})]})]}),!e&&(0,y.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{display:ae?"inline-flex":"inline",paddingLeft:oe?7:0}},children:(0,y.jsxs)(f.xv,{color:"subtle",inline:!0,size:"100",lineClamp:1,children:[(0,y.jsx)(m.Z,{}),ne(z,!0)]})})]}),!!e&&(0,y.jsxs)(f.xu,{marginTop:1,children:[(0,y.jsx)(m.Z,{}),(0,y.jsx)(f.xv,{color:"subtle",size:"100",lineClamp:1,children:te._('Archived', 'profile.ProfilePage.board.BoardCard.ArchivedBoardText', 'subtitle for archived boards on profile page')})]}),ce&&(0,y.jsx)(f.xu,{marginTop:2===V?3:void 0,column:2===V?12:void 0,flex:"none",children:(0,y.jsx)(o.Z,{disabled:null==K?void 0:K.blocked_by_me,followEventType:26,id:C,isFollowed:T,onFollow:e=>{O||(0,u.NC)("press_follow_board"),G&&G(e)},onUnfollow:e=>{O||(0,u.NC)("press_unfollow_board"),$&&$(e)},shouldUseLegoColors:!0,size:"md",unfollowEventType:27,viewParameter:J,viewType:Q})})]})})]})}},794987:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(702664),r=n(14254),o=n(851850),a=n(19121),s=n(904411),l=n(276775),c=n(780280),d=n(286268),u=n(539497),p=n(883119),h=n(628358),m=n(785893);const _=["thumbnail","imageOnly"];function g({boardId:e,containerBackgroundColor:t,forwardedRef:n,fullSize:g,showFollowButton:v=!0,showPinCount:f=!0,type:y,viewParameter:b,viewType:x}){var w,S,P;const T=(0,a.Z)(),E=T&&T.isAuth,I=(0,i.useDispatch)(),A=(0,l.useLocation)(),{locale:k}=(0,c.B)(),C=(0,s.gC)()(e),R=(0,o.Z)(),L=T.isAuth?T.id:"";if(!C)return null;const j=C.owner,D=[j,...C.collaborating_users||[]].filter(Boolean).map((({id:e,image_medium_url:t,username:n})=>({id:e,image_medium_url:t,username:n}))),O=(null==j?void 0:j.id)===L,N=D.filter((({id:e})=>e===L)).length>0;if("secret"===C.privacy&&!N)return null;const M="grid"===y||"thumbnail"===y?2:4,U=R(C,M),F={isCustom:C.has_custom_cover,url:U,position:(0,d.Bw)(C.cover_pin)},z=(0,d.Jx)(C,U).map((({url:e})=>({name:(0,d.po)(e),url:e}))),Z=(0,m.jsx)(r.Z,{archivedDate:null!==(w=C.archived_by_me_at)&&void 0!==w?w:void 0,canEdit:!!C.access&&C.access.includes("write"),collaborators:D,collaboratorsCount:C.collaborator_count,containerBackgroundColor:t,coverPhoto:U?F:null,followedByMe:C.followed_by_me,fullSizeDrawer:g,hideMeta:_.includes(y),id:C.id,imagesLego:z,isAuthenticated:E,isCollaborative:C.is_collaborative,isCollaborator:N,isOwner:O,isSecret:"secret"===C.privacy,lastModifiedDate:"full"===y?C.board_order_modified_at:"",locale:k,name:null!==(S=C.name)&&void 0!==S?S:"",numCols:M,onFollow:e=>I((0,h.Z)(e)),onUnfollow:e=>I((0,h.f)(e)),owner:j,pinCount:f&&C.pin_count?C.pin_count:void 0,sectionCount:null!==(P=C.section_count)&&void 0!==P?P:0,sensitivityScreen:C.sensitivity_screen,showFollowButton:v,viewParameter:b,viewType:x,viewerId:L});return!_.includes(y)&&C.url?(0,m.jsx)(p.iP,{role:"link",href:C.url,rounding:2,tapStyle:"compress",onTap:()=>{E||((0,u.NC)("click_go_to_board"),(0,u.LW)({action:"click",pageLocation:A,item:"board-card"}))},children:(0,m.jsx)(p.xu,{ref:n,paddingY:3,children:Z})}):Z}},371918:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),r=n(785893);function o({customCover:e,height:t,imgUrl:n,imgPos:o,width:a}){const s=t/a;let l="center center";if(e&&o){let e=1;e=o.height/o.width>s?a/o.width:t/o.height;l=`-${o.x*e}px -${o.y*e}px`}const c={backgroundImage:`url(${n})`,backgroundPosition:l,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"};return(0,r.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{height:t,width:a}},children:(0,r.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:c},children:(0,r.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}},322937:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(371918),r=n(217508),o=n(898781),a=n(50286),s=n(780280),l=n(808058),c=n(883119),d=n(785893);const u="100%";function p(e){var t,n,p,h;const m=(0,o.ZP)(),{containerBackgroundColor:_="white",coverPhoto:g,fullSize:v,images:f,isSecret:y,showSensitivityScreen:b,isActive:x,canEdit:w,onEditClick:S,layout:P}=e,T=(0,a.HG)(),{isRTL:E,isAuthenticated:I}=(0,s.B)(),A=T&&I,k=f[0],C=!g&&(null===(t=f[0])||void 0===t?void 0:t.name)||m._('Cover image', 'DrawerImageGroup', 'Alt text for the main image of a board'),R=Array(2).fill(),L=new c.Ry(1),j="square"===P?l.M0:l.z9,D="square"===P?l.FP:l.FC,O=b?{filter:"blur(20px)"}:{};return(0,d.jsx)(c.zd,{height:v?"100%":void 0,rounding:4,width:"100%",wash:x,children:(0,d.jsxs)(c.xu,{"aria-hidden":!0,display:"flex",height:A?D:"100%",direction:"row",children:[(0,d.jsx)(c.sg,{span:8,children:(0,d.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:O},position:"relative",height:v?"100%":void 0,children:(0,d.jsx)(c.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:u}},overflow:"hidden",width:"100%",children:(0,d.jsxs)(c.xu,{"data-test-id":"drawer-image-group-first-image-container",dangerouslySetInlineStyle:{__style:{borderColor:_,borderStyle:"solid",borderWidth:"1px 0 1px 1px"}},overflow:"hidden",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,children:[y&&(0,d.jsx)(c.xu,{left:!E,right:E,margin:2,position:"absolute",top:!0,zIndex:L,children:(0,d.jsx)(r.Z,{backgroundColor:"default",iconColor:"default",size:A?32:24})}),A&&null!=g&&g.url?(0,d.jsx)(i.Z,{customCover:g.isCustom,imgPos:g.position||{width:0,height:0,x:0,y:0},imgUrl:null!==(n=g.url)&&void 0!==n?n:"",width:Math.floor(j/3*2),height:D}):(0,d.jsx)(c.Ee,{alt:C,color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:null!==(p=null!==(h=null==g?void 0:g.url)&&void 0!==h?h:null==k?void 0:k.url)&&void 0!==p?p:""})]})})})}),(0,d.jsx)(c.sg,{span:4,children:(0,d.jsxs)(c.xu,{dangerouslySetInlineStyle:{__style:O},height:"100%",children:[w&&x&&(0,d.jsx)(c.xu,{left:E,right:!E,margin:2,position:"absolute",bottom:!0,zIndex:L,children:(0,d.jsx)(c.hU,{accessibilityLabel:m._('Edit', 'DrawerImageGroup.edit', 'Icon indicating that a board is editable'),bgColor:"white",icon:"edit",iconColor:"darkGray",onClick:({event:e})=>null==S?void 0:S(e),size:"sm"})}),R.map(((e,t)=>{var n,i;const r=f[A?t:t+1];return(0,d.jsx)(c.xu,{position:"relative",height:v?"50%":void 0,children:(0,d.jsx)(c.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:u}},overflow:"hidden",width:"100%",children:(0,d.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{borderColor:_,borderStyle:"solid",borderWidth:0===t?1:"0 1px 1px 1px"}},overflow:"hidden",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,children:(0,d.jsx)(c.Ee,{alt:null!==(n=null==r?void 0:r.name)&&void 0!==n?n:"placeholder",color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:null!==(i=null==r?void 0:r.url)&&void 0!==i?i:""})})})},t)}))]})}),b&&(0,d.jsx)(c.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:(0,d.jsx)(c.X6,{align:"center",color:"light",size:"400",children:m._('This board may contain sensitive content', 'drawerImageGroup.sensitivityScreen.heading', 'Warning text for a board that may have sensitive content')})})]})})}},808058:(e,t,n)=>{n.d(t,{FC:()=>s,FP:()=>o,M0:()=>r,s0:()=>i,z9:()=>a});const i=40,r=236,o=157,a=320,s=213},851850:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(19121),r=n(50286);function o(){const e=(0,r.HG)(),t=(0,i.Z)(),n=t&&t.isAuth;if(e&&n){return e=>{var t,n;const i=e.cover_images&&e.cover_images["222x"]?e.cover_images["222x"].url:void 0,r=null!==(t=null===(n=e.cover_pin)||void 0===n?void 0:n.image_url)&&void 0!==t?t:i,o=e.images&&e.images["170x"]&&e.images["170x"].length?e.images["170x"][0].url:"";return r||o}}return(e,t)=>{var n,i;const r=e.has_custom_cover?e.image_cover_hd_url||e.image_cover_url:"";if(!r)return"";const o=e.cover_images&&e.cover_images["400x300"]?e.cover_images["400x300"].url:void 0,a=e.cover_images&&e.cover_images["222x"]?e.cover_images["222x"].url:void 0,s=e.cover_images&&e.cover_images["216x146"]?e.cover_images["216x146"].url:void 0,l=null!==(n=null!==(i=null!=o?o:a)&&void 0!==i?i:s)&&void 0!==n?n:"",c=e.image_cover_url||"";return r||(t&&t>2&&l?l:"")||c}}},286268:(e,t,n)=>{n.d(t,{Bw:()=>s,Jx:()=>a,po:()=>i});const i=(e="")=>(null!=e?e:"").substring((null!=e?e:"").lastIndexOf("/")+1),r=e=>({dominant_color:"#FFFFFF",height:1,url:e,width:1}),o=e=>{if(!e)return()=>!0;const t=i(e);return e=>{var n;return"string"==typeof e?i(e)!==t:i(null!==(n=e.url)&&void 0!==n?n:"")!==t}},a=(e,t)=>e.images&&e.images["170x"]?e.images["170x"].filter(o(t)):e.pin_thumbnail_urls?e.pin_thumbnail_urls.filter(o(t)).map(r):[],s=e=>{var t;return null!==(t=e&&e.crop&&e.size&&{x:e.crop[0],y:e.crop[1],width:e.size[0],height:e.size[1]})&&void 0!==t?t:{x:0,y:0,width:0,height:0}}},993786:(e,t,n)=>{n.d(t,{O:()=>c,Z:()=>d});var i=n(667294),r=n(966113),o=n(898781),a=n(883119),s=n(785893);const l={xs:12,sm:16,md:20,lg:24};function c({children:e}){const t=(0,o.ZP)();return(0,s.jsx)(a.u,{link:(0,s.jsx)(a.rU,{href:r.Z.settings.HELP_SHOPPING_WITH_PINTEREST,target:"blank",children:(0,s.jsx)(a.xv,{color:"inverse",size:"100",weight:"bold",children:t._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:t._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:e})}function d({hasVerifiedIdentity:e,iconOnly:t,isVerifiedMerchant:n,showText:r,size:d}){const u=(0,o.ZP)(),p=(0,s.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,s.jsx)(a.JO,{accessibilityLabel:u._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"shopping",icon:"workflow-status-ok",inline:!0,size:l[d]}),r&&(0,s.jsx)(a.xu,{marginStart:2,children:(0,s.jsx)(a.xv,{color:"shopping",inline:!0,weight:"bold",children:u._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,s.jsxs)(i.Fragment,{children:[n&&!t&&(0,s.jsx)(c,{children:p}),n&&t&&p,e&&!n&&(0,s.jsx)(a.JO,{accessibilityLabel:u._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:l[d]})]})}},566167:(e,t,n)=>{function i(e){return e.map((e=>{const{action:t,display:n,id:i,is_selected:r}=e,{feed_url:o}=t||{},{display_text:a}=n||{};return{action:{feedUrl:o},display:{displayText:a},id:i,isSelected:r}}))}function r(e){return e.map((e=>{const{action:t,display:n,id:o,module_type:a,animation:s}=e,{feed_url:l,search_query:c,contents:d,filters:u,filter_keys:p}=t||{},{background_color_hex:h,selected_background_color_hex:m,text_color_hex:_,selected_text_color_hex:g,icon:v,display_text:f}=n||{};return{action:{feedUrl:l,searchQuery:c,contents:r(d||[]),filters:i(u||[]),filterKeys:p},display:{backgroundColorHex:h,selectedBackgroundColorHex:m,textColorHex:_,selectedTextColorHex:g,icon:v,displayText:f},id:o,moduleType:a,animation:s}}))}n.d(t,{Z:()=>r})},104581:(e,t,n)=>{n.d(t,{G:()=>c,p:()=>l});var i,r=n(477802),o=n(745859),a=n(167912),s=n(785893);function l(){const{data:e,isLoaded:t}=(0,o.Z)();return t&&null!=e&&e.debug?(0,s.jsx)(r.Z,{data:e.debug}):null}function c({connectionKey:e}){const t=(0,a.useFragment)(void 0!==i?i:i=n(826162),e);return t.debugData?(0,s.jsx)(r.Z,{data:JSON.parse(t.debugData)}):null}},91456:(e,t,n)=>{n.d(t,{GY:()=>a,LM:()=>l,h9:()=>c,r$:()=>s});var i=n(385740),r=n(909499);const o=["search_articles_story","shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2","search_for_you_upsell"];function a({query:e,scope:t}){return`${e}-${t}`}function s({query:e,rs:t,scope:n},o){const a=(0,i.BE)(),s=!(null!=a&&a.viewType||null!=a&&a.viewParameter),l=(0,r.wF)(n);if(!s&&l){const{viewType:n,viewParameter:i}=null!=a?a:{};o({event_type:l,view_type:n,view_parameter:i,aux_data:{query:e,rs:t||"Unknown"}})}"hashtag_closeup"===t?o({event_type:101,component:13065,element:10273,view_type:142}):"hashtag_pinrep"===t&&o({event_type:101,component:0,element:10349,view_type:142})}const l=(e=[])=>{let t=!0;return e.reduce(((e,n)=>{var i;return t&&n.story_type&&o.includes(n.story_type)&&0===(null===(i=n.display_options)||void 0===i?void 0:i.num_columns_requested)?e.searchFullWidthStories.push(n):(t=!1,e.filteredResults.push(n)),e}),{searchFullWidthStories:[],filteredResults:[]})};function c(e){const{results:t=[]}=e||{};return!!t.find((e=>!(null==e||!e.is_eligible_for_filters)))}},483310:(e,t,n)=>{n.d(t,{b:()=>d,v:()=>u});var i=n(667294),r=n(826067),o=n(909499),a=n(425288),s=n(276775),l=n(785893);const{Provider:c,useHook:d}=(0,a.Z)("Search"),u=({children:e,value:t})=>{const n=function(){const{search:e}=(0,s.useLocation)(),{scope:t}=(0,s.useParams)(),{auto_correction_disabled:n="",b_id:i,category:a,deb_d:l,domains:c,filters:d,price_max:u,price_min:p,q:h,query_pin_sigs:m,rs:_,tab:g,user:v}=(0,r.mB)(e);return{autoCorrectionDisabled:"true"===n.toLowerCase(),bubbleId:i,category:a,currentlyAppliedFiltersParamTerm:d,debD:l,domains:c,personalizationPinSig:m,placementId:(0,o.Hd)(t),priceMax:u,priceMin:p,query:h,rs:_,scope:t,tab:g||"",user:v}}(),a=(0,i.useMemo)((()=>({...n,...t})),[n,t]);return(0,l.jsx)(c,{value:a,children:e})}},154391:(e,t,n)=>{n.d(t,{H:()=>o,o:()=>r});var i=n(425288);const{Provider:r,useHook:o}=(0,i.Z)("LimitedLogin")},957314:(e,t,n)=>{n.d(t,{N4:()=>o,Wh:()=>i,hr:()=>r});const i=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),r=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),o=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},728214:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(898781),r=n(50286),o=n(154391),a=n(957314);const s=()=>{const e=(0,i.ZP)(),t=(0,r.HG)(),{viewer:n,loginForMore:s,limitedLoginModalSubheader:l,limitedLoginModalNextLocation:c}=(0,o.H)();return"LIMITED_LOGIN"===n.type?({modalHeader:n,nextLocation:i})=>r=>{let o=null;r&&(r.nativeEvent&&r.nativeEvent instanceof Event?o=r:r.event&&(o=r.event)),o&&(o.preventDefault&&o.preventDefault(),o.stopPropagation&&o.stopPropagation()),n||(n=t?(0,a.hr)(e):(0,a.Wh)(e)),null==s||s.setVisible(!0),null==l||l.setText(n),i&&(null==c||c.setRoute(i))}:({fn:e})=>e}},31185:(e,t,n)=>{function i(e,t,n){return{privacy_filter:t?"secret":"public",sort:n||"last_pinned_to",field_set_key:"profile_grid_item",username:e}}n.d(t,{Z:()=>i})},848900:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(e,t)=>`${e}:${t||""}`},527885:(e,t,n)=>{n.d(t,{O:()=>s,Q:()=>l});var i=n(848900),r=n(414327),o=n(875495);const a=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],s={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:t,mixPublicSecret:n,username:i},r)=>({privacy_filter:"all",sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:t,username:i,page_size:25,group_by:n?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0,...r?{orbac_subject_id:r}:Object.freeze({})})},l=e=>a.reduce(((t,n)=>{const a=[(0,o.N8)("profileBoards",(0,i.Z)(e,n))];return[!0,!1].forEach((t=>{[!0,!1].forEach((i=>{a.push((0,r.jB)(s.name,s.options({username:e,boardOrder:n,mixPublicSecret:t,filterStories:i})))}))})),t.concat(a)}),[])},602574:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(883119),r=n(785893);function o({ideaPinImages:e}){const t={1:28,2:40,3:48},n=e.map(((e,t)=>{var n,o,a;return(0,r.jsx)(i.xu,{height:48,width:28,color:"default",borderStyle:"sm",overflow:"hidden",rounding:2,dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},children:(0,r.jsx)(i.Ee,{alt:"",src:null!==(n=null==e?void 0:e.url)&&void 0!==n?n:"",color:"#696969",fit:"cover",naturalHeight:null!==(o=null==e?void 0:e.height)&&void 0!==o?o:1,naturalWidth:null!==(a=null==e?void 0:e.width)&&void 0!==a?a:1})},t)}));return(0,r.jsx)(i.kC,{justifyContent:"center",children:(0,r.jsx)(i.kC,{justifyContent:"start",width:t[e.length],children:n})})}var a=n(499128),s=n(898781),l=n(784590),c=n(50286);function d({handleHide:e,text:t,userId:n,href:d,imageUrl:u}){const p=(0,s.ZP)(),h=(0,c.HG)(),m=(0,l.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:n}}),_=Array.isArray(t)?t.join(" "):t;if(0===(m.data||[]).length){const t=u?(0,r.jsx)(i.xu,{height:48,overflow:"hidden",width:48,children:(0,r.jsx)(i.Ee,{alt:p._('Image of who you followed', 'userFollowingToast.thumbnail.userImage', 'Profile thumbnail of the user you followed'),fit:"cover",naturalHeight:1,naturalWidth:1,src:u})}):void 0;return(0,r.jsx)(a.ZP,{duration:5e3,onHide:e,text:_,href:d,iconThumbnail:t,thumbnailShape:"circle"})}const g=(m.data||[]).slice(0,3).map((e=>{var t;return null===(t=e.images)||void 0===t?void 0:t[h?"236x":"170x"]})),v=(0,r.jsx)(o,{ideaPinImages:g});return(0,r.jsx)(a.ZP,{href:d,duration:5e3,onHide:e,iconThumbnail:v,text:_,thumbnailShape:"square"})}},572260:(e,t,n)=>{n.d(t,{ZP:()=>P});var i=n(667294),r=n(23279),o=n.n(r),a=n(722767);function s(e){const{eventData:{videoEvent:{videoDuration:t,startTime:n,endTime:i,videoStartTime:r,videoEndTime:o,isAudible:a,height:s,width:l,playbackState:c,quartile:d,quartilePercentValue:u,windowHeight:p,windowWidth:h,viewability:m}},component:_,objectId:g,view:v,viewParameter:f,...y}=e;return{component:_,object_id_str:g,view_type:v,view_parameter:f,aux_data:{...y},event_data:{videoEventData:{videoDuration:t,time:n,endTime:i,videoTime:r,endVideoTime:o,isAudible:a,height:s,width:l,playbackState:c,quartile:d,quartilePercentValue:u,windowHeight:p,windowWidth:h,viewability:m}}}}var l=n(121630),c=n(559230),d=n(407043),u=n(288273),p=n(883119),h=n(785893);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _=[0,.25,.5,.75,.95,.97],g=[0,.5,.8,.99,1],v="-64px 0px 0px 0px",f={rootMargin:v,threshold:g},y={rootMargin:v,threshold:c.iM},b=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function x(){return(new Date).getTime()}function w(e){return!!e.volume&&e.volume>0}class S extends i.Component{constructor(e){super(e),m(this,"videoWrapperRef",(0,i.createRef)()),m(this,"handleWindowResize",(()=>{if(!this.fullscreen){const e=this.getDimensions(),{height:t,width:n}=this.currentInterval;e.height!==t||e.width!==n?this.startNewInterval(e):(this.currentInterval.windowHeight=e.windowHeight,this.currentInterval.windowWidth=e.windowWidth)}})),m(this,"handlePlayheadDown",(({event:e})=>{const{onPlayheadDown:t}=this.props;this.setState({seeking:!0}),t&&t({event:e})})),m(this,"handlePlayheadUp",(({event:e})=>{const{onPlayheadUp:t}=this.props;this.setState({seeking:!1}),t&&t({event:e})})),m(this,"handleLoop",(()=>{this.videoTime=0})),m(this,"handleTimeChange",(e=>{const{seeking:t,ready:n}=this.state;if(!this.currentInterval.videoDuration)return;const i=1e3*e.time,r=function(e,t,n,i){if(e>t)return null;if(n<=0)return null;for(const r of i){const i=r*n;if(e<=i&&t>i)return r}return null}(this.videoTime,i,this.currentInterval.videoDuration,_);if("number"==typeof r&&this.props.playing&&!t&&n){const e=x();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*r),quartilePercentValue:r})}this.videoTime=i,this.props.onTimeChange&&this.props.onTimeChange(e)})),m(this,"handleDurationChange",(e=>{this.currentInterval.videoDuration=1e3*e.duration,this.props.onDurationChange&&this.props.onDurationChange(e)})),m(this,"handleReady",(e=>{const{ready:t}=this.state;t||this.setState({ready:!0}),this.props.onReady&&this.props.onReady(e)})),m(this,"handleEnded",(e=>{this.logFourthQuartileEvent(),this.props.loop&&(this.startNewInterval(),this.currentInterval.videoStartTime=0),this.props.onEnded&&this.props.onEnded(e)})),m(this,"handleVisibilityChange",((e,t)=>{if(0===e.length)return;const n=e.slice(-1)[0],i=function(e,t){for(let n=0;n<t.length;n+=1){const i=t[n],r=t[n+1];if(null==r)return i;if(i<=e&&e<r)return i}return null}(Number.parseFloat(n.intersectionRatio.toFixed(2)),g);"number"==typeof i&&(this.visible=i>=.5),null==i||i===this.currentInterval.viewability||this.fullscreen||(0===i?this.startNewInterval({viewability:i,playbackState:b.PAUSED}):this.startNewInterval({viewability:i}))})),m(this,"handleFullscreenChange",(({event:e,fullscreen:t})=>{if(t){const{height:e,width:t}=window.screen;this.startNewInterval({height:e,width:t,windowHeight:e,windowWidth:t})}else t||this.startNewInterval(this.getDimensions());this.fullscreen=t,this.props.onFullscreenChange&&this.props.onFullscreenChange({event:e,fullscreen:t})})),m(this,"handleClose",(()=>{this.startNewInterval()})),m(this,"handleContextMenu",(e=>{e.preventDefault()})),this.state={ready:!1,seeking:!1};const t=x();this.handleWindowResize=o()(this.handleWindowResize,1e3),this.currentInterval={videoDuration:0,startTime:t,endTime:t,videoStartTime:0,videoEndTime:0,isAudible:w(e),playbackState:this.getPlaybackState(e,this.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},this.videoTime=0,this.fullscreen=!1,this.visible=null}componentDidMount(){this.currentInterval={...this.currentInterval,...this.getDimensions()},window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}componentDidUpdate(e,t){const n={};w(e)&&!w(this.props)?n.isAudible=!1:!w(e)&&w(this.props)&&(n.isAudible=!0);const i=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==i&&(n.playbackState=i),Object.keys(n).length>0&&this.startNewInterval(n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}getPlaybackState(e,t){return t.ready?e.playing&&!t.seeking?b.PLAYING:b.PAUSED:b.LOADING}getDimensions(){let e,t;if(this.videoWrapperRef.current){const n=this.videoWrapperRef.current;n.clientHeight&&n.clientWidth&&(e=n.clientHeight,t=n.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}logVideoEvent(e,t){const{closeupStoryPinViewability:n,contextLogData:i,logContextEvent:r}=this.props,{height:o,width:a,windowHeight:l,windowWidth:c,viewability:d,...u}=t;if(null!=o&&null!=a&&null!=l&&null!=c&&null!=d){const t={...u,height:o,width:a,windowHeight:l,windowWidth:c,viewability:n||d};r({event_type:e,...s({...i,view:this.fullscreen?108:i.view,eventData:{videoEvent:t}})})}}logFourthQuartileEvent(){const e=x();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1})}startNewInterval(e){const t=x();this.logVideoEvent(6904,{...this.currentInterval,endTime:t,videoEndTime:this.videoTime}),this.currentInterval={...this.currentInterval,...e,startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:r,accessibilityProgressBarLabel:o,accessibilityUnmuteLabel:s,aspectRatio:c,backgroundColor:d,captions:m,contextLogData:_,controls:g,cropHeight:v,hlsConfig:b,inAdsDesktopVideoExperiment:x,isAutoPlay:w,loop:S,objectFit:P,onLoadedChange:T,onControlsPause:E,onControlsPlay:I,onSeek:A,onVolumeChange:k,playbackRate:C,playing:R,playsInline:L,poster:j,preload:D,rootMargin:O,src:N,surface:M,videoStartTime:U,volume:F}=this.props,{seeking:z}=this.state,Z=x?y:f;return void 0!==O&&(Z.rootMargin=M?(0,l.e)(M):O),(0,h.jsx)(a.Z,{options:Z,onVisibilityChange:this.handleVisibilityChange,children:(0,h.jsx)(p.xu,{ref:this.videoWrapperRef,onContextMenu:this.handleContextMenu,dangerouslySetInlineStyle:{__style:v?{display:"flex",alignItems:"center",height:`${v}px`}:{}},children:(0,h.jsx)(u.default,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:r,accessibilityProgressBarLabel:o,accessibilityUnmuteLabel:s,aspectRatio:v?236/v:c,backgroundColor:d,captions:m,contextLogData:_,controls:g,hlsConfig:b,isAutoPlay:w,loop:S,objectFit:P,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:T,onLoop:this.handleLoop,onControlsPause:E,onControlsPlay:I,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onSeek:A,onTimeChange:this.handleTimeChange,onVolumeChange:k,playbackRate:C,playing:!z&&R,onPlay:()=>{},onPlayError:()=>{},playsInline:L,poster:j,preload:D,src:N,videoStartTime:U,visible:this.visible,volume:F})})})}}function P(e){const{logContextEvent:t}=(0,d.v)();return(0,h.jsx)(S,{...e,logContextEvent:t})}m(S,"defaultProps",p.nk.defaultProps)},288273:(e,t,n)=>{n.r(t),n.d(t,{VideoWrapper:()=>x,default:()=>w,getPlaylistSourceSrc:()=>b});var i=n(667294),r=n(19121),o=n(494349),a=n(407043),s=n(773285),l=n(780280),c=n(883119),d=n(969315),u=n(179888),p=n(785893);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){if(!e||void 0===e)return"undefined";if("string"==typeof e){let n=e;if(t){const i="control"===t?"v3.pinimg.com":"v2.pinimg.com";n=e.replace("v.pinimg.com",i)}return n}if(Array.isArray(e)&&e[0].src){let n=e[0].src;if(t){const e="control"===t?"v3.pinimg.com":"v2.pinimg.com";n=n.replace("v.pinimg.com",e)}return n}return"unsupported_type_"+typeof e}class _ extends i.Component{constructor(...e){super(...e),h(this,"state",{canPlayVideo:!1,playbackState:u.Cy.DEFAULT}),h(this,"errorRetryCount",2),h(this,"hasSegmentStarted",!1),h(this,"hasPlaybackStarted",!1),h(this,"hasVideoSessionStarted",!1),h(this,"hasVideoSessionEnded",!1),h(this,"lastStallTime",null),h(this,"lastPauseTime",null),h(this,"logSessionStartOnNextPlay",!1),h(this,"playerId",""),h(this,"videoSessionId",""),h(this,"videoVisibleTime",null),h(this,"playbackPerformance",{canPlayTime:null,detailedErrors:"",errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numberOfStalls:0,numberOfSeeks:0,playbackStartTimestamp:null,segments:[],srcString:m(this.props.src,this.props.quicExpGroup),totalStallDurationMs:0,totalPauseDurationMs:0}),h(this,"componentDidMount",(()=>{const{contextLogData:e={},playing:t}=this.props,{is_closeup_video:n=!1}=e;(0,d.tE)("videoMounted",!1,n),t&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(u.DR,{initiator:"mount"}))})),h(this,"componentDidUpdate",(e=>{const{playing:t,visible:n,appInFocus:i}=this.props;e.appInFocus&&!i&&(this.logPlaybackPerformance(u.$f,{initiator:"update"}),this.logSessionStartOnNextPlay=!0),e.visible&&!1===n&&(this.logSessionStartOnNextPlay=!1,this.updatePauseDuration(),this.logPlaybackPerformance(u.$f,{initiator:"update"})),!1===e.visible&&!0===n&&(this.videoVisibleTime=this.videoVisibleTime||new Date,t?(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(u.DR,{initiator:"update"})):this.logSessionStartOnNextPlay=!0),t&&i&&this.logSessionStartOnNextPlay&&(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(u.DR,{initiator:"update"}),this.logSessionStartOnNextPlay=!1)})),h(this,"addSegment",(()=>{const{canPlayTime:e,loadStartTime:t,segments:n,srcString:i}=this.playbackPerformance;let r=-1;e&&t&&0===n.length&&(r=e>t?e-t:0);const o=this.videoPlayerRef&&this.videoPlayerRef.video,a={indicatedKbps:-1,duration:o&&o.duration*u.gJ||-1,lastStartPlayTime:null,level:-1,numServerAddressChange:-1,observedKbps:-1,playbackStartDate:null,serverAddress:"",sourceWidth:-1,sourceHeight:-1,startupTimeMs:r,switchBitrateKbps:-1,uri:i,viewportWidth:o&&o.clientWidth||-1,viewportHeight:o&&o.clientHeight||-1,watchedDurationMs:0};n.push(a)})),h(this,"getCurrentVideoTime",(()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*u.gJ:0)),h(this,"getVideoResourceTiming",(()=>{var e,t;if(null!==(e=window)&&void 0!==e&&null!==(t=e.performance)&&void 0!==t&&t.getEntriesByName&&this.playbackPerformance.srcString){const e=window.performance.getEntriesByName(this.playbackPerformance.srcString);return e.length>0&&e[0]||null}return null})),h(this,"handleCanPlayVideo",(e=>{const{contextLogData:t={},onReady:n,playing:i,videoStartTime:r}=this.props,{is_closeup_video:o=!1}=t,{canPlayVideo:a}=this.state;(0,d.tE)("handleCanPlayVideo",!1,o,{firstCanPlayEvent:!a,playing:i}),this.playbackPerformance.hasFatalError=!1,a||(this.playbackPerformance.canPlayTime=new Date,null!=r&&this.videoPlayerRef&&this.videoPlayerRef.video&&(this.videoPlayerRef.video.currentTime=r)),this.setState({canPlayVideo:!0}),n&&n(e)})),h(this,"handleEnded",(e=>{const{loop:t,onEnded:n}=this.props,{segments:i}=this.playbackPerformance,r=i&&i[i.length-1];t&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDurationForCurrentSegment(),r&&(r.lastStartPlayTime=0),this.hasSegmentStarted=!1):t||this.logPlaybackPerformance(u.$f,{initiator:"videoEnded",loop:t}),this.setState({playbackState:u.Cy.ENDED}),n&&n(e)})),h(this,"handleError",(()=>{var e,t,n,i,r,o,a,s;const{contextLogData:l={}}=this.props,{is_closeup_video:c=!1}=l,p=this.videoPlayerRef&&this.videoPlayerRef.video;(null==p||null===(e=p.error)||void 0===e?void 0:e.code)!==u.lG.MEDIA_ERR_ABORTED&&(this.playbackPerformance.hasFatalError=!0),this.playbackPerformance.detailedErrors+=`${this.playbackPerformance.detailedErrors.length>0?", ":""}${(null==p||null===(t=p.error)||void 0===t?void 0:t.message)||""}`,this.playbackPerformance.errorCode=(null==p||null===(n=p.error)||void 0===n?void 0:n.code)||0,this.playbackPerformance.errorName=(null==p||null===(i=p.error)||void 0===i||null===(r=i.message)||void 0===r?void 0:r.slice(0,100))||"unknown",this.playbackPerformance.errorReason=(null==p||null===(o=p.error)||void 0===o||null===(a=o.message)||void 0===a?void 0:a.slice(0,100))||"unknown";const h={errorName:this.playbackPerformance.errorCode,errorReason:this.playbackPerformance.errorName,errorRetryCount:this.errorRetryCount,playbackState:this.state.playbackState,networkState:(null==p?void 0:p.networkState)||"unknown"};switch((0,d.tE)("fatalError",!1,c,h),null==p||null===(s=p.error)||void 0===s?void 0:s.code){case u.lG.MEDIA_ERR_ABORTED:break;case u.lG.MEDIA_ERR_NETWORK:case u.lG.MEDIA_ERR_DECODE:case u.lG.MEDIA_ERR_SRC_NOT_SUPPORTED:default:this.errorRetryCount>0&&(null==p||p.load(),this.errorRetryCount-=1)}this.updateWatchDurationForCurrentSegment(),this.setState({playbackState:u.Cy.FAILED})})),h(this,"handleLoadedMetadata",(()=>{this.setState({playbackState:u.Cy.LOADED_METADATA})})),h(this,"handleLoadStart",(()=>{this.playbackPerformance.loadStartTime=new Date,this.setState({playbackState:u.Cy.LOAD_START})})),h(this,"handleLoadedData",(()=>{this.setState({playbackState:u.Cy.LOADED_DATA})})),h(this,"handlePlaying",(()=>{this.playbackPerformance.hasFatalError=!1,this.setPlaybackStartTime(),this.hasSegmentStarted||this.addSegment(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.updateStallDuration(),this.updatePauseDuration(),this.setState({playbackState:u.Cy.PLAYING})})),h(this,"handleUserPause",(e=>{const{onControlsPause:t}=this.props;this.lastPauseTime=new Date,t&&t(e)})),h(this,"handleVideoPause",(()=>{this.state.playbackState!==u.Cy.STALLING&&this.state.playbackState!==u.Cy.SEEKING&&(this.updateWatchDurationForCurrentSegment(),this.lastPauseTime||this.updateStallDuration()),this.setState({playbackState:u.Cy.PAUSED})})),h(this,"handleSeeking",(()=>{this.playbackPerformance.numberOfSeeks+=1;const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&(t.lastStartPlayTime=null),this.state.playbackState!==u.Cy.ENDED&&this.setState({playbackState:u.Cy.SEEKING})})),h(this,"handleStalled",(()=>{null===this.lastStallTime&&this.state.playbackState!==u.Cy.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numberOfStalls+=1,this.setState({playbackState:u.Cy.STALLING}))})),h(this,"handleTimeUpdate",(e=>{const{onTimeChange:t}=this.props;t&&t(e),this.state.playbackState===u.Cy.PLAYING&&(this.updateWatchDurationForCurrentSegment(),this.setLastSegmentStartPlayTime())})),h(this,"resetPlaybackMetrics",(()=>{this.hasSegmentStarted=!0,this.hasPlaybackStarted=!1,this.hasVideoSessionStarted=!1,this.hasVideoSessionEnded=!0,this.lastStallTime=null,this.lastPauseTime=null,this.videoSessionId="",this.videoVisibleTime=null,this.logSessionStartOnNextPlay=!1;const e={...this.playbackPerformance.segments[this.playbackPerformance.segments.length-1],lastStartPlayTime:null,playbackStartDate:null,watchedDurationMs:0};this.playbackPerformance.detailedErrors="",this.playbackPerformance.errorCode=0,this.playbackPerformance.errorName="",this.playbackPerformance.errorReason="",this.playbackPerformance.hasFatalError=!1,this.playbackPerformance.numberOfStalls=0,this.playbackPerformance.numberOfSeeks=0,this.playbackPerformance.playbackStartTimestamp=null,this.playbackPerformance.totalStallDurationMs=0,this.playbackPerformance.segments=[e]})),h(this,"setLastSegmentStartPlayTime",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.lastStartPlayTime&&(t.lastStartPlayTime=this.getCurrentVideoTime())})),h(this,"setLastSegmentPlaybackStartDate",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.playbackStartDate&&(t.playbackStartDate=Date.now())})),h(this,"setPlaybackStartTime",(()=>{this.hasPlaybackStarted||(this.playbackPerformance.playbackStartTimestamp=Date.now(),this.hasPlaybackStarted=!0)})),h(this,"setVideoPlayerRef",(e=>{const{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){const e=this.videoPlayerRef.video;e.addEventListener("loadedmetadata",this.handleLoadedMetadata),e.addEventListener("loadeddata",this.handleLoadedData),e.addEventListener("pause",this.handleVideoPause),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}})),h(this,"updateStallDuration",(()=>{if(null!==this.lastStallTime){const e=this.lastStallTime;this.playbackPerformance.totalStallDurationMs+=new Date-e,this.lastStallTime=null}})),h(this,"updatePauseDuration",(()=>{if(null!==this.lastPauseTime){const e=this.lastPauseTime;this.playbackPerformance.totalPauseDurationMs+=new Date-e,this.lastPauseTime=null}})),h(this,"updateWatchDurationForCurrentSegment",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1],n=t?t.lastStartPlayTime:null,i=this.getCurrentVideoTime();if(t&&null!==n&&"number"==typeof i&&"number"==typeof n){const e=i-n;e>0&&(t.watchedDurationMs+=e,t.lastStartPlayTime=null)}})),h(this,"logPlaybackPerformance",((e,t)=>{const{contextLogData:n={},userId:i,isAutoPlay:r,logContextEvent:o}=this.props,{is_closeup_video:a=!1}=n,{canPlayTime:s,detailedErrors:l,errorCode:c,errorName:p,errorReason:h,hasFatalError:m,loadStartTime:_,totalPauseDurationMs:g,totalStallDurationMs:v,numberOfStalls:f,numberOfSeeks:y,playbackStartTimestamp:b,segments:x,srcString:w}=this.playbackPerformance,S=this.videoPlayerRef&&this.videoPlayerRef.video,P=e===u.DR,T=P&&!this.hasVideoSessionStarted,E=!P&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(S&&(T||E)){var I;let T=-1;s&&_&&(T=s>_?s-_:0);let E=-1;s&&this.videoVisibleTime&&(E=s>this.videoVisibleTime?s-this.videoVisibleTime:0),P&&(this.videoSessionId=(0,u.Y7)(i),this.playerId=this.playerId||(0,u.EB)());const A=this.getVideoResourceTiming(),k={averageVideoKbps:-1,autoplaying:r,detailedErrors:l,downloadedKiloBytes:"number"==typeof(null==A?void 0:A.decodedBodySize)&&A.decodedBodySize/u.Fm||0,errorCode:c,errorName:p,errorReason:h,fatalError:m,isCellular:!1,nativeVideoDurationMs:S.duration*u.gJ||-1,numberOfStalls:f,numberOfSeeks:y,overallPausedDurationMs:g,overallBufferDurationMs:v,overallWatchedDurationMs:-1,rebufferRate:-1,playbackSessionId:this.videoSessionId,playbackStartTimestamp:b||-1,segments:[],sessionMark:e,screenPixelScale:null!==(I=window)&&void 0!==I&&I.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:S.clientWidth,startupPlayerHeight:S.clientHeight,startupTimeMs:T,startupLatencyMs:E,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:S.videoWidth,startupVariantHeight:S.videoHeight,videoUrl:w};if(!P){this.updateWatchDurationForCurrentSegment(),this.updateStallDuration();const e=x.reduce(((e,t)=>e+(t.watchedDurationMs||0)),0);k.overallWatchedDurationMs=e,k.startupVariantWatchedDurationMs=e,k.segments=this.playbackPerformance.segments,0===e?(k.errorName="invalid_watch_duration",k.rebufferRate=-1):k.rebufferRate=v/e}(0,d.ZP)(k,!1,a,{playbackState:this.state.playbackState,...t});const{view:C,viewParameter:R,component:L,element:j,objectId:D,...O}=n;o({event_type:3606,event_data:{videoPerformanceData:k},view_type:C,view_parameter:R,component:L,element:j,object_id_str:D,aux_data:{...O,is_closeup_video:a,playback_session_id:this.videoSessionId}}),P?(this.hasVideoSessionStarted=!0,this.hasVideoSessionEnded=!1):this.resetPlaybackMetrics(),(0,d.tE)(P?"sessionStart":"sessionEnd",!1,a,{playbackState:this.state.playbackState,...t})}}))}componentWillUnmount(){const{loop:e}=this.props;this.updatePauseDuration(),this.logPlaybackPerformance(u.$f,{initiator:"unmount",loop:e})}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:r,accessibilityProgressBarLabel:o,accessibilityUnmuteLabel:a,aspectRatio:s,captions:l,controls:d,loop:u,loopOverride:h,objectFit:_,onDurationChange:g,onFullscreenChange:v,onLoadedChange:f,onControlsPlay:y,onPlayheadDown:b,onPlayheadUp:x,onSeek:w,onVolumeChange:S,playbackRate:P,playing:T,playsInline:E,poster:I,preload:A,src:k,volume:C}=this.props,{canPlayVideo:R}=this.state;return(0,p.jsx)(c.nk,{autoplay:R&&T,accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:r,accessibilityProgressBarLabel:o,accessibilityUnmuteLabel:a,aspectRatio:s,captions:l,controls:d,loop:void 0===h?u:h,objectFit:_,onDurationChange:g,onEnded:this.handleEnded,onError:this.handleError,onFullscreenChange:v,onLoadedChange:f,onLoadStart:this.handleLoadStart,onControlsPause:this.handleUserPause,onControlsPlay:y,onPlaying:this.handlePlaying,onPlayheadDown:b,onPlayheadUp:x,onReady:this.handleCanPlayVideo,onSeek:w,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:S,onWaiting:this.handleStalled,playbackRate:P,onPlay:()=>{},onPlayError:()=>{},playing:R&&T,playsInline:E,poster:I,preload:A,ref:this.setVideoPlayerRef,src:m(k,this.props.quicExpGroup),volume:C})}}const g=(0,i.memo)((function(e){const{logContextEvent:t}=(0,a.v)(),{country:n,isAuthenticated:i,isBot:c,isSocialBot:u,unauthId:h,userAgent:m}=(0,l.B)(),{browserName:g,browserVersion:v,isMobile:f}=m,{contextLogData:y={}}=e,{is_closeup_video:b=!1,view:x,viewParameter:w}=y,{appUI:{appInFocus:S}}=(0,o.I)(),{checkExperiment:P}=(0,s.F)();let T=null;i&&(T=P("web_video_quic").group.length?P("web_video_quic").group:null);const E=(0,r.Z)(),I={browserName:g,browserVersion:v,country:n,isAuthenticated:i,isBot:c,is_closeup_video:b,isMobile:f,isSocialBot:u,view:x,viewParameter:w};return(0,d.r$)(I),(0,p.jsx)(_,{...e,userId:E.id||h,appInFocus:S,quicExpGroup:T,logContextEvent:t})}));var v=n(562559),f=n(366284);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b=e=>{if(Array.isArray(e)){const t=e.find((e=>"video/m3u8"===e.type));return t?t.src:void 0}return RegExp("m3u8$").test(e)?e:void 0};class x extends i.PureComponent{constructor(e){super(e),y(this,"componentDidUpdate",((e,t)=>{var n;e.videoStartTime&&this.props.videoStartTime&&e.videoStartTime<this.props.videoStartTime&&null!==(n=this.videoPlayerRef)&&void 0!==n&&n.video&&(this.videoPlayerRef.video.currentTime=this.props.videoStartTime)})),y(this,"setVideoPlayerRef",(e=>{e&&(this.videoPlayerRef=e)})),y(this,"handleOnEnded",(({event:e})=>{const{loop:t,onLoop:n,onEnded:i}=this.props;i&&(i({event:e}),this.videoPlayerRef&&this.videoPlayerRef.video&&t&&(this.videoPlayerRef.video.play(),n&&n()))}));const t=b(e.src);this.state={useHlsVideo:!e.preferMp4&&!(0,f.G6)(e.requestContext.userAgent.browserName)&&!!t}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:r,accessibilityProgressBarLabel:o,accessibilityUnmuteLabel:a,aspectRatio:s,appInFocus:l,backgroundColor:c,captions:d,contextLogData:u,controls:h,hlsConfig:m,isAutoPlay:_,loop:f,objectFit:y,onDurationChange:x,onEnded:w,onFullscreenChange:S,onLoadedChange:P,onControlsPause:T,onControlsPlay:E,onPlayheadDown:I,onPlayheadUp:A,onReady:k,onSeek:C,onTimeChange:R,onVolumeChange:L,playbackRate:j,playing:D,playsInline:O,poster:N,preferMp4:M,preload:U,src:F,videoStartTime:z,visible:Z,volume:B}=this.props,{useHlsVideo:H}=this.state,V=b(F),W={...m,startPosition:z||-1},G=!w&&f;return H&&V?(0,p.jsx)(v.Z,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:r,accessibilityProgressBarLabel:o,accessibilityUnmuteLabel:a,aspectRatio:s,appInFocus:l,backgroundColor:c,captions:d,contextLogData:u,controls:h,hlsConfig:W,isAutoPlay:_,loop:f,loopOverride:G,onDurationChange:x,onEnded:this.handleOnEnded,onFullscreenChange:S,onLoadedChange:P,onControlsPause:T,onControlsPlay:E,onPlayheadDown:I,onPlayheadUp:A,onReady:k,onSeek:C,onTimeChange:R,onVolumeChange:L,playbackRate:j,onPlay:()=>{},onPlayError:()=>{},playing:D,playsInline:O,poster:N,preload:U,setVideoRef:this.setVideoPlayerRef,src:V,visible:Z,volume:B}):(0,p.jsx)(g,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:r,accessibilityProgressBarLabel:o,accessibilityUnmuteLabel:a,aspectRatio:s,captions:d,contextLogData:u,controls:h,isAutoPlay:_,loop:f,loopOverride:G,objectFit:y,onDurationChange:x,onEnded:this.handleOnEnded,onFullscreenChange:S,onLoadedChange:P,onControlsPause:T,onControlsPlay:E,onPlayheadDown:I,onPlayheadUp:A,onReady:k,onSeek:C,onTimeChange:R,onVolumeChange:L,playbackRate:j,onPlay:()=>{},onPlayError:()=>{},playing:D,playsInline:O,poster:N,preload:U,setVideoRef:this.setVideoPlayerRef,src:M?F:V||F,videoStartTime:z,visible:Z,volume:B})}}function w(e){const{appUI:{appInFocus:t}}=(0,o.I)(),n=(0,l.B)();return(0,p.jsx)(x,{...e,appInFocus:t,requestContext:n})}},559230:(e,t,n)=>{n.d(t,{HJ:()=>r,VS:()=>i,iM:()=>o});const i=2,r="V_HLSV3_MOBILE",o=[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1,.11,.12,.13,.14,.15,.16,.17,.18,.19,.2,.21,.22,.23,.24,.25,.26,.27,.28,.29,.3,.31,.32,.33,.34,.35,.36,.37,.38,.39,.4,.41,.42,.43,.44,.45,.46,.47,.48,.49,.5,.51,.52,.53,.54,.55,.56,.57,.58,.59,.6,.61,.62,.63,.64,.65,.66,.67,.68,.69,.7,.71,.72,.73,.74,.75,.76,.77,.78,.79,.8,.81,.82,.83,.84,.85,.86,.87,.88,.89,.9,.91,.92,.93,.94,.95,.96,.97,.98,.99,1]},745859:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(700226),r=n(784590),o=n(304614),a=n(909499),s=n(773285),l=n(483310),c=n(97008),d=n(648284);function u(){const{checkExperiment:e}=(0,s.F)(),{autoCorrectionDisabled:t,bubbleId:n,category:u,currentlyAppliedFiltersParamTerm:p,domains:h,inGlobalSearch:m,personalizationPinSig:_,priceMax:g,priceMin:v,query:f,rs:y,scope:b,user:x}=(0,l.b)(),{filterState:w}=(0,c.M)()||{},{anyEnabled:S}=e("web_search_shop_unified_filters",{dangerouslySkipActivation:!0});let P;if(m)P=(0,d.Ht)({autoCorrectionDisabled:t,filters:p,selectedPinImgSig:_,query:f,scope:b});else{const e={autoCorrectionDisabled:t,bubbleId:n,filters:p,selectedPinImgSig:_,query:f,rs:y,scope:b,user:x};S&&b===a.lw.PINS_BUYABLE?(e.appliedFilters=w?(0,o.Ax)(w.appliedFilters,w.models):null,e.appliedProductFilters=null):(e.appliedProductFilters=(0,i.Z)({category:u,domains:h,minPrice:v,maxPrice:g}),e.appliedFilters=null),P=(0,d.Ht)(e)}return(0,r.Z)("users"===b?null:P)}},935409:(e,t,n)=>{n.d(t,{Br:()=>p,Cr:()=>T,K8:()=>f,Q_:()=>x,Tq:()=>g,YV:()=>P,ZP:()=>E,aX:()=>I,eo:()=>m,gi:()=>S,md:()=>h,oG:()=>_,oL:()=>A,of:()=>y,xH:()=>v,xQ:()=>b,xk:()=>w,yT:()=>u});var i=n(27255),r=n(31185),o=n(6637),a=n(778821),s=n(379725),l=n(875495),c=n(527885),d=n(414327);function u(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function p(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function h(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function m({viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:i}){return{type:"BOARD_DELETE",payload:{viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:i}}}const _=(e,t)=>n=>n((0,s.U)("BoardResource",{options:{board_id:e,field_set_key:t}}));function g(e,t,n){return(0,s.U)("BoardResource",{options:{board_id:e,field_set_key:t,...n?{orbac_subject_id:n}:{}}})}function v(e,t,n){return i=>o.Z.create("BoardsMergeResource",{source_board_id:e,target_board_id:t,...n?{orbac_subject_id:n}:{}}).callUpdate().then((()=>Promise.all([i(m({boardId:e})),i(g(t,"pin_count")),i((0,l.N8)(a.DV.BOARD_SECTIONS,t))])))}function f(e){return t=>{e&&(0,c.Q)(e).forEach((e=>{t(e)}))}}const y=e=>({type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}),b=e=>_(e,"pin_count");function x(e,t){return{type:"BOARD_ARCHIVE",payload:{boardId:e,username:t}}}function w(e,t){return n=>(n(x(e)),o.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callUpdate())}function S(e){return{type:"BOARD_UNARCHIVE",payload:{boardId:e}}}function P(e,t){return n=>(n(S(e)),o.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callDelete())}const T=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),E=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}});function I(e,t,n){const a={name:e,privacy:i.Z.BoardPrivacy.PUBLIC,username:t,...n?{orbac_subject_id:n}:Object.freeze({})};return e=>o.Z.create("BoardResource",a).callCreate().then((n=>{const i=n.resource_response.data;return e(t&&(0,d.jB)("BoardsResource",(0,r.Z)(t,!1))),i}))}function A(e={},t,n){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:n}}},628358:(e,t,n)=>{n.d(t,{Z:()=>a,f:()=>s});var i=n(6637),r=n(935409);function o(e){return i.Z.create("BoardFollowResource",{board_id:e})}function a(e){return t=>{o(e).callCreate().catch((()=>{t((0,r.md)(e,!1))})),t((0,r.md)(e,!0))}}function s(e){return t=>{o(e).callDelete().catch((()=>{t((0,r.md)(e,!0))})),t((0,r.md)(e,!1))}}},875495:(e,t,n)=>{function i(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function r(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}n.d(t,{EX:()=>a,N8:()=>r,Qv:()=>o,_f:()=>i,vX:()=>s});const o=(e,t,n=Object.freeze({}))=>({type:"APPEND_FEED_ITEMS",payload:{id:e,options:n,items:t}});function a(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function s(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},811403:(e,t,n)=>{function i(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:t}}}function r(e,t){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:t}}}function o(e,t,n,i,r){return{type:"PIN_SAVE",payload:{id:e,boardId:t,title:n,url:i,localPinId:r}}}function a(e){return{type:"PIN_UNSAVE",payload:{id:e}}}function s(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function l({id:e,text:t,undoAction:n,undoActionOptions:i,undoText:r}){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e,value:!0,text:t,undoAction:n,undoActionOptions:i,undoText:r}}}function c(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function d(e,t){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t}}}function u(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function p(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}function h(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function m(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}n.d(t,{Gb:()=>a,I1:()=>c,Ib:()=>u,NA:()=>l,Ur:()=>o,Vw:()=>s,b9:()=>h,fH:()=>_,i0:()=>p,mO:()=>r,q1:()=>d,yR:()=>i,yj:()=>m});const _=(e,t)=>({type:"PIN_FEEDBACK",payload:{id:e,value:t}})},5226:(e,t,n)=>{n.d(t,{KF:()=>c,ZN:()=>a,fv:()=>l,kE:()=>u,yA:()=>s});var i=n(6637),r=n(482546);function o(e,t){return i.Z.create("UserFollowResource",{user_id:e,aux_data:t?{pin_id:t}:void 0})}function a(e,t=null){return n=>{o(e,t).callCreate().catch((()=>n((0,r.P_)(e,!1)))),n((0,r.P_)(e,!0))}}function s(e,t=null){return async n=>{n((0,r.P_)(e,!0)),await o(e,t).callCreate().catch((t=>{throw n((0,r.P_)(e,!1)),t}))}}function l(e,t=null){return n=>{o(e,t).callDelete().catch((()=>n((0,r.P_)(e,!0)))),n((0,r.P_)(e,!1))}}function c(e,t=null){return async n=>{n((0,r.P_)(e,!1)),await o(e,t).callDelete().catch((t=>{throw n((0,r.P_)(e,!0)),t}))}}const d=(e,t)=>({type:"USER_BULK_FOLLOW",payload:{ids:e,value:t}}),u=e=>t=>{e.length>0&&(i.Z.create("ApiResource",{url:"/v3/users/follow/",data:{followee_ids:e.join(",")}}).callUpdate().catch((()=>t(d(e,!1)))),t(d(e,!0)))}},482546:(e,t,n)=>{n.d(t,{Ge:()=>s,JS:()=>r,P_:()=>o,h2:()=>l,h6:()=>c});var i=n(6637);function r(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}const o=(e,t)=>({type:"USER_FOLLOW",payload:{id:e,value:t}}),a=(e,t)=>({type:"USER_BLOCK",payload:{id:e,value:t}}),s=(e,t)=>n=>(n(a(e,!0)),i.Z.create("UserBlockResource",{blocked_user_id:e,orbac_subject_id:t}).callCreate().catch((()=>n(a(e,!1))))),l=e=>t=>(t(a(e,!1)),i.Z.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch((()=>t(a(e,!0)))));function c(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}},47495:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(583228);const r={AggregatedCommentResource:i.rm,AggregatedCommentFeedResource:i.LR,AggregatedCommentReplyResource:i.rm,AggregatedCommentReplyFeedResource:i.LR,AggregatedActivityFeedResource:i.LR,BestPinsFeedAltResource:i.LR,BoardArchiveResource:i.LR,BoardCollaboratorsResource:i.LR,BoardContentRecommendationResource:i.LR,BoardFeedResource:i.LR,BoardFollowingResource:i.LR,BoardInviteResource:i.sf,BoardInvitesResource:i.Ht,BoardlessPinsResource:i.LR,BoardPickerBoardsResource:{all_boards:i.LR,boards_shortlist:i.LR},BoardSectionEditResource:i._F,BoardSectionsRepinResource:i.LR,BoardSectionsResource:i.LR,BoardsFeedResource:i.LR,BoardResource:i.IY,BoardSectionResource:i._F,BoardSectionPinsResource:i.LR,BoardToolsFeedResource:i.LR,ContactRequestsResource:i.LR,ConversationsResource:i.LR,ConversationMessagesResource:i.dq,DidItCommentsResource:i.LR,DidItLikedByResource:i.Gn,DidItUserFeedResource:i.LR,ExploreArticleBlockPinResource:i.LR,ExploreArticleBlockSearchResource:i.LR,ExploreArticleBlockUserResource:i.LR,ExploreArticleBlockUserDidItDataResource:i.LR,ExploreArticleResource:i.yg,FollowingFeedResource:i.LR,HolidaySpotlightRelatedFeedResource:i.LR,HolidaySpotlightResource:i.LR,InterestFollowingResource:i.LR,InterestResource:i.cC,MoreIdeasTabsBoardsResource:i.LR,NewsHubResource:i.LR,NewsHubDetailsResource:i.LR,NewsHubSummaryResource:i.t6,NuxInterestsResource:i.LR,NuxTopicToCreatorsResource:i.Gn,PartnerPermissionsResource:i.Ay,PinResource:i.Cj,PinCatalogResource:i.LR,PinsFromBrandResource:i.LR,ReactionsResource:i.fE,RelatedArticlesResource:i.LR,RelatedInterestsResource:i.LR,RelatedModulesResource:i.LR,RelatedPinFeedResource:i.LR,RelatedProductFeedResource:i.LR,RelatedStreamResource:i.LR,RepinResource:i.Cj,BaseSearchResource:{results:i.LR},SearchResource:i.LR,SectionToolsFeedResource:i.LR,ShareSuggestionsTypeaheadResource:{items:i.LR},ShoppingFeedModularizedResource:i.LR,StoryFeedResource:i.LR,StoryPinTaggedProductsResource:i.LR,SuggestedCreatorFollowsResource:i.Gn,TodayArticleFeedResource:i.LR,IdeasHubTodayArticlesResource:i.LR,TodayArticleResource:i.iF,TodayTabInterestFeedResource:i.LR,TodayTabResource:i.LR,TopicFeedResource:i.LR,UnifiedCommentsResource:i.LR,UserActivityPinsResource:i.LR,UserFollowingResource:i.LR,UserRecentActivityResource:i.LR,UserSimilarBusinessesResource:i.LR,UserHomefeedResource:i.LR,UserPinsResource:i.LR,UserSettingsResource:i.EA,UserStoryPinsFeedResource:i.LR,UserResource:i.EA,VideosFeedResource:i.LR,VisualLiveSearchResource:{results:i.LR},VisualLiveSearchProductFeedResource:i.LR,VisualSearchFlashlightUnifiedResource:i.LR,SeoTier1CandidateResource:i.LR}},583228:(e,t,n)=>{n.d(t,{Ay:()=>k,Cj:()=>c,EA:()=>o,Gn:()=>E,Ht:()=>T,IY:()=>l,LR:()=>A,_F:()=>p,cC:()=>y,dq:()=>m,fE:()=>u,iF:()=>f,rm:()=>a,sN:()=>I,sf:()=>x,t6:()=>P,yg:()=>g});var i=n(782677);const r=Object.freeze({aggregatedComment:"aggregatedComments",article:"articles",board:"boards",boardsection:"boardsections",contactrequest:"contactrequests",conversation:"conversations",conversationMessage:"conversationMessages",creatorRecommendationItem:"creatorRecommendationItems",inbox:"inbox",notification:"notifications",partnerPermissions:"partnerPermissions",pin:"pins",reaction:"reactions",reportReasons:"reportReasons",story:"stories",todayArticle:"todayArticles",topic:"topics",triedit:"triedits",user:"users",invite:"collaboratorinvite",offer:"offers"}),o=new i.fK.Entity(r.user),a=new i.fK.Entity(r.aggregatedComment,{user:o,tagged_users:[o]}),s=new i.fK.Entity(r.article,{curator:o}),l=new i.fK.Entity(r.board),c=new i.fK.Entity(r.pin,{board:l,comments:{data:[{commenter:o}]}}),d=new i.fK.Entity(r.reaction,{user:o}),u=new i.fK.Array(d),p=new i.fK.Entity(r.boardsection,{board:l,preview_pins:[c]}),h=new i.fK.Entity(r.conversationMessage,{sender:o,users:[o],board:l,pin:c,user:o}),m=new i.fK.Array(h),_=new i.fK.Entity(r.contactrequest),g=new i.fK.Entity(r.story,{cover_pin:c,user:o}),v=new i.fK.Entity(r.triedit,{pin:c,user:o}),f=new i.fK.Entity(r.todayArticle,{article_creator_user:o,content_pin:c,content_pin_official_user:o,video_pin:c}),y=new i.fK.Entity(r.topic,{},{processStrategy:(e,t,n)=>({...e,slug:e.slug?e.slug:e.url_name?e.url_name.includes(":")?e.url_name.split(":")[1]:e.url_name:""})}),b=new i.fK.Entity(r.creatorRecommendationItem,{user:o,interest:y}),x=new i.fK.Entity(r.invite,{invited_by_user:o,invited_user:o,board:l},{idAttribute:e=>`${e.board.id}:${e.invited_user.id}`}),w=e=>{switch(e.type){case"aggregatedcomment":return"aggregatedComment";case"conversationMessage":return"conversationMessage";case"creatorrecommendationitem":return"creatorRecommendationItem";case"explorearticle":return"article";case"news":return"notification";case"interest":return"topic";case"userdiditdata":return"triedit";case"board_section":return"boardsection";case"klp_featured_data":return"topic";case"todayarticle":return"todayArticle";default:return e.type}},S=new i.fK.Union({user:o,board:l,invite:x,pin:c,topic:y,triedit:v},w),P=new i.fK.Entity(r.notification,{content_items:[{content_object:S}],header_icon_objects:[S]}),T=new i.fK.Array(x),E=new i.fK.Array(o),I=new i.fK.Array(l),A=new i.fK.Array({aggregatedComment:a,article:s,board:l,boardsection:p,contactrequest:_,conversationMessage:h,creatorRecommendationItem:b,notification:P,pin:c,story:g,todayArticle:f,topic:y,triedit:v,user:o},w,(e=>{switch(e.type){case"collaboratorinvite":return e.board.id;case"category":return"key";default:return"id"}}));g.define({objects:A});const k=new i.fK.Entity(r.partnerPermissions)},778821:(e,t,n)=>{n.d(t,{DV:()=>u,J:()=>g,ZP:()=>b});var i=n(848900),r=n(932995),o=n(47495),a=n(91456),s=n(648284),l=n(983360),c=n(583228),d=n(338739);const u={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregatedCommentReplies",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardlessPins",BOARD_SECTIONS:"boardSections",CALL_TO_CREATE_RESPONSES_FEED:"callToCreateResponsesFeed",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",SECTION_PINS:"sectionPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unifiedComments",USER_DID_IT_DATA:"userDidItData"},p=new Set(["PinResource","RepinResource"]),h={ApiResource:e=>{return"/v3/orientation/nux_creator_recommendations/"===(null==e?void 0:e.url)?"nux-creator-recommendations":null!=e&&e.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)?`call-to-create-pins:${e.pin_id}`:"/v3/users/me/interests/"===(null==e?void 0:e.url)?`recommended-interests:${null===(t=e.data)||void 0===t?void 0:t.blend_type}`:"";var t},AggregatedActivityFeedResource:e=>`trieditfeed:${e.aggregated_pin_data_id}`,AggregatedCommentFeedResource:e=>`aggregated-comments:${e.objectId}`,AggregatedCommentReplyFeedResource:e=>`aggregated-comment-replies:${e.objectId}`,BoardlessPinsResource:e=>`boardless-pins:${e.userId}`,BestPinsFeedAltResource:e=>`idea-page-best-pins:${e.interest}`,BoardArchiveResource:e=>"archived-boards",BoardCollaboratorsResource:e=>`board-collaborators:${e.board_id}`,BoardContentRecommendationResource:e=>`recommendation-feed:${e.id}`,BoardFeedResource:e=>`boardfeed:${e.board_id}`,BoardSectionsRepinResource:e=>`board-sections:${e.board_id}`,BoardSectionsResource:e=>`board-sections:${e.board_id}`,BoardSectionPinsResource:e=>`board-section-pins:${e.section_id}`,BoardsFeedResource:e=>`profile-boards:${e.username}`,BoardToolsFeedResource:e=>`board-tools:${e.boardId}`,ConversationsResource:e=>"conversations",DidItCommentsResource:e=>`aggregated-comment-replies:${e.objectId}`,DidItLikedByResource:e=>`triedit-likes:${e.didItDataId}`,DidItUserFeedResource:e=>`profile-tried:${e.username}`,ExploreArticleBlockSearchResource:e=>`explore-search:${e.article_id}:${e.block_id}`,ExploreArticleBlockUserResource:e=>`explore-user:${e.article_id}:${e.block_id}`,ExploreArticleBlockPinResource:e=>`explore-pin:${e.article_id}:${e.block_id}`,ExploreArticleBlockUserDidItDataResource:e=>`explore-did_it:${e.article_id}:${e.block_id}`,ExploreArticleResource:({response:e})=>{if(!e)return"";const t="explore_tab_pin".length,n=e.resource_response.data,{story_type:i}=n?n.objects[0]:{story_type:""};return`explore-${i.slice(t)}:${n.id}`},FollowingFeedResource:()=>"following",HolidaySpotlightRelatedFeedResource:e=>`holiday-spotlight-related:${e.storyType}`,HolidaySpotlightResource:e=>`holiday-spotlight:${e.storyType}`,InterestResource:e=>`klp-pins:${e.interest}`,MoreIdeasTabsBoardsResource:()=>"homefeed-more-ideas-tabs",NewsHubResource:()=>"notifications",NewsHubDetailsResource:e=>`newshubdetail:${e.news_id}`,NuxInterestsResource:e=>"nuxTopics",PinsFromBrandResource:e=>`brand-pins:${e.pin}`,ReactionsResource:e=>`reactions:${e.pin_id}`,RelatedArticlesResource:e=>`related-articles:${e.article_id}`,RelatedModulesResource:e=>`related-modules:${e.pin_id}`,RelatedPinFeedResource:e=>`related-pins:${e.pin}`,RelatedProductFeedResource:e=>"pin"===e.shop_source?`closeup-related-products:${e.pin}`:`related-products:${e.pin}`,RelatedStreamResource:e=>`related-story-pins:${e.pinId}`,SearchResource:e=>{const t=`search:${e.scope}:${e.query}:${e.filters||""}:${e.article||""}`;return e.auto_correction_disabled?`${t}:auto-correction-disabled`:t},BaseSearchResource:e=>{const t=`search:${e.scope}:${e.query}:${e.filters||""}:${e.appliedProductFilters}:${e.article||""}`;return e.auto_correction_disabled?`${t}:auto-correction-disabled`:t},SectionToolsFeedResource:e=>`section-tools:${e.sectionId}`,ShareSuggestionsTypeaheadResource:e=>`share-suggestions:${e.board||e.user}:${e.term}`,ShoppingFeedModularizedResource:e=>e.saved_products_only?`board-shop-saved:${e.board_id}`:`board-shop-related:${e.board_id}`,StoryFeedResource:e=>`story-feed:${e.feed_type}:${e.request_params}`,SuggestedCreatorFollowsResource:()=>"suggested-creator-follows",StoryPinTaggedProductsResource:()=>"story-pin-tagged-products",TodayArticleFeedResource:e=>`today-article:${e.id}`,IdeasHubTodayArticlesResource:e=>`today-article:${e.interest_id}`,TodayTabInterestFeedResource:e=>`today-article-interestfeed:${e.interest_id}`,TodayTabResource:()=>"today-tab",SeoTier1CandidateResource:()=>"tier1-feed",UnifiedCommentsResource:e=>`unified-comments:${e.aggregated_pin_id}`,UserActivityPinsResource:e=>`profile-pins-feed:${e.user_id}`,UserHomefeedResource:e=>e.pin_quiz?"pin-quiz":"homefeed",UserFollowingResource:e=>`user-following:${e.username}`,UserRecentActivityResource:()=>"user-recent-activity",UserSimilarBusinessesResource:e=>`user-similar-business:${e.username}`,UserStoryPinsFeedResource:e=>`story-pins-feed:${e.user_id}`,VideosFeedResource:e=>"videos-feed",VisualLiveSearchResource:e=>`visual-search:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualLiveSearchProductFeedResource:e=>`visual-search-products:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualSearchFlashlightUnifiedResource:e=>`related-products-unified:${e.pin_id}`,BoardFollowingResource:e=>`board-following:${e.username}`,InterestFollowingResource:e=>`topic-following:${e.username}`,UserPinsResource:e=>`profile-pins:${e.username}`,TopicFeedResource:e=>e.best_pins?`best-topic-pins:${e.interest}`:`topic-pins:${e.interest}`},m={ApiResource:({options:e})=>null!=e&&e.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)?{type:u.CALL_TO_CREATE_RESPONSES_FEED,id:e.pin_id}:null,AggregatedActivityFeedResource:({options:{aggregated_pin_data_id:e}})=>({type:u.USER_DID_IT_DATA,id:e}),AggregatedCommentFeedResource:({options:{objectId:e}})=>({type:u.AGGREGATED_COMMENTS,id:e}),AggregatedCommentReplyFeedResource:({options:{isUnifiedComment:e,objectId:t}})=>({type:e?u.AGGREGATED_COMMENT_REPLIES:u.AGGREGATED_COMMENTS,id:t,reversed:!0}),BoardFeedResource:({options:{board_id:e}})=>({type:u.BOARDFEED,id:e}),BoardlessPinsResource:({options:{userId:e}})=>({type:u.BOARDLESS_PINS,id:e}),BoardSectionPinsResource:({options:{section_id:e}})=>({type:u.SECTION_PINS,id:e}),BoardSectionsResource:({options:{board_id:e}})=>({type:u.BOARD_SECTIONS,id:e}),BoardsResource:({options:{username:e,sort:t}})=>({type:u.PROFILE_BOARDS,id:(0,i.Z)(e,t)}),BaseSearchResource:({options:{auto_correction_disabled:e,appliedProductFilters:t,scope:n,filters:i,query_pin_sigs:r,query:o,user:l},response:c})=>{var d;return{type:u.SEARCH_PINS,id:(0,s.Tb)({appliedProductFilters:t,autoCorrectionDisabled:e,filters:i,query:o,selectedPinImgSig:r,scope:n,user:l}),items:null!==(d=c.resource_response.data)&&void 0!==d&&d.results?(0,a.LM)(c.resource_response.data.results).filteredResults:[]}},DidItCommentsResource:({options:{objectId:e}})=>({type:u.AGGREGATED_COMMENTS,id:e,reversed:!0}),DidItUserFeedResource:({options:{username:e}})=>({type:u.USER_DID_IT_DATA,id:e}),IdeasHubTodayArticlesResource:({options:{interest_id:e}})=>({type:u.TODAY_TAB,id:e}),RelatedArticlesResource:({options:{article_id:e}})=>({type:u.TODAY_TAB,id:e}),StoryPinDraftsResource:({options:{userId:e}})=>({type:u.STORY_PIN_DATA,id:e}),TodayTabInterestFeedResource:({options:{interest_id:e}})=>({type:u.TODAY_ARTICLE_INTEREST_FEED,id:e}),TodayTabResource:()=>({type:u.TODAY_TAB,id:"todayTab"}),UnifiedCommentsPreviewResource:({options:{aggregated_pin_id:e}})=>({type:u.UNIFIED_COMMENTS,id:e}),UnifiedCommentsResource:({options:{aggregated_pin_id:e,is_reversed:t}})=>({type:u.UNIFIED_COMMENTS,id:e,reversed:t}),UserActivityPinsResource:({options:{user_id:e}})=>({type:u.PROFILE_PINS_FEED,id:e}),UserStoryPinsFeedResource:({response:e,options:{user_id:t}})=>({type:u.STORY_PINS_FEED,id:t,items:e.resource_response.data||[]})},_=(e,{pinId:t,oldFeedId:n,newFeedId:i})=>n===i?e:((e,{pinId:t,feedId:n})=>e[n]?{...e,[n]:[{type:"pin",id:t},...e[n]]}:e)(((e,{pinId:t,feedId:n})=>e[n]?{...e,[n]:e[n].filter((e=>!("pin"===e.type&&e.id===t)))}:e)(e,{pinId:t,feedId:n}),{pinId:t,feedId:i}),g=(e,t)=>e in h?h[e](t):null,v=(e,t)=>t?`board-section-pins:${t}`:`boardfeed:${e}`,f=(e,t)=>e.map((({id:e,schema:n})=>{var i;return n?{id:e,type:n,trackingParams:"pin"===n?t.pins[e].tracking_params:void 0,user_id:"creatorRecommendationItem"===n?null===(i=t.creatorRecommendationItems[e])||void 0===i?void 0:i.user_id:void 0}:null})).filter(Boolean),y=(e,t,n)=>Object.keys(e).reduce(((i,r)=>{const o=e[r]||[],a=o.filter((e=>!(e.type===t&&e.id===n)));return o.length!==a.length&&(i[r]=a),i}),{...e}),b=(e={},t)=>{switch(t.type){case d.zP:case d.aW:{const{payload:i}=t,{resource:r,options:a,normalizedResponse:s,schema:l}=i;if(s&&r in h){const n=((e,t,n)=>{const i=n||o.Z[e];if(i===c.LR)return t.result;if(i===c.sN)return t.result.map((e=>({id:e,schema:"board"})));if(i===c.Gn)return t.result.map((e=>({id:e,schema:"user"})));if(i===c.Ht)return t.result.map((e=>({id:e,schema:"invite"})));if(i===c.fE)return t.result.map((e=>({id:e,schema:"reaction"})));if("object"==typeof i){const e=Object.entries(i).find((([e,t])=>t===c.LR));if(e)return t.result[e[0]]}return null})(r,s,l);if(n&&Array.isArray(n)){const i=h[r](a);if("ShoppingFeedModularizedResource"===r){const{board_id:t,saved_products_only:i}=null!=a?a:{},r=`board-shop-related:${t}`,o=`board-shop-saved:${t}`,l=`board-shop-saved-preview:${t}`,c=[...e[r]||[]],d=[...e[o]||[]],u=[...e[l]||[]];return f(n,s.entities).forEach((e=>{var n;i?d.push(e):s.entities.pins&&(null===(n=s.entities.pins[e.id])||void 0===n?void 0:n.board)===t?u.push(e):c.push(e)})),{...e,[r]:c,[o]:d,[l]:u}}if("BoardToolsFeedResource"===r||"SectionToolsFeedResource"===r)return{...e,[i]:n};{const r=(t.type===d.aW&&e[i]||[]).concat(f(n,s.entities));return{...e,[i]:r}}}}else{var n;const r=i.response.resource_response.data;if(null===(n=i.options)||void 0===n||!n.redux_normalize_feed)return e;const o=m[i.resource](i);if(o){const{type:n,id:i,items:a,reversed:s}=o;let l=(a||r||[]).map((e=>((e,t)=>{switch(e.type){case"story":return{id:e.id,type:"story",story_type:e.story_type};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return t===u.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"board_section":return{type:"board_section",id:e.id};case"userdiditdata":return{type:"userdiditdata",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"home_feed_tab":return{type:"home_feed_tab",id:e.id,name:e.name};case"storypindata":return{id:e.id,type:"storypindata"};case"todayarticle":return{type:"todayarticle",id:e.id};case"unifiedcommentspreview":return"userdiditdata"===e.unified_comment.type?{type:"userdiditdata",id:e.unified_comment.id}:{type:"aggregatedcomment",id:e.unified_comment.id};default:return{type:"pin",id:e.id}}})(e,n)));s&&(l=l.reverse());const c=`${n}:${i}`,p=e[c];if(p||t.type!==d.aW){const n=p||[];let i=l;return t.type===d.aW&&(i=s?l.concat(n):n.concat(l)),{...e,[c]:i}}}}break}case"FEED_ITEM_REORDERED":{const{payload:{feedType:n,feedId:i,itemType:o,targetItemId:a,sourceItemId:s}}=t,l=`${n}:${i}`,c=e[l]||[];let d=-1,p=-1;if([u.BOARDFEED,u.SECTION_PINS,u.BOARD_SECTIONS,"profileBoards"].includes(n)&&(d=c.findIndex((e=>e.type===o&&e.id===s)),p=c.findIndex((e=>e.type===o&&e.id===a))),-1!==d&&-1!==p)return{...e,[l]:(0,r.Z)(c,d,p)};break}case"FEED_ITEMS_REMOVED":{const{payload:{feedType:n,feedId:i,inverseSelection:r,itemType:o,itemIds:a=[]}}=t,s=`${n}:${i}`,l=e[s]||[];if(l&&l.length>0&&(n===u.SECTION_PINS||n===u.BOARDFEED)){const t=l.filter((e=>{const t=a.includes(e.id);return!(e.type===o&&(r&&!t||!r&&t))})),n=!!t.find((e=>"pin"===e.type));return{...e,[s]:n?t:[]}}if(l&&l.length>0&&n===u.BOARD_SECTIONS){const t=l.filter((e=>{const t=a.includes(e.id);return!(e.type===o&&t)}));return{...e,[s]:t}}if(l&&l.length>0&&(n===u.AGGREGATED_COMMENTS||n===u.BOARDLESS_PINS||n===u.PROFILE_PINS_FEED||n===u.STORY_PINS_FEED||n===u.UNIFIED_COMMENTS||n===u.USER_DID_IT_DATA||n===u.STORY_PIN_DATA)){const t=l.filter((e=>{const t=a.includes(e.id);return!(e.type===o&&t)}));return{...e,[s]:t}}break}case"FEED_ITEMS_ADDED":{const{payload:{feedType:n,feedId:i,itemType:r,itemIds:o=[],prepend:a}}=t,s=`${n}:${i}`,l=e[s]||[];if(l&&(n===u.SECTION_PINS||n===u.BOARDFEED||n===u.BOARDLESS_PINS)){const t=o.map((e=>({id:e,type:r})));let n=0;"story"===(l[0]||{}).type&&(n=1),"story"===(l[1]||{}).type&&(n=2);const i=[...l.slice(0,n),...t,...l.slice(n)];return{...e,[s]:i}}if(l&&n===u.BOARD_SECTIONS){const t=[...o].reverse().map((e=>({id:e,type:"board_section"}))),n=l?[...t,...l]:[...t];return{...e,[s]:n}}if(n===u.AGGREGATED_COMMENTS||n===u.AGGREGATED_COMMENT_REPLIES||n===u.PROFILE_PINS_FEED||n===u.STORY_PINS_FEED||n===u.UNIFIED_COMMENTS){const t=o.map((e=>({id:e,type:r}))),n=l?[...a?t:l,...a?l:t]:t;return{...e,[s]:n}}if(n===u.USER_DID_IT_DATA){const t=o.map((e=>({id:e,type:r}))),n=l?[...t,...l]:t;return{...e,[s]:n}}break}case"FEED_INVALIDATE":{const{payload:{feedType:n,feedId:i}}=t,r=`${n}:${i}`;if(e[r]||[])return{...e,[r]:null};break}case l.MU:{const{payload:{id:n,items:i,options:r}}=t,o=e[n];if(o){let t;return t=r.isPrepend?o[0]&&"story"===o[0].type?[].concat(o[0],i,o.slice(1)):i.concat(o):o.concat(i),{...e,[n]:t}}return{...e,[n]:i}}case l.l_:{const{payload:{pinId:n}}=t;return y(e,"pin",n)}case"BOARD_ARCHIVE":{const{payload:{boardId:n,username:i}}=t,r=`profile-boards:${null!=i?i:""}`;if(e[r])return{...e,[r]:e[r].filter((e=>e.id!==n))};break}case"BOARD_UNARCHIVE":{const{payload:{boardId:n}}=t,i="archived-boards";if(e[i])return{...e,[i]:e[i].filter((e=>e.id!==n))};break}case"BOARD_DELETE":{const{payload:{boardId:n}}=t;return y(e,"board",n)}case l.Yn:{const{payload:{boardSectionId:n}}=t;return y(e,"boardsection",n)}case l.u2:{const{payload:{source:n,target:i,pinIds:r,userId:o}}=t,a=n.boardlessPins&&o&&`boardless-pins:${o}`||n.boardId&&v(n.boardId,n.sectionId),s=v(i.boardId,i.sectionId);return r.reduce(((e,t)=>_(e,{pinId:t,oldFeedId:a,newFeedId:s})),e)}case l.Fl:{const{payload:{source:n,target:i,excludePinIds:r}}=t,o=v(n.boardId,n.sectionId),a=v(i.boardId,i.sectionId),s={...e,[o]:r.map((e=>({type:"pin",id:e})))};return delete s[a],s}case l.fz:{const{payload:{pinId:n,boardId:i,section:r,source:{boardId:o,sectionId:a}}}=t,s=v(o,a),l=v(i,null==r?void 0:r.id);return _(e,{pinId:n,oldFeedId:s,newFeedId:l})}case d.AF:if(p.has(t.payload.resource)){const n=t.payload.response.resource_response.data,i=n.board;let r;if("quick_saves"===i.layout)r=`boardless-pins:${t.payload.options.user_id}`;else{const e=t.payload.options.section;r=e?`board-section-pins:${e}`:`boardfeed:${i.id}`}if(e[r]){const t={...e},i={id:n.id,type:"pin",trackingParams:null==n?void 0:n.tracking_params};return t[r]=[i].concat(e[r]),t}}if("BoardSectionResource"===t.payload.resource&&t.payload.normalizedResponse){const n=t.payload.normalizedResponse.result,i=`board-sections:${t.payload.normalizedResponse.entities.boardsections[n].board}`;if(e[i]){const t={...e},r={id:n,type:"boardsection"};return t[i]=[r].concat(e[i]),t}}if("Agg2regatedCommentResource"===t.payload.resource&&t.payload.normalizedResponse){const n={id:t.payload.normalizedResponse.result,type:"aggregatedcomment"},i=["aggregated-comments","unified-comments"];let r={...e};for(const o of i){const i=`${o}:${t.payload.options.objectId}`;e[i]&&(r={...r,[i]:[n].concat(r[i])})}return r}if("AggregatedCommentReplyResource"===t.payload.resource&&t.payload.normalizedResponse){const n=`aggregated-comment-replies:${t.payload.options.objectId}`;return{...e,[n]:[...e[n]||[],{id:t.payload.normalizedResponse.result,type:"aggregatedComment"}]}}if("ReactionsResource"===t.payload.resource&&t.payload.normalizedResponse){const{reaction_pin_id:n}=t.payload.options;if("reaction"===t.payload.options.action_type){const i=`reactions:${t.payload.options.pin_id}`,r={...e},o={id:`${n}:${t.payload.options.user_id}`,type:"reaction",trackingParams:void 0};return r[i]=[o].concat(e[i]),r}if("unreaction"===t.payload.options.action_type){const i=`${n}:${t.payload.options.user_id}`;return y(e,"reaction",i)}}break;case l.ZX:{const{payload:{storyId:n}}=t;return y(e,"story",n)}}return e}},395164:(e,t,n)=>{n.d(t,{T:()=>s,Z:()=>l});var i=n(635240),r=n(226198),o=n(314880);const a=[];function s(e){let t;try{t=JSON.stringify({errorObj:e})}catch(c){t=JSON.stringify({errorObj:{message:e.message,name:"logToServer stringify exception"}})}const n=(s={report_context:JSON.stringify({current_url:window.location.href,client_version:(0,i.Z)()}),report_data:t},Object.keys(s).map((e=>e+"="+encodeURIComponent(s[e]))).join("&"));var s;const l=window.btoa(n);if(-1===a.indexOf(l)){const e=new XMLHttpRequest;e.open("post","/_/_/logClientError/",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded");const t=(0,o.H)();t&&e.setRequestHeader("X-Pinterest-PWS-Handler",t),e.setRequestHeader("X-CSRFToken",function(e){const t=("; "+document.cookie).split("; "+e.name+"=");return 2===t.length?t.pop().split(";").shift():""}(r.fS)),e.send(n),a.push(l)}a.length>100&&a.shift()}function l(){window.addEventListener("error",(e=>{const t=e.error||{};s({extraData:t.extraData,name:t.name,message:t.message||e.message,stack:t.stack,filename:e.filename,line:e.lineno,column:e.colno})})),window.addEventListener("unhandledrejection",(e=>{var t,n,i,r,o;if(!((null==e?void 0:e.reason)instanceof Error))return;const{reason:a}=e,l="string"==typeof(null==a?void 0:a.message)?a.message:String(a);s({name:null!==(t=null==a?void 0:a.name)&&void 0!==t?t:"unhandledrejection",message:l,message_detail:null==a?void 0:a.message_detail,original_message:null==a?void 0:a.original_message,stack:null==a?void 0:a.stack,filename:null==a?void 0:a.fileName,line:null!==(n=null!==(i=null==a?void 0:a.lineno)&&void 0!==i?i:null==a?void 0:a.line)&&void 0!==n?n:null==a?void 0:a.lineNumber,column:null!==(r=null!==(o=null==a?void 0:a.column)&&void 0!==o?o:null==a?void 0:a.colno)&&void 0!==r?r:null==a?void 0:a.columnNumber})}))}},314880:(e,t,n)=>{n.d(t,{H:()=>r,V:()=>o});let i=null;function r(){return i}function o(e){i=e}},610977:(e,t,n)=>{n.d(t,{DC:()=>o,dV:()=>i,gD:()=>r,go:()=>a});const i="__PWS_ROOT__",r="__PWS_DATA__",o="__PWS_ERROR__",a="__GRAPHQL_DATA__"},635240:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(610977);function r(){const e=document.getElementById(i.gD);if(!e)throw new Error(`Unable to retrieve appVersion because #${i.gD} was not found in the DOM.`);return JSON.parse(e.textContent).appVersion}let o="";let a="";function s(){return a.length>0||(a=function(){const e=document.getElementById(i.gD);if(!e)throw new Error(`Unable to retrieve appVersion because #${i.gD} was not found in the DOM.`);const t=e.textContent.indexOf('"appVersion"');return e.textContent.slice(t+14,t+21)}()),a}function l(){{const e=(0,n(983722).Z)(),t=null==e?void 0:e.experimentsClient.checkExperiment("web_optimize_get_app_version").group;return"enabled_memoized"===t?(o.length>0||(o=r()),o):"enabled_optimized_memoized"===t?s():r()}}},597897:(e,t,n)=>{n.d(t,{U:()=>o,Z:()=>a});var i=n(667294);const r=(0,i.createContext)();function o(){return(0,i.useContext)(r)}const a=r},464228:(e,t,n)=>{n.d(t,{P:()=>o,Z:()=>a});var i=n(667294);const r=(0,i.createContext)();function o(){return(0,i.useContext)(r)}const a=r}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/MobileAndUnauthSearchPage-0b213ea89b186e4c.mjs.map